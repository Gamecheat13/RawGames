; Decompiled with Assembly
; 
; Source file: 020_base.hsc
; Start time: 2018-06-29 7:32:03 AM
; 
; Remember that all script code is property of Bungie/343 Industries.
; You have no rights. Play nice.

; Globals
(global string data_mine_mission_segment "")
(global boolean perspective_running false)
(global boolean perspective_finished false)
(global boolean g_cortana_header false)
(global boolean g_cortana_footer false)
(global boolean g_gravemind_header false)
(global boolean g_gravemind_footer false)
(global boolean g_music_020_01 false)
(global boolean g_music_020_02 false)
(global boolean g_music_020_02b false)
(global boolean g_music_020_03 false)
(global boolean g_music_020_04 false)
(global boolean g_music_020_05 false)
(global boolean g_music_020_06 false)
(global boolean g_music_020_065 false)
(global boolean g_music_020_07 false)
(global boolean g_music_020_08 false)
(global boolean g_music_020_09 false)
(global boolean g_music_020_10 false)
(global boolean g_music_020_105 false)
(global boolean g_music_020_106 false)
(global boolean g_music_020_11 false)
(global boolean g_music_020_114 false)
(global boolean g_music_020_115 false)
(global boolean g_music_020_12 false)
(global boolean g_music_020_13 false)
(global boolean g_music_020_135 false)
(global boolean g_music_020_14 false)
(global boolean dialogue true)
(global ai miranda none)
(global ai arbiter none)
(global object obj_arbiter none)
(global ai johnson none)
(global ai bugger none)
(global ai follower_marine_a none)
(global ai follower_marine_b none)
(global ai 01_marine_a none)
(global ai 01_marine_b none)
(global ai 01_marine_c none)
(global ai 01_marine_d none)
(global ai 01_marine_e none)
(global ai 01_marine_f none)
(global ai 01_marine_e1 none)
(global ai 01_marine_f1 none)
(global ai 01_marine_g none)
(global ai 01_marine_h none)
(global ai 01_marine_i none)
(global ai 01_marine_j none)
(global ai 01_marine_k none)
(global ai 01_marine_l none)
(global ai 01_marine_m none)
(global ai 01_sergeant none)
(global ai 03_marine_a none)
(global ai 03_marine_c none)
(global ai 03_marine_d none)
(global ai 03_marine_e none)
(global ai 03_marine_f none)
(global ai 03_sergeant_a none)
(global ai 04_marine_a none)
(global ai 04_marine_b none)
(global ai 05_marine_a none)
(global ai 05_sergeant none)
(global ai 06_brute_a none)
(global ai 06_sergeant none)
(global ai 07_brute_a none)
(global ai 07_brute_b none)
(global ai 07_brute_c none)
(global ai 07_brute_d none)
(global ai 07_brute_e none)
(global ai 07_brute_f none)
(global ai 07_marine_a none)
(global ai 07_marine_b none)
(global ai 07_marine_c none)
(global ai 08_marine_a none)
(global ai 08_marine_b none)
(global ai 10_brute_a none)
(global ai 10_truth none)
(global ai rvb_actor none)
(global boolean objective_br08_updated false)
(global short rand 0)
(global boolean miranda_done false)
(global boolean miranda_flee false)
(global boolean ops_reply_1 false)
(global boolean ops_reply_2 false)
(global boolean ops_reply_3 false)
(global boolean ops_reply_4 false)
(global boolean ops_mir_done false)
(global boolean ops_recent_check false)
(global boolean ops_johnson_done false)
(global ai big_bad_brute none)
(global boolean 01_sergeant_speaks false)
(global boolean start_pa_system false)
(global short cave_a_rand01 0)
(global short cave_a_rand02 0)
(global short rand_patrol01 0)
(global short rand_patrol02 0)
(global boolean self_destruct_objective false)
(global boolean bugger_attack false)
(global boolean marine_grabbed false)
(global short gift_var 0)
(global boolean rvb_end false)
(global boolean rvb_var false)
(global boolean briefing_play false)
(global boolean cortana_talking false)
(global boolean static_end false)
(global point_reference temp_point "fx_command_center_01_low/p0")
(global short rumble_var 0)
(global short intensity_var 3)
(global boolean 16_rumble_bool false)
(global object_list shake_var (players))
(global short g_set_all 17)
(global boolean editor false)
(global boolean debug true)
(global boolean g_play_cinematics true)
(global short marine_pos 0)
(global boolean g_null false)
(global boolean random_bool false)
(global short g_insertion_index 0)
(global short base_obj_control 0)
(global short random_rats 0)
(global short var_hangar_a_pos 0)
(global boolean phantom_ready false)
(global boolean covenant_losing false)
(global boolean hangar_a_done false)
(global short straggler_no 0)
(global boolean hangar_a_perf_hack false)
(global short bugger_no 1)
(global short bugger_difficulty 20)
(global short var_motor_pool_pos 0)
(global short bugger01_num 1)
(global short bugger02_num 1)
(global short bugger03_num 1)
(global short var_barracks_pos 0)
(global short var_evac_hangar_pos 0)
(global boolean landing_pad_start false)
(global short jetpack_no 0)
(global boolean covenant_clear false)
(global boolean evac_encounter_begin false)
(global short var_cortana_highway_pos 0)
(global real g_nav_offset 0.55)
(global boolean loop02_navpoint_bool false)

; Scripts
(script static void (ai_trickle_via_phantom (ai vehicle_starting_location, ai spawned_squad))
    (ai_place spawned_squad)
    (vehicle_load_magic (ai_vehicle_get_from_starting_location vehicle_starting_location) 0 (ai_actors spawned_squad))
    (sleep 1)
    (object_set_phantom_power (ai_vehicle_get_from_starting_location vehicle_starting_location) true)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 1)
    (sleep 15)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 2)
    (sleep 15)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 3)
    (sleep 60)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 4)
    (sleep 60)
    (object_set_phantom_power (ai_vehicle_get_from_starting_location vehicle_starting_location) false)
)

(script static void (ai_dump_via_phantom (ai vehicle_starting_location, ai spawned_squad))
    (ai_place spawned_squad)
    (vehicle_load_magic (ai_vehicle_get_from_starting_location vehicle_starting_location) 0 (ai_actors spawned_squad))
    (sleep 1)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 0)
)

(script static void (ai_disembark_via_phantom (ai vehicle_starting_location, ai spawned_squad))
    (unit_open (ai_vehicle_get_from_starting_location vehicle_starting_location))
    (sleep 45)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 5)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 6)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 7)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 8)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 9)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 10)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 11)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 12)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 13)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 14)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 15)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 16)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 17)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 18)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 19)
    (vehicle_unload (ai_vehicle_get_from_starting_location vehicle_starting_location) 20)
    (sleep 120)
    (unit_close (ai_vehicle_get_from_starting_location vehicle_starting_location))
)

(script static unit player0
    (unit (list_get (players) 0))
)

(script static unit player1
    (unit (list_get (players) 1))
)

(script static unit player2
    (unit (list_get (players) 2))
)

(script static unit player3
    (unit (list_get (players) 3))
)

(script static short player_count
    (list_count (players))
)

(script static void print_difficulty
    (game_save_immediate)
    (if (= (game_difficulty_get_real) easy)
        (print "easy")
        (if (= (game_difficulty_get_real) normal)
            (print "normal")
            (if (= (game_difficulty_get_real) heroic)
                (print "heroic")
                (if (= (game_difficulty_get_real) legendary)
                    (print "legendary")
                )
            )
        )
    )
)

(script static boolean difficulty_legendary
    (= (game_difficulty_get) legendary)
)

(script static boolean difficulty_heroic
    (= (game_difficulty_get) heroic)
)

(script static boolean difficulty_normal
    (= (game_difficulty_get) normal)
)

(script static boolean players_not_in_combat
    (player_action_test_reset)
    (sleep 30)
    (if (and (not (player_action_test_primary_trigger)) (not (player_action_test_grenade_trigger)) (if (= (game_coop_player_count) 4)
        (begin
            (>= (object_get_shield (player0)) 1)
            (>= (object_get_shield (player1)) 1)
            (>= (object_get_shield (player2)) 1)
            (>= (object_get_shield (player3)) 1)
        )
        (if (= (game_coop_player_count) 3)
            (begin
                (>= (object_get_shield (player0)) 1)
                (>= (object_get_shield (player1)) 1)
                (>= (object_get_shield (player2)) 1)
            )
            (if (= (game_coop_player_count) 2)
                (begin
                    (>= (object_get_shield (player0)) 1)
                    (>= (object_get_shield (player1)) 1)
                )
                (if true
                    (begin
                        (>= (object_get_shield (player0)) 1)
                    )
                )
            )
        )
    ))
        true
        false
    )
)

(script static boolean cinematic_skip_start
    (cinematic_skip_start_internal)
    (game_save_cinematic_skip)
    (sleep_until (not (game_saving)) 1)
    (not (game_reverted))
)

(script static void cinematic_skip_stop
    (cinematic_skip_stop_internal)
    (if (not (game_reverted))
        (game_revert)
    )
)

(script static void cinematic_fade_to_black
    (ai_disregard (players) true)
    (object_cannot_take_damage (players))
    (player_control_fade_out_all_input 1)
    (campaign_metagame_time_pause true)
    (unit_lower_weapon (player0) 30)
    (unit_lower_weapon (player1) 30)
    (unit_lower_weapon (player2) 30)
    (unit_lower_weapon (player3) 30)
    (sleep 10)
    (chud_cinematic_fade 0 0.5)
    (cinematic_show_letterbox true)
    (sleep 5)
    (fade_out 0 0 0 30)
    (sleep 30)
    (object_hide (player0) true)
    (object_hide (player1) true)
    (object_hide (player2) true)
    (object_hide (player3) true)
    (cinematic_start)
    (camera_control true)
    (player_enable_input false)
    (player_disable_movement false)
    (sleep 1)
    (cinematic_show_letterbox_immediate true)
)

(script static void cinematic_snap_to_black
    (ai_disregard (players) true)
    (object_cannot_take_damage (players))
    (fade_out 0 0 0 0)
    (player_control_fade_out_all_input 0)
    (unit_lower_weapon (player0) 1)
    (unit_lower_weapon (player1) 1)
    (unit_lower_weapon (player2) 1)
    (unit_lower_weapon (player3) 1)
    (sleep 1)
    (object_hide (player0) true)
    (object_hide (player1) true)
    (object_hide (player2) true)
    (object_hide (player3) true)
    (chud_cinematic_fade 0 0)
    (campaign_metagame_time_pause true)
    (sleep 1)
    (cinematic_start)
    (camera_control true)
    (player_enable_input false)
    (player_disable_movement false)
    (sleep 1)
    (cinematic_show_letterbox_immediate true)
    (sleep 1)
)

(script static void cinematic_fade_to_title
    (sleep 15)
    (cinematic_stop)
    (camera_control false)
    (cinematic_show_letterbox_immediate true)
    (object_hide (player0) false)
    (object_hide (player1) false)
    (object_hide (player2) false)
    (object_hide (player3) false)
    (player_control_unlock_gaze (player0))
    (player_control_unlock_gaze (player1))
    (player_control_unlock_gaze (player2))
    (player_control_unlock_gaze (player3))
    (sleep 1)
    (unit_lower_weapon (player0) 1)
    (unit_lower_weapon (player1) 1)
    (unit_lower_weapon (player2) 1)
    (unit_lower_weapon (player3) 1)
    (sleep 1)
    (fade_in 0 0 0 15)
    (sleep 15)
    (ai_disregard (players) false)
    (object_can_take_damage (players))
)

(script static void cinematic_fade_to_title_slow
    (cinematic_stop)
    (camera_control false)
    (cinematic_show_letterbox_immediate true)
    (object_hide (player0) false)
    (object_hide (player1) false)
    (object_hide (player2) false)
    (object_hide (player3) false)
    (player_control_unlock_gaze (player0))
    (player_control_unlock_gaze (player1))
    (player_control_unlock_gaze (player2))
    (player_control_unlock_gaze (player3))
    (sleep 1)
    (unit_lower_weapon (player0) 1)
    (unit_lower_weapon (player1) 1)
    (unit_lower_weapon (player2) 1)
    (unit_lower_weapon (player3) 1)
    (sleep 1)
    (fade_in 0 0 0 150)
    (sleep 15)
    (ai_disregard (players) false)
    (object_can_take_damage (players))
)

(script static void cinematic_title_to_gameplay
    (sleep 30)
    (player_control_unlock_gaze (player0))
    (player_control_unlock_gaze (player1))
    (player_control_unlock_gaze (player2))
    (player_control_unlock_gaze (player3))
    (sleep 1)
    (unit_lower_weapon (player0) 1)
    (unit_lower_weapon (player1) 1)
    (unit_lower_weapon (player2) 1)
    (unit_lower_weapon (player3) 1)
    (sleep 1)
    (unit_raise_weapon (player0) 30)
    (unit_raise_weapon (player1) 30)
    (unit_raise_weapon (player2) 30)
    (unit_raise_weapon (player3) 30)
    (sleep 10)
    (player_enable_input true)
    (player_control_fade_in_all_input 1)
    (player_disable_movement false)
    (sleep 110)
    (cinematic_show_letterbox false)
    (sleep 15)
    (chud_cinematic_fade 1 1)
    (campaign_metagame_time_pause false)
    (ai_disregard (players) false)
    (object_can_take_damage (players))
    (game_save)
)

(script static void cinematic_fade_to_gameplay
    (cinematic_stop)
    (camera_control false)
    (cinematic_show_letterbox_immediate true)
    (object_hide (player0) false)
    (object_hide (player1) false)
    (object_hide (player2) false)
    (object_hide (player3) false)
    (player_control_unlock_gaze (player0))
    (player_control_unlock_gaze (player1))
    (player_control_unlock_gaze (player2))
    (player_control_unlock_gaze (player3))
    (sleep 1)
    (unit_lower_weapon (player0) 1)
    (unit_lower_weapon (player1) 1)
    (unit_lower_weapon (player2) 1)
    (unit_lower_weapon (player3) 1)
    (sleep 1)
    (fade_in 0 0 0 15)
    (sleep 15)
    (cinematic_show_letterbox false)
    (chud_cinematic_fade 1 1)
    (unit_raise_weapon (player0) 30)
    (unit_raise_weapon (player1) 30)
    (unit_raise_weapon (player2) 30)
    (unit_raise_weapon (player3) 30)
    (sleep 10)
    (player_enable_input true)
    (player_control_fade_in_all_input 1)
    (campaign_metagame_time_pause false)
    (ai_disregard (players) false)
    (object_can_take_damage (players))
    (player_disable_movement false)
    (game_save)
)

(script static void chapter_start
    (chud_cinematic_fade 0 0.5)
    (cinematic_show_letterbox true)
    (sleep 30)
)

(script static void chapter_stop
    (cinematic_show_letterbox false)
    (sleep 15)
    (chud_cinematic_fade 1 0.5)
    (game_save)
)

(script static void perspective_start
    (game_save_cancel)
    (cinematic_skip_start_internal)
    (ai_disregard (player0) true)
    (ai_disregard (player1) true)
    (ai_disregard (player2) true)
    (ai_disregard (player3) true)
    (object_cannot_take_damage (player0))
    (object_cannot_take_damage (player1))
    (object_cannot_take_damage (player2))
    (object_cannot_take_damage (player3))
    (player_control_fade_out_all_input 2)
    (unit_lower_weapon (player0) 30)
    (unit_lower_weapon (player1) 30)
    (unit_lower_weapon (player2) 30)
    (unit_lower_weapon (player3) 30)
    (chud_cinematic_fade 0 0.5)
    (sleep 15)
    (cinematic_show_letterbox true)
    (sleep 5)
    (fade_out 0 0 0 10)
    (sleep 10)
    (camera_control true)
    (cinematic_start)
    (sleep 15)
)

(script static void perspective_stop
    (cinematic_stop)
    (camera_control false)
    (sleep 1)
    (cinematic_show_letterbox_immediate true)
    (player_control_unlock_gaze (player0))
    (player_control_unlock_gaze (player1))
    (player_control_unlock_gaze (player2))
    (player_control_unlock_gaze (player3))
    (player_control_fade_in_all_input 0.5)
    (fade_in 0 0 0 10)
    (sleep 5)
    (cinematic_show_letterbox false)
    (unit_raise_weapon (player0) 30)
    (unit_raise_weapon (player1) 30)
    (unit_raise_weapon (player2) 30)
    (unit_raise_weapon (player3) 30)
    (sleep 10)
    (chud_cinematic_fade 1 0.5)
    (ai_disregard (player0) false)
    (ai_disregard (player1) false)
    (ai_disregard (player2) false)
    (ai_disregard (player3) false)
    (object_can_take_damage (player0))
    (object_can_take_damage (player1))
    (object_can_take_damage (player2))
    (object_can_take_damage (player3))
    (game_save)
)

(script static void perspective_skipped
    (cinematic_stop)
    (camera_control false)
    (ai_disregard (player0) false)
    (ai_disregard (player1) false)
    (ai_disregard (player2) false)
    (ai_disregard (player3) false)
    (object_can_take_damage (player0))
    (object_can_take_damage (player1))
    (object_can_take_damage (player2))
    (object_can_take_damage (player3))
    (player_control_unlock_gaze (player0))
    (player_control_unlock_gaze (player1))
    (player_control_unlock_gaze (player2))
    (player_control_unlock_gaze (player3))
    (sleep 5)
    (player_control_fade_in_all_input 1)
    (fade_in 0 0 0 15)
    (sleep 15)
    (unit_raise_weapon (player0) 15)
    (unit_raise_weapon (player1) 15)
    (unit_raise_weapon (player2) 15)
    (unit_raise_weapon (player3) 15)
    (game_save)
)

(script static boolean perspective_skip_start
    (player_action_test_reset)
    (sleep_until (or (not perspective_running) (player_action_test_cinematic_skip)) 1)
    perspective_running
)

(script static void insertion_start
    (fade_out 0 0 0 0)
    (sound_class_set_gain "object" 0 0)
    (sound_class_set_gain "vehicle" 0 0)
    (cinematic_show_letterbox_immediate true)
    (chud_cinematic_fade 0 0)
    (player_disable_movement true)
    (player_enable_input false)
    (campaign_metagame_time_pause true)
    (unit_lower_weapon (player0) 1)
    (unit_lower_weapon (player1) 1)
    (unit_lower_weapon (player2) 1)
    (unit_lower_weapon (player3) 1)
    (sleep 1)
    (sound_class_set_gain "object" 1 30)
    (sound_class_set_gain "vehicle" 1 30)
)

(script dormant void insertion_end
    (sleep 30)
    (fade_in 0 0 0 15)
    (sleep 15)
    (cinematic_show_letterbox false)
    (player_control_fade_in_all_input 1)
    (sleep 15)
    (chud_cinematic_fade 1 1)
    (unit_raise_weapon (player0) 30)
    (unit_raise_weapon (player1) 30)
    (unit_raise_weapon (player2) 30)
    (unit_raise_weapon (player3) 30)
    (campaign_metagame_time_pause false)
    (ai_disregard (players) false)
    (object_can_take_damage (players))
    (player_enable_input true)
    (player_disable_movement false)
    (game_save)
)

(script static ai (ai_get_driver (ai vehicle_starting_location))
    (object_get_ai (vehicle_driver (ai_vehicle_get_from_starting_location vehicle_starting_location)))
)

(script static ai (ai_get_gunner (ai vehicle_starting_location))
    (object_get_ai (vehicle_gunner (ai_vehicle_get_from_starting_location vehicle_starting_location)))
)

(script static boolean any_players_in_vehicle
    (or (unit_in_vehicle (unit (player0))) (unit_in_vehicle (unit (player1))) (unit_in_vehicle (unit (player2))) (unit_in_vehicle (unit (player3))))
)

(script static void (shut_door_forever (device machine_door))
    (device_operates_automatically_set machine_door false)
    (device_set_position machine_door 0)
    (sleep_until (<= (device_get_position machine_door) 0) 30 300)
    (if (> (device_get_position machine_door) 0)
        (device_set_position_immediate machine_door 0)
    )
    (sleep 1)
    (device_set_power machine_door 0)
)

(script static void (shut_door_forever_immediate (device machine_door))
    (device_operates_automatically_set machine_door false)
    (device_set_position_immediate machine_door 0)
    (device_set_power machine_door 0)
)

(script dormant void reset_map_reminder
    (sleep_until 
        (begin
            (print "press a to play again!")
            false
        )
        90
    )
)

(script static void end_segment
    (print "end gameplay segment!  thank you for playing!")
    (sleep 15)
    (print "grab paul or rob to give feedback!")
    (sleep 15)
    (player_action_test_reset)
    (sleep_until 
        (begin
            (print "press the a button to reset!")
            (sleep_until (player_action_test_accept) 1 90)
            (player_action_test_accept)
        )
        1
    )
    (print "reloading map...")
    (sleep 15)
    (chud_cinematic_fade 1 0)
    (fade_in 0 0 0 0)
    (map_reset)
)

(script static void end_mission
    (if global_playtest_mode
        (begin
            (data_mine_set_mission_segment "questionaire")
            (cinematic_fade_to_gameplay)
            (sleep 1)
            (print "end mission!")
            (sleep 15)
            (hud_set_training_text "playtest_raisehand")
            (hud_show_training_text true)
            (sleep 90)
            (player_action_test_reset)
            (sleep_until 
                (begin
                    (sleep_until (player_action_test_accept) 1 90)
                    (player_action_test_accept)
                )
                1
            )
            (hud_show_training_text false)
            (print "loading next mission...")
            (sleep 15)
        )
        (begin
            (fade_out 0 0 0 0)
            (cinematic_stop)
            (camera_control false)
        )
    )
    (game_won)
)

(script startup void beginning_mission_segment
    (data_mine_set_mission_segment "mission_start")
)

(script continuous void gs_cortana_header
    (sleep_until g_cortana_header 1)
    (print "cortana header")
    (game_save_cancel)
    (game_safe_to_respawn false)
    (player_control_scale_all_input 0.15 0.5)
    (ai_dialogue_enable false)
    (ai_disregard (players) true)
    (object_cannot_take_damage (players))
    (damage_players "cinematics\cortana_channel\cortana_effect")
    (gs_hud_flicker_out)
    (set g_cortana_header false)
)

(script continuous void gs_cortana_footer
    (sleep_until g_cortana_footer 1)
    (print "cortana footer")
    (sleep 1)
    (game_safe_to_respawn true)
    (player_control_scale_all_input 1 0.5)
    (ai_dialogue_enable true)
    (ai_disregard (players) false)
    (object_can_take_damage (players))
    (sleep 1)
    (game_save)
    (chud_cinematic_fade 1 1.5)
    (sound_impulse_start "sound\visual_fx\cortana_hud_on" none 1)
    (set g_cortana_footer false)
)

(script continuous void gs_gravemind_header
    (sleep_until g_gravemind_header 1)
    (print "gravemind header")
    (game_save_cancel)
    (game_safe_to_respawn false)
    (player_control_scale_all_input 0.15 2)
    (ai_dialogue_enable false)
    (ai_disregard (players) true)
    (object_cannot_take_damage (players))
    (sleep 1)
    (set g_gravemind_header false)
)

(script continuous void gs_gravemind_footer
    (sleep_until g_gravemind_footer 1)
    (print "gravemind footer")
    (game_safe_to_respawn true)
    (player_control_scale_all_input 1 1)
    (ai_dialogue_enable true)
    (ai_disregard (players) false)
    (object_can_take_damage (players))
    (sleep 1)
    (set g_gravemind_footer false)
    (sleep 30)
    (game_save)
)

(script static void gs_hud_flicker_out
    (chud_cinematic_fade 0 (real_random_range 0 0.035))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 5))
    (chud_cinematic_fade 1 (real_random_range 0 0.035))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 5))
    (chud_cinematic_fade 0 (real_random_range 0 0.035))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 5))
    (chud_cinematic_fade 1 (real_random_range 0 0.035))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 5))
    (chud_cinematic_fade 0 (real_random_range 0 0.035))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 5))
    (chud_cinematic_fade 1 (real_random_range 0 0.035))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 5))
    (chud_cinematic_fade 0 (real_random_range 0 0.035))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 5))
    (chud_cinematic_fade 1 (real_random_range 0 0.035))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 5))
    (chud_cinematic_fade 0 (real_random_range 0 0.035))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 5))
    (chud_cinematic_fade 1 (real_random_range 0 0.035))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 5))
    (chud_cinematic_fade 0 (real_random_range 0 0.035))
)

(script static boolean award_skull
    (if (and (>= (game_difficulty_get_real) normal) (= (game_insertion_point_get) 0))
        true
        false
    )
)

(script dormant void 020_title1
    (cinematic_set_title "title_1")
    (cinematic_title_to_gameplay)
)

(script dormant void 020_title2
    (if (= (game_insertion_point_get) 0)
        (chapter_start)
        (sleep 30)
    )
    (cinematic_set_title "title_2")
    (if (= (game_insertion_point_get) 0)
        (begin
            (sleep 150)
            (chapter_stop)
        )
        (cinematic_title_to_gameplay)
    )
    (set g_music_020_06 false)
)

(script dormant void 020_title3
    (if (<= (game_insertion_point_get) 1)
        (chapter_start)
        (sleep 30)
    )
    (cinematic_set_title "title_3")
    (if (<= (game_insertion_point_get) 1)
        (begin
            (sleep 150)
            (chapter_stop)
        )
        (cinematic_title_to_gameplay)
    )
)

(script dormant void 020_music_01
    (sleep_until g_music_020_01)
    (if debug
        (print "start music 020_01")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_01" none 1)
    (sleep_until (not g_music_020_01))
    (if debug
        (print "stop music 020_01")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_01")
)

(script dormant void 020_music_02
    (sleep_until g_music_020_02)
    (if debug
        (print "start music 020_02")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_02" none 1)
    (sleep_until (not g_music_020_02))
    (if debug
        (print "stop music 020_02")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_02")
)

(script dormant void 020_music_03
    (sleep_until g_music_020_03)
    (if debug
        (print "start music 020_03")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_03" none 1)
    (sleep_until (not g_music_020_03))
    (if debug
        (print "stop music 020_03")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_03")
)

(script dormant void 020_music_04
    (sleep_until g_music_020_04)
    (if debug
        (print "start music 020_04")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_04" none 1)
    (sleep_until (not g_music_020_04))
    (if debug
        (print "stop music 020_04")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_04")
)

(script dormant void 020_music_05
    (sleep_until g_music_020_05)
    (if debug
        (print "start music 020_05")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_05" none 1)
    (sleep_until (not g_music_020_05))
    (if debug
        (print "stop music 020_05")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_05")
)

(script dormant void 020_music_06
    (sleep_until g_music_020_06)
    (if debug
        (print "start music 020_06")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_06" none 1)
    (sleep_until (not g_music_020_06))
    (if debug
        (print "stop music 020_06")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_06")
)

(script dormant void 020_music_065
    (sleep_until g_music_020_065)
    (if debug
        (print "start music 020_065")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_065" none 1)
    (sleep_until (not g_music_020_065))
    (if debug
        (print "stop music 020_065")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_065")
)

(script dormant void 020_music_07
    (sleep_until g_music_020_07)
    (if debug
        (print "start music 020_07")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_07" none 1)
    (sleep_until (not g_music_020_07))
    (if debug
        (print "stop music 020_07")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_07")
)

(script dormant void 020_music_08
    (sleep_until g_music_020_08)
    (if debug
        (print "start music 020_08")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_08" none 1)
    (sleep_until (= (device_get_position "motor_pool_exit_door") 1) 5)
    (sleep_until (or (volume_test_players "sewer01_trig") (= (ai_living_count "motor_pool_all") 0)) 5)
    (if debug
        (print "stop music 020_08")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_08")
)

(script dormant void 020_music_02b
    (sleep_until (or (volume_test_players "sewer01_trig") (= (ai_living_count "motor_pool_all") 0)) 5)
    (if debug
        (print "start music 020_02")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_085" none 1)
    (set g_music_020_02b true)
    (sleep_until (not g_music_020_02b))
    (if (= random_bool true)
        (sleep 30)
    )
    (if debug
        (print "stop music 020_02")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_085")
)

(script dormant void 020_music_09
    (sleep_until g_music_020_09)
    (if debug
        (print "start music 020_09")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_09" none 1)
    (sleep_until (not g_music_020_09))
    (if debug
        (print "stop music 020_09")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_09")
)

(script dormant void 020_music_10
    (sleep_until g_music_020_10)
    (if debug
        (print "start music 020_10")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_10" none 1)
    (sleep_until (not g_music_020_10))
    (if debug
        (print "stop music 020_10")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_10")
)

(script dormant void 020_music_105
    (sleep_until g_music_020_105)
    (if debug
        (print "start music 020_105")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_105" none 1)
)

(script dormant void 020_music_106
    (sleep_until g_music_020_106)
    (sleep 1080)
    (if debug
        (print "start music 020_106")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_106" none 1)
    (sleep_until (not g_music_020_106))
    (if debug
        (print "stop music 020_106")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_106")
)

(script dormant void 020_music_11
    (sleep_until g_music_020_11)
    (if debug
        (print "start music 020_11")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_11" none 1)
    (sleep_until (not g_music_020_11))
    (if debug
        (print "stop music 020_11")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_11")
)

(script dormant void 020_music_114
    (sleep_until g_music_020_114)
    (if debug
        (print "start music 020_114")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_114" none 1)
    (sleep_until (not g_music_020_114))
    (if debug
        (print "stop music 020_114")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_114")
)

(script dormant void 020_music_115
    (if debug
        (print "start music 020_115")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_115" none 1)
    (set g_music_020_115 true)
    (wake 020_music_115_alt)
    (sleep_until (or (< (ai_living_count "cortana_highway_all") 1) (= g_music_020_115 false) (volume_test_players "motor_pool_start_trig")) 5)
    (if debug
        (print "stop music 020_115")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_115")
)

(script dormant void 020_music_115_alt
    (sleep_until (volume_test_players "cortana_highway_turret_end") 1)
    (if debug
        (print "start music 020_115_alt")
    )
    (sound_looping_set_alternate "levels\solo\020_base\music\020_music_115" true)
)

(script dormant void 020_music_12
    (sleep_until g_music_020_12)
    (if debug
        (print "start music 020_12")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_12" none 1)
    (sleep_until (not g_music_020_12))
    (if debug
        (print "stop music 020_12")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_12")
)

(script dormant void 020_music_13
    (sleep_until g_music_020_13)
    (if debug
        (print "start music 020_13")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_13" none 1)
    (sleep_until (not g_music_020_13))
    (if debug
        (print "stop music 020_13")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_13")
)

(script dormant void 020_music_135
    (sleep_until (volume_test_players "hangar_a_start_trig") 5)
    (set g_music_020_135 true)
    (if debug
        (print "start music 020_135")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_135" none 1)
    (sleep 1)
    (sleep_until (not g_music_020_135))
    (if debug
        (print "stop music 020_135")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_135")
)

(script dormant void 020_music_14
    (sleep_until g_music_020_14)
    (if debug
        (print "start music 020_14")
    )
    (sound_looping_start "levels\solo\020_base\music\020_music_14" none 1)
    (sleep_until (not g_music_020_14))
    (if debug
        (print "stop music 020_14")
    )
    (sound_looping_stop "levels\solo\020_base\music\020_music_14")
)

(script dormant void cin_base_insertion
    (data_mine_set_mission_segment "020la_secret_base")
    (cinematic_snap_to_black)
    (if (cinematic_skip_start)
        (begin
            (if debug
                (print "020la_secret_base")
            )
            (020la_secret_base)
        )
    )
    (cinematic_skip_stop)
    (020la_secret_base_cleanup)
    (object_teleport (player0) "player0_start")
    (object_teleport (player1) "player1_start")
    (object_teleport (player2) "player2_start")
    (object_teleport (player3) "player3_start")
    (ai_place "command_center_marines01")
    (ai_place "command_center_marines02/05")
    (ai_place "command_center_marines02/10")
    (ai_place "command_center_marines02/jon")
    (ai_place "command_center_marines02/actor_miranda")
    (if (= (game_coop_player_count) 1)
        (ai_place "command_center_marines02/arby")
    )
    (ai_place "command_center_marines03")
    (ai_place "command_center_marines05")
    (ai_place "command_center_marines06")
    (wake 020_title1)
    (wake obj_init_set)
    (device_set_position_immediate "command_center_cin_door" 0)
    (cinematic_fade_to_title)
)

(script static void md_cleanup
    (ai_dialogue_enable true)
)

(script dormant void md_01_command_objectives_01
    (if debug
        (print "mission dialogue:01:command:objectives_01")
    )
    (vs_cast "command_center_marines02" true 5 "020va_020" "020va_010")
    (set miranda (vs_role 1))
    (set 01_marine_a (vs_role 2))
    (vs_cast "command_center_marines02" false 5 "020va_120" "020mj_010")
    (set johnson (vs_role 1))
    (set arbiter (vs_role 2))
    (sleep 60)
    (vs_look_object johnson true (ai_get_object miranda))
    (vs_look_object arbiter true (ai_get_object miranda))
    (vs_look_object 01_marine_a true (ai_get_object miranda))
    (vs_set_cleanup_script md_cleanup)
    (ai_dialogue_enable false)
    (if dialogue
        (print "officer 1: ma'am! we just lost the perimeter cameras!")
    )
    (vs_play_line 01_marine_a true 020va_010)
    (sleep 10)
    (vs_go_to miranda false "command_center_patrols/mir0")
    (if dialogue
        (print "miranda: motion trackers?")
    )
    (sleep (ai_play_line miranda 020va_020))
    (sleep 10)
    (if dialogue
        (print "officer 1: they're down or we're not receiving. can't tell.")
    )
    (vs_play_line 01_marine_a true 020va_030)
    (vs_look_object 01_marine_a false (ai_get_object miranda))
    (sleep 45)
    (ai_dialogue_enable true)
)

(script dormant void md_01_command_objectives_02
    (sleep_until (= (script_started "md_01_command_objectives_01") true))
    (sleep 1)
    (sleep_until (= (script_finished "md_01_command_objectives_01") true))
    (if debug
        (print "mission dialogue:01:command:objectives_02")
    )
    (vs_cast "command_center_marines02" true 10 "020va_020")
    (set miranda (vs_role 1))
    (vs_cast "command_center_marines02" false 10 "020va_120" "020mj_010")
    (set johnson (vs_role 1))
    (set arbiter (vs_role 2))
    (vs_look_object johnson true (ai_get_object miranda))
    (vs_look_object arbiter true (ai_get_object miranda))
    (vs_look_object miranda true (ai_get_object 01_marine_b))
    (vs_set_cleanup_script md_cleanup)
    (ai_dialogue_enable false)
    (if dialogue
        (print "miranda: any of our birds squawking?")
    )
    (sleep (ai_play_line miranda 020va_040))
    (sleep 10)
    (vs_cast "command_center_marines02" true 10 "020va_050")
    (set 01_marine_b (vs_role 1))
    (vs_look_object 01_marine_b true (ai_get_object miranda))
    (if dialogue
        (print "officer 2: no ma'am")
    )
    (vs_play_line 01_marine_b true 020va_050)
    (sleep 10)
    (vs_look_object miranda false (ai_get_object 01_marine_b))
    (vs_approach miranda false (ai_get_object 01_marine_b) 1 100 100)
    (vs_look_object 01_marine_b false (ai_get_object miranda))
    (if dialogue
        (print "officer 2: wait. overwatch has contacts")
    )
    (vs_play_line 01_marine_b true 020va_060)
    (sleep 10)
    (if dialogue
        (print "officer 2: phantoms! closing on our position!")
    )
    (vs_play_line 01_marine_b true 020va_070)
    (sleep 10)
    (vs_release_all)
    (ai_dialogue_enable true)
    (sleep 1)
)

(script dormant void md_01_command_objectives_03
    (sleep_until (= (script_started "md_01_command_objectives_02") true))
    (sleep 1)
    (sleep_until (= (script_finished "md_01_command_objectives_02") true))
    (if debug
        (print "mission dialogue:01:command:objectives_03")
    )
    (vs_cast "command_center_marines02" true 15 "020va_020")
    (set miranda (vs_role 1))
    (vs_cast "command_center_marines02" false 15 "020va_120" "020mj_010")
    (set johnson (vs_role 1))
    (set arbiter (vs_role 2))
    (vs_look_object johnson true (ai_get_object miranda))
    (vs_look_object arbiter true (ai_get_object miranda))
    (vs_look_object miranda true (ai_get_object 01_marine_b))
    (vs_set_cleanup_script md_cleanup)
    (ai_dialogue_enable false)
    (if dialogue
        (print "miranda: any birds less than five minutes out? bring them in.")
    )
    (sleep (ai_play_line miranda 020va_090))
    (sleep 10)
    (if dialogue
        (print "miranda: tell everything else to scatter!")
    )
    (sleep (ai_play_line miranda 020va_100))
    (sleep 10)
    (vs_cast "command_center_marines02" true 10 "020va_050")
    (set 01_marine_b (vs_role 1))
    (if dialogue
        (print "officer 2: aye-aye!")
    )
    (vs_play_line 01_marine_b true 020va_110)
    (sleep 10)
    (ai_dialogue_enable true)
    (vs_release_all)
    (sleep 1)
)

(script dormant void md_01_command_objectives_04
    (sleep_until (= (script_started "md_01_command_objectives_03") true))
    (sleep 1)
    (sleep_until (= (script_finished "md_01_command_objectives_03") true))
    (vs_set_cleanup_script make_arby_leave)
    (if debug
        (print "mission dialogue:01:command:objectives_04")
    )
    (vs_cast "command_center_marines02" true 10 "020va_020" "020va_120")
    (set miranda (vs_role 1))
    (set johnson (vs_role 2))
    (vs_cast "command_center_marines02" false 10 "020mj_010")
    (set arbiter (vs_role 1))
    (vs_look_object johnson true (ai_get_object miranda))
    (vs_look_object arbiter true (ai_get_object miranda))
    (vs_set_cleanup_script md_cleanup)
    (ai_dialogue_enable false)
    (if (not (game_is_cooperative))
        (begin
            (if dialogue
                (print "johnson: want the arbiter back in ops-center?")
            )
            (vs_play_line johnson true 020va_120)
            (sleep 10)
            (vs_approach_stop miranda)
            (vs_look_object miranda true (ai_get_object johnson))
            (if dialogue
                (print "miranda: no. north hangar. we're short in that sector.")
            )
            (vs_play_line miranda true 020va_130)
            (sleep 10)
            (vs_look_object miranda false (ai_get_object johnson))
            (sleep 10)
        )
        (begin
            (if dialogue
                (print "johnson: should we split the chief and arbiter up?")
            )
            (vs_play_line johnson true 020va_140)
            (sleep 10)
            (vs_approach_stop miranda)
            (vs_look_object miranda true (ai_get_object johnson))
            (if dialogue
                (print "miranda: no. they'll be more effective together.")
            )
            (vs_play_line miranda true 020va_150)
            (sleep 10)
            (vs_look_object miranda false (ai_get_object johnson))
            (sleep 10)
        )
    )
    (ai_dialogue_enable true)
    (vs_release_all)
)

(script static void make_arby_leave
    (sleep 30)
    (object_create_containing "arb_sphere")
    (cs_run_command_script "command_center_marines02/arby" arby_leaves_cc)
)

(script static void test_arby_leave
    (ai_place "command_center_marines02/arby")
    (sleep 30)
    (object_create_containing "arb_sphere")
    (cs_run_command_script "command_center_marines02/arby" arby_leaves_cc)
)

(script static void test_mir_draw
    (ai_place "command_center_marines02/actor_miranda")
    (sleep 1)
    (vs_draw "command_center_marines02/actor_miranda")
)

(script command_script void arby_leaves_cc
    (cs_abort_on_damage true)
    (cs_look_object false (ai_get_object miranda))
    (cs_force_combat_status 3)
    (cs_enable_pathfinding_failsafe true)
    (unit_set_active_camo (unit (ai_get_object arbiter)) true 2)
    (cs_go_to "command_center_patrols/arb01")
    (cs_go_to "command_center_patrols/arb02")
    (object_destroy_containing "arb_sphere")
    (cs_go_to "command_center_patrols/arb03")
    (cs_go_to "command_center_patrols/arb04")
    (cs_go_to "command_center_intro/p19")
    (sleep_until (and (= (objects_can_see_object (players) (ai_get_object arbiter) 45) false) (= (volume_test_players "vol_arbiter_vanish") false)))
    (ai_erase "command_center_marines02/arby")
)

(script dormant void md_01_command_objectives_05
    (sleep_until (= (script_started "md_01_command_objectives_03") true))
    (sleep 1)
    (sleep_until (= (script_finished "md_01_command_objectives_03") true))
    (if debug
        (print "mission dialogue:01:command:objectives_05")
    )
    (vs_cast "command_center_marines02" true 10 "020va_020")
    (set miranda (vs_role 1))
    (vs_cast "command_center_marines02" false 10 "020va_010")
    (set 01_marine_a (vs_role 1))
    (vs_go_to_and_face miranda false "command_center_intro/p20" "command_center_intro/p19")
    (vs_look_object 01_marine_a true (ai_get_object miranda))
    (vs_set_cleanup_script md_cleanup)
    (ai_dialogue_enable false)
    (if dialogue
        (print "officer 1: never thought we'd have this many wounded")
    )
    (vs_play_line 01_marine_a true 020va_160)
    (sleep 10)
    (vs_cast "command_center_marines02" false 10 "020va_050")
    (set 01_marine_b (vs_role 1))
    (vs_look_object 01_marine_b true (ai_get_object miranda))
    (if dialogue
        (print "officer 2: pelican's are gonna take extra time to load")
    )
    (vs_play_line 01_marine_b true 020va_170)
    (sleep 10)
    (if dialogue
        (print "miranda: we knew they find us eventually...")
    )
    (vs_play_line miranda true 020va_180)
    (sleep 10)
    (vs_cast "command_center_marines05" false 10 "020va_200" "020va_200" "020va_200" "020va_200" "020va_200" "020va_200" "020va_200")
    (set 01_marine_c (vs_role 1))
    (set 01_marine_d (vs_role 2))
    (set 01_marine_e (vs_role 3))
    (set 01_marine_f (vs_role 4))
    (set 01_marine_g (vs_role 5))
    (set 01_marine_h (vs_role 6))
    (set 01_marine_i (vs_role 7))
    (vs_cast "command_center_marines05" false 10 "020va_200" "020va_200")
    (set 01_marine_j (vs_role 1))
    (set 01_marine_k (vs_role 2))
    (if dialogue
        (print "miranda: but we have a plan. let's make it happen!")
    )
    (vs_play_line miranda true 020va_190)
    (sleep 10)
    (set miranda_done true)
    (vs_look_object 01_marine_a true (ai_get_object miranda))
    (vs_look_object 01_marine_b true (ai_get_object miranda))
    (vs_look_object 01_marine_c true (ai_get_object miranda))
    (vs_look_object 01_marine_d true (ai_get_object miranda))
    (vs_look_object 01_marine_e true (ai_get_object miranda))
    (vs_look_object 01_marine_f true (ai_get_object miranda))
    (vs_look_object 01_marine_g true (ai_get_object miranda))
    (vs_look_object 01_marine_h true (ai_get_object miranda))
    (vs_look_object 01_marine_i true (ai_get_object miranda))
    (vs_look_object 01_marine_j true (ai_get_object miranda))
    (vs_look_object 01_marine_k true (ai_get_object miranda))
    (begin_random
        (begin
            (if dialogue
                (print "marine: yes, ma'am! aye-aye, commander!")
            )
            (vs_play_line 01_marine_a false 020va_200)
            (sleep (random_range 0 3))
        )
        (begin
            (vs_play_line 01_marine_b false 020va_200)
            (sleep (random_range 0 3))
        )
        (begin
            (vs_play_line 01_marine_c false 020va_200)
            (vs_action_at_object 01_marine_c false (ai_get_object miranda) ai_action_cheer)
            (sleep (random_range 0 3))
        )
        (begin
            (vs_play_line 01_marine_d false 020va_200)
            (vs_action_at_object 01_marine_d false (ai_get_object miranda) ai_action_cheer)
            (sleep (random_range 0 3))
        )
        (begin
            (vs_play_line 01_marine_e false 020va_200)
            (vs_action_at_object 01_marine_e false (ai_get_object miranda) ai_action_cheer)
            (sleep (random_range 0 3))
        )
        (begin
            (vs_play_line 01_marine_f false 020va_200)
            (vs_action_at_object 01_marine_f false (ai_get_object miranda) ai_action_cheer)
            (sleep (random_range 0 3))
        )
        (begin
            (vs_play_line 01_marine_g false 020va_200)
            (vs_action_at_object 01_marine_g false (ai_get_object miranda) ai_action_cheer)
            (sleep (random_range 0 3))
        )
        (begin
            (vs_play_line 01_marine_h false 020va_200)
            (vs_action_at_object 01_marine_h false (ai_get_object miranda) ai_action_cheer)
            (sleep (random_range 0 3))
        )
        (begin
            (vs_play_line 01_marine_i false 020va_200)
            (vs_action_at_object 01_marine_i false (ai_get_object miranda) ai_action_cheer)
            (sleep (random_range 0 3))
        )
        (begin
            (vs_play_line 01_marine_j false 020va_200)
            (vs_action_at_object 01_marine_j false (ai_get_object miranda) ai_action_cheer)
            (sleep (random_range 0 3))
        )
        (begin
            (vs_play_line 01_marine_k false 020va_200)
            (vs_action_at_object 01_marine_k false (ai_get_object miranda) ai_action_cheer)
            (sleep (random_range 0 3))
        )
    )
    (sleep 30)
    (vs_look_object 01_marine_a false (ai_get_object miranda))
    (vs_look_object 01_marine_b false (ai_get_object miranda))
    (vs_look_object 01_marine_c false (ai_get_object miranda))
    (vs_look_object 01_marine_d false (ai_get_object miranda))
    (vs_look_object 01_marine_e false (ai_get_object miranda))
    (vs_look_object 01_marine_f false (ai_get_object miranda))
    (vs_look_object 01_marine_g false (ai_get_object miranda))
    (vs_look_object 01_marine_h false (ai_get_object miranda))
    (vs_look_object 01_marine_i false (ai_get_object miranda))
    (vs_look_object 01_marine_j false (ai_get_object miranda))
    (vs_look_object 01_marine_k false (ai_get_object miranda))
    (ai_dialogue_enable true)
    (sleep 60)
    (wake md_01_command_followers)
    (wake 01_johnson_reminder)
    (wake miranda_terminals)
    (vs_release_all)
    (sleep 1)
    (cs_run_command_script "command_center_marines05" stand_gun_down)
    (sleep 1)
    (cs_run_command_script "command_center_marines05/pat01" pat_wander_01)
    (cs_run_command_script "command_center_marines05/pat02" pat_wander_02)
)

(script command_script void pat_wander_01
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_draw)
    (cs_walk true)
    (sleep_until 
        (begin
            (begin_random
                (begin
                    (cs_go_to "command_center_patrols/p7")
                    (cs_face_object true (ai_get_object "command_center_marines05/post02"))
                    (sleep (random_range 150 300))
                    (cs_face_object false (ai_get_object "command_center_marines05/post02"))
                )
                (begin
                    (cs_go_to "command_center_patrols/p2")
                    (cs_face_object true (ai_get_object "command_center_marines05/post05"))
                    (sleep (random_range 150 300))
                    (cs_face_object false (ai_get_object "command_center_marines05/post05"))
                )
                (begin
                    (cs_go_to "command_center_patrols/p8")
                    (cs_face_object true "ops_shelf")
                    (sleep (random_range 150 300))
                    (cs_face_object false "ops_shelf")
                )
                (begin
                    (cs_go_to "command_center_patrols/p3")
                    (sleep (random_range 150 300))
                )
                (begin
                    (cs_go_to "command_center_patrols/p11")
                    (sleep (random_range 150 300))
                )
                (begin
                    (cs_go_to "command_center_patrols/p12")
                    (sleep (random_range 150 300))
                )
                (begin
                    (cs_go_to "command_center_patrols/p5")
                    (sleep (random_range 150 300))
                )
            )
            false
        )
    )
)

(script command_script void pat_wander_02
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_draw)
    (cs_walk true)
    (sleep_until 
        (begin
            (begin_random
                (begin
                    (cs_go_to "command_center_patrols/p1")
                    (sleep (random_range 150 300))
                )
                (begin
                    (cs_go_to "command_center_patrols/p9")
                    (sleep (random_range 150 300))
                )
                (begin
                    (cs_go_to "command_center_patrols/p3")
                    (sleep (random_range 150 300))
                )
                (begin
                    (cs_go_to "command_center_patrols/p11")
                    (sleep (random_range 150 300))
                )
                (begin
                    (cs_go_to "command_center_patrols/p12")
                    (sleep (random_range 150 300))
                )
                (begin
                    (cs_go_to "command_center_patrols/p5")
                    (sleep (random_range 150 300))
                )
                (begin
                    (cs_go_to "command_center_patrols/p0")
                    (sleep (random_range 150 300))
                )
                (begin
                    (cs_go_to "command_center_patrols/p4")
                    (sleep (random_range 150 300))
                )
            )
            false
        )
    )
)

(script command_script void pat_wander_03
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (sleep_until 
        (begin
            (begin_random
                (begin
                    (cs_go_to_and_posture "cc_crash_pts_03/cc20" "act_typing")
                    (sleep (random_range 300 600))
                    (cs_posture_exit)
                )
                (begin
                    (cs_go_to_and_posture "cc_crash_pts_03/cc12" "act_typing")
                    (sleep (random_range 300 600))
                    (cs_posture_exit)
                )
                (begin
                    (cs_go_to_and_posture "cc_crash_pts_03/cc13" "act_typing")
                    (sleep (random_range 300 600))
                    (cs_posture_exit)
                )
                (begin
                    (cs_go_to_and_posture "cc_crash_pts_03/cc14" "act_typing")
                    (sleep (random_range 300 600))
                    (cs_posture_exit)
                )
                (begin
                    (cs_go_to_and_posture "cc_crash_pts_03/cc18" "act_typing")
                    (sleep (random_range 300 600))
                    (cs_posture_exit)
                )
            )
            false
        )
    )
)

(script command_script void pat_wander_04
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (sleep_until 
        (begin
            (begin_random
                (begin
                    (cs_go_to_and_posture "cc_crash_pts_01/cc02" "act_typing")
                    (sleep (random_range 300 600))
                    (cs_posture_exit)
                )
                (begin
                    (cs_go_to_and_posture "cc_crash_pts_01/cc03" "act_typing")
                    (sleep (random_range 300 600))
                    (cs_posture_exit)
                )
                (begin
                    (cs_go_to_and_posture "cc_crash_pts_01/cc04" "act_typing")
                    (sleep (random_range 300 600))
                    (cs_posture_exit)
                )
                (begin
                    (cs_go_to_and_posture "cc_crash_pts_01/cc05" "act_typing")
                    (sleep (random_range 300 600))
                    (cs_posture_exit)
                )
                (begin
                    (cs_go_to_and_posture "cc_crash_pts_01/cc06" "act_typing")
                    (sleep (random_range 300 600))
                    (cs_posture_exit)
                )
                (begin
                    (cs_go_to_and_posture "cc_crash_pts_01/cc16" "act_typing")
                    (sleep (random_range 300 600))
                    (cs_posture_exit)
                )
                (begin
                    (cs_go_to_and_posture "cc_crash_pts_02/cc08" "act_typing")
                    (sleep (random_range 300 600))
                    (cs_posture_exit)
                )
                (begin
                    (cs_go_to_and_posture "cc_crash_pts_02/cc09" "act_typing")
                    (sleep (random_range 300 600))
                    (cs_posture_exit)
                )
            )
            false
        )
    )
)

(script dormant void 01_johnson_reminder
    (sleep_until (volume_test_players "command_center_terminal_trig"))
    (vs_set_cleanup_script md_cleanup)
    (ai_dialogue_enable false)
    (if (not (game_is_cooperative))
        (begin
            (vs_look_player johnson true)
            (if dialogue
                (print "johnson: i'll stay here, chief. guard the ops-center")
            )
            (vs_play_line johnson true 020mx_010)
            (vs_look_player johnson false)
            (sleep 30)
            (sleep_until (volume_test_players "command_center_terminal_trig"))
            (vs_look_object johnson true (ai_get_object miranda))
            (if dialogue
                (print "johnson: keep my eye on the commander.")
            )
            (vs_play_line johnson true 020mx_020)
            (sleep 30)
            (sleep_until (volume_test_players "command_center_terminal_trig"))
            (vs_look_object johnson false (ai_get_object miranda))
            (vs_look_player johnson true)
            (if dialogue
                (print "johnson: but the marines downstairs could use your help.")
            )
            (vs_play_line johnson true 020ma_050)
            (vs_look_player johnson false)
            (set ops_johnson_done true)
            (ai_dialogue_enable true)
            (sleep 300)
        )
    )
    (sleep_until (volume_test_players "command_center_terminal_trig"))
    (set ops_johnson_done false)
    (vs_face_player johnson true)
    (if (= (game_coop_player_count) 1)
        (begin
            (if dialogue
                (print "johnson: chief. move out!")
            )
            (vs_play_line johnson true 020ma_060)
        )
        (if (= (game_coop_player_count) 2)
            (begin
                (if dialogue
                    (print "johnson: chief. move out!")
                )
                (vs_play_line johnson true 020ma_060)
                (if dialogue
                    (print "johnson: you too, arbiter!")
                )
                (vs_play_line johnson true 020ma_070)
            )
            (if (= (game_coop_player_count) 3)
                (begin
                    (if dialogue
                        (print "johnson: get a move on! spartans and elites!")
                    )
                    (vs_play_line johnson true 020ma_080)
                )
                (if (= (game_coop_player_count) 4)
                    (begin
                        (if dialogue
                            (print "johnson: get a move on! spartans and elites!")
                        )
                        (vs_play_line johnson true 020ma_080)
                    )
                )
            )
        )
    )
    (sleep 20)
    (if dialogue
        (print "johnson: the commander will brief you as you go.")
    )
    (vs_play_line johnson true 020ma_090)
    (vs_face_player johnson false)
    (set ops_johnson_done true)
)

(script dormant void miranda_movement
    (sleep_until (or (volume_test_players "command_center_intro_trig") (= ops_mir_done true)) 1)
    (set miranda_flee true)
    (sleep_forever miranda_terminals)
    (sleep 1)
    (vs_cast "command_center_marines02" true 100 "020va_020")
    (set miranda (vs_role 1))
    (vs_enable_pathfinding_failsafe miranda true)
    (vs_go_to miranda true "command_center_intro/p8")
    (device_set_position "command_miranda_door" 0)
    (vs_go_to miranda true "command_center_intro/p7")
    (sleep_until 
        (begin
            (begin_random
                (begin
                    (vs_go_to_and_face miranda true "command_center_intro/p21" "command_center_intro/p22")
                    (vs_face miranda true "command_center_intro/p22")
                    (sleep (random_range 90 300))
                    (vs_face miranda false "command_center_intro/p22")
                )
                (begin
                    (vs_go_to_and_face miranda true "command_center_intro/p23" "command_center_intro/p24")
                    (vs_face miranda true "command_center_intro/p24")
                    (sleep (random_range 90 300))
                    (vs_face miranda false "command_center_intro/p24")
                )
                (begin
                    (vs_go_to_and_face miranda true "command_center_intro/p25" "command_center_intro/p26")
                    (vs_face miranda true "command_center_intro/p26")
                    (sleep (random_range 90 300))
                    (vs_face miranda false "command_center_intro/p26")
                )
                (begin
                    (vs_go_to_and_face miranda true "command_center_intro/p27" "command_center_intro/p28")
                    (vs_face miranda true "command_center_intro/p28")
                    (sleep (random_range 90 300))
                    (vs_face miranda false "command_center_intro/p28")
                )
                (begin
                    (vs_go_to_and_face miranda true "command_center_intro/p29" "command_center_intro/p30")
                    (vs_face miranda true "command_center_intro/p30")
                    (sleep (random_range 90 300))
                    (vs_face miranda false "command_center_intro/p30")
                )
                (begin
                    (vs_go_to_and_face miranda true "command_center_intro/p31" "command_center_intro/p24")
                    (vs_face miranda true "command_center_intro/p24")
                    (sleep (random_range 90 300))
                    (vs_face miranda false "command_center_intro/p24")
                )
                (begin
                    (vs_go_to_and_face miranda true "command_center_intro/p31" "command_center_intro/p26")
                    (vs_face miranda true "command_center_intro/p26")
                    (sleep (random_range 90 300))
                    (vs_face miranda false "command_center_intro/p26")
                )
            )
            (>= base_obj_control 30)
        )
    )
)

(script static void test_miranda_movement
    (ai_place "command_center_marines02/actor_miranda")
    (vs_cast "command_center_marines02" true 100 "020va_020")
    (set miranda (vs_role 1))
    (vs_enable_pathfinding_failsafe miranda true)
    (vs_go_to miranda true "command_center_intro/p8")
    (device_set_position "command_miranda_door" 0)
    (vs_go_to miranda true "command_center_intro/p7")
    (sleep_until 
        (begin
            (begin_random
                (begin
                    (vs_go_to_and_face miranda true "command_center_intro/p21" "command_center_intro/p22")
                    (vs_face miranda true "command_center_intro/p22")
                    (sleep (random_range 90 300))
                    (vs_face miranda false "command_center_intro/p22")
                )
                (begin
                    (vs_go_to_and_face miranda true "command_center_intro/p23" "command_center_intro/p24")
                    (vs_face miranda true "command_center_intro/p24")
                    (sleep (random_range 90 300))
                    (vs_face miranda false "command_center_intro/p24")
                )
                (begin
                    (vs_go_to_and_face miranda true "command_center_intro/p25" "command_center_intro/p26")
                    (vs_face miranda true "command_center_intro/p26")
                    (sleep (random_range 90 300))
                    (vs_face miranda false "command_center_intro/p26")
                )
                (begin
                    (vs_go_to_and_face miranda true "command_center_intro/p27" "command_center_intro/p28")
                    (vs_face miranda true "command_center_intro/p28")
                    (sleep (random_range 90 300))
                    (vs_face miranda false "command_center_intro/p28")
                )
                (begin
                    (vs_go_to_and_face miranda true "command_center_intro/p29" "command_center_intro/p30")
                    (vs_face miranda true "command_center_intro/p30")
                    (sleep (random_range 90 300))
                    (vs_face miranda false "command_center_intro/p30")
                )
                (begin
                    (vs_go_to_and_face miranda true "command_center_intro/p31" "command_center_intro/p24")
                    (vs_face miranda true "command_center_intro/p24")
                    (sleep (random_range 90 300))
                    (vs_face miranda false "command_center_intro/p24")
                )
                (begin
                    (vs_go_to_and_face miranda true "command_center_intro/p31" "command_center_intro/p26")
                    (vs_face miranda true "command_center_intro/p26")
                    (sleep (random_range 90 300))
                    (vs_face miranda false "command_center_intro/p26")
                )
            )
            (>= base_obj_control 30)
        )
    )
)

(script dormant void miranda_terminals
    (sleep_until (= ops_johnson_done true))
    (sleep (random_range 90 150))
    (begin_random
        (if (= miranda_flee false)
            (begin
                (sleep_until (= ops_johnson_done true))
                (sleep (random_range 60 120))
                (vs_cast "command_center_marines02" false 10 "020ma_100")
                (set 01_marine_a (vs_role 1))
                (if dialogue
                    (print "marine: ma'am?")
                )
                (vs_play_line 01_marine_a true 020ma_100)
                (sleep (random_range 15 45))
                (vs_approach miranda true (ai_get_object 01_marine_a) 0.5 100 100)
                (sleep (random_range 60 90))
                (sleep_until (= ops_johnson_done true))
                (sleep (random_range 30 60))
                (begin_random
                    (if (and (= ops_reply_1 false) (= ops_recent_check false))
                        (begin
                            (set ops_reply_1 true)
                            (set ops_recent_check true)
                            (if dialogue
                                (print "keep me posted.")
                            )
                            (vs_play_line miranda true 020ma_140)
                        )
                    )
                    (if (and (= ops_reply_2 false) (= ops_recent_check false))
                        (begin
                            (set ops_reply_2 true)
                            (set ops_recent_check true)
                            (if dialogue
                                (print "let me know if something changes.")
                            )
                            (vs_play_line miranda true 020ma_150)
                        )
                    )
                    (if (and (= ops_reply_3 false) (= ops_recent_check false))
                        (begin
                            (set ops_reply_3 true)
                            (set ops_recent_check true)
                            (if dialogue
                                (print "should be alright, but stay sharp.")
                            )
                            (vs_play_line miranda true 020ma_160)
                        )
                    )
                    (if (and (= ops_reply_4 false) (= ops_recent_check false))
                        (begin
                            (set ops_reply_4 true)
                            (set ops_recent_check true)
                            (if dialogue
                                (print "good catch. send the word.")
                            )
                            (vs_play_line miranda true 020ma_170)
                        )
                    )
                )
                (vs_approach_stop miranda)
                (sleep_until (= miranda_flee true) 5 (random_range 30 60))
                (set ops_recent_check false)
                (vs_release 01_marine_a)
                (sleep 1)
            )
        )
        (if (= miranda_flee false)
            (begin
                (sleep_until (= ops_johnson_done true))
                (sleep (random_range 60 120))
                (vs_cast "command_center_marines02" false 10 "020ma_110")
                (set 01_marine_a (vs_role 1))
                (if dialogue
                    (print "marine: commander?")
                )
                (vs_play_line 01_marine_a true 020ma_110)
                (sleep (random_range 15 45))
                (vs_approach miranda true (ai_get_object 01_marine_a) 0.5 100 100)
                (sleep (random_range 30 60))
                (sleep_until (= ops_johnson_done true))
                (sleep (random_range 30 60))
                (begin_random
                    (if (and (= ops_reply_1 false) (= ops_recent_check false))
                        (begin
                            (set ops_reply_1 true)
                            (set ops_recent_check true)
                            (if dialogue
                                (print "keep me posted.")
                            )
                            (vs_play_line miranda true 020ma_140)
                        )
                    )
                    (if (and (= ops_reply_2 false) (= ops_recent_check false))
                        (begin
                            (set ops_reply_2 true)
                            (set ops_recent_check true)
                            (if dialogue
                                (print "let me know if something changes.")
                            )
                            (vs_play_line miranda true 020ma_150)
                        )
                    )
                    (if (and (= ops_reply_3 false) (= ops_recent_check false))
                        (begin
                            (set ops_reply_3 true)
                            (set ops_recent_check true)
                            (if dialogue
                                (print "should be alright, but stay sharp.")
                            )
                            (vs_play_line miranda true 020ma_160)
                        )
                    )
                    (if (and (= ops_reply_4 false) (= ops_recent_check false))
                        (begin
                            (set ops_reply_4 true)
                            (set ops_recent_check true)
                            (if dialogue
                                (print "good catch. send the word.")
                            )
                            (vs_play_line miranda true 020ma_170)
                        )
                    )
                )
                (vs_approach_stop miranda)
                (sleep_until (= miranda_flee true) 5 (random_range 60 120))
                (set ops_recent_check false)
                (vs_release 01_marine_a)
                (sleep 1)
            )
        )
        (if (= miranda_flee false)
            (begin
                (sleep_until (= ops_johnson_done true))
                (sleep (random_range 60 120))
                (vs_cast "command_center_marines02" false 10 "020ma_120")
                (set 01_marine_a (vs_role 1))
                (if dialogue
                    (print "marine: have a look at this, ma'am.")
                )
                (vs_play_line 01_marine_a true 020ma_120)
                (sleep (random_range 15 45))
                (vs_approach miranda true (ai_get_object 01_marine_a) 0.5 100 100)
                (sleep (random_range 30 60))
                (sleep_until (= ops_johnson_done true))
                (sleep (random_range 30 60))
                (begin_random
                    (if (and (= ops_reply_1 false) (= ops_recent_check false))
                        (begin
                            (set ops_reply_1 true)
                            (set ops_recent_check true)
                            (if dialogue
                                (print "keep me posted.")
                            )
                            (vs_play_line miranda true 020ma_140)
                        )
                    )
                    (if (and (= ops_reply_2 false) (= ops_recent_check false))
                        (begin
                            (set ops_reply_2 true)
                            (set ops_recent_check true)
                            (if dialogue
                                (print "let me know if something changes.")
                            )
                            (vs_play_line miranda true 020ma_150)
                        )
                    )
                    (if (and (= ops_reply_3 false) (= ops_recent_check false))
                        (begin
                            (set ops_reply_3 true)
                            (set ops_recent_check true)
                            (if dialogue
                                (print "should be alright, but stay sharp.")
                            )
                            (vs_play_line miranda true 020ma_160)
                        )
                    )
                    (if (and (= ops_reply_4 false) (= ops_recent_check false))
                        (begin
                            (set ops_reply_4 true)
                            (set ops_recent_check true)
                            (if dialogue
                                (print "good catch. send the word.")
                            )
                            (vs_play_line miranda true 020ma_170)
                        )
                    )
                )
                (vs_approach_stop miranda)
                (sleep_until (= miranda_flee true) 5 (random_range 60 120))
                (set ops_recent_check false)
                (vs_release 01_marine_a)
                (sleep 1)
            )
        )
        (if (= miranda_flee false)
            (begin
                (sleep_until (= ops_johnson_done true))
                (sleep (random_range 60 120))
                (vs_cast "command_center_marines02" false 10 "020ma_130")
                (set 01_marine_a (vs_role 1))
                (if dialogue
                    (print "marine: commander, you'll want to see this.")
                )
                (vs_play_line 01_marine_a true 020ma_130)
                (sleep (random_range 15 45))
                (vs_approach miranda true (ai_get_object 01_marine_a) 0.5 100 100)
                (sleep (random_range 30 60))
                (sleep_until (= ops_johnson_done true))
                (sleep (random_range 30 60))
                (begin_random
                    (if (and (= ops_reply_1 false) (= ops_recent_check false))
                        (begin
                            (set ops_reply_1 true)
                            (set ops_recent_check true)
                            (if dialogue
                                (print "keep me posted.")
                            )
                            (vs_play_line miranda true 020ma_140)
                        )
                    )
                    (if (and (= ops_reply_2 false) (= ops_recent_check false))
                        (begin
                            (set ops_reply_2 true)
                            (set ops_recent_check true)
                            (if dialogue
                                (print "let me know if something changes.")
                            )
                            (vs_play_line miranda true 020ma_150)
                        )
                    )
                    (if (and (= ops_reply_3 false) (= ops_recent_check false))
                        (begin
                            (set ops_reply_3 true)
                            (set ops_recent_check true)
                            (if dialogue
                                (print "should be alright, but stay sharp.")
                            )
                            (vs_play_line miranda true 020ma_160)
                        )
                    )
                    (if (and (= ops_reply_4 false) (= ops_recent_check false))
                        (begin
                            (set ops_reply_4 true)
                            (set ops_recent_check true)
                            (if dialogue
                                (print "good catch. send the word.")
                            )
                            (vs_play_line miranda true 020ma_170)
                        )
                    )
                )
                (vs_approach_stop miranda)
                (sleep_until (= miranda_flee true) 5 (random_range 60 120))
                (set ops_recent_check false)
                (vs_release 01_marine_a)
                (sleep 1)
            )
        )
    )
    (sleep_until (= miranda_flee true) 5 (random_range 60 120))
    (set ops_mir_done true)
)

(script dormant void 020_05_pa_talking
    (sleep_until (= (volume_test_players "loop01_return_miranda_pa_trig") true) 15 (random_range 450 900))
    (ai_dialogue_enable false)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_140_mir" "spkr_mir_01" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_140_mir" "spkr_mir_02" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_140_mir" "spkr_mir_03" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_140_mir" "spkr_mir_04" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_140_mir" "spkr_mir_05" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_140_mir" "spkr_mir_06" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_140_mir" "spkr_mir_07" 1 1)
    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mz_140_mir"))
    (sleep 20)
    (ai_dialogue_enable true)
    (sleep_until (= (volume_test_players "highway_a_start_trig") true) 15 (random_range 450 900))
    (ai_dialogue_enable false)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_220_mir" "spkr_mir_01" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_220_mir" "spkr_mir_02" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_220_mir" "spkr_mir_03" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_220_mir" "spkr_mir_04" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_220_mir" "spkr_mir_05" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_220_mir" "spkr_mir_06" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_220_mir" "spkr_mir_07" 1 1)
    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mz_220_mir"))
    (sleep 20)
    (ai_dialogue_enable true)
    (sleep_until (= (volume_test_players "cave_a_hwy_marines01_trig") true) 15 (random_range 450 900))
    (ai_dialogue_enable false)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_230_mir" "spkr_mir_01" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_230_mir" "spkr_mir_02" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_230_mir" "spkr_mir_03" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_230_mir" "spkr_mir_04" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_230_mir" "spkr_mir_05" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_230_mir" "spkr_mir_06" 1 1)
    (sound_impulse_trigger "sound\dialog\020_base\mission\020mz_230_mir" "spkr_mir_07" 1 1)
    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mz_230_mir"))
    (sleep 20)
    (ai_dialogue_enable true)
)

(script dormant void md_01_command_followers
    (if debug
        (print "mission dialogue:01:command:followers")
    )
    (vs_cast "command_center_marines03/02" false 11 "020ma_020")
    (set 01_marine_l (vs_role 1))
    (vs_cast "command_center_marines03/01" false 11 "020ma_010")
    (set 01_marine_m (vs_role 1))
    (vs_enable_pathfinding_failsafe 01_marine_l true)
    (vs_enable_pathfinding_failsafe 01_marine_m true)
    (sleep 5)
    (sleep_until (or (< (objects_distance_to_object (players) (ai_get_object 01_marine_l)) 2.5) (< (objects_distance_to_object (players) (ai_get_object 01_marine_m)) 2.5)) 5)
    (vs_set_cleanup_script md_cleanup)
    (ai_dialogue_enable false)
    (if dialogue
        (print "marine: follow me, sir!")
    )
    (vs_play_line 01_marine_m true 020ma_010)
    (if dialogue
        (print "marine: perimeter's this way!")
    )
    (vs_play_line 01_marine_l true 020ma_020)
    (ai_dialogue_enable true)
    (vs_movement_mode 01_marine_m 1)
    (vs_movement_mode 01_marine_l 1)
    (vs_go_to 01_marine_l false "command_center_intro/p0")
    (vs_go_to 01_marine_m true "command_center_intro/p3")
    (vs_go_to_and_face 01_marine_l false "command_center_intro/p5" "command_center_intro/p6")
    (vs_go_to_and_face 01_marine_m true "command_center_intro/p6" "command_center_intro/p5")
    (sleep_forever)
)

(script dormant void md_01_command_followers02
    (vs_cast "command_center_marines03/03" false 10 "020mb_140")
    (set 01_marine_e1 (vs_role 1))
    (vs_enable_pathfinding_failsafe 01_marine_e1 true)
    (vs_enable_pathfinding_failsafe 01_marine_f1 true)
    (sleep_until (volume_test_players "command_center_intro_trig") 1)
    (sleep_until (or (< (objects_distance_to_object (players) (ai_get_object 01_marine_e1)) 4.5) (< (objects_distance_to_object (players) (ai_get_object 01_marine_f1)) 4.5)) 1)
    (if dialogue
        (print "marine: come on, sir! i'll show you the way!")
    )
    (ai_play_line 01_marine_e1 020mb_140)
    (sleep 20)
    (vs_aim_object 01_marine_e1 true "command_door_init")
    (vs_go_to 01_marine_e1 true "command_center_intro/p2")
    (if dialogue
        (print "marine: base was built for some 20th century war")
    )
    (ai_play_line 01_marine_e1 020mb_150)
    (vs_go_to 01_marine_e1 true "command_center_intro/p4" 0.1)
    (sleep 45)
    (if (= (device_get_position "command_door_init") 0)
        (begin
            (if dialogue
                (print "marine: it's full of old tech, like these door controls.")
            )
            (vs_play_line 01_marine_e1 true 020mb_160)
            (wake cave_a_door_lock)
            (if (= (device_get_position "command_door_init") 0)
                (begin
                    (vs_custom_animation 01_marine_e1 false "objects\characters\marine\marine" "combat:rifle:base_button" true "command_center_intro/p4")
                    (sleep 30)
                    (device_set_position "020_01_c1a" 1)
                    (sleep 30)
                    (vs_stop_custom_animation 01_marine_e1)
                )
            )
            (sleep 10)
            (sleep_until (= (vs_running_atom_dialogue 01_marine_e1) false) 1)
        )
        (begin
            (vs_go_to 01_marine_e1 false "command_center_intro/p2")
        )
    )
    (sleep_forever)
)

(script dormant void cave_a_door_lock
    (sleep_until (= (device_get_position "command_door_init") 1) 1)
    (device_set_power "020_01_c1a" 0)
)

(script dormant void md_01_cave_marines
    (if debug
        (print "mission dialogue:01:cave:marines")
    )
    (wake 01_cave_entry)
    (wake 01_sergeant_dialog)
    (wake 01_follower_dialog)
)

(script command_script void cs_turret_test_a
    (cs_enable_pathfinding_failsafe true)
    (cs_abort_on_alert true)
    (cs_abort_on_damage true)
    (cs_walk true)
    (cs_go_by "cave_a_patrols/t01a" "cave_a_patrols/t01a_p")
    (cs_go_by "cave_a_patrols/t02a" "cave_a_patrols/t02a_p")
    (cs_go_to_and_face "cave_a_patrols/t03a" "cave_a_patrols/t04a")
    (sleep 30)
    (cs_deploy_turret "cave_a_turrets/p0")
    (cs_enable_targeting true)
    (sleep_forever)
)

(script command_script void cs_turret_test_b
    (cs_enable_pathfinding_failsafe true)
    (cs_abort_on_alert true)
    (cs_abort_on_damage true)
    (cs_walk true)
    (cs_go_to_and_face "cave_a_patrols/t01b" "cave_a_patrols/t02b")
    (sleep 30)
    (cs_deploy_turret "cave_a_turrets/p1")
    (cs_enable_targeting true)
    (sleep_forever)
)

(script command_script void cave_a_pos_01
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (ai_set_weapon_up ai_current_actor true)
    (cs_go_to_and_face "cave_a_positions/aim_01" "cave_a_positions/aim_here")
    (cs_face true "cave_a_positions/aim_here")
    (sleep_forever)
)

(script command_script void cave_a_pos_02
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (ai_set_weapon_up ai_current_actor true)
    (cs_go_to_and_face "cave_a_positions/aim_02" "cave_a_positions/aim_here")
    (cs_face true "cave_a_positions/aim_here")
    (sleep_forever)
)

(script command_script void cave_a_pos_03
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (ai_set_weapon_up ai_current_actor true)
    (cs_go_to_and_face "cave_a_positions/aim_03" "cave_a_positions/aim_here")
    (cs_face true "cave_a_positions/aim_here")
    (sleep_forever)
)

(script command_script void cave_a_pos_04
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (ai_set_weapon_up ai_current_actor true)
    (cs_go_to_and_face "cave_a_positions/aim_04" "cave_a_positions/aim_here")
    (cs_face true "cave_a_positions/aim_here")
    (sleep_forever)
)

(script command_script void cave_a_pos_05
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (ai_set_weapon_up ai_current_actor true)
    (cs_go_to_and_face "cave_a_positions/aim_05" "cave_a_positions/aim_here")
    (cs_face true "cave_a_positions/aim_here")
    (sleep_forever)
)

(script command_script void cave_a_pos_06
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (cs_draw)
    (ai_set_weapon_up ai_current_actor true)
    (cs_go_to_and_face "cave_a_positions/aim_06" "cave_a_positions/aim_here")
    (cs_face true "cave_a_positions/aim_here")
    (sleep_forever)
)

(script command_script void cave_a_pos_07
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (ai_set_weapon_up ai_current_actor true)
    (cs_go_to_and_face "cave_a_positions/aim_07" "cave_a_positions/aim_here")
    (cs_face true "cave_a_positions/aim_here")
    (sleep_forever)
)

(script command_script void cave_a_pos_08
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (ai_set_weapon_up ai_current_actor true)
    (cs_go_to_and_face "cave_a_positions/aim_08" "cave_a_positions/aim_here")
    (cs_face true "cave_a_positions/aim_here")
    (sleep_forever)
)

(script command_script void cave_a_pos_10
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (ai_set_weapon_up ai_current_actor true)
    (cs_go_to_and_face "cave_a_positions/aim_10" "cave_a_positions/aim_here")
    (cs_face true "cave_a_positions/aim_here")
    (sleep_forever)
)

(script command_script void cave_a_pos_11
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (ai_set_weapon_up ai_current_actor true)
    (cs_go_to_and_face "cave_a_positions/aim_11" "cave_a_positions/aim_here")
    (cs_face true "cave_a_positions/aim_here")
    (sleep_forever)
)

(script command_script void cave_a_corner_l01
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (cs_go_to_and_posture "cave_a_positions/corner_left_01" "corner_cover_left")
    (sleep_forever)
)

(script command_script void cave_a_corner_l02
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (cs_go_to_and_posture "cave_a_positions/corner_left_02" "corner_cover_left")
    (sleep_forever)
)

(script command_script void cave_a_corner_r01
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (cs_go_to_and_posture "cave_a_positions/corner_right_01" "corner_cover_right")
    (sleep_forever)
)

(script command_script void cave_a_corner_r02
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (cs_go_to_and_posture "cave_a_positions/corner_right_02" "corner_cover_right")
    (sleep_forever)
)

(script command_script void cave_a_bunker_01
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (cs_go_to_and_posture "cave_a_positions/bunker_01" "bunker_cover")
    (sleep_forever)
)

(script command_script void cave_a_bunker_02
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (cs_go_to_and_posture "cave_a_positions/bunker_02" "bunker_cover")
    (sleep_forever)
)

(script command_script void cave_a_bunker_03
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (cs_go_to_and_posture "cave_a_positions/bunker_03" "bunker_cover")
    (sleep_forever)
)

(script command_script void cave_a_bunker_04
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (cs_go_to_and_posture "cave_a_positions/bunker_04" "bunker_cover")
    (sleep_forever)
)

(script command_script void cave_a_bunker_05
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (cs_go_to_and_posture "cave_a_positions/bunker_05" "bunker_cover")
    (sleep_forever)
)

(script command_script void cave_a_pos_sg1
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (cs_draw)
    (ai_set_weapon_up ai_current_actor true)
    (cs_go_to_and_face "cave_a_positions/sg_1" "cave_a_positions/aim_here")
    (cs_face true "cave_a_positions/aim_here")
    (sleep_forever)
)

(script command_script void cave_a_pos_sg2
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_movement_mode 1)
    (cs_draw)
    (ai_set_weapon_up ai_current_actor true)
    (cs_go_to_and_face "cave_a_positions/sg_2" "cave_a_positions/aim_here")
    (cs_face true "cave_a_positions/aim_here")
    (sleep_forever)
)

(script dormant void 01_sergeant_dialog
    (sleep_until (volume_test_players "command_exit_trig") 1)
    (vs_cast "cave_a_marines04" true 2 "020mb_010" "020mb_030" "020mb_040")
    (set 01_sergeant (vs_role 1))
    (set 01_marine_g (vs_role 2))
    (set 01_marine_h (vs_role 3))
    (vs_enable_looking 01_marine_g true)
    (vs_enable_looking 01_marine_h true)
    (vs_enable_looking 01_sergeant true)
    (vs_set_cleanup_script md_cleanup)
    (ai_dialogue_enable false)
    (if dialogue
        (print "get those turrets up!")
    )
    (vs_play_line 01_sergeant true 020mb_010)
    (sleep 10)
    (if dialogue
        (print "watch your fields of fire!")
    )
    (vs_play_line 01_sergeant true 020mb_020)
    (sleep 30)
    (if dialogue
        (print "marine: how'd they find us?")
    )
    (vs_play_line 01_marine_g true 020mb_030)
    (sleep 10)
    (if dialogue
        (print "marine: probably just smelled you, man.")
    )
    (vs_face_object 01_marine_h true (ai_get_object 01_marine_g))
    (vs_play_line 01_marine_h true 020mb_040)
    (sleep 10)
    (if dialogue
        (print "marine: bite me. was sick of hiding anyways")
    )
    (vs_face_object 01_marine_g true (ai_get_object 01_marine_h))
    (vs_play_line 01_marine_g true 020mb_050)
    (sleep 10)
    (vs_face_object 01_marine_h false (ai_get_object 01_marine_g))
    (vs_face_object 01_marine_g false (ai_get_object 01_marine_h))
    (if dialogue
        (print "quiet! cut the chatter!")
    )
    (vs_play_line 01_sergeant true 020mb_060)
    (sleep 30)
    (if dialogue
        (print "what is it sergeant?")
    )
    (vs_play_line 01_marine_h true 020mb_070)
    (sleep 20)
    (if dialogue
        (print "calm before the storm, marine...")
    )
    (vs_play_line 01_sergeant true 020mb_080)
    (sleep 10)
    (if dialogue
        (print "enjoy it")
    )
    (vs_play_line 01_sergeant true 020mb_090)
    (ai_dialogue_enable true)
    (vs_release_all)
)

(script dormant void 01_follower_dialog
    (sleep_until (volume_test_players "cave_a_marine_1") 1)
    (vs_cast "players_marines/actor01" false 10 "020mb_180")
    (set follower_marine_a (vs_role 1))
    (vs_cast "players_marines/actor02" false 10 "020mb_190")
    (set follower_marine_b (vs_role 1))
    (vs_approach_player follower_marine_a false 2 50 20)
    (vs_approach_player follower_marine_b true 2 50 20)
    (vs_set_cleanup_script md_cleanup)
    (ai_dialogue_enable false)
    (if dialogue
        (print "marine: we're with you, chief!")
    )
    (vs_play_line follower_marine_a true 020mb_180)
    (sleep 10)
    (if dialogue
        (print "marine: yeah! get some!")
    )
    (vs_play_line follower_marine_b true 020mb_190)
    (ai_dialogue_enable true)
    (vs_go_to follower_marine_a false "cave_a_patrols/p22")
    (vs_go_to follower_marine_b true "cave_a_patrols/p23")
    (if (volume_test_players "cave_a_hwy_marines_trig")
        (begin
            (if dialogue
                (print "marine: squad guarding the hangar's real short-handed, chief")
            )
            (sleep (ai_play_line follower_marine_a 020mb_220))
            (if (volume_test_players "cave_a_hwy_marines_trig")
                (begin
                    (if dialogue
                        (print "marine: we don't get there quick, they're gonna get rolled!")
                    )
                    (ai_play_line follower_marine_b 020mb_230)
                )
            )
        )
    )
)

(script dormant void 01_take_positions
    (sleep 60)
    (begin_random
        (if (!= "cave_a_marines01/lefty02" 01_marine_g)
            (begin
                (cs_run_command_script "cave_a_marines01/lefty02" cave_a_corner_l02)
                (sleep (random_range 1 3))
            )
        )
        (if (!= "cave_a_marines01/lefty03" 01_marine_g)
            (begin
                (cs_run_command_script "cave_a_marines01/lefty03" cave_a_bunker_03)
                (sleep (random_range 1 3))
            )
        )
        (if (!= "cave_a_marines01/righty01" 01_marine_g)
            (begin
                (cs_run_command_script "cave_a_marines01/righty01" cave_a_corner_l01)
                (sleep (random_range 1 3))
            )
        )
        (if (!= "cave_a_marines01/righty02" 01_marine_g)
            (begin
                (cs_run_command_script "cave_a_marines01/righty02" cave_a_bunker_01)
                (sleep (random_range 1 3))
            )
        )
        (if (!= "cave_a_marines02/01" 01_marine_g)
            (begin
                (cs_run_command_script "cave_a_marines02/01" cave_a_bunker_02)
                (sleep (random_range 1 3))
            )
        )
        (if (!= "cave_a_marines02/02" 01_marine_g)
            (begin
                (cs_run_command_script "cave_a_marines02/02" cave_a_pos_08)
                (sleep (random_range 1 3))
            )
        )
        (if (!= "cave_a_marines02/03" 01_marine_g)
            (begin
                (cs_run_command_script "cave_a_marines02/03" cave_a_pos_07)
                (sleep (random_range 1 3))
            )
        )
        (if (!= "cave_a_marines03/01" 01_marine_g)
            (begin
                (cs_run_command_script "cave_a_marines03/01" cave_a_pos_04)
                (sleep (random_range 1 3))
            )
        )
        (if (!= "cave_a_marines03/02" 01_marine_g)
            (begin
                (cs_run_command_script "cave_a_marines03/02" cave_a_pos_05)
                (sleep (random_range 1 3))
            )
        )
        (if (!= "cave_a_marines04/01" 01_marine_g)
            (begin
                (cs_run_command_script "cave_a_marines04/01" cave_a_pos_06)
                (sleep (random_range 1 3))
            )
        )
        (if (!= "cave_a_marines04/02" 01_marine_g)
            (begin
                (cs_run_command_script "cave_a_marines04/02" cave_a_pos_sg1)
                (sleep (random_range 1 3))
            )
        )
        (if (!= "cave_a_marines04/03" 01_marine_g)
            (begin
                (cs_run_command_script "cave_a_marines04/03" cave_a_pos_sg2)
                (sleep (random_range 1 3))
            )
        )
        (if (!= "cave_a_marines05/01" 01_marine_g)
            (begin
                (cs_run_command_script "cave_a_marines05/01" cave_a_pos_11)
                (sleep (random_range 1 3))
            )
        )
        (if (!= "cave_a_marines05/02" 01_marine_g)
            (begin
                (cs_run_command_script "cave_a_marines05/02" cave_a_pos_10)
                (sleep (random_range 1 3))
            )
        )
    )
)

(script dormant void 01_cave_entry
    (sleep_until (volume_test_players "command_exit_trig") 5)
    (sleep_until (volume_test_players "cave_a_entry_trig") 5 900)
    (wake 01_rumble_event_medium)
    (sound_impulse_stop "sound\dialog\020_base\mission\020mb_010_sg1.sound")
    (sound_impulse_stop "sound\dialog\020_base\mission\020mb_010_sg2.sound")
    (sound_impulse_stop "sound\dialog\020_base\mission\020mb_020_sg1.sound")
    (sound_impulse_stop "sound\dialog\020_base\mission\020mb_020_sg2.sound")
    (sound_impulse_stop "sound\dialog\020_base\mission\020mb_030_ods.sound")
    (sound_impulse_stop "sound\dialog\020_base\mission\020mb_030_ma3.sound")
    (sound_impulse_stop "sound\dialog\020_base\mission\020mb_040_ma2.sound")
    (sound_impulse_stop "sound\dialog\020_base\mission\020mb_040_ma4.sound")
    (sound_impulse_stop "sound\dialog\020_base\mission\020mb_050_ods.sound")
    (sound_impulse_stop "sound\dialog\020_base\mission\020mb_050_ma3.sound")
    (sound_impulse_stop "sound\dialog\020_base\mission\020mb_060_sg1.sound")
    (sound_impulse_stop "sound\dialog\020_base\mission\020mb_060_sg2.sound")
    (sleep_forever md_01_command_followers02)
    (sleep_forever 01_sergeant_dialog)
    (sleep 90)
    (wake 01_take_positions)
    (vs_cast "cave_a_marines04" true 10 "020mb_100")
    (set 01_sergeant (vs_role 1))
    (vs_cast "cave_a_marines01/lefty01" true 10 "020mb_110")
    (set 01_marine_g (vs_role 1))
    (if debug
        (print "mission dialogue:01:cave:entry")
    )
    (vs_enable_looking 01_sergeant true)
    (vs_draw 01_sergeant)
    (vs_draw 01_marine_g)
    (vs_go_to 01_sergeant false "cave_a_positions/sarge")
    (vs_set_cleanup_script md_cleanup)
    (ai_dialogue_enable false)
    (if dialogue
        (print "sergeant: point of entry! best assessment!")
    )
    (vs_play_line 01_sergeant true 020mb_100)
    (sleep 10)
    (vs_face_object 01_marine_g true (ai_get_object 01_sergeant))
    (if dialogue
        (print "marine: south hangar, sergeant!")
    )
    (vs_play_line 01_marine_g true 020mb_110)
    (sleep 10)
    (vs_face_object 01_marine_g false (ai_get_object 01_sergeant))
    (vs_go_to_and_face 01_marine_g false "cave_a_positions/aim_03" "cave_a_positions/aim_here")
    (vs_look_player 01_sergeant true)
    (if (not (game_is_cooperative))
        (begin
            (if dialogue
                (print "sergeant: agreed. master chief? get there!")
            )
            (vs_play_line 01_sergeant true 020mb_120)
        )
        (begin
            (if dialogue
                (print "sergeant: agreed. chief? arbiter? get there!")
            )
            (vs_play_line 01_sergeant true 020mb_130)
        )
    )
    (ai_dialogue_enable true)
    (wake obj_init_clear)
    (wake obj_hangar_a_set)
    (vs_look_player 01_sergeant false)
    (vs_face 01_marine_g true "cave_a_positions/aim_here")
    (ai_set_weapon_up 01_marine_g true)
    (set start_pa_system true)
    (sleep 300)
    (sleep_until (< (objects_distance_to_object (players) (ai_get_object 01_sergeant)) 2))
    (ai_dialogue_enable false)
    (if dialogue
        (print "sergeant: we'll guard the ops-center, master chief!")
    )
    (vs_look_player 01_sergeant true)
    (vs_play_line 01_sergeant true 020mb_200)
    (sleep 10)
    (if dialogue
        (print "sergeant: you clear the covenant out of the hangar!")
    )
    (vs_play_line 01_sergeant true 020mb_210)
    (vs_look_player 01_sergeant false)
    (ai_dialogue_enable true)
    (vs_face 01_sergeant true "cave_a_positions/aim_here")
    (sleep_forever)
)

(script dormant void 01_door_repair
    (sleep_until (volume_test_players "cave_a_door_repair_trig") 1)
    (vs_cast "cave_a_marines07/actor" false 10 "020mc_010")
    (set 01_marine_j (vs_role 1))
    (vs_cast "cave_a_marines07/actor02" false 10 "")
    (set 01_marine_k (vs_role 1))
    (vs_enable_looking "players_marines" true)
    (vs_set_cleanup_script md_cleanup)
    (ai_dialogue_enable false)
    (sleep 1)
    (if dialogue
        (print "marine: door's jammed, sir!")
    )
    (vs_play_line 01_marine_j true 020mc_010)
    (if dialogue
        (print "marine: you'll have to head the other way to the hangar!")
    )
    (vs_play_line 04_marine_a true 020mc_011)
    (ai_dialogue_enable true)
)

(script command_script void 01_cave_a_runner01
    (set cave_a_rand01 (random_range 1 5))
    (cs_enable_pathfinding_failsafe true)
    (sleep_until 
        (begin
            (if (= cave_a_rand01 2)
                (begin
                    (cs_go_to "cave_a_patrols/p2")
                    (sleep_until (< (objects_distance_to_object (players) (ai_get_object ai_current_actor)) 3) 1 300)
                    (set cave_a_rand01 (random_range 1 5))
                )
                (if (= cave_a_rand01 3)
                    (begin
                        (cs_go_to "cave_a_patrols/p7")
                        (sleep_until (< (objects_distance_to_object (players) (ai_get_object ai_current_actor)) 3) 1 300)
                        (set cave_a_rand01 (random_range 1 5))
                    )
                    (if (= cave_a_rand01 4)
                        (begin
                            (cs_go_to "cave_a_patrols/p0")
                            (sleep_until (< (objects_distance_to_object (players) (ai_get_object ai_current_actor)) 3) 1 300)
                            (set cave_a_rand01 (random_range 1 5))
                        )
                        (if (= cave_a_rand01 5)
                            (begin
                                (cs_go_to "cave_a_patrols/p9")
                                (sleep_until (< (objects_distance_to_object (players) (ai_get_object ai_current_actor)) 3) 1 300)
                                (set cave_a_rand01 (random_range 1 5))
                            )
                        )
                    )
                )
            )
            false
        )
        1
    )
)

(script command_script void 01_cave_a_runner02
    (set cave_a_rand02 (random_range 1 5))
    (cs_enable_pathfinding_failsafe true)
    (sleep_until 
        (begin
            (if (= cave_a_rand02 1)
                (begin
                    (cs_go_to "cave_a_patrols/p10")
                    (sleep_until (< (objects_distance_to_object (players) (ai_get_object ai_current_actor)) 3) 1 300)
                    (set cave_a_rand02 (random_range 1 5))
                )
                (if (= cave_a_rand02 2)
                    (begin
                        (cs_go_to "cave_a_patrols/p11")
                        (sleep_until (< (objects_distance_to_object (players) (ai_get_object ai_current_actor)) 3) 1 300)
                        (set cave_a_rand02 (random_range 1 5))
                    )
                    (if (= cave_a_rand02 3)
                        (begin
                            (cs_go_to "cave_a_patrols/p3")
                            (sleep_until (< (objects_distance_to_object (players) (ai_get_object ai_current_actor)) 3) 1 300)
                            (set cave_a_rand02 (random_range 1 5))
                        )
                        (if (= cave_a_rand02 4)
                            (begin
                                (cs_go_to "cave_a_patrols/p6")
                                (sleep_until (< (objects_distance_to_object (players) (ai_get_object ai_current_actor)) 3) 1 300)
                                (set cave_a_rand02 (random_range 1 5))
                            )
                            (if (= cave_a_rand02 5)
                                (begin
                                    (cs_go_to "cave_a_patrols/p12")
                                    (sleep_until (< (objects_distance_to_object (players) (ai_get_object ai_current_actor)) 3) 1 300)
                                    (set cave_a_rand02 (random_range 1 5))
                                )
                            )
                        )
                    )
                )
            )
            false
        )
        1
    )
)

(script dormant void md_01_hw_followers
    (sleep_until (volume_test_players "cave_a_hwy_marines02_trig") 1)
    (sleep_until (= briefing_play false))
    (sleep_forever 01_follower_dialog)
    (vs_cast "players_marines/actor01" false 5 "020mc_010")
    (set follower_marine_a (vs_role 1))
    (vs_cast "players_marines/actor02" false 5 "020mc_030")
    (set follower_marine_b (vs_role 1))
    (if debug
        (print "mission dialogue:01:hw:followers")
    )
    (vs_enable_pathfinding_failsafe "players_marines" true)
    (vs_enable_looking "players_marines" true)
    (vs_enable_targeting "players_marines" true)
    (vs_enable_moving "players_marines" true)
    (vs_set_cleanup_script md_cleanup)
    (sleep 1)
    (ai_dialogue_enable false)
    (if dialogue
        (print "marine: if they secure the hangar")
    )
    (sleep (ai_play_line follower_marine_a 020mc_020))
    (if dialogue
        (print "marine: they can fly their phantoms right into the base!")
    )
    (sleep (ai_play_line follower_marine_a 020mc_021))
    (if dialogue
        (print "marine: no way the chief's gonna let that happen!")
    )
    (sleep (ai_play_line follower_marine_a 020mc_030))
    (ai_dialogue_enable true)
    (vs_release_all)
)

(script dormant void md_04_hangar_a_combat
    (if debug
        (print "mission dialogue:04:hw:joh:radio")
    )
    (sleep_until (= var_hangar_a_pos 1))
    (sleep 1)
    (vs_cast "players_marines" false 10 "020me_030")
    (set 04_marine_a (vs_role 1))
    (vs_set_cleanup_script md_cleanup)
    (ai_dialogue_enable false)
    (if dialogue
        (print "marine: wipe those bastards off the deck!")
    )
    (vs_play_line 04_marine_a true 020me_030)
    (ai_dialogue_enable true)
    (sleep_until (= var_hangar_a_pos 2) 5 600)
    (sleep 1)
    (sleep_until (= var_hangar_a_pos 3))
    (sleep 1)
    (vs_cast "players_marines" false 10 "020me_040")
    (set 04_marine_a (vs_role 1))
    (vs_set_cleanup_script md_cleanup)
    (ai_dialogue_enable false)
    (if dialogue
        (print "marine: pelicans can't launch until the hangar's clear!")
    )
    (vs_play_line 04_marine_a true 020me_040)
    (sleep 10)
    (ai_dialogue_enable true)
)

(script dormant void md_04_hangar_a_pelican
    (ai_dialogue_enable false)
    (if dialogue
        (print "pilot: need you to step aside, sir! can't lower the pelican 'til you do!")
    )
    (sleep (ai_play_line_on_object none 020me_090))
    (sleep 10)
    (ai_dialogue_enable true)
)

(script dormant void md_hangar_a_radio_johnson
    (sleep (* 30 10))
    (if (<= base_obj_control 40)
        (begin
            (ai_dialogue_enable false)
            (if dialogue
                (print "johnson (radio): chief! ops-center! double-time!")
            )
            (sleep (ai_play_line_on_object none 020me_170))
            (sleep 10)
            (if dialogue
                (print "johnson (radio): brutes are pressing hard.")
            )
            (sleep (ai_play_line_on_object none 020me_140))
            (sleep 10)
            (ai_dialogue_enable true)
        )
    )
    (wake obj_hangar_a_clear)
    (wake obj_return_command_center_set)
    (sleep (* 30 60 1))
    (if (<= base_obj_control 40)
        (begin
            (ai_dialogue_enable false)
            (if dialogue
                (print "johnson (radio): c'mon, chief! hustle on back!")
            )
            (sleep (ai_play_line_on_object none 020me_160))
            (ai_dialogue_enable true)
        )
    )
)

(script dormant void md_04_hangar_miranda_pa
    (sleep_until (players_not_in_combat))
    (if debug
        (print "mission dialogue:04:hangar:miranda:pa")
    )
    (ai_dialogue_enable false)
    (if dialogue
        (print "miranda (pa system): all personnel, this is commander keyes.")
    )
    (sleep (ai_play_line_on_object none 020me_180))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): covenant have breached the base.")
    )
    (sleep (ai_play_line_on_object none 020me_190))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): i repeat: we have covenant inside the base!")
    )
    (sleep (ai_play_line_on_object none 020me_200))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): fall back, prepare for evac!")
    )
    (sleep (ai_play_line_on_object none 020me_210))
    (ai_dialogue_enable true)
    (sleep 300)
)

(script dormant void md_05_bugger_marine
    (sleep_until (= bugger_attack true) 5)
    (if debug
        (print "mission dialogue:03:bugger:marine")
    )
    (vs_cast "bugger_intro_hum01/actor01" false 10 "020mf_010")
    (set 03_marine_c (vs_role 1))
    (vs_cast "bugger_intro_hum01/actor03" false 10 "020mf_020")
    (set 03_marine_d (vs_role 1))
    (vs_cast "bugger_intro_hum01/sergeant01" true 10 "020mf_040")
    (set 03_sergeant_a (vs_role 1))
    (vs_enable_pathfinding_failsafe "bugger_intro_hum01" true)
    (vs_enable_looking "bugger_intro_hum01" true)
    (vs_enable_targeting "bugger_intro_hum01" true)
    (vs_enable_moving "bugger_intro_hum01" true)
    (sleep 1)
    (vs_set_cleanup_script md_cleanup)
    (ai_dialogue_enable false)
    (if dialogue
        (print "marine 01: look! coming out of the vents!")
    )
    (vs_play_line 03_marine_c true 020mf_010)
    (sleep 10)
    (sound_looping_set_alternate "levels\solo\020_base\music\020_music_06" true)
    (if dialogue
        (print "marine 02: light 'em up! light 'em up!")
    )
    (vs_play_line 03_marine_d true 020mf_020)
    (sleep 10)
    (if dialogue
        (print "marine 01: what the hell are these things, sergeant?!")
    )
    (vs_play_line 03_marine_c true 020mf_030)
    (sleep 10)
    (if dialogue
        (print "sergeant: drones! a whole swarm!")
    )
    (vs_play_line 03_sergeant_a true 020mf_040)
    (sleep 10)
    (if dialogue
        (print "sergeant: take 'em down! short, controlled bursts!")
    )
    (vs_play_line 03_sergeant_a true 020mf_050)
    (sleep 10)
    (ai_dialogue_enable true)
    (ai_disregard (ai_actors "bugger_squad00") false)
    (ai_disregard (ai_actors "bugger_intro_hum01") false)
)

(script dormant void md_05_bugger_marine01
    (if debug
        (print "mission dialogue:03:bugger:marine")
    )
    (vs_cast "bugger_intro_hum01/sergeant01" true 10 "020mf_040")
    (set 03_sergeant_a (vs_role 1))
    (sleep_until (< (ai_living_count "bugger_intro_cov") 1) 1)
    (sleep_until (< (objects_distance_to_object (players) (ai_get_object 03_sergeant_a)) 2))
    (vs_set_cleanup_script md_cleanup)
    (ai_dialogue_enable false)
    (if dialogue
        (print "sergeant: we're good for now, chief")
    )
    (vs_play_line 03_sergeant_a true 020mf_060)
    (ai_dialogue_enable true)
    (sleep 300)
    (sleep_until (< (objects_distance_to_object (players) (ai_get_object 03_sergeant_a)) 2))
    (ai_dialogue_enable false)
    (if dialogue
        (print "sergeant: go on. sergeant major's waiting for you upstairs!")
    )
    (vs_play_line 03_sergeant_a true 020mf_070)
    (ai_dialogue_enable true)
    (sleep 600)
    (sleep_until (< (objects_distance_to_object (players) (ai_get_object 03_sergeant_a)) 2))
    (ai_dialogue_enable false)
    (if dialogue
        (print "sergeant: go on, chief! sergeant major's waiting!")
    )
    (vs_play_line 03_sergeant_a true 020mf_100)
    (sleep 10)
    (ai_dialogue_enable true)
)

(script dormant void md_06_bugger_marine02
    (sleep_until (volume_test_players "highway_second_part_trig") 5)
    (sleep 60)
    (ai_dialogue_enable false)
    (if dialogue
        (print "sergeant: hey. you hear that?")
    )
    (sleep (ai_play_line "loop01_return_hw01/03" 020mx_030))
    (if dialogue
        (print "sergeant: yeah. and i dont like it.")
    )
    (sleep (ai_play_line "loop01_return_hw01/04" 020mx_040))
    (set g_music_020_06 true)
    (ai_dialogue_enable true)
    (sleep_forever)
)

(script dormant void md_05_bugger_miranda_pa
    (if debug
        (print "mission dialogue:03:bugger:miranda:pa")
    )
    (sleep 1)
    (ai_dialogue_enable false)
    (if dialogue
        (print "miranda (pa system): medical teams: re-route to the north hangar!")
    )
    (sleep (ai_play_line_on_object none 020mf_120))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): fire teams: plant your packages, and fall back!")
    )
    (sleep (ai_play_line_on_object none 020mf_130))
    (sleep 10)
    (ai_dialogue_enable true)
)

(script dormant void md_05_cave_marines
    (sleep_until (= (device_get_position "cave_a_door_command") 1) 1)
    (vs_cast "loop02_begin_vig03" true 10 "020mf_060")
    (set 05_marine_a (vs_role 1))
    (if debug
        (print "mission dialogue:05:cave:marines")
    )
    (vs_enable_pathfinding_failsafe "loop02_begin_vig03" true)
    (vs_movement_mode 05_marine_a 1)
    (vs_set_cleanup_script md_cleanup)
    (sleep 900)
    (sleep 1)
    (sleep_until (volume_test_players "command_exit_trig") 1)
    (if (< (ai_living_count "bugger_intro_cov") 1)
        (begin
            (ai_dialogue_enable false)
            (if dialogue
                (print "marine: cleaned those bugs out good, sir")
            )
            (vs_play_line 05_marine_a true 020mf_060)
            (sleep 10)
            (if dialogue
                (print "marine: sergeant major's waiting for you upstairs!")
            )
            (vs_play_line 05_marine_a true 020mf_070)
            (ai_dialogue_enable true)
        )
    )
    (vs_release_all)
)

(script dormant void md_06_motorpool_brutes
    (sleep_until (> (device_get_position "motor_pool_start_door") 0))
    (set g_music_020_07 true)
    (set g_music_020_065 false)
    (if debug
        (print "mission dialogue:06:motorpool:brutes")
    )
    (vs_cast "motor_pool_armor_chieftain" true 10 "020mh_010")
    (set 06_brute_a (vs_role 1))
    (vs_abort_on_alert true)
    (vs_set_cleanup_script motorpool_abort)
    (sleep (random_range 30 90))
    (ai_dialogue_enable false)
    (if dialogue
        (print "brute: (sniffs) a fresh scent! it must be close")
    )
    (vs_play_line 06_brute_a true 020mh_010)
    (sleep 10)
    (if dialogue
        (print "brute: spread out! track it down!")
    )
    (vs_play_line 06_brute_a true 020mh_020)
    (sleep 10)
    (set g_music_020_07 false)
    (set g_music_020_08 true)
    (ai_dialogue_enable true)
    (cs_run_command_script "motor_pool_brute02/01" motor_patrol01)
    (cs_run_command_script "motor_pool_brute02/02" motor_patrol02)
    (cs_run_command_script "motor_pool_brute02/03" motor_patrol03)
)

(script static void motorpool_abort
    (set g_music_020_07 false)
    (set g_music_020_08 true)
    (ai_dialogue_enable true)
)

(script command_script void motor_patrol01
    (cs_movement_mode ai_movement_combat)
    (cs_abort_on_alert true)
    (sleep (random_range 5 60))
    (cs_draw)
    (cs_go_to "motor_pool_patrol/p23")
    (cs_walk true)
    (sleep_until 
        (begin
            (set rand_patrol01 (random_range 0 6))
            (if (= rand_patrol01 0)
                (cs_go_to_and_posture "motor_pool_patrol/p13" "act_examine_1")
                (if (= rand_patrol01 1)
                    (cs_go_to "motor_pool_patrol/p10")
                    (if (= rand_patrol01 2)
                        (cs_go_to "motor_pool_patrol/p18")
                        (if (= rand_patrol01 3)
                            (cs_go_to_and_posture "motor_pool_patrol/p12" "act_examine_1")
                            (if (= rand_patrol01 4)
                                (cs_go_to "motor_pool_patrol/p11")
                                (if (= rand_patrol01 5)
                                    (cs_go_to "motor_pool_patrol/p21")
                                )
                            )
                        )
                    )
                )
            )
            false
        )
    )
)

(script command_script void motor_patrol02
    (cs_movement_mode 2)
    (cs_abort_on_alert true)
    (sleep (random_range 5 60))
    (cs_draw)
    (cs_go_to "motor_pool_patrol/p22")
    (cs_walk true)
    (sleep_until 
        (begin
            (set rand_patrol02 (random_range 0 6))
            (if (= rand_patrol02 0)
                (cs_go_to "motor_pool_patrol/p14")
                (if (= rand_patrol02 1)
                    (cs_go_to_and_posture "motor_pool_patrol/p19" "act_examine_1")
                    (if (= rand_patrol02 2)
                        (cs_go_to "motor_pool_patrol/p15")
                        (if (= rand_patrol02 3)
                            (cs_go_to_and_posture "motor_pool_patrol/p16" "act_examine_1")
                            (if (= rand_patrol02 4)
                                (cs_go_to "motor_pool_patrol/p17")
                                (if (= rand_patrol02 5)
                                    (cs_go_to "motor_pool_patrol/p20")
                                )
                            )
                        )
                    )
                )
            )
            false
        )
    )
)

(script command_script void motor_patrol03
    (cs_movement_mode 2)
    (cs_abort_on_alert true)
    (sleep (random_range 5 60))
    (cs_draw)
    (cs_go_to_and_posture "motor_pool_patrol/p24" "act_guard_1")
    (sleep_forever)
)

(script dormant void md_06_hw_joh
    (sleep_until (or (< (ai_living_count "motor_pool_all") 1) (volume_test_players "sewer01_trig")) 1)
    (if debug
        (print "mission dialogue:06:hw:joh")
    )
    (sleep 1800)
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "johnson (radio): covenant bombers are hitting the base, chief")
    )
    (sleep (ai_play_line_on_object none 020mh_030))
    (sleep 10)
    (if dialogue
        (print "johnson (radio): most direct route to the barracks has been cut off.")
    )
    (sleep (ai_play_line_on_object none 020mh_040))
    (sleep 10)
    (if dialogue
        (print "johnson (radio): gonna have to find another way down there")
    )
    (sleep (ai_play_line_on_object none 020mh_050))
    (sleep 10)
    (ai_dialogue_enable true)
)

(script dormant void md_06_motorpool_johnson_pa
    (if debug
        (print "mission dialogue:06:motorpool:johnson:pa")
    )
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "johnson (pa system): we're abandoning the base!")
    )
    (sleep (ai_play_line_on_object none 020mh_090))
    (sleep 20)
    (if dialogue
        (print "johnson (pa system): get to the hangar, or you will be left behind!")
    )
    (sleep (ai_play_line_on_object none 020mh_100))
    (sleep 20)
    (ai_dialogue_enable true)
)

(script dormant void md_07_evac_arbiter
    (if debug
        (print "mission dialogue:07:evac:arbiter")
    )
    (if (not (game_is_cooperative))
        (begin
            (vs_cast "020_arbiter" true 10 "020mi_010")
            (set arbiter (vs_role 1))
            (vs_set_cleanup_script md_cleanup)
            (ai_dialogue_enable false)
            (vs_enable_pathfinding_failsafe "020_arbiter" true)
            (vs_enable_looking "020_arbiter" true)
            (vs_enable_targeting "020_arbiter" true)
            (vs_enable_moving "020_arbiter" true)
            (if (= (device_get_position "020_06_d1") 0)
                (begin
                    (if dialogue
                        (print "arbiter: half-wit insects!")
                    )
                    (vs_play_line arbiter true 020mi_010)
                    (sleep 10)
                )
            )
            (if (= (device_get_position "020_06_d1") 0)
                (begin
                    (if dialogue
                        (print "arbiter: the prophets use you like they used me!")
                    )
                    (vs_play_line arbiter true 020mi_020)
                    (sleep 10)
                )
            )
            (if (= (device_get_position "020_06_d1") 0)
                (begin
                    (if dialogue
                        (print "arbiter: reject their lies! rebel!")
                    )
                    (vs_play_line arbiter true 020mi_030)
                    (sleep 10)
                )
            )
            (if (= (device_get_position "020_06_d1") 0)
                (begin
                    (if dialogue
                        (print "arbiter: or all your hives will perish!")
                    )
                    (vs_play_line arbiter true 020mi_040)
                    (sleep 10)
                )
            )
            (set g_music_020_09 false)
            (set g_music_020_10 false)
            (sleep_until (or (> (device_get_position "020_06_d1") 0) (volume_test_players "sewer_vignette_trig")))
            (sleep_until (or (> (device_get_position "020_06_d1") 0) (< (ai_living_count "arbiter_buggers01") 1)))
            (vs_enable_pathfinding_failsafe "020_arbiter" false)
            (vs_enable_looking "020_arbiter" false)
            (vs_enable_targeting "020_arbiter" false)
            (vs_enable_moving "020_arbiter" false)
            (sleep (random_range 45 75))
            (if (= (device_get_position "020_06_d1") 0)
                (begin
                    (vs_aim_player arbiter true)
                    (sleep 15)
                    (if dialogue
                        (print "arbiter: spartan. the brutes have taken your soldiers")
                    )
                    (vs_play_line arbiter true 020mj_010)
                    (sleep 10)
                )
            )
            (if (= (device_get_position "020_06_d1") 0)
                (begin
                    (if dialogue
                        (print "arbiter: as prisoners or meat for their bellies, i do not know.")
                    )
                    (vs_play_line arbiter true 020mj_020)
                    (sleep 10)
                )
            )
            (if (= (device_get_position "020_06_d1") 0)
                (begin
                    (if dialogue
                        (print "arbiter: in case some yet livelet us be careful what we shoot..")
                    )
                    (vs_play_line arbiter true 020mj_030)
                    (sleep 10)
                )
            )
            (sleep 30)
            (vs_aim_player arbiter false)
            (wake obj_evacuate_set)
            (vs_lower_weapon arbiter true)
            (vs_go_to_and_posture arbiter false "arbiter_vignette/p0" "crouch")
            (sleep_until (= (device_get_position "020_06_d1") 1))
            (vs_lower_weapon arbiter false)
            (ai_dialogue_enable true)
            (vs_release arbiter)
        )
    )
)

(script static void barracks_marine01_anim
    (sleep 1)
    (if (or (< var_barracks_pos 5) (> (ai_living_count "barracks_cov_all") 0))
        (cs_run_command_script "barracks_marine01" barracks_marine01_flee)
        (begin
            (unit_add_equipment (ai_get_unit "barracks_marine01") "barracks_marine01_profile" true true)
            (ai_set_blind "barracks_marine01" false)
            (ai_set_deaf "barracks_marine01" false)
            (ai_disregard (ai_actors "barracks_marine01") false)
            (ai_set_objective "barracks_marine01" "barracks_marine_obj")
        )
    )
    (sleep_until (= (device_get_position "barracks_door_end") 1) 1)
    (sleep 60)
    (ai_migrate "barracks_marine01" "evac_hangar_marine01")
)

(script command_script void barracks_marine01_flee
    (cs_enable_pathfinding_failsafe true)
    (cs_movement_mode ai_movement_flee)
    (ai_disregard (ai_actors "barracks_marine01") false)
    (cs_go_to "barracks_first_save/p0")
    (ai_play_line "barracks_marine01" 020mj_040)
    (cs_go_to "barracks_first_save/p1")
    (cs_crouch true 60)
    (unit_add_equipment (ai_get_unit "barracks_marine01") "barracks_marine01_profile" true true)
    (ai_set_blind "barracks_marine01" false)
    (ai_set_deaf "barracks_marine01" false)
    (ai_set_objective "barracks_marine01" "barracks_marine_obj")
)

(script static void barracks_marine02_anim
    (sleep 15)
    (if (or (< var_barracks_pos 5) (> (ai_living_count "barracks_cov_all") 0))
        (cs_run_command_script "barracks_marine02" barracks_marine02_flee)
        (begin
            (unit_add_equipment (ai_get_unit "barracks_marine02") "barracks_marine02_profile" true true)
            (ai_set_blind "barracks_marine02" false)
            (ai_set_deaf "barracks_marine02" false)
            (ai_disregard (ai_actors "barracks_marine02") false)
            (ai_set_objective "barracks_marine02" "barracks_marine_obj")
        )
    )
    (sleep_until (= (device_get_position "barracks_door_end") 1) 1)
    (sleep 60)
    (ai_migrate "barracks_marine02" "evac_hangar_marine02")
)

(script command_script void barracks_marine02_flee
    (cs_enable_pathfinding_failsafe true)
    (cs_movement_mode ai_movement_flee)
    (ai_disregard (ai_actors "barracks_marine02") false)
    (cs_go_to "barracks_second_save/p0")
    (ai_play_line "barracks_marine02" 020mj_050)
    (cs_crouch true 60)
    (unit_add_equipment (ai_get_unit "barracks_marine02") "barracks_marine02_profile" true true)
    (ai_set_blind "barracks_marine02" false)
    (ai_set_deaf "barracks_marine02" false)
    (ai_set_objective "barracks_marine02" "barracks_marine_obj")
)

(script static void barracks_marine03_anim
    (sleep 30)
    (if (or (< var_barracks_pos 5) (> (ai_living_count "barracks_cov_all") 0))
        (cs_run_command_script "barracks_marine03" barracks_marine03_flee)
        (begin
            (unit_add_equipment (ai_get_unit "barracks_marine03") "barracks_marine05_profile" true true)
            (ai_disregard (ai_actors "barracks_marine03") false)
            (ai_set_blind "barracks_marine03" false)
            (ai_set_deaf "barracks_marine03" false)
            (ai_set_objective "barracks_marine03" "barracks_marine_obj")
        )
    )
    (sleep_until (= (device_get_position "barracks_door_end") 1) 1)
    (sleep 60)
    (ai_migrate "barracks_marine03" "evac_hangar_marine03")
)

(script command_script void barracks_marine03_flee
    (cs_enable_pathfinding_failsafe true)
    (cs_movement_mode ai_movement_flee)
    (ai_disregard (ai_actors "barracks_marine03") false)
    (cs_go_to "barracks_second_save/p1")
    (cs_crouch true 60)
    (unit_add_equipment (ai_get_unit "barracks_marine03") "barracks_marine05_profile" true true)
    (ai_set_blind "barracks_marine03" false)
    (ai_set_deaf "barracks_marine03" false)
    (ai_set_objective "barracks_marine03" "barracks_marine_obj")
)

(script dormant void barracks_marine04_anim
    (sleep_until (and (< (ai_living_count "barracks_pack1_01") 1) (< (ai_living_count "barracks_pack2_01") 1)) 1)
    (sleep 5)
    (ai_activity_abort "barracks_marine04")
    (if (or (< var_barracks_pos 5) (> (ai_living_count "barracks_cov_all") 0))
        (cs_run_command_script "barracks_marine04" barracks_marine04_flee)
        (begin
            (unit_add_equipment (ai_get_unit "barracks_marine04") "barracks_marine03_profile" true true)
            (ai_set_blind "barracks_marine04" false)
            (ai_set_deaf "barracks_marine04" false)
            (ai_disregard (ai_actors "barracks_marine04") false)
            (ai_set_objective "barracks_marine04" "barracks_marine_obj")
        )
    )
    (sleep_until (= (device_get_position "barracks_door_end") 1) 1)
    (sleep 60)
    (ai_migrate "barracks_marine04" "evac_hangar_marine04")
)

(script command_script void barracks_marine04_flee
    (cs_enable_pathfinding_failsafe true)
    (cs_movement_mode ai_movement_flee)
    (ai_disregard (ai_actors "barracks_marine04") false)
    (cs_go_to "barracks_second_save/p2")
    (cs_crouch true 60)
    (unit_add_equipment (ai_get_unit "barracks_marine04") "barracks_marine03_profile" true true)
    (ai_set_blind "barracks_marine04" false)
    (ai_set_deaf "barracks_marine04" false)
    (ai_set_objective "barracks_marine04" "barracks_marine_obj")
)

(script dormant void barracks_marine05_anim
    (sleep_until (or (< (ai_living_count "barracks_pack4_01") 1) (volume_test_players "barracks_marine05_rescue_trig")) 5)
    (sleep 30)
    (ai_activity_abort "barracks_marine05")
    (ai_play_line "barracks_marine05" 020mj_110)
    (if (or (< var_barracks_pos 5) (> (ai_living_count "barracks_cov_all") 0))
        (cs_run_command_script "barracks_marine05" barracks_marine05_flee)
        (begin
            (unit_add_equipment (ai_get_unit "barracks_marine05") "barracks_marine04_profile" true true)
            (ai_set_blind "barracks_marine05" false)
            (ai_set_deaf "barracks_marine05" false)
            (ai_disregard (ai_actors "barracks_marine05") false)
            (ai_set_objective "barracks_marine05" "barracks_marine_obj")
        )
    )
    (sleep_until (= (device_get_position "barracks_door_end") 1) 1)
    (sleep 60)
    (ai_migrate "barracks_marine05" "evac_hangar_marine05")
)

(script command_script void barracks_marine05_flee
    (cs_movement_mode ai_movement_flee)
    (ai_disregard (ai_actors "barracks_marine05") false)
    (cs_go_to "barracks_third_save/p0")
    (cs_crouch true 60)
    (unit_add_equipment (ai_get_unit "barracks_marine05") "barracks_marine04_profile" true true)
    (ai_set_blind "barracks_marine05" false)
    (ai_set_deaf "barracks_marine05" false)
    (ai_set_objective "barracks_marine05" "barracks_marine_obj")
)

(script dormant void barracks_marine06_anim
    (sleep_until (or (< (ai_living_count "barracks_pack4_01") 1) (volume_test_players "barracks_marine05_rescue_trig")) 5)
    (ai_activity_abort "barracks_marine06")
    (sleep 5)
    (ai_play_line "barracks_marine06" 020mj_100)
    (if (or (< var_barracks_pos 5) (> (ai_living_count "barracks_cov_all") 0))
        (cs_run_command_script "barracks_marine06" barracks_marine06_flee)
        (begin
            (unit_add_equipment (ai_get_unit "barracks_marine06") "barracks_marine02_profile" true true)
            (ai_set_blind "barracks_marine06" false)
            (ai_set_deaf "barracks_marine06" false)
            (ai_disregard (ai_actors "barracks_marine06") false)
            (ai_set_objective "barracks_marine06" "barracks_marine_obj")
        )
    )
    (sleep_until (= (device_get_position "barracks_door_end") 1) 1)
    (sleep 60)
    (ai_migrate "barracks_marine06" "evac_hangar_marine06")
)

(script command_script void barracks_marine06_flee
    (cs_movement_mode ai_movement_flee)
    (ai_disregard (ai_actors "barracks_marine06") false)
    (cs_go_to "barracks_third_save/p1")
    (cs_crouch true 60)
    (unit_add_equipment (ai_get_unit "barracks_marine06") "barracks_marine02_profile" true true)
    (ai_set_blind "barracks_marine06" false)
    (ai_set_deaf "barracks_marine06" false)
    (ai_set_objective "barracks_marine06" "barracks_marine_obj")
)

(script dormant void barracks_marine07_anim
    (sleep_until (or (< (ai_living_count "barracks_pack4_01") 1) (volume_test_players "barracks_marine05_rescue_trig")) 5)
    (sleep 15)
    (ai_activity_abort "barracks_marine07")
    (ai_play_line "barracks_marine07" 020mj_120)
    (if (or (< var_barracks_pos 5) (> (ai_living_count "barracks_cov_all") 0))
        (cs_run_command_script "barracks_marine07" barracks_marine07_flee)
        (begin
            (ai_set_blind "barracks_marine07" false)
            (ai_set_deaf "barracks_marine07" false)
            (ai_disregard (ai_actors "barracks_marine07") false)
            (unit_add_equipment (ai_get_unit "barracks_marine07") "barracks_marine03_profile" true true)
            (ai_set_objective "barracks_marine07" "barracks_marine_obj")
        )
    )
    (sleep_until (= (device_get_position "barracks_door_end") 1) 1)
    (sleep 60)
    (ai_migrate "barracks_marine07" "evac_hangar_marine07")
)

(script command_script void barracks_marine07_flee
    (cs_movement_mode ai_movement_flee)
    (ai_disregard (ai_actors "barracks_marine07") false)
    (cs_go_to "barracks_third_save/p2")
    (cs_crouch true 60)
    (unit_add_equipment (ai_get_unit "barracks_marine07") "barracks_marine03_profile" true true)
    (ai_set_blind "barracks_marine07" false)
    (ai_set_deaf "barracks_marine07" false)
    (ai_set_objective "barracks_marine07" "barracks_marine_obj")
)

(script dormant void md_07_barracks_exit
    (sleep_until (and (>= var_barracks_pos 4) (or (> (device_get_position "barracks_door_end") 0) (<= (ai_living_count "barracks_cov_all") 0))))
    (if (= (device_get_position "barracks_door_end") 0)
        (begin
            (sleep (random_range 120 150))
            (set g_music_020_106 true)
            (if (not (game_is_cooperative))
                (begin
                    (vs_cast "arbiter_group" false 10 "020mj_130")
                    (set arbiter (vs_role 1))
                    (vs_enable_pathfinding_failsafe arbiter true)
                    (vs_enable_looking arbiter true)
                    (vs_enable_targeting arbiter true)
                    (vs_enable_moving arbiter true)
                    (vs_set_cleanup_script md_cleanup)
                    (ai_dialogue_enable false)
                    (vs_face_player arbiter true)
                    (if dialogue
                        (print "arbiter: we did all we could.")
                    )
                    (sleep (ai_play_line arbiter 020mj_130))
                    (sleep 15)
                    (if dialogue
                        (print "arbiter: let us move the survivors up to the hangar.")
                    )
                    (sleep (ai_play_line arbiter 020mj_140))
                    (sleep 30)
                    (if dialogue
                        (print "arbiter: there is a lift outside.")
                    )
                    (sleep (ai_play_line arbiter 020mj_150))
                    (sleep 15)
                    (vs_face_player arbiter false)
                    (ai_dialogue_enable true)
                    (vs_release_all)
                )
                (begin
                    (vs_cast "barracks_marine06" true 10 "020mj_160")
                    (set 06_sergeant (vs_role 1))
                    (vs_enable_pathfinding_failsafe 06_sergeant true)
                    (vs_enable_looking 06_sergeant true)
                    (vs_enable_targeting 06_sergeant true)
                    (vs_enable_moving 06_sergeant true)
                    (ai_dialogue_enable false)
                    (vs_face_player 06_sergeant true)
                    (if dialogue
                        (print "sergeant: you did the best you could, sir.")
                    )
                    (sleep (ai_play_line 06_sergeant 020mj_160))
                    (sleep 15)
                    (if dialogue
                        (print "sergeant: let's get the survivors up to the hangar.")
                    )
                    (sleep (ai_play_line 06_sergeant 020mj_170))
                    (sleep 30)
                    (if dialogue
                        (print "sergeant: there's an elevator just outside the barracks.")
                    )
                    (sleep (ai_play_line 06_sergeant 020mj_180))
                    (sleep 15)
                    (vs_face_player 06_sergeant false)
                    (ai_dialogue_enable true)
                    (vs_release_all)
                )
            )
        )
    )
)

(script dormant void md_07_barracks_marines
    (if debug
        (print "mission dialogue:07:barracks:marines")
    )
    (vs_cast "evac_hangar_marines" true 10 "020mj_190" "020mj_200")
    (set 08_marine_a (vs_role 1))
    (set 08_marine_b (vs_role 2))
    (vs_enable_pathfinding_failsafe "evac_hangar_marines" true)
    (vs_enable_looking "evac_hangar_marines" true)
    (vs_enable_targeting "evac_hangar_marines" true)
    (vs_enable_moving "evac_hangar_marines" true)
    (vs_set_cleanup_script md_cleanup)
    (ai_dialogue_enable false)
    (if dialogue
        (print "marine 01: chief and the arbiter make a pretty good team.")
    )
    (vs_play_line 08_marine_a true 020mj_190)
    (sleep 10)
    (if dialogue
        (print "marine 02: he's still an elite. one of them.")
    )
    (vs_play_line 08_marine_b true 020mj_200)
    (sleep 10)
    (if dialogue
        (print "marine 01: well, he saved our asses. that's gotta count for something")
    )
    (vs_play_line 08_marine_a true 020mj_210)
    (sleep 10)
    (ai_dialogue_enable true)
    (vs_release_all)
)

(script dormant void md_08_evac_pelican_01
    (if debug
        (print "mission dialogue:08:evac:pelican:02")
    )
    (ai_dialogue_enable false)
    (if dialogue
        (print "hocus (radio): ma'am. i've got movement. above and below")
    )
    (sleep (ai_play_line_on_object none 020mk_010))
    (sleep 10)
    (if dialogue
        (print "hocus (radio): brutes! they've got jump-packs!")
    )
    (sleep (ai_play_line_on_object none 020mk_020))
    (sleep 10)
    (if dialogue
        (print "miranda (radio): they're going after the thrusters!")
    )
    (sleep (ai_play_line_on_object none 020mk_030))
    (sleep 10)
    (if dialogue
        (print "miranda (radio): shake them off, lieutenant!")
    )
    (sleep (ai_play_line_on_object none 020mk_040))
    (ai_dialogue_enable true)
)

(script dormant void md_08_joh_cc_retreat
    (sleep_until (volume_test_players "cool_cam_trig08") 5)
    (sleep (* (random_range 1 4) 30))
    (ai_dialogue_enable false)
    (if debug
        (print "mission dialogue:08:evac:pelican:03")
    )
    (if dialogue
        (print "johnson (radio): (static) commander? we lost the (ops-center).")
    )
    (sleep (ai_play_line_on_object none 020mk_050))
    (sleep 10)
    (if dialogue
        (print "johnson (radio): brutes (attacked in force). couldn't hold them off.")
    )
    (sleep (ai_play_line_on_object none 020mk_060))
    (sleep 10)
    (if dialogue
        (print "johnson (radio): we're falling back to the hangar, but don't (wait for us)!")
    )
    (sleep (ai_play_line_on_object none 020mk_070))
    (sleep 10)
    (if dialogue
        (print "hocus (radio): what should i do, ma'am?")
    )
    (sleep (ai_play_line_on_object none 020mk_090))
    (sleep 10)
    (if dialogue
        (print "miranda (radio): hold position! i'm not leaving without him!")
    )
    (sleep (ai_play_line_on_object none 020mk_100))
    (ai_dialogue_enable true)
)

(script dormant void md_08_joh_evac_arrives
    (vs_cast "evac_hangar_johnson" true 10 "")
    (set johnson (vs_role 1))
    (vs_enable_pathfinding_failsafe "evac_hangar_johnson" true)
    (vs_enable_looking "evac_hangar_johnson" true)
    (vs_enable_targeting "evac_hangar_johnson" true)
    (vs_enable_moving "evac_hangar_johnson" true)
    (vs_set_cleanup_script md_cleanup)
    (ai_dialogue_enable false)
    (if dialogue
        (print "johnson : drones! go! i'll cover you!")
    )
    (vs_play_line johnson true 020mk_110)
    (sleep 10)
    (sleep_until (< (ai_living_count "evac_hangar_cov_buggers") 1) 30 900)
    (cs_run_command_script "evac_safe_marines" evac_pelican_load)
    (vs_go_to_nearest johnson true "evac_johnson")
    (vs_face_object johnson true (ai_get_object "evac_hangar_hum_pelican02"))
    (if dialogue
        (print "johnson : brutes. in the ops-center. they disarmed the bomb.")
    )
    (sleep (ai_play_line johnson 020mk_130))
    (sleep 15)
    (if dialogue
        (print "johnson : i'm sorry, commander. there were too many. even for me.")
    )
    (sleep (ai_play_line johnson 020mk_140))
    (ai_dialogue_enable true)
    (wake md_08_evac_pelican_exit)
    (sleep_until (< (ai_living_count "evac_safe_marines") 1) 30 600)
    (sleep 60)
    (vs_release johnson)
    (cs_run_command_script "evac_hangar_johnson" evac_pelican_load_johnson)
)

(script dormant void md_08_evac_pelican_exit
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "miranda (radio): agreed. chief? go back to the ops-center")
    )
    (sleep (ai_play_line "evac_hangar_hum_pelican02/pilot" 020bc_010))
    (sleep 10)
    (ai_dialogue_enable true)
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "miranda (radio): kill those brutes. re-arm the bomb.")
    )
    (sleep (ai_play_line "evac_hangar_hum_pelican02/pilot" 020bc_020))
    (sleep 10)
    (wake obj_self_destruct_set)
    (sleep_forever obj_self_destruct_set_ins)
    (ai_dialogue_enable true)
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "miranda (radio): i've got to get these men out of here")
    )
    (sleep (ai_play_line "evac_hangar_hum_pelican02/pilot" 020bc_030))
    (sleep 10)
    (ai_dialogue_enable true)
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "miranda (radio): but i'll radio with another exit.")
    )
    (sleep (ai_play_line "evac_hangar_hum_pelican02/pilot" 020bc_040))
    (sleep 10)
    (ai_dialogue_enable true)
)

(script command_script void evac_pelican_load
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to_vehicle (ai_vehicle_get_from_starting_location "evac_hangar_hum_pelican02/pilot"))
    (sleep_until 
        (begin
            (sleep 300)
            (cs_go_to_vehicle (ai_vehicle_get_from_starting_location "evac_hangar_hum_pelican02/pilot"))
            (vehicle_test_seat "evac_hangar_hum_pelican02" "" ai_current_actor)
        )
    )
)

(script command_script void evac_pelican_load_arbiter
    (ai_vehicle_reserve_seat "evac_hangar_hum_pelican02" 21 false)
    (cs_enable_pathfinding_failsafe true)
    (cs_enable_moving true)
    (cs_enable_looking true)
    (cs_go_to_vehicle (ai_vehicle_get_from_starting_location "evac_hangar_hum_pelican02/pilot"))
    (ai_vehicle_enter "evac_arbiter" "evac_hangar_hum_pelican02/pilot" 21)
    (sleep_until 
        (begin
            (sleep 90)
            (cs_go_to_vehicle (ai_vehicle_get_from_starting_location "evac_hangar_hum_pelican02/pilot"))
            (ai_vehicle_enter "evac_arbiter" "evac_hangar_hum_pelican02/pilot" 21)
            (vehicle_test_seat "evac_hangar_hum_pelican02" "" ai_current_actor)
        )
        5
        300
    )
    (cs_enable_moving false)
)

(script command_script void evac_pelican_load_johnson
    (ai_vehicle_reserve_seat "evac_hangar_hum_pelican02" 22 false)
    (cs_enable_pathfinding_failsafe true)
    (cs_enable_moving true)
    (cs_enable_looking true)
    (cs_go_to_vehicle (ai_vehicle_get_from_starting_location "evac_hangar_hum_pelican02/pilot"))
    (ai_vehicle_enter "evac_hangar_johnson" "evac_hangar_hum_pelican02/pilot" 22)
    (sleep_until 
        (begin
            (sleep 90)
            (cs_go_to_vehicle (ai_vehicle_get_from_starting_location "evac_hangar_hum_pelican02/pilot"))
            (ai_vehicle_enter "evac_hangar_johnson" "evac_hangar_hum_pelican02/pilot" 22)
            (vehicle_test_seat "evac_hangar_hum_pelican02" "" ai_current_actor)
        )
    )
    (cs_enable_moving false)
)

(script dormant void md_08_joh_reminder
    (wake md_08_joh_reminder_a)
    (wake md_08_joh_reminder_b)
    (wake md_08_joh_reminder_c)
)

(script dormant void md_08_joh_reminder_a
    (sleep 1800)
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "johnson (radio): fastest way to the ops-center is they way i came in, chief")
    )
    (sleep (ai_play_line_on_object none 020mk_200))
    (sleep 10)
    (sleep_until (= cortana_talking false) 5)
    (if dialogue
        (print "johnson (radio): downstairs, through the service tunnel.")
    )
    (sleep (ai_play_line_on_object none 020mk_210))
    (sleep 10)
    (ai_dialogue_enable true)
)

(script dormant void md_08_joh_reminder_b
    (sleep_until (volume_test_players "cortana_highway_enc_trig") 5)
    (sleep_forever md_08_joh_reminder_a)
    (ai_dialogue_enable true)
    (sleep 1800)
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "johnson (radio): chief, follow the service tunnel to the motor-pool!")
    )
    (sleep (ai_play_line_on_object none 020mk_220))
    (ai_dialogue_enable true)
    (sleep 10)
    (sleep 1800)
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "johnson (radio): follow the tunnel to the motor-pool, chief!")
    )
    (sleep (ai_play_line_on_object none 020ml_010))
    (sleep 10)
    (ai_dialogue_enable true)
)

(script dormant void md_08_joh_reminder_c
    (sleep_until (volume_test_players "cortana_highway_var_trig03") 5)
    (sleep_forever md_08_joh_reminder_b)
    (ai_dialogue_enable true)
    (sleep 1800)
    (sleep_until (players_not_in_combat))
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "johnson (radio): head through the motor-pool to get to the ops-center!")
    )
    (sleep (ai_play_line_on_object none 020mk_230))
    (set g_music_020_115 false)
    (sleep 10)
    (ai_dialogue_enable true)
    (sleep 1800)
    (sleep_until (players_not_in_combat))
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "johnson (radio): get back to the ops-center, arm that bomb!")
    )
    (sleep (ai_play_line_on_object none 020ml_020))
    (sleep 10)
    (ai_dialogue_enable true)
    (sleep 1800)
    (sleep_until (players_not_in_combat))
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "johnson (radio): ops-center, chief! hurry!")
    )
    (sleep (ai_play_line_on_object none 020mm_010))
    (sleep 10)
    (ai_dialogue_enable true)
    (sleep 1800)
    (sleep_until (players_not_in_combat))
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "johnson (radio): blow this base to kingdom come!")
    )
    (sleep (ai_play_line_on_object none 020mm_020))
    (ai_dialogue_enable true)
)

(script dormant void md_09_motorpool_brute_pa
    (sleep_until (> (device_get_position "cortana_encounter_door") 0))
    (sleep (random_range 600 1200))
    (sleep_until (players_not_in_combat))
    (ai_dialogue_enable false)
    (ai_play_line_on_point_set "020ml_030" "miranda_pa_pts_02" 3)
    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020ml_030_bch"))
    (sleep 10)
    (ai_play_line_on_point_set "020ml_040" "miranda_pa_pts_02" 3)
    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020ml_040_bch"))
    (sleep 10)
    (ai_play_line_on_point_set "020ml_050" "miranda_pa_pts_02" 3)
    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020ml_050_bch"))
    (sleep 10)
    (ai_play_line_on_point_set "020ml_060" "miranda_pa_pts_02" 3)
    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020ml_060_bch"))
    (ai_dialogue_enable true)
    (sleep_until (= (volume_test_players "self_destruct_start_trig") true) 15 (random_range 600 1800))
    (if (= (volume_test_players "self_destruct_start_trig") false)
        (begin
            (ai_dialogue_enable false)
            (ai_play_line_on_point_set "020mm_030" "miranda_pa_pts_02" 3)
            (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mm_030_bch"))
            (sleep 10)
            (ai_dialogue_enable true)
        )
    )
    (if (= (volume_test_players "self_destruct_start_trig") false)
        (begin
            (ai_dialogue_enable false)
            (ai_play_line_on_point_set "020mm_040" "miranda_pa_pts_02" 3)
            (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mm_040_bch"))
            (sleep 10)
            (ai_dialogue_enable true)
        )
    )
    (if (= (volume_test_players "self_destruct_start_trig") false)
        (begin
            (ai_dialogue_enable false)
            (ai_play_line_on_point_set "020mm_050" "miranda_pa_pts_02" 3)
            (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mm_050_bch"))
            (sleep 10)
            (ai_dialogue_enable true)
        )
    )
    (if (= (volume_test_players "self_destruct_start_trig") false)
        (begin
            (ai_dialogue_enable false)
            (ai_play_line_on_point_set "020mm_060" "miranda_pa_pts_02" 3)
            (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mm_060_bch"))
            (ai_dialogue_enable true)
        )
    )
)

(script dormant void md_10_self_destruct_joh
    (sleep_until (< (ai_living_count "self_destruct_all") 1))
    (sleep 300)
    (ai_dialogue_enable false)
    (sleep_until (= cortana_talking false) 5)
    (if dialogue
        (print "johnson (radio): hit the switch, chief! arm that bomb!")
    )
    (sleep (ai_play_line_on_object none 020mn_010))
    (sleep 10)
    (ai_dialogue_enable true)
    (sleep 900)
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "johnson (radio): the switch is on the bomb, chief. find it!")
    )
    (sleep (ai_play_line_on_object none 020mn_020))
    (sleep 10)
    (ai_dialogue_enable true)
)

(script dormant void md_11_cave_hangar_joh
    (if debug
        (print "mission dialogue:11:cave:hangar:joh")
    )
    (wake md_11_cave_hangar_joh02)
    (wake md_11_cave_hangar_joh03)
    (sleep_until (volume_test_players "blow_up_safe_zone") 5)
    (sleep_forever md_11_cave_hangar_joh02)
    (sleep_forever md_11_cave_hangar_joh03)
    (ai_dialogue_enable true)
)

(script dormant void md_11_cave_hangar_joh02
    (sleep_until (volume_test_players "command_exit_trig") 1)
    (sleep 900)
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "johnson (radio): south hangar! it's straight through the cave, chief!")
    )
    (sleep (ai_play_line_on_object none 020mo_020))
    (ai_dialogue_enable true)
)

(script dormant void md_11_cave_hangar_joh03
    (sleep_until (volume_test_players "hangar_a_entrance_trig") 1)
    (sleep 900)
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "johnson (radio): there isn't much time, chief! find that elevator!")
    )
    (sleep (ai_play_line_on_object none 020mo_030))
    (ai_dialogue_enable true)
    (sleep 1200)
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "johnson (radio): the bomb's about to blow! go, go, go!")
    )
    (sleep (ai_play_line_on_object none 020mo_040))
    (ai_dialogue_enable true)
    (sleep 1200)
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "johnson (radio): get on the elevator, chief! youre out of time!")
    )
    (sleep (ai_play_line_on_object none 020mo_050))
    (ai_dialogue_enable true)
)

(script dormant void am_00_base
    (if dialogue
        (print "miranda (pa system): alert: ops-center is closed to all non-essential personnel!")
    )
    (sleep (ai_play_line_on_object none 020mz_010))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): alpha-six, reinforce blue sector!")
    )
    (sleep (ai_play_line_on_object none 020mz_020))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): charlie-two, report to green sector!")
    )
    (sleep (ai_play_line_on_object none 020mz_030))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): confirm: all combat teams in position, over?")
    )
    (sleep (ai_play_line_on_object none 020mz_040))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): report any change in sector status to the ops-center!")
    )
    (sleep (ai_play_line_on_object none 020mz_050))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): charlie-two, any movement in your sector?")
    )
    (sleep (ai_play_line_on_object none 020mz_060))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): only verified contacts, alpha-six. keep the channel clear!")
    )
    (sleep (ai_play_line_on_object none 020mz_070))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): all units: alpha through echo, prepare for enemy contacts!")
    )
    (sleep (ai_play_line_on_object none 020mz_080))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): combat teams lima through sierra, look sharp!")
    )
    (sleep (ai_play_line_on_object none 020mz_090))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): medical teams: prepare wounded for transport. south hangar!")
    )
    (sleep (ai_play_line_on_object none 020mz_100))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): all non-combat personnel: report to south hangar for immediate evac!")
    )
    (sleep (ai_play_line_on_object none 020mz_110))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): alert! covenant have breached the base!")
    )
    (sleep (ai_play_line_on_object none 020mz_120))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): confirmed: phantoms approaching the south hangar!")
    )
    (sleep (ai_play_line_on_object none 020mz_130))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): attention: hostiles reported outside the barracks!")
    )
    (sleep (ai_play_line_on_object none 020mz_140))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): combat teams: hold positions, await further orders!")
    )
    (sleep (ai_play_line_on_object none 020mz_150))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): combat teams: report all contact to the ops-center!")
    )
    (sleep (ai_play_line_on_object none 020mz_160))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): maintain your zones. drive them toward the exits!")
    )
    (sleep (ai_play_line_on_object none 020mz_170))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): confirmed: hostile contacts in south hangar!")
    )
    (sleep (ai_play_line_on_object none 020mz_180))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): can anyone confirm hostile contacts in north hangar, over?")
    )
    (sleep (ai_play_line_on_object none 020mz_190))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): north hangar has been cleared! proceed with evac!")
    )
    (sleep (ai_play_line_on_object none 020mz_200))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): all available combat teams! get to the barracks!")
    )
    (sleep (ai_play_line_on_object none 020mz_210))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): barracks are under attack! all available combat teams respond!")
    )
    (sleep (ai_play_line_on_object none 020mz_220))
    (sleep 10)
    (if dialogue
        (print "miranda (pa system): anyone in the barracks, i need a sitrep! now!")
    )
    (sleep (ai_play_line_on_object none 020mz_230))
    (sleep 10)
    (if dialogue
        (print "johnson (pa system): all personnel: the base is overrun!")
    )
    (sleep (ai_play_line_on_object none 020mz_240))
    (sleep 10)
    (if dialogue
        (print "johnson (pa system): everyone still in the base, get to the north hangar! now!")
    )
    (sleep (ai_play_line_on_object none 020mz_250))
    (sleep 10)
    (if dialogue
        (print "johnson (pa system): fire team alpha-six: we are leaving! fall back!")
    )
    (sleep (ai_play_line_on_object none 020mz_260))
    (sleep 10)
    (if dialogue
        (print "johnson (pa system): negative, charlie-two! prepare for evac! that's an order!.")
    )
    (sleep (ai_play_line_on_object none 020mz_270))
    (sleep 10)
    (if dialogue
        (print "johnson (pa system): all pelicans: go to ground. there's no one left, over!")
    )
    (sleep (ai_play_line_on_object none 020mz_280))
    (sleep 10)
    (if dialogue
        (print "johnson (pa system): all unsc assets in grind one-one-four: forest fire. i repeat: forest fire!")
    )
    (sleep (ai_play_line_on_object none 020mz_290))
    (sleep 10)
    (if dialogue
        (print "johnson (pa system): everyone get to minimum safe distance! now!")
    )
    (sleep (ai_play_line_on_object none 020mz_300))
    (sleep 10)
    (if dialogue
        (print "johnson (pa system): alert: final countdown has begun! i say again: final countdown has begun!")
    )
    (sleep (ai_play_line_on_object none 020mz_310))
    (sleep 10)
)

(script dormant void 020vb_bugger_v_marine
    (if debug
        (print "vt:03:bugger:attack")
    )
    (vs_cast "bugger_intro_hum01/actor02" true 10 "020vb_010")
    (set 03_marine_a (vs_role 1))
    (vs_set_cleanup_script bugger_vignette_abort)
    (vs_face_player 03_marine_a true)
    (sleep_until (volume_test_players "loop01_return_bugger_trig") 1)
    (sleep_forever 020_05_pa_talking)
    (if dialogue
        (print "marine 01: sir! this way --")
    )
    (vs_play_line 03_marine_a false 020vb_010)
    (vs_custom_animation 03_marine_a false "objects\characters\marine\marine" "combat:rifle:wave" true "bugger_intro_vignette/p2")
    (object_create_anew "pipeburst01")
    (object_damage_damage_section "bugger_vent" "all" 1)
    (ai_place "bugger_squad00")
    (vs_cast "bugger_squad00/01" true 10 "")
    (set bugger (vs_role 1))
    (ai_disregard (ai_actors "bugger_squad00") true)
    (ai_disregard (ai_actors "bugger_intro_hum01") true)
    (vs_enable_pathfinding_failsafe bugger true)
    (vs_go_to bugger true "bugger_intro_vignette/p2")
    (set bugger_attack true)
    (object_destroy "pipeburst01")
    (if dialogue
        (print "marine 01: no! help!")
    )
    (vs_play_line 03_marine_a false 020vb_030)
    (vs_custom_animation 03_marine_a false "objects\characters\marine\cinematics\vignettes\0x0vc_bugger_pickup_marine\0x0vc_bugger_pickup_marine" "picked_up_by_bug" false "bugger_intro_vignette/p2")
    (vs_custom_animation bugger true "objects\characters\bugger\cinematics\vignettes\0x0vc_bugger_pickup_marine\0x0vc_bugger_pickup_marine" "bug_pounce_lift" false "bugger_intro_vignette/p2")
    (if dialogue
        (print "marine 01: (bloodcurdling scream)")
    )
    (vs_play_line 03_marine_a false 020vb_040)
    (vs_custom_animation 03_marine_a false "objects\characters\marine\cinematics\vignettes\0x0vc_bugger_pickup_marine\0x0vc_bugger_pickup_marine" "held_by_bug" false "bugger_intro_vignette/p2")
    (vs_custom_animation bugger true "objects\characters\bugger\cinematics\vignettes\0x0vc_bugger_pickup_marine\0x0vc_bugger_pickup_marine" "hold_marine" false "bugger_intro_vignette/p2")
    (set marine_grabbed true)
    (ai_disregard (ai_actors "bugger_squad00") false)
    (ai_disregard (ai_actors "bugger_intro_hum01") false)
    (ai_magically_see "bugger_intro_hum01" "bugger_squad00")
    (vs_release 03_marine_a)
    (ai_kill 03_marine_a)
    (sleep 1)
    (vs_release_all)
)

(script static void bugger_vignette_abort
    (print "vignette aborted")
    (set bugger_attack true)
    (if (> (ai_living_count "bugger_squad00") 0)
        (begin
            (object_damage_damage_section "bugger_vent" "all" 1)
            (ai_place "bugger_squad00")
        )
    )
    (ai_disregard (ai_actors "bugger_squad00") false)
    (ai_disregard (ai_actors "bugger_intro_hum01") false)
    (ai_magically_see "bugger_intro_hum01" "bugger_squad00")
    (if marine_grabbed
        (unit_kill "bugger_intro_hum01/actor02")
    )
)

(script command_script void 020_03_bugger_in_the_vents
    (cs_draw)
    (cs_abort_on_damage true)
    (cs_aim true "bugger_intro_vignette/p3")
    (sleep_until bugger_attack)
)

(script command_script void 020_03_bugger_in_the_vents02
    (cs_draw)
    (cs_abort_on_damage true)
    (cs_aim true "bugger_intro_vignette/p5")
    (sleep_until bugger_attack)
)

(script command_script void 020_03_bugger_in_the_vents03
    (cs_draw)
    (cs_abort_on_damage true)
    (sleep_until 
        (begin
            (cs_aim true "loop01_return_points_bugger/p13")
            (sleep (random_range 90 180))
            (cs_aim true "loop01_return_points_bugger/p11")
            (sleep (random_range 120 300))
            false
        )
        1
    )
    (ai_set_objective "loop01_return_hw01/03" "loop01_return_highway")
)

(script command_script void 020_03_bugger_in_the_vents04
    (cs_draw)
    (cs_abort_on_damage true)
    (sleep_until 
        (begin
            (cs_aim true "loop01_return_points_bugger/p13")
            (sleep (random_range 90 180))
            (cs_aim true "loop01_return_points_bugger/p12")
            (sleep (random_range 120 300))
            false
        )
        1
    )
    (ai_set_objective "loop01_return_hw01/04" "loop01_return_highway")
)

(script static void monitors_standby
    (object_set_function_variable "cc_monitor01" "screen_control" 0.2 0)
    (object_set_function_variable "cc_monitor02" "screen_control" 0.2 0)
    (object_set_function_variable "cc_monitor03" "screen_control" 0.2 0)
    (object_set_function_variable "cc_monitor04" "screen_control" 0.2 0)
    (object_set_function_variable "cc_monitor05" "screen_control" 0.2 0)
    (object_set_function_variable "cc_monitor06" "screen_control" 0.2 0)
    (object_set_function_variable "cc_monitor07" "screen_control" 0.2 0)
    (object_set_function_variable "cc_monitor08" "screen_control" 0.2 0)
    (object_set_function_variable "cc_monitor09" "screen_control" 0.2 0)
    (object_set_function_variable "cc_monitor10" "screen_control" 0.2 0)
    (object_set_function_variable "cc_monitor11" "screen_control" 0.2 0)
    (object_set_function_variable "cc_monitor12" "screen_control" 0.2 0)
    (object_set_function_variable "cc_monitor_new12" "screen_control" 0.2 0)
    (object_set_function_variable "cc_monitor_new14" "screen_control" 0.2 0)
    (object_set_function_variable "cc_monitor_mir_01" "screen_control" 0.2 0)
    (object_set_function_variable "cc_monitor_mir_02" "screen_control" 0.2 0)
    (object_set_function_variable "cc_monitor_mir_03" "screen_control" 0.2 0)
)

(script command_script void cc_return_helper
    (cs_abort_on_damage true)
    (cs_enable_targeting true)
    (cs_draw)
    (cs_crouch true)
    (ai_set_weapon_up ai_current_actor true)
    (sleep_until (volume_test_players "vol_cc_return") 1)
    (sleep 1800)
    (sleep_until (volume_test_players "vol_cc_return") 1)
    (cs_lower_weapon true)
    (sleep 30)
    (cs_crouch false)
    (cs_approach_player 1 10 10)
    (if (< (ai_living_count "bugger_intro_cov") 1)
        (begin
            (if dialogue
                (print "marine: cleaned those bugs out good, sir")
            )
            (cs_play_line 020mf_060)
            (sleep 10)
        )
    )
    (if dialogue
        (print "marine: sergeant major's waiting for you upstairs!")
    )
    (cs_play_line 020mf_070)
    (sleep 10)
    (cs_go_to "cc_crash_pts_01/p0")
    (cs_face_object true "loop01_return_crate_bomb")
    (sleep_forever)
)

(script command_script void stand_gun_down
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (sleep_forever)
)

(script command_script void stand_gun_up
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_draw)
    (ai_set_weapon_up ai_current_actor true)
    (sleep_forever)
)

(script command_script void crouch_gun_down
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_draw)
    (cs_crouch true)
    (ai_set_weapon_up ai_current_actor false)
    (sleep_forever)
)

(script command_script void crouch_gun_up
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_draw)
    (cs_crouch true)
    (ai_set_weapon_up ai_current_actor true)
    (sleep_forever)
)

(script command_script void crouch_gun_up_hack
    (cs_abort_on_damage true)
    (cs_enable_targeting true)
    (cs_draw)
    (cs_crouch true)
    (ai_set_weapon_up ai_current_actor true)
    (sleep_forever)
)

(script command_script void stand_gun_up_hack
    (cs_abort_on_damage true)
    (cs_enable_targeting true)
    (cs_draw)
    (ai_set_weapon_up ai_current_actor true)
    (sleep_forever)
)

(script command_script void cc2_pat_01
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_draw)
    (cs_walk true)
    (sleep_until 
        (begin
            (cs_go_to "command_center_patrols/p19")
            (cs_go_to "command_center_patrols/p18")
            (cs_go_to "command_center_patrols/p17")
            (cs_go_to "command_center_patrols/p16")
            false
        )
    )
)

(script command_script void cc_wiper_01
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_enable_pathfinding_failsafe true)
    (cs_stow)
    (begin_random
        (begin
            (if (> (object_get_health "cc2_computer01") 0)
                (cs_go_to_and_posture "cc_crash_pts_01/cc01" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer01") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer01") 0)
                (begin
                    (object_create_anew "cc_crashed01")
                    (object_destroy "cc2_computer01")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer02") 0)
                (cs_go_to_and_posture "cc_crash_pts_01/cc02" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer02") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer02") 0)
                (begin
                    (object_create_anew "cc_crashed02")
                    (object_destroy "cc2_computer02")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer03") 0)
                (cs_go_to_and_posture "cc_crash_pts_01/cc03" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer03") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer03") 0)
                (begin
                    (object_create_anew "cc_crashed03")
                    (object_destroy "cc2_computer03")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer04") 0)
                (cs_go_to_and_posture "cc_crash_pts_01/cc04" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer04") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer04") 0)
                (begin
                    (object_create_anew "cc_crashed04")
                    (object_destroy "cc2_computer04")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer05") 0)
                (cs_go_to_and_posture "cc_crash_pts_01/cc05" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer05") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer05") 0)
                (begin
                    (object_create_anew "cc_crashed05")
                    (object_destroy "cc2_computer05")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer06") 0)
                (cs_go_to_and_posture "cc_crash_pts_01/cc06" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer06") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer06") 0)
                (begin
                    (object_create_anew "cc_crashed06")
                    (object_destroy "cc2_computer06")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer15") 0)
                (cs_go_to_and_posture "cc_crash_pts_01/cc15" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer15") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer15") 0)
                (begin
                    (object_create_anew "cc_crashed15")
                    (object_destroy "cc2_computer15")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer16") 0)
                (cs_go_to_and_posture "cc_crash_pts_01/cc16" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer16") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer16") 0)
                (begin
                    (object_create_anew "cc_crashed16")
                    (object_destroy "cc2_computer16")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer23") 0)
                (cs_go_to_and_posture "cc_crash_pts_01/cc23" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer23") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer23") 0)
                (begin
                    (object_create_anew "cc_crashed23")
                    (object_destroy "cc2_computer23")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer24") 0)
                (cs_go_to_and_posture "cc_crash_pts_01/cc24" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer24") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer24") 0)
                (begin
                    (object_create_anew "cc_crashed24")
                    (object_destroy "cc2_computer24")
                )
            )
            (cs_posture_exit)
        )
    )
    (cs_go_to "cc_crash_pts_01/done01")
    (cs_face_object true "loop01_return_crate_bomb")
    (cs_walk true)
    (cs_draw)
    (sleep_forever)
)

(script command_script void cc_wiper_02
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_enable_pathfinding_failsafe true)
    (cs_stow)
    (begin_random
        (begin
            (if (> (object_get_health "cc2_computer07") 0)
                (cs_go_to_and_posture "cc_crash_pts_02/cc07" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer07") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer07") 0)
                (begin
                    (object_create_anew "cc_crashed07")
                    (object_destroy "cc2_computer07")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer08") 0)
                (cs_go_to_and_posture "cc_crash_pts_02/cc08" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer08") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer08") 0)
                (begin
                    (object_create_anew "cc_crashed08")
                    (object_destroy "cc2_computer08")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer09") 0)
                (cs_go_to_and_posture "cc_crash_pts_02/cc09" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer09") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer09") 0)
                (begin
                    (object_create_anew "cc_crashed09")
                    (object_destroy "cc2_computer09")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer10") 0)
                (cs_go_to_and_posture "cc_crash_pts_02/cc10" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer10") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer10") 0)
                (begin
                    (object_create_anew "cc_crashed10")
                    (object_destroy "cc2_computer10")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer17") 0)
                (cs_go_to_and_posture "cc_crash_pts_02/cc17" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer17") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer17") 0)
                (begin
                    (object_create_anew "cc_crashed17")
                    (object_destroy "cc2_computer17")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer21") 0)
                (cs_go_to_and_posture "cc_crash_pts_02/cc21" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer21") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer21") 0)
                (begin
                    (object_create_anew "cc_crashed21")
                    (object_destroy "cc2_computer21")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer22") 0)
                (cs_go_to_and_posture "cc_crash_pts_02/cc22" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer22") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer22") 0)
                (begin
                    (object_create_anew "cc_crashed22")
                    (object_destroy "cc2_computer22")
                )
            )
            (cs_posture_exit)
        )
    )
    (cs_go_to "cc_crash_pts_02/done02")
    (cs_face_object true "loop01_return_crate_bomb")
    (cs_walk true)
    (cs_draw)
    (sleep_forever)
)

(script command_script void cc_wiper_03
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_enable_pathfinding_failsafe true)
    (cs_stow)
    (begin_random
        (begin
            (if (> (object_get_health "cc2_computer11") 0)
                (cs_go_to_and_posture "cc_crash_pts_03/cc11" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer11") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer11") 0)
                (begin
                    (object_create_anew "cc_crashed11")
                    (object_destroy "cc2_computer11")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer20") 0)
                (cs_go_to_and_posture "cc_crash_pts_03/cc20" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer20") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer20") 0)
                (begin
                    (object_create_anew "cc_crashed20")
                    (object_destroy "cc2_computer20")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer12") 0)
                (cs_go_to_and_posture "cc_crash_pts_03/cc12" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer12") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer12") 0)
                (begin
                    (object_create_anew "cc_crashed12")
                    (object_destroy "cc2_computer12")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer13") 0)
                (cs_go_to_and_posture "cc_crash_pts_03/cc13" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer13") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer13") 0)
                (begin
                    (object_create_anew "cc_crashed13")
                    (object_destroy "cc2_computer13")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer14") 0)
                (cs_go_to_and_posture "cc_crash_pts_03/cc14" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer14") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer14") 0)
                (begin
                    (object_create_anew "cc_crashed14")
                    (object_destroy "cc2_computer14")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer18") 0)
                (cs_go_to_and_posture "cc_crash_pts_03/cc18" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer18") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer18") 0)
                (begin
                    (object_create_anew "cc_crashed18")
                    (object_destroy "cc2_computer18")
                )
            )
            (cs_posture_exit)
        )
        (begin
            (if (> (object_get_health "cc2_computer19") 0)
                (cs_go_to_and_posture "cc_crash_pts_03/cc19" "act_typing")
            )
            (sleep_until (<= (object_get_health "cc2_computer19") 0) 30 (random_range 150 300))
            (if (> (object_get_health "cc2_computer19") 0)
                (begin
                    (object_create_anew "cc_crashed19")
                    (object_destroy "cc2_computer19")
                )
            )
            (cs_posture_exit)
        )
    )
    (cs_go_to "cc_crash_pts_03/done03")
    (cs_face_object true "command_center_cin_door")
    (cs_walk true)
    (cs_draw)
    (ai_set_weapon_up ai_current_actor true)
    (sleep_forever)
)

(script command_script void cc_medic_02
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_enable_pathfinding_failsafe true)
    (cs_stow)
    (cs_go_to_and_posture "cc_med_pts/p4" "act_medic")
    (sleep_until (<= (ai_living_count "loop02_begin_vig07/injured_04") 0) (random_range 150 300))
    (cs_posture_exit)
    (cs_go_to "cc_med_pts/done02")
    (cs_face_object true "loop01_return_crate_bomb")
    (cs_draw)
    (sleep_forever)
)

(script dormant void 020vc_setup
    (ai_kill_silent "bugger_intro_cov")
    (ai_place "loop02_begin_vig01")
    (ai_place "loop02_begin_vig02")
    (ai_place "loop02_begin_vig05")
    (ai_place "loop02_begin_vig06")
    (ai_place "loop02_begin_vig07")
    (ai_set_targeting_group "loop02_begin_hum" 7 true)
    (object_create_anew "fake_mir_pel_01")
    (sleep 1)
    (device_set_position_immediate "command_center_cin_door" 0)
    (object_create_anew_containing "cc_monitor")
    (object_create_anew_containing "big_screeen_tv")
    (sleep 1)
    (object_create "gift_cigar")
    (object_destroy "cc_fakebomb")
    (object_destroy "cc_toolbox")
    (object_destroy "cc_tarpstack")
    (object_destroy "cc_pathfinder")
    (object_destroy_containing "cc_monitor_destroy")
    (object_destroy_containing "cc_computer")
    (object_create_anew_containing "cc2_computer")
    (object_create_anew_containing "loop01_return_crate")
    (object_create_anew "cc_crashed29")
    (object_create_anew "cc_med_console")
    (monitors_standby)
    (ai_place "fake_miranda_01")
    (ai_force_active "fake_miranda_01" true)
    (sleep_until (volume_test_players "loop02_begin_sgt_trig") 1)
    (object_create_anew "cin_main_screen")
    (object_create_anew "big_screen_tv")
    (object_destroy "default_monitor")
    (texture_camera_on)
    (sleep 1)
    (texture_camera_set_object_marker "gift_cam" "marker" 40)
)

(script dormant void 020vc_miranda_anim
    (vs_cast "fake_miranda_01/mir" false 10 "020vc_030")
    (set miranda (vs_role 1))
    (vs_custom_animation_loop miranda "objects\characters\miranda\cinematics\vignettes\020ve_gift_with_purchase\020ve_gift_with_purchase" "020ve_gift_with_purchase_miranda_var1" true)
    (sleep_until (= gift_var 1) 1)
    (vs_custom_animation miranda true "objects\characters\miranda\cinematics\vignettes\020ve_gift_with_purchase\020ve_gift_with_purchase" "020ve_gift_with_purchase_miranda_var5" true)
    (vs_stop_custom_animation miranda)
    (vs_custom_animation_loop miranda "objects\characters\miranda\cinematics\vignettes\020ve_gift_with_purchase\020ve_gift_with_purchase" "020ve_gift_with_purchase_miranda_var3" true)
    (sleep 1)
    (sleep_until (= gift_var 2) 1)
    (vs_custom_animation miranda true "objects\characters\miranda\cinematics\vignettes\020ve_gift_with_purchase\020ve_gift_with_purchase" "020ve_gift_with_purchase_miranda_var4" true)
    (vs_custom_animation_loop miranda "objects\characters\miranda\cinematics\vignettes\020ve_gift_with_purchase\020ve_gift_with_purchase" "020ve_gift_with_purchase_miranda_var1" true)
    (sleep_forever)
)

(script dormant void 020vc_01
    (wake 020vc_miranda_anim)
    (ai_dialogue_enable false)
    (vs_cast "loop02_begin_vig01" false 10 "020vc_010")
    (set 05_sergeant (vs_role 1))
    (vs_cast "loop02_begin_vig06/joh" false 10 "")
    (set johnson (vs_role 1))
    (if (= (game_insertion_point_get) 0)
        (begin
            (if dialogue
                (print "sergeant : if i try and hook up a timerit might go off all by itself.")
            )
            (vs_play_line 05_sergeant true 020vc_020)
            (sleep 10)
            (vs_face_object 05_sergeant false "big_screen_tv")
            (if dialogue
                (print "miranda : johnson?")
            )
            (sound_impulse_trigger "sound\dialog\020_base\vignette\020vc_030_mir" "big_screen_spkr" 1 1)
            (sleep (ai_play_line miranda 020vc_035))
            (if dialogue
                (print "johnson : mmm-hmm?")
            )
            (vs_play_line johnson true 020vc_040)
            (sleep 10)
            (vs_stop_custom_animation johnson)
        )
        (sleep 15)
    )
    (if dialogue
        (print "miranda : you might want to put that out.")
    )
    (sound_impulse_trigger "sound\dialog\020_base\vignette\020vc_050_mir" "big_screen_spkr" 1 1)
    (sleep (ai_play_line miranda 020vc_055))
    (set gift_var 1)
    (scenery_animation_start_relative "gift_cigar" "objects\cinematics\human\cigar\cigar_good\cinematics\vignettes\020ve_gift_with_purchase\020ve_gift_with_purchase" "020ve_gift_with_purchase_cigar_putout" "johnson_cigar_anchor")
    (vs_custom_animation johnson false "objects\characters\marine\cinematics\vignettes\020ve_gift_with_purchase\020ve_gift_with_purchase" "020ve_gift_with_purchase_cigar_putout" true "loop01_return_points/p30")
    (wake johnson_stop_animating)
    (if dialogue
        (print "miranda (monitor): chief? have a look")
    )
    (sound_impulse_trigger "sound\dialog\020_base\vignette\020vc_060_mir" "big_screen_spkr" 1 1)
    (sleep (ai_play_line miranda 020vc_065))
    (sleep 10)
    (if dialogue
        (print "miranda (monitor): a little going away gift for the covenant.")
    )
    (sound_impulse_trigger "sound\dialog\020_base\vignette\020vc_080_mir" "big_screen_spkr" 1 1)
    (sleep (ai_play_line miranda 020vc_085))
    (sleep 10)
    (if dialogue
        (print "miranda (monitor): we've linked it to smaller charges throughout the base")
    )
    (sound_impulse_trigger "sound\dialog\020_base\vignette\020vc_090_mir" "big_screen_spkr" 1 1)
    (sleep (ai_play_line miranda 020vc_095))
    (sleep 10)
    (set gift_var 2)
    (vs_look_object miranda true "gift_look_center")
    (if dialogue
        (print "miranda (monitor): johnson? soon as the evacuation is complete? start the timer.")
    )
    (sound_impulse_trigger "sound\dialog\020_base\vignette\020vc_100_mir" "big_screen_spkr" 1 1)
    (sleep (ai_play_line miranda 020vc_105))
    (sleep 10)
    (if dialogue
        (print "johnson: understood.")
    )
    (sleep (ai_play_line johnson 020vc_110))
    (sleep 10)
    (if dialogue
        (print "miranda (monitor): good luck everyone. see you on the last pelican out.")
    )
    (sound_impulse_trigger "sound\dialog\020_base\vignette\020vc_120_mir" "big_screen_spkr" 1 1)
    (sleep (ai_play_line miranda 020vc_125))
    (sleep 10)
    (vs_look_object miranda false "gift_look_center")
    (texture_camera_off)
    (object_destroy "cin_main_screen")
    (object_destroy "big_screen_tv")
    (object_create_anew "default_monitor")
    (sleep 1)
    (vs_release miranda)
    (ai_erase "fake_miranda_01")
    (object_destroy "fake_mir_pel_01")
    (vs_enable_pathfinding_failsafe johnson true)
    (if (and (not (game_is_cooperative)) (= (volume_test_players "vol_near_cc_exit") false))
        (begin
            (sleep 30)
            (vs_face_object johnson true (player0))
            (if dialogue
                (print "johnson: follow me, chief.")
            )
            (vs_play_line johnson true 020vc_130)
            (sleep 10)
            (vs_face_object johnson false (player0))
        )
    )
    (if (and (game_is_cooperative) (= (volume_test_players "vol_near_cc_exit") false) (not (vs_running_atom_movement johnson)))
        (begin
            (sleep 30)
            (vs_face_object johnson true (player0))
            (if dialogue
                (print "johnson: chief? arbiter? follow me.")
            )
            (vs_play_line johnson true 020vc_140)
            (sleep 10)
            (vs_face_object johnson false (player0))
        )
    )
    (vs_face_object johnson false "big_screen_tv")
    (vs_movement_mode johnson 2)
    (vs_go_to johnson true "loop01_return_points/p28")
    (vs_enable_moving johnson false)
    (sleep_until (not (vs_running_atom_movement johnson)) 5)
    (vs_face_player johnson true)
    (sleep_until (< (objects_distance_to_object (players) (ai_get_object johnson)) 1.5))
    (if dialogue
        (print "johnson: brutes have taken the barracks. marines are trapped inside.")
    )
    (vs_play_line johnson true 020mg_020)
    (sleep 10)
    (if dialogue
        (print "johnson: those apes ain't much for mercy, chief")
    )
    (vs_play_line johnson true 020mg_030)
    (sleep 10)
    (if dialogue
        (print "johnson: we both know what they do with prisoners.")
    )
    (vs_play_line johnson true 020mg_040)
    (wake obj_barracks_set)
    (set loop02_navpoint_bool true)
    (sleep 90)
    (if dialogue
        (print "johnson: get to the barracks. save those men.")
    )
    (vs_play_line johnson true 020mg_050)
    (sleep 10)
    (if dialogue
        (print "johnson: then escort them up to the north hangar for immediate evac!")
    )
    (vs_play_line johnson true 020mg_060)
    (ai_dialogue_enable true)
    (sleep 900)
    (vs_face_player johnson false)
    (vs_enable_moving johnson true)
    (vs_walk johnson true)
    (vs_go_to johnson true "loop01_return_points/p30")
    (vs_enable_moving johnson false)
    (sleep_until (and (< (objects_distance_to_object (players) (ai_get_object johnson)) 2) (= (vs_running_atom_movement johnson) false)))
    (vs_face_player johnson true)
    (sleep_until (< (objects_distance_to_object (players) (ai_get_object johnson)) 2))
    (if dialogue
        (print "johnson: i'll guard the bomb, chief! get yourself to the barracks!")
    )
    (vs_play_line johnson true 020mg_070)
    (sleep 900)
    (sleep_until (< (objects_distance_to_object (players) (ai_get_object johnson)) 2))
    (if dialogue
        (print "johnson: fastest way to the barracks is out this door, through the motor-pool.")
    )
    (vs_play_line johnson true none)
    (sleep 10)
    (sleep 900)
    (sleep_until (< (objects_distance_to_object (players) (ai_get_object johnson)) 2))
    (if dialogue
        (print "johnson: chief! go! or those marines are gonna die!")
    )
    (vs_play_line johnson true none)
    (sleep 10)
)

(script dormant void player_allegiance_broken
    (sleep_until (or (ai_allegiance_broken player human) (ai_allegiance_broken human player)) 5)
    (ai_dialogue_enable true)
)

(script dormant void johnson_stop_animating
    (sleep_until (not (unit_is_playing_custom_animation johnson)) 1)
    (vs_stop_custom_animation johnson)
    (vs_face_object johnson true "big_screen_tv")
)

(script dormant void 020vc_gift_with_purchase
    (wake player_allegiance_broken)
    (wake 020vc_setup)
    (sleep_until (volume_test_players "loop02_begin_sgt_trig"))
    (wake 020vc_01)
)

(script dormant void 020ve_marine_dies
    (sleep_until (volume_test_players "barracks_vignette_start_trig") 1)
    (object_create_anew "thrown_marine")
    (object_set_velocity "thrown_marine" -5 0 2)
    (sound_impulse_start "sound\dialog\combat\marine3\02_danger\thrwn.sound" "thrown_marine" 1)
    (sleep 30)
    (sound_impulse_start "sound\dialog\combat\marine3\02_danger\thrwn.sound" "thrown_marine" 1)
    (effect_new_at_ai_point "fx\material_effects\objects\weapons\impact\impact_bullet_medium\soft_organic_flesh.effect" "barracks_vignette/p3")
)

(script dormant void 020ve_brute_throw_marine
    (if debug
        (print "vt:07:barracks:01")
    )
    (ai_place "barracks_pack1_01")
    (ai_place "barracks_marine01")
    (ai_place "barracks_marine02")
    (ai_place "barracks_marine03")
    (ai_place "barracks_marine04")
    (wake barracks_marine04_anim)
    (wake 020_07_disregard_marines)
    (vs_cast "barracks_pack1_01/01" true 10 "020ve_010")
    (set 07_brute_a (vs_role 1))
    (vs_cast "barracks_pack1_01/02" false 10 "020ve_030")
    (set 07_brute_b (vs_role 1))
    (vs_cast "barracks_marine01" false 10 "020ve_020")
    (set 07_marine_a (vs_role 1))
    (vs_set_cleanup_script barracks_marine01_anim)
    (vs_abort_on_damage true)
    (vs_stow 07_brute_a)
    (vs_custom_animation_loop 07_marine_a "objects\characters\marine\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "020vb_vict_idle" false "barracks_vignette/p0")
    (vs_custom_animation_loop 07_brute_a "objects\characters\brute\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "020vb_exec_idle" false "barracks_vignette/p0")
    (vs_look_object 07_brute_b true (ai_get_object 07_brute_a))
    (vs_look_object 07_brute_f true (ai_get_object 07_brute_a))
    (sleep_until (volume_test_players "barracks_vignette_start_trig") 1)
    (sleep (random_range 90 120))
    (if dialogue
        (print "brute: (growl)")
    )
    (ai_play_line 07_brute_b 020ve_010)
    (sleep 10)
    (if (<= (ai_combat_status "barracks_pack1_01") 4)
        (begin
            (if dialogue
                (print "marine: no! please!")
            )
            (vs_play_line 07_marine_a true 020ve_020)
            (sleep 10)
        )
        (vs_release 07_brute_b)
    )
    (if (<= (ai_combat_status "barracks_pack1_01") 4)
        (begin
            (if dialogue
                (print "brute: look! it has soiled itself!")
            )
            (vs_play_line 07_brute_a true 020ve_030)
            (sleep 10)
        )
        (vs_release 07_brute_b)
    )
    (if (<= (ai_combat_status "barracks_pack1_01") 4)
        (begin
            (if dialogue
                (print "brute: these are whelps not warriors!")
            )
            (vs_play_line 07_brute_b true 020ve_040)
            (sleep 10)
            (vs_release 07_brute_b)
        )
        (vs_release 07_brute_b)
    )
    (if debug
        (print "kill animation")
    )
    (vs_custom_animation 07_brute_a false "objects\characters\brute\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "020vb_exec_kill" true "barracks_vignette/p0")
    (vs_custom_animation_death 07_marine_a true "objects\characters\marine\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "020vb_vict_kill" true "barracks_vignette/p0")
    (vs_abort_on_alert true)
    (vs_abort_on_damage true)
    (if (<= (ai_combat_status "barracks_pack1_01") 4)
        (begin
            (if dialogue
                (print "brute: got some on my pelt")
            )
            (vs_play_line 07_brute_a false 020ve_050)
        )
        (vs_release 07_brute_b)
    )
    (if (<= (ai_combat_status "barracks_pack1_01") 4)
        (begin
            (if dialogue
                (print "brute: (laughter)")
            )
            (vs_play_line 07_brute_a false 020ve_060)
            (sleep 60)
        )
        (vs_release 07_brute_b)
    )
    (ai_activity_abort "barracks_pack1_01/01")
    (ai_activity_abort "barracks_pack1_01/02")
    (ai_activity_abort "barracks_pack1_01/03")
    (sleep_until (not (unit_is_playing_custom_animation 07_brute_a)) 1)
    (vs_release_all)
)

(script command_script void cs_brute_look
    (sleep_until (volume_test_players "barracks_vignette_start_trig") 1)
    (cs_abort_on_alert true)
    (cs_abort_on_damage true)
    (sleep 90)
    (cs_walk true)
    (cs_go_to "barracks_patrol/p19")
    (cs_look_object true (ai_get_object "barracks_pack1_01/01"))
    (sleep_forever)
)

(script dormant void vt_07_barracks_02
    (if debug
        (print "vt:07:barracks:02")
    )
    (vs_set_cleanup_script barracks_marine02_anim)
    (vs_cast "barracks_marine02" false 10 "")
    (set 07_marine_b (vs_role 1))
    (vs_cast "barracks_pack1_01/captain" true 10 "020ve_010")
    (set 07_brute_c (vs_role 1))
    (vs_abort_on_damage true)
    (vs_stow 07_brute_c)
    (vs_custom_animation_loop 07_brute_c "objects\characters\brute\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "010va_exec_1_idle" false "barracks_vignette/p1")
    (vs_custom_animation_loop 07_marine_b "objects\characters\marine\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "010va_exec_1_idle" false "barracks_vignette/p1")
    (sleep_until (volume_test_players "vt_barracks02_trig") 5)
    (vs_abort_on_damage false)
    (vs_custom_animation 07_brute_c false "objects\characters\brute\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "010va_exec_1_kill" true "barracks_vignette/p1")
    (vs_custom_animation_death 07_marine_b true "objects\characters\marine\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "010va_exec_1_kill" true "barracks_vignette/p1")
    (sleep_until (not (unit_is_playing_custom_animation 07_brute_c)) 1)
    (vs_release_all)
)

(script static void barracks_test
    (ai_place "barracks_pack1_01/03")
    (ai_place "barracks_marine03")
    (wake 020_07_disregard_marines)
    (if debug
        (print "vt:07:barracks:03")
    )
    (vs_cast "barracks_pack1_01/03" true 10 "")
    (set 07_brute_d (vs_role 1))
    (vs_set_cleanup_script barracks_marine03_anim)
    (vs_cast "barracks_marine03" true 10 "")
    (set 07_marine_c (vs_role 1))
    (vs_abort_on_damage true)
    (vs_stow 07_brute_d)
    (vs_custom_animation_loop 07_marine_c "objects\characters\marine\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "010va_vict_idle" false "barracks_vignette/p2")
    (vs_custom_animation_loop 07_brute_d "objects\characters\brute\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "010va_exec_idle" false "barracks_vignette/p2")
    (vs_custom_animation 07_marine_c false "objects\characters\marine\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "010va_vict_kill" false "barracks_vignette/p2")
    (vs_custom_animation 07_brute_d true "objects\characters\brute\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "010va_exec_kill" true "barracks_vignette/p2")
    (vs_custom_animation 07_marine_c false "objects\characters\marine\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "010va_vict_dead" false "barracks_vignette/p2")
    (vs_custom_animation 07_brute_d true "objects\characters\brute\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "010va_exec_dead" true "barracks_vignette/p2")
    (sleep_until (not (unit_is_playing_custom_animation 07_brute_d)) 1)
    (vs_release_all)
)

(script dormant void vt_07_barracks_03
    (if debug
        (print "vt:07:barracks:03")
    )
    (vs_cast "barracks_pack1_01/03" true 10 "")
    (set 07_brute_d (vs_role 1))
    (vs_set_cleanup_script barracks_marine03_anim)
    (vs_cast "barracks_marine03" false 10 "")
    (set 07_marine_c (vs_role 1))
    (vs_abort_on_damage true)
    (vs_custom_animation_loop 07_marine_c "objects\characters\marine\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "010va_vict_idle" false "barracks_vignette/p2")
    (vs_custom_animation_loop 07_brute_d "objects\characters\brute\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "010va_exec_idle" false "barracks_vignette/p2")
    (sleep_until (volume_test_players "vt_barracks02_trig") 5)
    (vs_abort_on_damage false)
    (vs_custom_animation 07_marine_c false "objects\characters\marine\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "010va_vict_kill" false "barracks_vignette/p2")
    (vs_custom_animation 07_brute_d true "objects\characters\brute\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "010va_exec_kill" true "barracks_vignette/p2")
    (vs_custom_animation 07_brute_d false "objects\characters\brute\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "010va_exec_dead" true "barracks_vignette/p2")
    (vs_custom_animation_death 07_marine_c true "objects\characters\marine\cinematics\vignettes\010va_brute_intro\010va_brute_intro" "010va_vict_dead" false "barracks_vignette/p2")
    (ai_kill_silent 07_marine_c)
    (sleep_until (not (unit_is_playing_custom_animation 07_brute_d)) 1)
    (vs_release_all)
)

(script dormant void 020vf_truth_reprimand
    (if debug
        (print "020vf_truth_reprimand")
    )
    (if debug
        (print "vt:07:barracks:03")
    )
    (vs_set_cleanup_script 020vf_truth_abort)
    (object_create_anew "grav_throne")
    (sleep 1)
    (ai_place "fake_truth")
    (ai_force_active "fake_truth" true)
    (objects_attach "grav_throne" "driver_cinematic" (ai_get_object "fake_truth/truth") "driver")
    (sleep 1)
    (object_create_anew "cin_main_screen")
    (object_create_anew "big_screen_tv")
    (object_destroy "default_monitor")
    (texture_camera_on)
    (sleep 1)
    (texture_camera_set_object_marker "truth_cam" "marker" 40)
    (vs_cast "self_destruct_cov03/chieftain" true 10 "020vf_010")
    (set 10_brute_a (vs_role 1))
    (vs_cast "fake_truth/truth" true 10 "020vf_020")
    (set 10_truth (vs_role 1))
    (vs_abort_on_alert true)
    (if dialogue
        (print "chieftain: success, holy one! we have taken their command center!")
    )
    (vs_play_line 10_brute_a true 020vf_010)
    (sleep 10)
    (if dialogue
        (print "truth: have you discovered how they plan to stop me?")
    )
    (sound_impulse_trigger "sound\dialog\020_base\vignette\020vf_020_pot" "big_screen_spkr" 1 1)
    (vs_play_line 10_truth true 020vf_025)
    (sleep 10)
    (if dialogue
        (print "chieftain: not as yet, noble prophet.")
    )
    (vs_play_line 10_brute_a true 020vf_030)
    (sleep 10)
    (if dialogue
        (print "truth: find me what i need to know. or your place on the path is forfeit.")
    )
    (sound_impulse_trigger "sound\dialog\020_base\vignette\020vf_040_pot" "big_screen_spkr" 1 1)
    (vs_play_line 10_truth true 020vf_045)
    (sleep 10)
    (if dialogue
        (print "truth: tell me you understand.")
    )
    (sound_impulse_trigger "sound\dialog\020_base\vignette\020vf_050_pot" "big_screen_spkr" 1 1)
    (vs_play_line 10_truth true 020vf_055)
    (sleep 10)
    (if dialogue
        (print "chieftain: yes, holy one! it shall be done!")
    )
    (vs_play_line 10_brute_a true 020vf_060)
    (sleep 30)
    (texture_camera_off)
    (object_destroy "cin_main_screen")
    (object_destroy "big_screen_tv")
    (object_create_anew "default_monitor")
    (if dialogue
        (print "chieftain: bring in the drones! have them scour these machines!")
    )
    (vs_play_line 10_brute_a true 020vf_080)
    (sleep 10)
    (if dialogue
        (print "chieftain: find out what these heathens know about the ark!")
    )
    (vs_play_line 10_brute_a true 020mx_050)
    (sleep 10)
    (ai_activity_abort "self_destruct_cov01")
    (ai_activity_abort "self_destruct_cov02")
)

(script static void 020vf_truth_abort
    (texture_camera_off)
    (object_destroy "cin_main_screen")
    (object_destroy "big_screen_tv")
    (object_create_anew "default_monitor")
)

(script dormant void 020vg_rvb_easter_egg
    (sleep_until (volume_test_players "easter_egg_trig01") 5)
    (ai_place "rvb_marine")
    (vs_cast "rvb_marine" true 10 "")
    (set rvb_actor (vs_role 1))
    (vs_enable_pathfinding_failsafe rvb_actor true)
    (vs_go_to rvb_actor true "highway_a_warthog/p13")
    (vs_stop_custom_animation rvb_actor)
    (wake 020vg_rvb_easter_dialog)
    (vs_custom_animation rvb_actor true "objects\characters\marine\cinematics\vignettes\040va_password\040va_password" "040va_password_enter" true "highway_a_warthog/p13")
    (vs_custom_animation_loop rvb_actor "objects\characters\marine\cinematics\vignettes\040va_password\040va_password" "040va_password_loop_var4" true "highway_a_warthog/p13")
    (sleep_until (= rvb_end true) 1)
    (vs_custom_animation_loop rvb_actor "objects\characters\marine\cinematics\vignettes\040va_password\040va_password" "040va_password_loop_var3" true "highway_a_warthog/p13")
    (sleep_forever)
)

(script dormant void 020vg_rvb_easter_dialog
    (if (<= (game_difficulty_get_real) normal)
        (begin
            (print "hey! open up!")
            (sleep (ai_play_line "rvb_marine/01" 020mq_010))
            (sleep 10)
            (if (= (ai_living_count "rvb_marine/01") 1)
                (begin
                    (ai_play_line_on_point_set "020mq_020" "rvb_dialog" 1)
                    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mq_020_ma3"))
                    (print "password?")
                )
            )
            (print "you gotta be kidding me...what password?")
            (sleep (ai_play_line "rvb_marine/01" 020mq_030))
            (sleep 10)
            (if (= (ai_living_count "rvb_marine/01") 1)
                (begin
                    (ai_play_line_on_point_set "020mq_040" "rvb_dialog" 3)
                    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mq_040_ma3"))
                    (print "the password so we don't open the door for brutes.")
                )
            )
            (print "do i sound like a brute to you?")
            (sleep (ai_play_line "rvb_marine/01" 020mq_050))
            (sleep 10)
            (if (= (ai_living_count "rvb_marine/01") 1)
                (begin
                    (ai_play_line_on_point_set "020mq_060" "rvb_dialog" 3)
                    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mq_060_ma3"))
                    (print "you could be held prisoner by brutes.")
                )
            )
            (sleep (ai_play_line "rvb_marine/01" 020mq_070))
            (print "if i was held prisoner by brutes and knew the password, then the brutes could just force me to tell you the password and you would open the door for them.")
            (set rvb_var true)
            (sleep 60)
            (if (= (ai_living_count "rvb_marine/01") 1)
                (begin
                    (ai_play_line_on_point_set "020mq_080" "rvb_dialog" 3)
                    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mq_080_ma3"))
                    (print "ok, well now i'm definitely not opening the door.")
                )
            )
            (print "we need ammo!")
            (sleep (ai_play_line "rvb_marine/01" 020mq_090))
            (sleep 10)
            (if (= (ai_living_count "rvb_marine/01") 1)
                (begin
                    (ai_play_line_on_point_set "020mq_100" "rvb_dialog" 3)
                    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mq_100_ma3"))
                    (print "well, maybe you should ask your brute buddies then.")
                    (set rvb_end true)
                )
            )
        )
    )
    (if (= (game_difficulty_get_real) heroic)
        (begin
            (print "hey! open up!")
            (sleep (ai_play_line "rvb_marine/01" 020mq_110))
            (sleep 10)
            (if (= (ai_living_count "rvb_marine/01") 1)
                (begin
                    (ai_play_line_on_point_set "020mq_120" "rvb_dialog" 3)
                    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mq_120_ma3"))
                    (print "password?")
                )
            )
            (print "what?")
            (sleep (ai_play_line "rvb_marine/01" 020mq_130))
            (sleep 10)
            (if (= (ai_living_count "rvb_marine/01") 1)
                (begin
                    (ai_play_line_on_point_set "020mq_140" "rvb_dialog" 3)
                    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mq_140_ma3"))
                    (print "need the password.")
                )
            )
            (print "you gotta be kidding me...what password?")
            (sleep (ai_play_line "rvb_marine/01" 020mq_150))
            (sleep 10)
            (if (= (ai_living_count "rvb_marine/01") 1)
                (begin
                    (ai_play_line_on_point_set "020mq_160" "rvb_dialog" 3)
                    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mq_160_ma3"))
                    (print "the one they gave out at the staff meeting 15 minutes ago.")
                )
            )
            (print "what meeting? i was out here.")
            (sleep (ai_play_line "rvb_marine/01" 020mq_170))
            (sleep 10)
            (if (= (ai_living_count "rvb_marine/01") 1)
                (begin
                    (ai_play_line_on_point_set "020mq_180" "rvb_dialog" 3)
                    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mq_180_ma3"))
                    (print "not supposed to let anybody in without the password.")
                    (set rvb_var true)
                )
            )
            (print "if the staff meeting just ended, no one outside is going to know the freaking password. now open up. we need ammo and the chief is out here!")
            (sleep (ai_play_line "rvb_marine/01" 020mq_190))
            (sleep 60)
            (if (= (ai_living_count "rvb_marine/01") 1)
                (begin
                    (ai_play_line_on_point_set "020mq_200" "rvb_dialog" 3)
                    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mq_200_ma3"))
                    (print "does he know the password?")
                )
            )
            (ai_play_line "rvb_marine/01" 020mq_210)
            (print "he wasn't at the meeting!")
            (set rvb_end true)
        )
    )
    (if (= (game_difficulty_get_real) legendary)
        (begin
            (print "hey! open up!")
            (sleep (ai_play_line "rvb_marine/01" 020mq_220))
            (sleep 10)
            (if (= (ai_living_count "rvb_marine/01") 1)
                (begin
                    (ai_play_line_on_point_set "020mq_230" "rvb_dialog" 3)
                    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mq_230_ma3"))
                    (print "what's the password?")
                )
            )
            (print "password? oh man. i forgot.")
            (sleep (ai_play_line "rvb_marine/01" 020mq_240))
            (sleep 10)
            (if (= (ai_living_count "rvb_marine/01") 1)
                (begin
                    (ai_play_line_on_point_set "020mq_250" "rvb_dialog" 3)
                    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mq_250_ma3"))
                    (print "forgot... what?")
                )
            )
            (print "i forgot the password.")
            (sleep (ai_play_line "rvb_marine/01" 020mq_260))
            (sleep 10)
            (if (= (ai_living_count "rvb_marine/01") 1)
                (begin
                    (ai_play_line_on_point_set "020mq_270" "rvb_dialog" 3)
                    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mq_270_ma3"))
                    (print "that was almost right. the password begins with i forgot... but ends differently. try again. ")
                )
            )
            (print "no, i mean i forgot the password")
            (sleep (ai_play_line "rvb_marine/01" 020mq_280))
            (sleep 10)
            (if (= (ai_living_count "rvb_marine/01") 1)
                (begin
                    (ai_play_line_on_point_set "020mq_290" "rvb_dialog" 3)
                    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mq_290_ma3"))
                    (print "if i was held prisoner by brutes and knew the password, then the brutes could just force me to tell you the password and you would open the door for them.")
                    (set rvb_var true)
                    (sleep 60)
                )
            )
            (print "i am being serious! i don't know the password.")
            (sleep (ai_play_line "rvb_marine/01" 020mq_300))
            (sleep 10)
            (if (= (ai_living_count "rvb_marine/01") 1)
                (begin
                    (ai_play_line_on_point_set "020mq_310" "rvb_dialog" 3)
                    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mq_310_ma3"))
                    (print "no, no. you changed the first part. that was part was right. now you got the whole thing wrong.")
                )
            )
            (print "listen to me. i forgot what the password is and i just need you to open the door.")
            (sleep (ai_play_line "rvb_marine/01" 020mq_320))
            (sleep 10)
            (if (= (ai_living_count "rvb_marine/01") 1)
                (begin
                    (ai_play_line_on_point_set "020mq_330" "rvb_dialog" 3)
                    (sleep (sound_impulse_language_time "sound\dialog\020_base\mission\020mq_330_ma3"))
                    (print "come on, man. now you're just guessing.")
                    (set rvb_end true)
                )
            )
        )
    )
)

(script dormant void bb_miranda
    (if (or (volume_test_players "g_command_center_trig_a") (volume_test_players "g_command_center_trig_b") (volume_test_players "g_command_center_trig_c"))
        (begin
            (sleep (ai_play_line miranda 020bb_010))
            (sleep 10)
            (sleep (ai_play_line miranda 020bb_030))
            (sleep 10)
            (sleep (ai_play_line miranda 020bb_040))
            (sleep 10)
        )
    )
)

(script dormant void br_bb_hangar_a
    (sleep_until (= (volume_test_players "cave_a_hwy_marines01_trig") true) 5)
    (texture_camera_off)
    (object_destroy "cin_main_screen")
    (object_destroy "big_screen_tv")
    (object_create_anew "default_monitor")
    (sleep 1)
    (set briefing_play true)
    (ai_dialogue_enable false)
    (wake bb_miranda)
    (if dialogue
        (print "miranda: chief? good. this channel is secure.")
    )
    (sleep (ai_play_line_on_object none 020bb_010))
    (sleep 10)
    (if dialogue
        (print "miranda: my fire teams are spread thin. we can't hold the base forever.")
    )
    (sleep (ai_play_line_on_object none 020bb_030))
    (sleep 10)
    (if dialogue
        (print "miranda: i need that hangar cleared for evac a-sap!")
    )
    (sleep (ai_play_line_on_object none 020bb_040))
    (sleep 10)
    (ai_dialogue_enable true)
    (set briefing_play false)
)

(script dormant void br_10_command_objective
    (set briefing_play true)
    (if debug
        (print "playing 020be_elevator")
    )
    (ai_dialogue_enable false)
    (if dialogue
        (print "miranda (radio): that did it, chief! bomb's armed!")
    )
    (sleep (ai_play_line_on_object none 020mn_030))
    (ai_dialogue_enable true)
    (set g_music_020_13 true)
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "johnson (radio): we got your exit: a service elevator in the hangar!")
    )
    (sleep (ai_play_line_on_object none 020mx_060))
    (sleep 10)
    (ai_dialogue_enable true)
    (sleep_until (= cortana_talking false) 5)
    (ai_dialogue_enable false)
    (if dialogue
        (print "johnson (radio): head downstairs, cut through the caves!")
    )
    (sleep (ai_play_line_on_object none 020mx_070))
    (sleep 10)
    (set g_music_020_12 false)
    (ai_dialogue_enable true)
    (set briefing_play false)
    (wake md_11_cave_hangar_joh)
)

(script dormant void cortana_moment_a
    (sleep_until (volume_test_players "cortana_moment_sewer_trig") 1)
    (set cortana_talking true)
    (wake 020cb_called_upon)
    (set cortana_talking false)
)

(script dormant void cortana_moment_b
    (sleep_until (volume_test_players "vol_cortana_hall_start") 1)
    (set g_music_020_114 false)
    (wake 10_rumble_event_strong)
    (set cortana_talking true)
    (wake 020cc_protectors)
    (sleep 164)
    (set cortana_talking false)
    (wake 020_music_115)
)

(script dormant void cortana_moment_c
    (sleep_until (volume_test_players "cave_a_hwy_marines00_trig") 1)
    (wake 12_rumble_event_strong)
    (set cortana_talking true)
    (wake 020cd_hardship)
    (set cortana_talking false)
    (game_save)
)

(script dormant void cortana_moment_e
    (sleep_until (volume_test_players "hangar_a_entrance_trig") 1)
    (wake 15_rumble_event_strong)
    (set cortana_talking true)
    (wake 020cg_become)
    (set cortana_talking false)
)

(script dormant void cortana_moment_f
    (sleep_until (> (device_get_position "exit_elev_switch02") 0) 1)
    (device_set_position "exit_elev_top" 0)
    (device_set_position "exit_elev_front" 0)
    (set g_music_020_13 false)
    (set g_music_020_135 false)
    (set g_music_020_14 false)
    (sleep_until (= (device_get_position "exit_elev_front") 0) 1)
    (exit_door_break)
    (volume_teleport_players_not_inside "blow_up_safe_zone" "exit_navpoint01")
    (player_effect_set_max_rotation 0 1 0.25)
    (player_effect_set_max_rumble 1 1)
    (object_create_anew "door_flames")
    (player_effect_start 0.6 0.25)
    (sleep 60)
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl1.sound" none 1)
    (sleep 60)
    (set cortana_talking true)
    (wake 020cf_your_tomb)
    (set cortana_talking false)
    (sleep 30)
    (device_set_position "elevator_exit" 1)
    (sleep 145)
    (sound_impulse_start "sound\levels\020_base\sound_scenery\base_blowed_up.sound" none 1)
    (sound_class_set_gain "device_door" 0 240)
    (sleep 95)
    (effect_new "levels\solo\020_base\fx\bombing\bombing_end.effect" "exit_navpoint01")
    (player_effect_stop 0.25)
    (object_create_anew "shaft_explosion_side")
    (object_create_anew "shaft_explosion_down")
    (player_effect_set_max_rotation 0 1 0.25)
    (player_effect_set_max_rumble 1 1)
    (player_effect_start 0.75 0)
    (sleep 60)
    (fade_out 0 0 0 5)
    (player_effect_stop 5)
    (sleep 180)
    (sound_class_set_gain "ambient" 0 60)
    (sleep 60)
    (set cortana_talking true)
    (sound_impulse_start "sound\dialog\020_base\cortana\020cx_045_cor" none 1)
    (sleep (sound_impulse_language_time "sound\dialog\020_base\cortana\020cx_045_cor"))
    (player_effect_stop 0.5)
    (sleep_forever rumble_event_strong_loop)
    (sleep_forever rumble_cave_a)
    (sleep_forever rumble_command_center)
    (sleep_forever rumble_hangar_a)
    (sleep_forever rumble_hallway_a)
    (sleep_forever rumble_hallway_b)
    (sleep_forever rumble_highway_a)
    (sleep 30)
    (sound_class_set_gain "" 0 90)
    (sleep 150)
    (cinematic_snap_to_black)
    (game_award_level_complete_achievements)
    (sleep 5)
    (end_mission)
)

(script static void exit_door_break
    (device_set_position "exit_elev_front" 0)
    (device_set_position "exit_elev_top" 0.4)
    (sleep (random_range 5 10))
    (device_set_position "exit_elev_top" 0.45)
    (sleep (random_range 5 10))
    (device_set_position "exit_elev_top" 0.35)
    (sleep (random_range 5 10))
    (device_set_position "exit_elev_top" 0.4)
    (sleep (random_range 5 10))
)

(script dormant void cor_pa_static01
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (set static_end true)
)

(script dormant void cor_pa_static02
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (set static_end true)
)

(script dormant void cor_pa_static03
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (set static_end true)
)

(script dormant void cor_pa_static04
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (set static_end true)
)

(script dormant void cor_pa_static05
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (set static_end true)
)

(script dormant void cor_pa_static06
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_in 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 7))
    (fade_out 74 105 255 (random_range 7 12))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (set static_end true)
)

(script static void hud_flicker_out
    (chud_cinematic_fade 0 (real_random_range 0 0.05))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 5))
    (chud_cinematic_fade 1 (real_random_range 0 0.05))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 5))
    (chud_cinematic_fade 0 (real_random_range 0 0.05))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 5))
    (chud_cinematic_fade 1 (real_random_range 0 0.05))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 5))
    (chud_cinematic_fade 0 (real_random_range 0 0.05))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 5))
    (chud_cinematic_fade 1 (real_random_range 0 0.05))
    (sound_impulse_start "sound\visual_fx\sparks_medium" none 1)
    (sleep (random_range 2 5))
    (chud_cinematic_fade 0 (real_random_range 0 0.05))
)

(script static void (fx_dust_low (point_reference location))
    (effect_new_random "fx\scenery_fx\ceiling_dust\human_dust_fall_small\human_dust_fall_small.effect" location)
    (set temp_point (ai_random_smart_point location 0.25 30 60))
    (effect_new_at_ai_point "fx\scenery_fx\ceiling_dust\human_dust_fall_small\human_dust_fall_small.effect" temp_point)
)

(script static void (fx_dust_mid (point_reference location))
    (effect_new_random "fx\scenery_fx\ceiling_dust\human_dust_fall_medium\human_dust_fall_medium.effect" location)
    (set temp_point (ai_random_smart_point location 0.25 30 60))
    (effect_new_at_ai_point "fx\scenery_fx\ceiling_dust\human_dust_fall_medium\human_dust_fall_medium.effect" temp_point)
)

(script static void (fx_dust_high (point_reference location))
    (effect_new_random "fx\scenery_fx\ceiling_dust\human_dust_fall_large\human_dust_fall_large.effect" location)
    (set temp_point (ai_random_smart_point location 0.25 30 60))
    (effect_new_at_ai_point "fx\scenery_fx\ceiling_dust\human_dust_fall_large\human_dust_fall_large.effect" temp_point)
)

(script static void (fx_debris_low (point_reference location))
    (effect_new_random "fx\scenery_fx\ceiling_dust\human_debris_fall_small\human_debris_fall_small.effect" location)
    (set temp_point (ai_random_smart_point location 0.25 30 60))
    (effect_new_at_ai_point "fx\scenery_fx\ceiling_dust\human_debris_fall_small\human_debris_fall_small.effect" temp_point)
)

(script static void (fx_debris_mid (point_reference location))
    (effect_new_random "fx\scenery_fx\ceiling_dust\human_debris_fall_medium\human_debris_fall_medium.effect" location)
    (set temp_point (ai_random_smart_point location 0.25 30 60))
    (effect_new_at_ai_point "fx\scenery_fx\ceiling_dust\human_debris_fall_medium\human_debris_fall_medium.effect" temp_point)
)

(script static void (fx_debris_high (point_reference location))
    (effect_new_random "fx\scenery_fx\ceiling_dust\human_debris_fall_large\human_debris_fall_large.effect" location)
    (set temp_point (ai_random_smart_point location 0.25 30 60))
    (effect_new_at_ai_point "fx\scenery_fx\ceiling_dust\human_debris_fall_large\human_debris_fall_large.effect" temp_point)
)

(script continuous void rumble_cave_a
    (if (or (volume_test_players "g_cave_a_trig_a") (volume_test_players "g_cave_a_trig_b"))
        (begin
            (print "rumble_cave_a")
            (set rumble_var (random_range 0 6))
            (if (= rumble_var 0)
                (fx_dust_high "fx_cave_a_high")
                (if (= rumble_var 1)
                    (fx_debris_mid "fx_cave_a_mid")
                    (if (= rumble_var 2)
                        (fx_debris_high "fx_cave_a_high")
                        (if (= rumble_var 3)
                            (fx_dust_low "fx_cave_a_low")
                            (if (= rumble_var 4)
                                (fx_dust_mid "fx_cave_a_mid")
                                (if (= rumble_var 5)
                                    (fx_dust_high "fx_cave_a_high")
                                )
                            )
                        )
                    )
                )
            )
            (if (= intensity_var 1)
                (sleep (random_range 30 45))
                (if (= intensity_var 2)
                    (sleep (random_range 15 30))
                    (if (= intensity_var 3)
                        (sleep (random_range 0 15))
                    )
                )
            )
        )
    )
)

(script continuous void rumble_command_center
    (if (or (volume_test_players "g_command_center_trig_a") (volume_test_players "g_command_center_trig_b") (volume_test_players "g_command_center_trig_c"))
        (begin
            (print "rumble_command_center")
            (fx_dust_high "fx_command_center_high")
            (fx_dust_high "fx_command_center_high")
            (if (= intensity_var 1)
                (sleep (random_range 30 45))
                (if (= intensity_var 2)
                    (sleep (random_range 15 30))
                    (if (= intensity_var 3)
                        (sleep (random_range 0 15))
                    )
                )
            )
        )
    )
)

(script continuous void rumble_hallway_a
    (if (or (volume_test_players "g_hallway_a_trig_a") (volume_test_players "g_hallway_a_trig_b") (volume_test_players "g_hallway_a_trig_c") (volume_test_players "g_hallway_a_trig_d") (volume_test_players "g_hallway_a_trig_e"))
        (begin
            (print "rumble_hallway_a")
            (set rumble_var (random_range 0 4))
            (if (= rumble_var 0)
                (fx_dust_low "fx_hallway_a_01_low")
                (if (= rumble_var 1)
                    (fx_dust_low "fx_hallway_a_02_low")
                    (if (= rumble_var 2)
                        (fx_dust_low "fx_hallway_a_03_low")
                        (if (= rumble_var 3)
                            (fx_dust_low "fx_hallway_a_04_low")
                        )
                    )
                )
            )
            (set rumble_var (random_range 0 4))
            (if (= rumble_var 0)
                (fx_dust_low "fx_hallway_a_01_low")
                (if (= rumble_var 1)
                    (fx_dust_low "fx_hallway_a_02_low")
                    (if (= rumble_var 2)
                        (fx_dust_low "fx_hallway_a_03_low")
                        (if (= rumble_var 3)
                            (fx_dust_low "fx_hallway_a_04_low")
                        )
                    )
                )
            )
            (if (= intensity_var 1)
                (sleep (random_range 30 45))
                (if (= intensity_var 2)
                    (sleep (random_range 15 30))
                    (if (= intensity_var 3)
                        (sleep (random_range 0 15))
                    )
                )
            )
        )
    )
)

(script continuous void rumble_highway_a
    (if (or (volume_test_players "g_highway_trig_a") (volume_test_players "g_highway_trig_b"))
        (begin
            (print "rumble_highway_a")
            (set rumble_var (random_range 0 2))
            (if (= rumble_var 0)
                (fx_dust_high "fx_highway_a_01_high")
                (if (= rumble_var 1)
                    (fx_dust_high "fx_highway_a_02_high")
                )
            )
            (set rumble_var (random_range 0 2))
            (if (= rumble_var 0)
                (fx_dust_high "fx_highway_a_01_high")
                (if (= rumble_var 1)
                    (fx_dust_high "fx_highway_a_02_high")
                )
            )
            (if (= intensity_var 1)
                (sleep (random_range 30 45))
                (if (= intensity_var 2)
                    (sleep (random_range 15 30))
                    (if (= intensity_var 3)
                        (sleep (random_range 0 15))
                    )
                )
            )
        )
    )
)

(script continuous void rumble_hallway_b
    (if (volume_test_players "g_hallway_b_trig_a")
        (begin
            (print "rumble_hallway_b")
            (fx_dust_low "fx_hallway_b_low")
            (fx_dust_low "fx_hallway_b_low")
            (if (= intensity_var 1)
                (sleep (random_range 30 45))
                (if (= intensity_var 2)
                    (sleep (random_range 15 30))
                    (if (= intensity_var 3)
                        (sleep (random_range 0 15))
                    )
                )
            )
        )
    )
)

(script continuous void rumble_hangar_a
    (if (volume_test_players "g_hangar_a_trig_a")
        (begin
            (print "rumble_hangar_a")
            (set rumble_var (random_range 0 7))
            (if (= rumble_var 0)
                (fx_dust_mid "fx_hangar_a_01_mid")
                (if (= rumble_var 1)
                    (fx_dust_mid "fx_hangar_a_01_mid")
                    (if (= rumble_var 2)
                        (fx_dust_high "fx_hangar_a_01_high")
                        (if (= rumble_var 3)
                            (fx_dust_low "fx_hangar_a_01_low")
                            (if (= rumble_var 4)
                                (fx_dust_low "fx_hangar_a_02_low")
                                (if (= rumble_var 5)
                                    (fx_dust_low "fx_hangar_a_03_low")
                                    (if (= rumble_var 6)
                                        (fx_dust_high "fx_hangar_a_01_high")
                                    )
                                )
                            )
                        )
                    )
                )
            )
            (set rumble_var (random_range 0 7))
            (if (= rumble_var 0)
                (fx_dust_mid "fx_hangar_a_01_mid")
                (if (= rumble_var 1)
                    (fx_dust_mid "fx_hangar_a_01_mid")
                    (if (= rumble_var 2)
                        (fx_dust_high "fx_hangar_a_01_high")
                        (if (= rumble_var 3)
                            (fx_dust_low "fx_hangar_a_01_low")
                            (if (= rumble_var 4)
                                (fx_dust_low "fx_hangar_a_02_low")
                                (if (= rumble_var 5)
                                    (fx_dust_low "fx_hangar_a_03_low")
                                    (if (= rumble_var 6)
                                        (fx_dust_high "fx_hangar_a_01_high")
                                    )
                                )
                            )
                        )
                    )
                )
            )
            (if (= intensity_var 1)
                (sleep (random_range 30 45))
                (if (= intensity_var 2)
                    (sleep (random_range 15 30))
                    (if (= intensity_var 3)
                        (sleep (random_range 0 15))
                    )
                )
            )
        )
    )
)

(script continuous void rumble_motor_pool
    (if (or (volume_test_players "g_motor_pool_trig_a") (volume_test_players "g_motor_pool_trig_b") (volume_test_players "g_motor_hallway_trig_a"))
        (begin
            (print "rumble_motor_pool")
            (set rumble_var (random_range 0 6))
            (if (= rumble_var 0)
                (fx_dust_low "fx_motor_pool_01_low")
                (if (= rumble_var 1)
                    (fx_dust_low "fx_motor_pool_02_low")
                    (if (= rumble_var 2)
                        (fx_dust_low "fx_motor_pool_03_low")
                        (if (= rumble_var 3)
                            (fx_dust_high "fx_motor_pool_01_high")
                            (if (= rumble_var 4)
                                (fx_dust_high "fx_motor_pool_01_high")
                                (if (= rumble_var 5)
                                    (fx_dust_low "fx_motor_pool_04_low")
                                )
                            )
                        )
                    )
                )
            )
            (set rumble_var (random_range 0 6))
            (if (= rumble_var 0)
                (fx_dust_low "fx_motor_pool_01_low")
                (if (= rumble_var 1)
                    (fx_dust_low "fx_motor_pool_02_low")
                    (if (= rumble_var 2)
                        (fx_dust_low "fx_motor_pool_03_low")
                        (if (= rumble_var 3)
                            (fx_dust_high "fx_motor_pool_01_high")
                            (if (= rumble_var 4)
                                (fx_dust_high "fx_motor_pool_01_high")
                                (if (= rumble_var 5)
                                    (fx_dust_low "fx_motor_pool_04_low")
                                )
                            )
                        )
                    )
                )
            )
            (if (= intensity_var 1)
                (sleep (random_range 30 45))
                (if (= intensity_var 2)
                    (sleep (random_range 15 30))
                    (if (= intensity_var 3)
                        (sleep (random_range 0 15))
                    )
                )
            )
        )
    )
)

(script continuous void rumble_sewer
    (if (volume_test_players "g_sewer_trig_a")
        (begin
            (print "rumble_sewer")
            (fx_dust_low "fx_sewer_01_low")
            (fx_dust_low "fx_sewer_01_low")
            (if (= intensity_var 1)
                (sleep (random_range 30 45))
                (if (= intensity_var 2)
                    (sleep (random_range 15 30))
                    (if (= intensity_var 3)
                        (sleep (random_range 0 15))
                    )
                )
            )
        )
    )
)

(script continuous void rumble_barracks
    (if (or (volume_test_players "g_barracks_trig_a") (volume_test_players "g_barracks_trig_b") (volume_test_players "g_barracks_trig_c"))
        (begin
            (print "rumble_barracks")
            (set rumble_var (random_range 0 4))
            (if (= rumble_var 0)
                (begin
                    (fx_dust_low "fx_barracks_01_low")
                    (fx_dust_low "fx_barracks_01_mid")
                )
                (if (= rumble_var 1)
                    (begin
                        (fx_dust_low "fx_barracks_02_low")
                        (fx_dust_low "fx_barracks_02_mid")
                    )
                    (if (= rumble_var 2)
                        (begin
                            (fx_dust_low "fx_barracks_03_low")
                            (fx_dust_low "fx_barracks_03_mid")
                        )
                        (if (= rumble_var 3)
                            (begin
                                (fx_dust_low "fx_barracks_04_low")
                                (fx_dust_low "fx_barracks_04_mid")
                            )
                        )
                    )
                )
            )
            (set rumble_var (random_range 0 4))
            (if (= rumble_var 0)
                (begin
                    (fx_dust_low "fx_barracks_01_low")
                    (fx_dust_low "fx_barracks_01_mid")
                )
                (if (= rumble_var 1)
                    (begin
                        (fx_dust_low "fx_barracks_02_low")
                        (fx_dust_low "fx_barracks_02_mid")
                    )
                    (if (= rumble_var 2)
                        (begin
                            (fx_dust_low "fx_barracks_03_low")
                            (fx_dust_low "fx_barracks_03_mid")
                        )
                        (if (= rumble_var 3)
                            (begin
                                (fx_dust_low "fx_barracks_04_low")
                                (fx_dust_low "fx_barracks_04_mid")
                            )
                        )
                    )
                )
            )
            (if (= intensity_var 1)
                (sleep (random_range 30 45))
                (if (= intensity_var 2)
                    (sleep (random_range 15 30))
                    (if (= intensity_var 3)
                        (sleep (random_range 0 15))
                    )
                )
            )
        )
    )
)

(script continuous void rumble_evac_hangar
    (if (or (volume_test_players "g_evac_bottom_trig_a") (volume_test_players "g_evac_bottom_trig_b") (volume_test_players "g_evac_bottom_trig_c") (volume_test_players "g_evac_top_trig_a"))
        (begin
            (print "rumble_evac_hangar")
            (set rumble_var (random_range 0 4))
            (if (= rumble_var 0)
                (begin
                    (fx_dust_low "fx_evac_bottom_01_low")
                    (fx_dust_low "fx_evac_top_01_low")
                )
                (if (= rumble_var 1)
                    (begin
                        (fx_dust_low "fx_evac_bottom_01_low")
                        (fx_dust_low "fx_evac_top_02_low")
                    )
                    (if (= rumble_var 2)
                        (begin
                            (fx_dust_low "fx_evac_bottom_01_low")
                            (fx_dust_low "fx_evac_top_02_low")
                        )
                        (if (= rumble_var 3)
                            (begin
                                (fx_dust_low "fx_evac_bottom_01_low")
                                (fx_dust_low "fx_evac_top_01_low")
                            )
                        )
                    )
                )
            )
            (set rumble_var (random_range 0 4))
            (if (= rumble_var 0)
                (begin
                    (fx_dust_low "fx_evac_bottom_01_low")
                    (fx_dust_low "fx_evac_top_01_low")
                )
                (if (= rumble_var 1)
                    (begin
                        (fx_dust_low "fx_evac_bottom_01_low")
                        (fx_dust_low "fx_evac_top_02_low")
                    )
                    (if (= rumble_var 2)
                        (begin
                            (fx_dust_low "fx_evac_bottom_01_low")
                            (fx_dust_low "fx_evac_top_02_low")
                        )
                        (if (= rumble_var 3)
                            (begin
                                (fx_dust_low "fx_evac_bottom_01_low")
                                (fx_dust_low "fx_evac_top_01_low")
                            )
                        )
                    )
                )
            )
            (if (= intensity_var 1)
                (sleep (random_range 30 45))
                (if (= intensity_var 2)
                    (sleep (random_range 15 30))
                    (if (= intensity_var 3)
                        (sleep (random_range 0 15))
                    )
                )
            )
        )
    )
)

(script continuous void rumble_cortana_highway
    (if (or (volume_test_players "g_cortana_highway_trig_a") (volume_test_players "g_cortana_highway_trig_b") (volume_test_players "g_cortana_highway_trig_c"))
        (begin
            (print "rumble_cortana_highway")
            (set rumble_var (random_range 0 6))
            (if (= rumble_var 0)
                (fx_dust_mid "fx_cortana_01_mid")
                (if (= rumble_var 1)
                    (fx_dust_high "fx_cortana_01_high")
                    (if (= rumble_var 2)
                        (fx_dust_high "fx_cortana_02_high")
                        (if (= rumble_var 3)
                            (fx_dust_high "fx_cortana_03_high")
                            (if (= rumble_var 4)
                                (fx_dust_high "fx_cortana_04_high")
                                (if (= rumble_var 5)
                                    (fx_dust_high "fx_cortana_05_high")
                                )
                            )
                        )
                    )
                )
            )
            (set rumble_var (random_range 0 6))
            (if (= rumble_var 0)
                (fx_dust_mid "fx_cortana_01_mid")
                (if (= rumble_var 1)
                    (fx_dust_high "fx_cortana_01_high")
                    (if (= rumble_var 2)
                        (fx_dust_high "fx_cortana_02_high")
                        (if (= rumble_var 3)
                            (fx_dust_high "fx_cortana_03_high")
                            (if (= rumble_var 4)
                                (fx_dust_high "fx_cortana_04_high")
                                (if (= rumble_var 5)
                                    (fx_dust_high "fx_cortana_05_high")
                                )
                            )
                        )
                    )
                )
            )
            (if (= intensity_var 1)
                (sleep (random_range 30 45))
                (if (= intensity_var 2)
                    (sleep (random_range 15 30))
                    (if (= intensity_var 3)
                        (sleep (random_range 0 15))
                    )
                )
            )
        )
    )
)

(script static void rumble_event_all
    (wake rumble_command_center)
    (wake rumble_cave_a)
    (wake rumble_hallway_a)
    (wake rumble_highway_a)
    (wake rumble_hallway_b)
    (wake rumble_hangar_a)
    (wake rumble_motor_pool)
    (wake rumble_sewer)
    (wake rumble_evac_hangar)
    (wake rumble_barracks)
    (wake rumble_cortana_highway)
)

(script dormant void 01_rumble_event_medium
    (print "01_rumble_event_medium")
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl1.sound" none 1)
    (set intensity_var 2)
    (wake rumble_command_center)
    (wake rumble_cave_a)
    (player_effect_set_max_rotation 0 1 0.25)
    (player_effect_set_max_rumble 1 1)
    (player_effect_start 0.5 1)
    (rumble_shake_actors)
    (sleep 150)
    (player_effect_stop 0.5)
    (sleep_forever rumble_cave_a)
    (sleep_forever rumble_command_center)
)

(script dormant void 02_rumble_event_weak
    (print "02_rumble_event_weak")
    (sleep (random_range 30 90))
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl2.sound" none 1)
    (set intensity_var 1)
    (wake rumble_command_center)
    (wake rumble_cave_a)
    (wake rumble_hallway_a)
    (player_effect_set_max_rotation 0 1 0.25)
    (player_effect_set_max_rumble 1 1)
    (player_effect_start 0.25 1)
    (rumble_shake_actors)
    (sleep 150)
    (player_effect_stop 0.5)
    (sleep_forever rumble_command_center)
    (sleep_forever rumble_cave_a)
    (sleep_forever rumble_hallway_a)
)

(script dormant void 03_rumble_event_weak
    (print "03_rumble_event_weak")
    (sleep (random_range 30 90))
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl2.sound" none 1)
    (set intensity_var 1)
    (wake rumble_hallway_a)
    (wake rumble_highway_a)
    (wake rumble_hallway_b)
    (player_effect_set_max_rotation 0 1 0.25)
    (player_effect_set_max_rumble 1 1)
    (player_effect_start 0.25 1)
    (rumble_shake_actors)
    (sleep 150)
    (player_effect_stop 0.5)
    (sleep_forever rumble_hallway_a)
    (sleep_forever rumble_highway_a)
    (sleep_forever rumble_hallway_b)
)

(script dormant void 04_rumble_event_medium
    (print "04_rumble_event_medium")
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl1.sound" none 1)
    (set intensity_var 2)
    (wake rumble_hangar_a)
    (wake rumble_hallway_b)
    (player_effect_set_max_rotation 0 1 0.25)
    (player_effect_set_max_rumble 1 1)
    (player_effect_start 0.5 1)
    (rumble_shake_actors)
    (sleep 150)
    (player_effect_stop 0.5)
    (sleep_forever rumble_hangar_a)
    (sleep_forever rumble_hallway_b)
)

(script dormant void 05_rumble_event_medium
    (print "05_rumble_event_strong")
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl1.sound" none 1)
    (set intensity_var 2)
    (wake rumble_hangar_a)
    (wake rumble_hallway_a)
    (wake rumble_highway_a)
    (wake rumble_hallway_b)
    (player_effect_set_max_rotation 0 1 0.25)
    (player_effect_set_max_rumble 1 1)
    (player_effect_start 0.5 1)
    (rumble_shake_actors)
    (sleep 150)
    (player_effect_stop 0.5)
    (sleep_forever rumble_hangar_a)
    (sleep_forever rumble_hallway_a)
    (sleep_forever rumble_highway_a)
    (sleep_forever rumble_hallway_b)
)

(script dormant void 06_rumble_event_weak
    (print "06_rumble_event_weak")
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl2.sound" none 1)
    (set intensity_var 1)
    (wake rumble_hangar_a)
    (wake rumble_hallway_a)
    (wake rumble_cave_a)
    (wake rumble_command_center)
    (player_effect_set_max_rotation 0 1 0.25)
    (player_effect_set_max_rumble 1 1)
    (player_effect_start 0.25 1)
    (rumble_shake_actors)
    (sleep 150)
    (player_effect_stop 0.5)
    (sleep_forever rumble_hangar_a)
    (sleep_forever rumble_hallway_a)
    (sleep_forever rumble_cave_a)
    (sleep_forever rumble_command_center)
)

(script dormant void 07_rumble_event_strong
    (print "07_rumble_event_strong")
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl1.sound" none 1)
    (set intensity_var 3)
    (wake rumble_cave_a)
    (wake rumble_command_center)
    (wake rumble_motor_pool)
    (player_effect_set_max_rotation 0 1 0.25)
    (player_effect_set_max_rumble 1 1)
    (player_effect_start 0.65 1)
    (rumble_shake_actors)
    (sleep 15)
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl1.sound" none 1)
    (rumble_shake_actors)
    (sleep 150)
    (player_effect_stop 0.5)
    (sleep_forever rumble_cave_a)
    (sleep_forever rumble_command_center)
    (sleep_forever rumble_motor_pool)
)

(script dormant void 08_rumble_event_weak
    (sleep_until (volume_test_players "sewer_obj_trig01"))
    (print "08_rumble_event_weak")
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl2.sound" none 1)
    (set intensity_var 1)
    (wake rumble_motor_pool)
    (wake rumble_sewer)
    (player_effect_set_max_rotation 0 1 0.25)
    (player_effect_set_max_rumble 1 1)
    (player_effect_start 0.25 1)
    (rumble_shake_actors)
    (sleep 150)
    (player_effect_stop 0.5)
    (sleep_forever rumble_motor_pool)
    (sleep_forever rumble_sewer)
)

(script dormant void 09_rumble_event_weak
    (sleep_until (volume_test_players "barracks_obj_end"))
    (print "09_rumble_event_weak")
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl2.sound" none 1)
    (wake rumble_sewer)
    (wake rumble_evac_hangar)
    (wake rumble_barracks)
    (player_effect_set_max_rotation 0 1 0.25)
    (player_effect_set_max_rumble 1 1)
    (player_effect_start 0.25 1)
    (rumble_shake_actors)
    (sleep 150)
    (player_effect_stop 0.5)
    (sleep_forever rumble_sewer)
    (sleep_forever rumble_evac_hangar)
    (sleep_forever rumble_barracks)
)

(script dormant void 10_rumble_event_strong
    (print "10_rumble_event_strong")
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl1.sound" none 1)
    (set intensity_var 3)
    (wake rumble_cortana_highway)
    (wake rumble_evac_hangar)
    (wake rumble_barracks)
    (player_effect_set_max_rotation 0 1 0.25)
    (player_effect_set_max_rumble 1 1)
    (player_effect_start 0.65 1)
    (rumble_shake_actors)
    (sleep 15)
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl1.sound" none 1)
    (sleep 150)
    (player_effect_stop 0.5)
    (sleep_forever rumble_cortana_highway)
    (sleep_forever rumble_evac_hangar)
    (sleep_forever rumble_barracks)
)

(script dormant void 11_rumble_event_weak
    (print "11_rumble_event_weak")
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl2.sound" none 1)
    (set intensity_var 1)
    (wake rumble_cortana_highway)
    (wake rumble_evac_hangar)
    (wake rumble_motor_pool)
    (player_effect_set_max_rotation 0 1 0.25)
    (player_effect_set_max_rumble 1 1)
    (player_effect_start 0.25 1)
    (rumble_shake_actors)
    (sleep 150)
    (player_effect_stop 0.25)
    (sleep_forever rumble_cortana_highway)
    (sleep_forever rumble_evac_hangar)
    (sleep_forever rumble_motor_pool)
)

(script dormant void 12_rumble_event_strong
    (sleep_until (volume_test_players "cortana_highway_var_trig02"))
    (print "12_rumble_event_medium")
    (set intensity_var 3)
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl1.sound" none 1)
    (wake rumble_hallway_a)
    (wake rumble_cave_a)
    (wake rumble_command_center)
    (player_effect_set_max_rotation 0 1 0.25)
    (player_effect_set_max_rumble 1 1)
    (player_effect_start 0.65 1)
    (rumble_shake_actors)
    (sleep 15)
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl1.sound" none 1)
    (sleep 150)
    (player_effect_stop 0.5)
    (sleep_forever rumble_hallway_a)
    (sleep_forever rumble_cave_a)
    (sleep_forever rumble_command_center)
)

(script dormant void 13_rumble_event_medium
    (print "13_rumble_event_medium")
    (set intensity_var 2)
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl1.sound" none 1)
    (wake rumble_cortana_highway)
    (wake rumble_motor_pool)
    (player_effect_set_max_rotation 0 1 0.25)
    (player_effect_set_max_rumble 1 1)
    (player_effect_start 0.5 1)
    (rumble_shake_actors)
    (sleep 150)
    (player_effect_stop 0.5)
    (sleep_forever rumble_cortana_highway)
    (sleep_forever rumble_motor_pool)
)

(script dormant void 14_rumble_event_medium
    (sleep_until (volume_test_players "command_center_terminal_trig"))
    (set intensity_var 2)
    (print "14_rumble_event_medium")
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl1.sound" none 1)
    (wake rumble_cortana_highway)
    (wake rumble_motor_pool)
    (wake rumble_command_center)
    (player_effect_set_max_rotation 0 1 0.25)
    (player_effect_set_max_rumble 1 1)
    (player_effect_start 0.5 1)
    (rumble_shake_actors)
    (sleep 150)
    (player_effect_stop 0.5)
    (sleep_forever rumble_cortana_highway)
    (sleep_forever rumble_motor_pool)
    (sleep_forever rumble_command_center)
)

(script dormant void 15_rumble_event_strong
    (sleep_until (volume_test_players "cave_a_dia03_trig"))
    (print "15_rumble_event_strong")
    (set intensity_var 3)
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl1.sound" none 1)
    (wake rumble_cave_a)
    (wake rumble_command_center)
    (wake rumble_motor_pool)
    (player_effect_set_max_rotation 0 1 0.25)
    (player_effect_set_max_rumble 1 1)
    (player_effect_start 0.65 1)
    (rumble_shake_actors)
    (sleep 15)
    (sound_impulse_start "sound\levels\020_base\base_scripted_expl1.sound" none 1)
    (rumble_shake_actors)
    (sleep 150)
    (player_effect_stop 0.5)
    (sleep_forever rumble_cave_a)
    (sleep_forever rumble_command_center)
    (sleep_forever rumble_motor_pool)
)

(script dormant void rumble_event_strong_loop
    (sleep_until 
        (begin
            (wake rumble_cave_a)
            (wake rumble_command_center)
            (wake rumble_hangar_a)
            (wake rumble_hallway_a)
            (wake rumble_hallway_b)
            (wake rumble_highway_a)
            (print "rumble_event_strong_loop")
            (set intensity_var 3)
            (sound_impulse_start "sound\levels\020_base\base_scripted_expl1.sound" none 1)
            (if (not (volume_test_players "g_hangar_a_trig_a"))
                (effect_new "levels\solo\020_base\fx\bombing\bombing_long.effect" "bombing_fx")
            )
            (set 16_rumble_bool true)
            (player_effect_set_max_rotation 0 1 0.25)
            (player_effect_set_max_rumble 1 1)
            (player_effect_start 0.65 1)
            (sleep 5)
            (rumble_shake_actors)
            (set 16_rumble_bool false)
            (sleep 10)
            (sound_impulse_start "sound\levels\020_base\base_scripted_expl1.sound" none 1)
            (rumble_shake_actors)
            (sleep 150)
            (player_effect_stop 0.5)
            (sleep_forever rumble_cave_a)
            (sleep_forever rumble_command_center)
            (sleep_forever rumble_hangar_a)
            (sleep_forever rumble_hallway_a)
            (sleep_forever rumble_hallway_b)
            (sleep_forever rumble_highway_a)
            (volume_test_players "base_exit")
        )
        (* 30 (random_range 8 14))
    )
)

(script static void rumble_shake_actors
    (set shake_var (ai_actors "all"))
    (if (<= (objects_distance_to_object (players) (list_get shake_var 0)) 20)
        (unit_play_random_ping (unit (list_get shake_var 0)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 1)) 20)
        (unit_play_random_ping (unit (list_get shake_var 1)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 2)) 20)
        (unit_play_random_ping (unit (list_get shake_var 2)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 3)) 20)
        (unit_play_random_ping (unit (list_get shake_var 3)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 4)) 20)
        (unit_play_random_ping (unit (list_get shake_var 4)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 5)) 20)
        (unit_play_random_ping (unit (list_get shake_var 5)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 6)) 20)
        (unit_play_random_ping (unit (list_get shake_var 6)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 7)) 20)
        (unit_play_random_ping (unit (list_get shake_var 7)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 8)) 20)
        (unit_play_random_ping (unit (list_get shake_var 8)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 9)) 20)
        (unit_play_random_ping (unit (list_get shake_var 9)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 10)) 20)
        (unit_play_random_ping (unit (list_get shake_var 10)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 11)) 20)
        (unit_play_random_ping (unit (list_get shake_var 11)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 12)) 20)
        (unit_play_random_ping (unit (list_get shake_var 12)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 13)) 20)
        (unit_play_random_ping (unit (list_get shake_var 13)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 14)) 20)
        (unit_play_random_ping (unit (list_get shake_var 14)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 15)) 20)
        (unit_play_random_ping (unit (list_get shake_var 15)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 16)) 20)
        (unit_play_random_ping (unit (list_get shake_var 16)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 17)) 20)
        (unit_play_random_ping (unit (list_get shake_var 17)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 18)) 20)
        (unit_play_random_ping (unit (list_get shake_var 18)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 19)) 20)
        (unit_play_random_ping (unit (list_get shake_var 19)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 20)) 20)
        (unit_play_random_ping (unit (list_get shake_var 20)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 21)) 20)
        (unit_play_random_ping (unit (list_get shake_var 21)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 22)) 20)
        (unit_play_random_ping (unit (list_get shake_var 22)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 23)) 20)
        (unit_play_random_ping (unit (list_get shake_var 23)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 24)) 20)
        (unit_play_random_ping (unit (list_get shake_var 24)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 25)) 20)
        (unit_play_random_ping (unit (list_get shake_var 25)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 26)) 20)
        (unit_play_random_ping (unit (list_get shake_var 26)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 27)) 20)
        (unit_play_random_ping (unit (list_get shake_var 27)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 28)) 20)
        (unit_play_random_ping (unit (list_get shake_var 28)))
    )
    (if (<= (objects_distance_to_object (players) (list_get shake_var 29)) 20)
        (unit_play_random_ping (unit (list_get shake_var 29)))
    )
)

(script static boolean cave_door__0_1
    (= (device_get_position "cave_a_door_hallway02") 1)
)

(script static boolean hangatop_a_1_2
    (< var_hangar_a_pos 2)
)

(script static boolean hangatop_l_1_3
    (<= var_hangar_a_pos 1)
)

(script static boolean hangatop_r_1_6
    (<= var_hangar_a_pos 1)
)

(script static boolean hangafall__1_11
    (= var_hangar_a_pos 4)
)

(script static boolean hangamid_t_2_0
    (<= var_hangar_a_pos 1)
)

(script static boolean hangamiddl_2_2
    (= var_hangar_a_pos 2)
)

(script static boolean hangalower_2_3
    (volume_test_players "hangar_a_front_fallback_trig")
)

(script static boolean hangacontr_2_4
    (and (= var_hangar_a_pos 0) (>= (ai_living_count "hangar_a_cov_assaulting") 1))
)

(script static boolean hangacontr_2_5
    (and (= var_hangar_a_pos 0) (>= (ai_living_count "hangar_a_cov_assaulting") 1))
)

(script static boolean hangalandi_2_7
    (>= var_hangar_a_pos 3)
)

(script static boolean evac_evac__3_0
    (= landing_pad_start false)
)

(script static boolean evac_eleva_3_1
    (> (device_get_position "evac2_elev_switch01") 0)
)

(script static boolean evac_eleva_3_2
    (= (device_get_position "evac02_elev_bottom") 1)
)

(script static boolean evac_landi_3_3
    (= landing_pad_start true)
)

(script static boolean evac_landi_3_4
    (= landing_pad_start true)
)

(script static boolean evac_pelic_3_5
    (= var_evac_hangar_pos 3)
)

(script static boolean evac_eleva_3_6
    (> (device_get_position "elevator_evac_02") 0)
)

(script static boolean evac_barra_3_8
    (= (device_get_position "barracks_evac_hangar_door") 0)
)

(script static boolean evac_marin_3_9
    (<= (ai_living_count "evac_hangar_cov_wave01") 2)
)

(script static boolean evac_init_4_2
    (< var_evac_hangar_pos 1)
)

(script static boolean motorbrute_6_1
    (< var_motor_pool_pos 3)
)

(script static boolean motorup_to_6_4
    (volume_test_players "motor_pool_upper_trigger")
)

(script static boolean motorchief_6_5
    (= var_motor_pool_pos 4)
)

(script static boolean motorbodyg_6_6
    (= var_motor_pool_pos 4)
)

(script static boolean motorchief_6_8
    (<= (ai_living_count "motor_pool_armor_chieftain") 0)
)

(script static boolean motorup_to_6_9
    (volume_test_players "motor_pool_upper_trigger")
)

(script static boolean sewersecon_7_1
    (volume_test_players "sewer_obj_trig01")
)

(script static boolean sewerthird_7_2
    (volume_test_players "sewer_obj_trig02")
)

(script static boolean barramarin_8_0
    (= (ai_task_status "barracks_cov_obj/01_brutes_init") 1)
)

(script static boolean barramarin_8_8
    (= (ai_task_status "barracks_cov_obj/02_brutes_attack") 1)
)

(script static boolean barramarin_8_10
    (= (ai_task_status "barracks_cov_obj/03_brutes_init") 1)
)

(script static boolean barramarin_8_11
    (= (ai_task_status "barracks_cov_obj/04_brutes_attack") 1)
)

(script static boolean barramarin_8_12
    (> (ai_task_status "barracks_cov_obj/brute_chieftain") 1)
)

(script static boolean barramarin_8_13
    (= (ai_task_status "barracks_cov_obj/05_brutes_init") 1)
)

(script static boolean barraarbit_8_14
    (= (ai_task_status "barracks_cov_obj/01_brutes_init") 1)
)

(script static boolean barraarbit_8_15
    (= (ai_task_status "barracks_cov_obj/02_brutes_attack") 1)
)

(script static boolean barraarbit_8_17
    (= (ai_task_status "barracks_cov_obj/03_brutes_init") 1)
)

(script static boolean barraarbit_8_18
    (= (ai_task_status "barracks_cov_obj/04_brutes_attack") 1)
)

(script static boolean barraarbit_8_19
    (= (ai_task_status "barracks_cov_obj/05_brutes_init") 1)
)

(script static boolean barraarbit_8_20
    (> (ai_task_status "barracks_cov_obj/brute_chieftain") 1)
)

(script static boolean barramarin_8_21
    (= (ai_task_status "barracks_cov_obj/brute_chieftain") 1)
)

(script static boolean barraarbit_8_22
    (= (ai_task_status "barracks_cov_obj/brute_chieftain") 1)
)

(script static boolean barraarbit_8_24
    (not (volume_test_players "barracks_player_vol02"))
)

(script static boolean barramarin_8_25
    (not (volume_test_players "barracks_player_vol02"))
)

(script static boolean barraarbit_8_26
    (not (volume_test_players "barracks_arbiter_trig"))
)

(script static boolean barraleg01_9_1
    (<= var_barracks_pos 3)
)

(script static boolean barra01_br_9_2
    (<= var_barracks_pos 1)
)

(script static boolean cortagrunt_10_0
    (< var_cortana_highway_pos 3)
)

(script static boolean cortagrunt_10_2
    (< var_cortana_highway_pos 3)
)

(script static boolean cortagrunt_10_5
    (< var_cortana_highway_pos 3)
)

(script static boolean self_flee_11_6
    (> (device_get_position "self_destruct_switch") 0)
)

(script static boolean self_alone_11_7
    (= (ai_living_count "self_destruct_cov02") 0)
)

(script static boolean loop0finis_14_1
    (volume_test_players "loop01_return_marine02_trig")
)

(script static boolean highw01_15_3
    (= (ai_living_count "highway_a_cov03/brute") 1)
)

(script static boolean highwiniti_16_0
    (= marine_pos 0)
)

(script static boolean highwiniti_16_1
    (= marine_pos 1)
)

(script static boolean highwiniti_16_2
    (= marine_pos 2)
)

(script static boolean highwiniti_16_3
    (or (= marine_pos 3) (= marine_pos 4))
)

(script static boolean highwhighw_16_4
    (= (ai_task_status "highway_a_obj/initial_grunts") 1)
)

(script static boolean highwhighw_16_5
    (> (ai_task_status "highway_a_obj/initial_grunts") 1)
)

(script static boolean highwhighw_16_6
    (> (ai_task_status "highway_a_obj/middle") 1)
)

(script static boolean highwhighw_16_7
    (> (ai_task_status "highway_a_obj/back") 1)
)

(script static boolean highwhighw_16_8
    (> (ai_task_status "highway_a_obj/door_cover") 1)
)

(script static boolean highwhighw_16_9
    (> (ai_task_status "highway_a_obj/jack_carbine") 1)
)

(script static boolean highwbattl_16_10
    (= marine_pos 5)
)

(script static boolean highwexit__16_11
    (volume_test_players "hangar_a_start_trig")
)

(script static boolean hangagrunt_18_0
    (not (volume_test_players "hangar_a_return_mid_trig"))
)

(script static boolean hangagrunt_18_1
    (not (volume_test_players "hangar_a_return_mid_trig"))
)

(script static boolean hangajacka_18_2
    (not (volume_test_players "hangar_a_return_right_trig"))
)

(script static boolean hangajacka_18_3
    (not (volume_test_players "hangar_a_return_left_trig"))
)

(script static boolean loop0follo_21_0
    (volume_test_players "highway_a_mid_trig")
)

(script static void ins_command_center_start
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "020_06_00_cinematic")
            (sleep 1)
        )
    )
    (wake cin_base_insertion)
    (sleep_until (script_finished "cin_base_insertion") 1)
    (set g_insertion_index 1)
)

(script static void ins_highway_a
    (set g_insertion_index 3)
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "020_00_01_encounter")
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players to highway...")
    )
    (object_teleport (player0) "highway_player0")
    (object_teleport (player1) "highway_player1")
    (object_teleport (player2) "highway_player2")
    (object_teleport (player3) "highway_player3")
    (sleep 1)
)

(script static void ins_hangar_a
    (set g_insertion_index 4)
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "020_01_03_encounter")
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "hangar_a_player0")
    (object_teleport (player1) "hangar_a_player1")
    (object_teleport (player2) "hangar_a_player2")
    (object_teleport (player3) "hangar_a_player3")
)

(script static void ins_loop01_return
    (set g_insertion_index 5)
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "020_00_01_return")
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "loop01_return_player0")
    (object_teleport (player1) "loop01_return_player1")
    (object_teleport (player2) "loop01_return_player2")
    (object_teleport (player3) "loop01_return_player3")
    (sleep 1)
)

(script static void ins_loop02_begin
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "020_00_04_05_encounter")
            (sleep 1)
        )
    )
    (unit_add_equipment (player0) "chief_insertion" true true)
    (unit_add_equipment (player1) "elite_insertion" true true)
    (unit_add_equipment (player2) "elite_insertion" true true)
    (unit_add_equipment (player3) "elite_insertion" true true)
    (sleep 1)
    (insertion_start)
    (wake 020_music_065)
    (set g_music_020_065 true)
    (set g_insertion_index 6)
    (object_teleport (player0) "loop02_begin_player0")
    (object_teleport (player1) "loop02_begin_player1")
    (object_teleport (player2) "loop02_begin_player2")
    (object_teleport (player3) "loop02_begin_player3")
    (sleep 1)
    (player0_set_pitch -10 0)
    (player1_set_pitch -10 0)
    (player2_set_pitch -10 0)
    (player3_set_pitch -10 0)
    (device_set_power "command_door_init" 0)
    (device_set_position "cave_a_door_command" 0)
    (wake ins_loop02_begin_fade_in)
)

(script dormant void ins_loop02_begin_fade_in
    (sleep 60)
    (fade_in 0 0 0 15)
)

(script static void ins_motorpool
    (set g_insertion_index 7)
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "020_00_04_05_encounter")
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "motor_pool_player0")
    (object_teleport (player1) "motor_pool_player1")
    (object_teleport (player2) "motor_pool_player2")
    (object_teleport (player3) "motor_pool_player3")
    (sleep 1)
    (unit_add_equipment (player0) "chief_insertion" true true)
    (unit_add_equipment (player1) "elite_insertion" true true)
    (unit_add_equipment (player2) "elite_insertion" true true)
    (unit_add_equipment (player3) "elite_insertion" true true)
)

(script static void ins_sewers
    (set g_insertion_index 8)
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "020_00_04_05_encounter")
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "sewer_player0")
    (object_teleport (player1) "sewer_player1")
    (object_teleport (player2) "sewer_player2")
    (object_teleport (player3) "sewer_player3")
    (sleep 1)
)

(script static void ins_barracks
    (set g_insertion_index 9)
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "020_05_06_07_encounter")
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_create_folder "crates_barracks_folder")
    (object_teleport (player0) "barracks_player0")
    (object_teleport (player1) "barracks_player1")
    (object_teleport (player2) "barracks_player2")
    (object_teleport (player3) "barracks_player3")
    (sleep 1)
    (ai_place "020_arbiter")
    (set obj_arbiter (ai_get_object "020_arbiter/actor01"))
    (ai_set_objective "020_arbiter" "evac_hangar_hum_obj")
)

(script static void ins_evac_hangar
    (set g_insertion_index 10)
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "020_05_06_07_encounter")
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "evac_hangar_player0")
    (object_teleport (player1) "evac_hangar_player1")
    (object_teleport (player2) "evac_hangar_player2")
    (object_teleport (player3) "evac_hangar_player3")
    (sleep 1)
    (ai_place "evac_hangar_marine01")
    (ai_place "evac_hangar_marine02")
    (ai_place "evac_hangar_marine03")
    (ai_place "evac_hangar_marine04")
    (ai_place "evac_hangar_marine05")
    (ai_place "evac_hangar_marine06")
    (ai_place "evac_hangar_marine07")
    (ai_place "evac_arbiter")
    (set obj_arbiter (ai_get_object "evac_arbiter/actor01"))
    (wake evac02_elevator_activate)
)

(script static void ins_cortana_highway
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "020_06_08_04_encounter")
            (sleep 1)
        )
    )
    (unit_add_equipment (player0) "chief_insertion" true true)
    (unit_add_equipment (player1) "elite_insertion" true true)
    (unit_add_equipment (player2) "elite_insertion" true true)
    (unit_add_equipment (player3) "elite_insertion" true true)
    (sleep 1)
    (insertion_start)
    (sound_class_set_gain "object" 0 0)
    (sound_class_set_gain "vehicle" 0 0)
    (wake 020_music_114)
    (set g_music_020_114 true)
    (set g_insertion_index 11)
    (object_teleport (player0) "cortana_player0")
    (object_teleport (player1) "cortana_player1")
    (object_teleport (player2) "cortana_player2")
    (object_teleport (player3) "cortana_player3")
    (objectives_finish_up_to 4)
    (wake obj_self_destruct_set_ins)
    (player0_set_pitch -15 0)
    (player1_set_pitch -15 0)
    (player2_set_pitch -15 0)
    (player3_set_pitch -15 0)
    (sleep 45)
    (fade_in 0 0 0 15)
    (sound_class_set_gain "object" 1 30)
    (sound_class_set_gain "vehicle" 1 30)
)

(script static void ins_self_destruct
    (set g_insertion_index 13)
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "020_00_04_08_encounter")
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "self_destruct_player0")
    (object_teleport (player1) "self_destruct_player1")
    (object_teleport (player2) "self_destruct_player2")
    (object_teleport (player3) "self_destruct_player3")
    (sleep 1)
)

(script static void ins_exit_run
    (set g_insertion_index 14)
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "020_00_01_exit_encounter")
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "exit_run_player0")
    (object_teleport (player1) "exit_run_player1")
    (object_teleport (player2) "exit_run_player2")
    (object_teleport (player3) "exit_run_player3")
    (sleep 1)
    (wake destruct_bomb_navpoint_deactive)
    (wake rumble_event_strong_loop)
    (sleep_forever md_10_self_destruct_joh)
    (device_set_power "sec_light01" 1)
    (device_group_change_only_once_more_set "020_01_g3" true)
    (device_set_power "loop02_begin_switch" 0)
    (device_set_position "loop02_begin_door" 0)
    (sleep_until (= (device_get_position "loop02_begin_door") 0) 5)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_01_exit_encounter" true)
    (zone_set_trigger_volume_enable "zone_set:020_00_01_exit_encounter" true)
    (game_save)
    (wake br_10_command_objective)
    (wake obj_self_destruct_clear)
    (wake obj_exit_set)
    (sleep_until (or (volume_test_players "cave_a_start_trig") (= briefing_play false)) 5)
    (ai_place "self_destruct_cov04")
    (device_set_position "cave_a_door_command" 1)
    (wake self_destruct_navpoint_active)
    (wake self_destruct_navpoint_deactive)
)

(script static void ins_hangar_a_return
    (set g_insertion_index 15)
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "020_01_03_exit_encounter")
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "hangar_a_return_player0")
    (object_teleport (player1) "hangar_a_return_player1")
    (object_teleport (player2) "hangar_a_return_player2")
    (object_teleport (player3) "hangar_a_return_player3")
    (sleep 1)
    (device_set_position "hangar_a_exit_door" 1)
)

(script static void start
    (fade_out 0 0 0 0)
    (if (= (game_insertion_point_get) 0)
        (ins_command_center_start)
        (if (= (game_insertion_point_get) 1)
            (ins_loop02_begin)
            (if (= (game_insertion_point_get) 2)
                (ins_cortana_highway)
            )
        )
    )
)

(script startup void mission_base
    (fade_out 0 0 0 0)
    (print_difficulty)
    (campaign_metagame_time_pause true)
    (if debug
        (print "startup 020_base_mission")
    )
    (chud_show_fire_grenades false)
    (chud_show_spike_grenades false)
    (ai_allegiance covenant player)
    (ai_allegiance player covenant)
    (ai_allegiance human player)
    (ai_allegiance player human)
    (ai_allegiance covenant human)
    (ai_allegiance human covenant)
    (sleep_forever rumble_motor_pool)
    (sleep_forever rumble_cave_a)
    (sleep_forever rumble_command_center)
    (sleep_forever rumble_hangar_a)
    (sleep_forever rumble_cortana_highway)
    (sleep_forever rumble_evac_hangar)
    (sleep_forever rumble_barracks)
    (sleep_forever rumble_sewer)
    (sleep_forever rumble_hallway_a)
    (sleep_forever rumble_highway_a)
    (sleep_forever rumble_hallway_b)
    (game_can_use_flashlights true)
    (objectives_clear)
    (object_destroy "elevator_evac_02")
    (wake gs_award_primary_skull)
    (wake gs_award_secondary_skull)
    (wake base_disposable_ai)
    (wake base_cleanup)
    (wake object_management)
    (if (and (not editor) (> (player_count) 0))
        (start)
        (fade_in 0 0 0 0)
    )
    (sleep_until (>= g_insertion_index 1))
    (if (= g_insertion_index 1)
        (wake 020_command_center_start)
    )
    (sleep_until (or (volume_test_players "cave_a_start_trig") (>= g_insertion_index 2)) 1)
    (if (<= g_insertion_index 2)
        (wake 020_01_cave_a)
    )
    (sleep_until (or (volume_test_players "highway_a_start_trig") (>= g_insertion_index 3)) 1)
    (if (<= g_insertion_index 3)
        (wake 020_02_highway_a)
    )
    (sleep_until (or (volume_test_players "hangar_a_start_trig") (>= g_insertion_index 4)) 1)
    (if (<= g_insertion_index 4)
        (wake 020_04_hangar_a)
    )
    (sleep_until (or (and (volume_test_players "loop01_return_start_trig") (= hangar_a_done true)) (>= g_insertion_index 5)) 1)
    (if (<= g_insertion_index 5)
        (wake 020_05_loop01_return)
    )
    (sleep_until (or (and (>= (device_get_position "cave_a_door_command") 1) (volume_test_players "command_exit_trig")) (volume_test_players "cave_a_start_trig") (>= g_insertion_index 6)) 1)
    (if (<= g_insertion_index 6)
        (wake 020_05_loop02_begin)
    )
    (sleep_until (or (volume_test_players "motor_pool_start_trig") (>= g_insertion_index 7)) 1)
    (if (<= g_insertion_index 7)
        (wake 020_06_motor_pool)
    )
    (sleep_until (or (volume_test_players "sewer01_trig") (>= g_insertion_index 8)) 1)
    (if (<= g_insertion_index 8)
        (wake 020_06_sewer)
    )
    (sleep_until (or (volume_test_players "barracks_start_trig") (>= g_insertion_index 9)) 1)
    (if (<= g_insertion_index 9)
        (wake 020_07_barracks)
    )
    (sleep_until (or (volume_test_players "evac_hangar_start_trig") (>= g_insertion_index 10)) 1)
    (if (<= g_insertion_index 10)
        (wake 020_08_evac_hangar)
    )
    (sleep_until (or (volume_test_players "cortana_highway_start_trig") (>= g_insertion_index 11)) 1)
    (if (<= g_insertion_index 11)
        (wake 020_09_cortana_highway)
    )
    (sleep_until (or (volume_test_players "self_destruct_start_trig") (>= g_insertion_index 13)) 1)
    (if (<= g_insertion_index 13)
        (wake 020_10_self_destruct)
    )
    (sleep_until (or (> (device_get_position "self_destruct_switch") 0) (>= g_insertion_index 14)) 1)
    (if (<= g_insertion_index 14)
        (wake 020_11_exit_run)
    )
    (sleep_until (= (current_zone_set_fully_active) 10) 1)
    (sleep 1)
    (wake 020_12_hangar_a_return)
)

(script dormant void ops_center_big_screen
    (object_create_anew "cin_main_screen")
    (object_create_anew "big_screen_tv")
    (object_destroy "default_monitor")
    (texture_camera_on)
    (texture_camera_off)
    (object_destroy "cin_main_screen")
    (object_destroy "big_screen_tv")
    (object_create_anew "default_monitor")
)

(script dormant void ops_center_monitors
    (object_set_function_variable "cc_monitor01" "screen_control" (real_random_range 0 1) 0)
    (object_set_function_variable "cc_monitor02" "screen_control" (real_random_range 0 1) 0)
    (object_set_function_variable "cc_monitor03" "screen_control" (real_random_range 0 1) 0)
    (object_set_function_variable "cc_monitor04" "screen_control" (real_random_range 0 1) 0)
    (object_set_function_variable "cc_monitor05" "screen_control" (real_random_range 0 1) 0)
    (object_set_function_variable "cc_monitor06" "screen_control" (real_random_range 0 1) 0)
    (object_set_function_variable "cc_monitor07" "screen_control" (real_random_range 0 1) 0)
    (object_set_function_variable "cc_monitor08" "screen_control" (real_random_range 0 1) 0)
    (object_set_function_variable "cc_monitor09" "screen_control" (real_random_range 0 1) 0)
    (object_set_function_variable "cc_monitor10" "screen_control" (real_random_range 0 1) 0)
    (object_set_function_variable "cc_monitor11" "screen_control" (real_random_range 0 1) 0)
    (object_set_function_variable "cc_monitor12" "screen_control" (real_random_range 0 1) 0)
    (object_set_function_variable "cc_monitor_new12" "screen_control" (real_random_range 0 1) 0)
    (object_set_function_variable "cc_monitor_new14" "screen_control" (real_random_range 0 1) 0)
    (object_set_function_variable "cc_monitor_mir_01" "screen_control" (real_random_range 0 1) 0)
    (object_set_function_variable "cc_monitor_mir_02" "screen_control" (real_random_range 0 1) 0)
    (object_set_function_variable "cc_monitor_mir_03" "screen_control" (real_random_range 0 1) 0)
    (sleep_until 
        (begin
            (begin_random
                (begin
                    (object_set_function_variable "cc_monitor01" "screen_control" (real_random_range 0 1) 0)
                    (sleep (random_range 30 90))
                )
                (begin
                    (object_set_function_variable "cc_monitor02" "screen_control" (real_random_range 0 1) 0)
                    (sleep (random_range 30 90))
                )
                (begin
                    (object_set_function_variable "cc_monitor03" "screen_control" (real_random_range 0 1) 0)
                    (sleep (random_range 30 90))
                )
                (begin
                    (object_set_function_variable "cc_monitor04" "screen_control" (real_random_range 0 1) 0)
                    (sleep (random_range 30 90))
                )
                (begin
                    (object_set_function_variable "cc_monitor05" "screen_control" (real_random_range 0 1) 0)
                    (sleep (random_range 30 90))
                )
                (begin
                    (object_set_function_variable "cc_monitor06" "screen_control" (real_random_range 0 1) 0)
                    (sleep (random_range 30 90))
                )
                (begin
                    (object_set_function_variable "cc_monitor07" "screen_control" (real_random_range 0 1) 0)
                    (sleep (random_range 30 90))
                )
                (begin
                    (object_set_function_variable "cc_monitor08" "screen_control" (real_random_range 0 1) 0)
                    (sleep (random_range 30 90))
                )
                (begin
                    (object_set_function_variable "cc_monitor09" "screen_control" (real_random_range 0 1) 0)
                    (sleep (random_range 30 90))
                )
                (begin
                    (object_set_function_variable "cc_monitor10" "screen_control" (real_random_range 0 1) 0)
                    (sleep (random_range 30 90))
                )
                (begin
                    (object_set_function_variable "cc_monitor11" "screen_control" (real_random_range 0 1) 0)
                    (sleep (random_range 30 90))
                )
                (begin
                    (object_set_function_variable "cc_monitor12" "screen_control" (real_random_range 0 1) 0)
                    (sleep (random_range 30 90))
                )
                (begin
                    (object_set_function_variable "cc_monitor_new12" "screen_control" (real_random_range 0 1) 0)
                    (sleep (random_range 30 90))
                )
                (begin
                    (object_set_function_variable "cc_monitor_new14" "screen_control" (real_random_range 0 1) 0)
                    (sleep (random_range 30 90))
                )
                (begin
                    (object_set_function_variable "cc_monitor_mir_01" "screen_control" (real_random_range 0 1) 0)
                    (sleep (random_range 30 90))
                )
                (begin
                    (object_set_function_variable "cc_monitor_mir_02" "screen_control" (real_random_range 0 1) 0)
                    (sleep (random_range 30 90))
                )
                (begin
                    (object_set_function_variable "cc_monitor_mir_03" "screen_control" (real_random_range 0 1) 0)
                    (sleep (random_range 30 90))
                )
            )
            (>= base_obj_control 30)
        )
    )
)

(script dormant void 020_command_center_start
    (data_mine_set_mission_segment "020_01_command_center")
    (device_set_position_immediate "command_center_cin_door" 0)
    (set base_obj_control 10)
    (game_save)
    (texture_camera_off)
    (object_destroy "cin_main_screen")
    (object_destroy "big_screen_tv")
    (object_create_anew "default_monitor")
    (ai_dialogue_enable false)
    (wake 020_music_01)
    (wake miranda_movement)
    (wake md_01_command_objectives_01)
    (wake md_01_command_objectives_02)
    (wake md_01_command_objectives_03)
    (wake md_01_command_objectives_05)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_01_encounter" true)
    (zone_set_trigger_volume_enable "zone_set:020_00_01_encounter" true)
    (wake md_01_command_followers02)
    (wake command_navpoint_active)
    (wake command_navpoint_deactive)
    (wake ops_center_monitors)
    (sleep 1)
)

(script command_script void cs_run
    (cs_movement_mode ai_movement_combat)
    (cs_enable_moving true)
)

(script command_script void cc_m01_anim
    (cs_look true "command_center_intro/p13")
)

(script command_script void cc_m02_anim
    (cs_look true "command_center_intro/p15")
)

(script dormant void miranda_retreat
    (sleep_until (volume_test_players "command_center_intro_trig") 1)
    (cs_run_command_script "command_center_marines02/actor_miranda" cs_miranda_retreat)
)

(script command_script void cs_miranda_retreat
    (cs_go_to "command_center_intro/p7")
)

(script dormant void cave_a_rats
    (begin_random
        (if (< random_rats 3)
            (begin
                (flock_create "cave_a_rats_01")
                (set random_rats (+ random_rats 1))
            )
        )
        (if (< random_rats 3)
            (begin
                (flock_create "cave_a_rats_02")
                (set random_rats (+ random_rats 1))
            )
        )
        (if (< random_rats 3)
            (begin
                (flock_create "cave_a_rats_03")
                (set random_rats (+ random_rats 1))
            )
        )
        (if (< random_rats 3)
            (begin
                (flock_create "cave_a_rats_04")
                (set random_rats (+ random_rats 1))
            )
        )
        (if (< random_rats 3)
            (begin
                (flock_create "cave_a_rats_05")
                (set random_rats (+ random_rats 1))
            )
        )
        (if (< random_rats 3)
            (begin
                (flock_create "cave_a_rats_06")
                (set random_rats (+ random_rats 1))
            )
        )
        (if (< random_rats 3)
            (begin
                (flock_create "cave_a_rats_07")
                (set random_rats (+ random_rats 1))
            )
        )
        (if (< random_rats 3)
            (begin
                (flock_create "cave_a_rats_08")
                (set random_rats (+ random_rats 1))
            )
        )
    )
    (set random_rats 0)
    (sleep 60)
    (flock_stop "cave_a_rats_01")
    (flock_stop "cave_a_rats_02")
    (flock_stop "cave_a_rats_03")
    (flock_stop "cave_a_rats_04")
    (flock_stop "cave_a_rats_05")
    (flock_stop "cave_a_rats_06")
    (flock_stop "cave_a_rats_07")
    (flock_stop "cave_a_rats_08")
    (sleep_until (>= (current_zone_set_fully_active) 1))
    (flock_create "hall_a_rats_01")
    (sleep 60)
    (flock_stop "hall_a_rats_01")
)

(script dormant void 020_01_cave_a
    (data_mine_set_mission_segment "020_01_cave_a")
    (game_save)
    (set base_obj_control 20)
    (ai_place "cave_a_marines01")
    (ai_place "cave_a_marines02")
    (ai_place "cave_a_marines03")
    (ai_place "cave_a_marines04")
    (ai_place "cave_a_marines05")
    (ai_place "players_marines")
    (wake cave_a_rats)
    (chud_show_arbiter_ai_navpoint false)
    (wake md_01_cave_marines)
    (wake md_01_hw_followers)
    (if debug
        (print "setting marine_pos 1")
    )
    (set marine_pos 1)
    (wake cave_a_navpoint_active)
    (wake cave_a_navpoint_deactive)
    (sleep_until (volume_test_players "cave_a_marine_1") 1)
    (ai_set_objective "players_marines" "cave_a_obj")
    (sleep_until (volume_test_players "cave_a_hwy_marines00_trig") 1)
    (ai_set_objective "players_marines" "highway_a_hum_obj")
    (if debug
        (print "setting marine_pos 1")
    )
    (set marine_pos 1)
    (ai_dialogue_enable true)
    (sleep_until (volume_test_players "cave_a_hwy_marines01_trig") 1)
    (wake br_bb_hangar_a)
    (if debug
        (print "setting marine_pos 2")
    )
    (set marine_pos 2)
    (wake 02_rumble_event_weak)
    (sleep_forever md_01_command_objectives_01)
    (sleep_forever md_01_command_objectives_02)
    (sleep_forever md_01_command_objectives_03)
    (sleep_forever md_01_command_objectives_04)
    (sleep_forever md_01_command_objectives_05)
    (ai_dialogue_enable true)
    (object_destroy_containing "arb_sphere")
    (sleep_until (volume_test_players "cave_a_hwy_marines02_trig") 1)
    (if debug
        (print "setting marine_pos 3")
    )
    (set marine_pos 3)
    (wake 020_02_highway_directors_cut)
    (sleep_until (volume_test_players "cave_a_hwy_marines03_trig") 1)
    (if debug
        (print "setting marine_pos 4")
    )
    (set marine_pos 4)
    (sleep_until (and (volume_test_players "highway_a_start_trig") (> (device_get_position "highway_a_door") 0)) 1)
    (if debug
        (print "setting marine_pos 5")
    )
    (set marine_pos 5)
    (sleep 60)
)

(script dormant void 020_02_highway_directors_cut
    (wake 020_music_02)
    (ai_place "highway_a_warthog01")
    (ai_vehicle_reserve_seat "highway_a_warthog01" 23 true)
    (ai_force_active "highway_a_warthog01" true)
    (cs_run_command_script "highway_a_warthog01/gunner" 020_02_warthog_01_attack)
    (cs_run_command_script "highway_a_warthog01/passenger" 020_02_warthog_02_attack)
    (cs_run_command_script "highway_a_warthog01/driver" 020_02_warthog_00_attack)
    (sleep_until (> (device_get_position "highway_a_door") 0) 1 (* 30 15))
    (ai_place "highway_a_cov00")
    (wake blow_warthog)
    (cs_run_command_script "highway_a_cov00/01" 020_02_warthog_grenade)
    (cs_run_command_script "highway_a_cov00/02" 020_02_warthog_grenade)
)

(script dormant void 020_02_highway_a
    (data_mine_set_mission_segment "020_02_highway_a")
    (game_save)
    (set base_obj_control 30)
    (wake 020vg_rvb_easter_egg)
    (flock_create "hall_a_rats_02")
    (sleep_until (> (device_get_position "highway_a_door") 0) 1)
    (set g_music_020_01 false)
    (set g_music_020_02 true)
    (ai_place "highway_a_cov01")
    (ai_place "highway_a_cov02")
    (ai_place "highway_a_cov03")
    (ai_place "highway_a_cov07_legend")
    (ai_place "highway_a_cov08_legend")
    (sleep 30)
    (flock_stop "hall_a_rats_02")
    (sleep_until (or (< (ai_living_count "highway_a_cov02") 1) (volume_test_players "highway_a_mid_trig")) 5)
    (wake highway_a_navpoint_active)
    (wake highway_a_navpoint_deactive)
    (device_set_position "highway_a_door_switch" 1)
    (sleep_until (or (< (ai_living_count "highway_a_cov03") 1) (volume_test_players "highway_second_part_trig")) 5)
    (ai_place "highway_a_cov04")
    (ai_place "highway_a_cov05")
    (sleep_until (volume_test_players "highway_a_rumble_trig"))
    (wake 03_rumble_event_weak)
    (object_destroy "hangar_a_remove01")
    (sleep_until (or (= (volume_test_players "vol_hangar_a_rats") true) (and (< (ai_living_count "highway_a_cov04") 1) (< (ai_living_count "highway_a_cov05") 1))))
    (if (= (volume_test_players "vol_hangar_a_rats") false)
        (begin
            (flock_create "hall_a_rats_03")
            (sleep 60)
            (flock_stop "hall_a_rats_03")
        )
    )
)

(script command_script void 020_02_warthog_00_attack
    (cs_enable_pathfinding_failsafe true)
    (cs_ignore_obstacles true)
    (cs_go_to "highway_a_warthog/p4" 1)
    (sleep_forever)
)

(script command_script void 020_02_warthog_01_attack
    (sleep_until 
        (begin
            (cs_shoot_point true "highway_a_warthog/p1")
            (sleep 60)
            (cs_shoot_point true "highway_a_warthog/p2")
            (sleep 60)
            (cs_shoot_point true "highway_a_warthog/p3")
            (< (ai_living_count "highway_a_warthog01") 1)
        )
    )
)

(script command_script void 020_02_warthog_02_attack
    (sleep_until 
        (begin
            (cs_shoot_point true "highway_a_warthog/p3")
            (sleep 60)
            (cs_shoot_point true "highway_a_warthog/p1")
            (sleep 30)
            (cs_shoot_point true "highway_a_warthog/p2")
            (sleep 30)
            (< (ai_living_count "highway_a_warthog01") 1)
        )
    )
)

(script command_script void 020_02_warthog_grenade
    (cs_grenade "highway_a_warthog/p0" 1)
)

(script dormant void blow_warthog
    (sleep_until (< (ai_strength "highway_a_warthog01") 0.95) 1 90)
    (unit_kill (ai_vehicle_get_from_starting_location "highway_a_warthog01/driver"))
    (if (= (unit_in_vehicle (unit (ai_get_object "highway_a_warthog01/driver"))) true)
        (unit_kill "highway_a_warthog01/driver")
    )
    (if (= (unit_in_vehicle (unit (ai_get_object "highway_a_warthog01/gunner"))) true)
        (unit_kill "highway_a_warthog01/gunner")
    )
    (if (= (unit_in_vehicle (unit (ai_get_object "highway_a_warthog01/passenger"))) true)
        (unit_kill "highway_a_warthog01/passenger")
    )
    (print "kill the hog!!")
)

(script command_script void 020_02_transition
    (ai_set_objective ai_current_squad "hangar_a_hum_obj")
)

(script dormant void hangar_a_rats
    (begin_random
        (if (< random_rats 2)
            (begin
                (flock_create "hangar_a_rats_01")
                (set random_rats (+ random_rats 1))
            )
        )
        (if (< random_rats 2)
            (begin
                (flock_create "hangar_a_rats_02")
                (set random_rats (+ random_rats 1))
            )
        )
        (if (< random_rats 2)
            (begin
                (flock_create "hangar_a_rats_03")
                (set random_rats (+ random_rats 1))
            )
        )
        (if (< random_rats 2)
            (begin
                (flock_create "hangar_a_rats_04")
                (set random_rats (+ random_rats 1))
            )
        )
        (if (< random_rats 2)
            (begin
                (flock_create "hangar_a_rats_05")
                (set random_rats (+ random_rats 1))
            )
        )
    )
    (set random_rats 0)
    (sleep 60)
    (flock_stop "hangar_a_rats_01")
    (flock_stop "hangar_a_rats_02")
    (flock_stop "hangar_a_rats_03")
    (flock_stop "hangar_a_rats_04")
    (flock_stop "hangar_a_rats_05")
)

(script dormant void 020_04_hangar_a
    (data_mine_set_mission_segment "020_04_hangar_a")
    (wake 020_music_03)
    (wake 020_music_04)
    (wake 020_music_05)
    (wake 020_music_06)
    (sleep_until (= (current_zone_set_fully_active) 2) 5)
    (ai_dialogue_enable true)
    (sleep_forever 020vg_rvb_easter_egg)
    (wake md_04_hangar_a_combat)
    (set base_obj_control 40)
    (object_create_anew "cov_capital_ship01")
    (flock_create "banshees")
    (flock_create "hornets")
    (sleep 1)
    (flock_start "banshees")
    (flock_start "hornets")
    (wake hangar_a_rats)
    (ai_place "hangar_a_cov_init_top01")
    (ai_place "hangar_a_cov_init_left")
    (ai_place "hangar_a_cov_init_right")
    (ai_place "hangar_a_hum_turret01")
    (ai_place "hangar_a_hum_turret02")
    (ai_place "hangar_a_hum_init01")
    (ai_place "hangar_a_hum_init02")
    (ai_place "hangar_a_cov_init_bottom_right")
    (ai_place "hangar_a_cov_init_bottom_left")
    (ai_set_objective "players_marines" "hangar_a_hum_obj")
    (wake 020_04_covenant_phantom_attack)
    (wake 020_04_top_attack)
    (ai_disregard (ai_actors "hangar_a_hum_init01") true)
    (ai_disregard (ai_actors "hangar_a_hum_init02") true)
    (sleep_until (volume_test_players "hangar_a_entrance_trig") 5)
    (game_save)
    (volume_teleport_players_not_inside "hangar_a_entrance_trig" "hangar_a_coop_flag")
    (add_recycling_volume "g_highway_trig_a" 10 30)
    (add_recycling_volume "g_hallway_b_trig_a" 5 30)
    (device_set_position_immediate "020_03_d2" 0)
    (ai_disposable "highway_a_all" true)
    (if (= (ai_living_count "rvb_marine") 1)
        (ai_erase "rvb_marine")
    )
    (sleep_until (volume_test_players "hangar_a_door_entrance_trig") 5)
    (ai_disregard (ai_actors "hangar_a_hum_init01") false)
    (ai_disregard (ai_actors "hangar_a_hum_init02") false)
    (set g_music_020_03 true)
    (set var_hangar_a_pos 1)
    (sleep_until (volume_test_players "hangar_a_var02") 5)
    (set var_hangar_a_pos 2)
    (sleep_until (volume_test_players "hangar_a_var03") 5)
    (set var_hangar_a_pos 3)
)

(script command_script void peaceful_flyer
    (sleep_forever)
)

(script command_script void hangar_a_pelican_load
    (ai_vehicle_exit ai_current_actor)
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to_vehicle (ai_vehicle_get_from_starting_location "hangar_a_pelican/pilot"))
    (sleep_until 
        (begin
            (sleep 90)
            (cs_go_to_vehicle (ai_vehicle_get_from_starting_location "hangar_a_pelican/pilot"))
            (vehicle_test_seat "hangar_a_pelican" "" ai_current_actor)
        )
    )
)

(script dormant void 020_04_top_attack
    (sleep_until (or (> var_hangar_a_pos 1) (= covenant_losing true)))
    (ai_migrate "hangar_a_hum_init01" "players_marines")
    (ai_migrate "hangar_a_hum_init02" "players_marines")
)

(script dormant void 020_04_covenant_phantom_attack
    (ai_place "hangar_a_cov_init_phantom")
    (object_set_shadowless "hangar_a_cov_init_phantom/pilot" true)
    (ai_place "hangar_a_cov_phantom01")
    (object_set_shadowless "hangar_a_cov_phantom01/pilot" true)
    (device_set_position_immediate "hangar_a_crane01" 0.5)
    (ai_place "hangar_a_pelican")
    (ai_disregard (ai_actors "hangar_a_pelican") true)
    (object_cannot_take_damage (ai_vehicle_get_from_starting_location "hangar_a_pelican/pilot"))
    (object_set_shadowless "hangar_a_pelican/pilot" true)
    (ai_vehicle_reserve_seat "hangar_a_pelican" 24 true)
    (cs_run_command_script "hangar_a_pelican/pilot" peaceful_flyer)
    (sleep 1)
    (objects_attach "hangar_a_crane01" "pelicanattach" (ai_vehicle_get_from_starting_location "hangar_a_pelican/pilot") "crane")
    (cs_run_command_script "hangar_a_cov_init_phantom/pilot" peaceful_flyer)
    (cs_run_command_script "hangar_a_cov_phantom01/pilot" peaceful_flyer)
    (sleep_until (volume_test_players "hangar_a_door_entrance_trig") 5)
    (object_set_phantom_power (ai_vehicle_get_from_starting_location "hangar_a_cov_init_phantom/pilot") true)
    (cs_run_command_script "hangar_a_cov_init_phantom" 020_04_phantominitpath)
    (sleep 15)
    (sleep_until phantom_ready)
    (set phantom_ready false)
    (game_save)
    (sleep_until (or (< (ai_living_count "hangar_a_cov_assaulting") 1) (> var_hangar_a_pos 1)) 5)
    (cs_run_command_script "hangar_a_cov_phantom01/pilot" 020_04_phantom01path)
    (add_recycling_volume "g_hangar_a_trig_a" 15 60)
    (ai_place "hangar_a_cov_phantom01_5")
    (object_set_shadowless "hangar_a_cov_phantom01_5/pilot" true)
    (cs_run_command_script "hangar_a_cov_phantom01_5/pilot" 020_04_phantom01_5path)
    (add_recycling_volume "g_hangar_a_trig_a" 15 60)
    (sleep_until phantom_ready)
    (ai_place "hangar_a_cov_phantom02")
    (object_set_shadowless "hangar_a_cov_phantom02/pilot" true)
    (game_save)
    (set phantom_ready false)
    (sleep_until (< (ai_living_count "hangar_a_cov_reinforcements") 6) 5)
    (cs_run_command_script "hangar_a_cov_phantom02/pilot" 020_04_phantom02path)
    (add_recycling_volume "g_hangar_a_trig_a" 15 60)
    (sleep_until (and (< (ai_living_count "hangar_a_cov") 4) covenant_losing))
    (game_save)
    (set var_hangar_a_pos 4)
    (if (>= (game_difficulty_get_real) heroic)
        (begin
            (set phantom_ready false)
            (ai_place "hangar_a_cov_phantom03")
            (object_set_shadowless "hangar_a_cov_phantom03/pilot" true)
            (cs_run_command_script "hangar_a_cov_phantom03/pilot" 020_04_phantom03path)
            (add_recycling_volume "g_hangar_a_trig_a" 15 60)
            (sleep_until phantom_ready)
        )
    )
    (sleep_until (< (ai_living_count "hangar_a_cov") 1))
    (wake kill_straggler_marines)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_01_return" true)
    (zone_set_trigger_volume_enable "zone_set:020_00_01_return" true)
    (set hangar_a_done true)
    (device_set_position "020_03_d2" 1)
    (if (<= (ai_living_count "players_marines") 2)
        (begin
            (print "placing 5 marines")
            (ai_place "hangar_a_hum_reinf01" 5)
        )
        (if (and (>= (ai_living_count "players_marines") 3) (<= (ai_living_count "players_marines") 4))
            (begin
                (print "placing 3 marines")
                (ai_place "hangar_a_hum_reinf01" 3)
            )
            (if (and (>= (ai_living_count "players_marines") 5) (<= (ai_living_count "players_marines") 7))
                (begin
                    (print "placing 2 marines")
                    (ai_place "hangar_a_hum_reinf01" 2)
                )
            )
        )
    )
    (ai_force_active "hangar_a_hum_reinf01" true)
    (ai_migrate "hangar_a_hum_reinf01" "players_marines")
    (sleep 30)
    (pvs_set_object (ai_get_object "players_marines"))
    (sleep_until (< (ai_living_count "hangar_a_cov") 1))
    (object_create_containing "bugger_sound")
    (ai_place "loop01_return_hw01")
    (cs_run_command_script "loop01_return_hw01/03" 020_03_bugger_in_the_vents03)
    (cs_run_command_script "loop01_return_hw01/04" 020_03_bugger_in_the_vents04)
    (sleep_forever md_04_hangar_a_combat)
    (ai_dialogue_enable true)
    (device_set_position "hangar_a_crane01" 1)
    (set g_music_020_02 false)
    (set g_music_020_03 false)
    (set g_music_020_04 false)
    (set g_music_020_05 false)
    (sleep_until (= (device_get_position "hangar_a_crane01") 1))
    (sleep 30)
    (wake hangar_a_navpoint_active)
    (wake hangar_a_navpoint_deactive)
    (objects_detach "hangar_a_crane01" (ai_vehicle_get_from_starting_location "hangar_a_pelican/pilot"))
    (cs_run_command_script "hangar_a_pelican" 020_04_pelican_path)
)

(script dormant void 020_04_script_zone_set
    (sleep_until (volume_test_players "hangar_a_door_entrance_trig") 5)
    (device_set_position "hangar_a_left_door" 0)
    (device_set_position "hangar_a_right_door" 0)
    (sleep_until (and (= (device_get_position "hangar_a_left_door") 0) (= (device_get_position "hangar_a_right_door") 0)))
)

(script dormant void kill_straggler_marines
    (if (or (volume_test_objects "g_highway_trig_a" (ai_actors "players_marines")) (volume_test_objects "g_highway_trig_b" (ai_actors "players_marines")) (volume_test_objects "g_hallway_a_trig_a" (ai_actors "players_marines")) (volume_test_objects "g_hallway_a_trig_b" (ai_actors "players_marines")) (volume_test_objects "g_hallway_a_trig_c" (ai_actors "players_marines")) (volume_test_objects "g_hallway_a_trig_d" (ai_actors "players_marines")) (volume_test_objects "g_hallway_a_trig_e" (ai_actors "players_marines")))
        (ai_erase_inactive "players_marines" 10)
    )
)

(script command_script void 020_04_deploy_turret01
    (cs_enable_pathfinding_failsafe true)
    (cs_deploy_turret "hangar_a_patrol/p14")
)

(script command_script void 020_04_deploy_turret02
    (cs_enable_pathfinding_failsafe true)
    (cs_deploy_turret "hangar_a_patrol/p15")
)

(script command_script void 020_04_pelican_path
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 0.5)
    (cs_fly_to "hangar_a_pelican02_path/p0" 1)
    (if (volume_test_players "hangar_a_pelican_volume")
        (wake md_04_hangar_a_pelican)
    )
    (sleep 30)
    (cs_vehicle_speed 0.35)
    (cs_fly_to "hangar_a_pelican02_path/p1" 1)
    (unit_open (ai_vehicle_get ai_current_actor))
    (cs_run_command_script "players_marines" hangar_a_pelican_load)
    (sleep 120)
    (wake 04_rumble_event_medium)
    (wake md_hangar_a_radio_johnson)
    (sleep_until (and (= (ai_living_count "hangar_a_pelican") (ai_in_vehicle_count "hangar_a_pelican")) (= (ai_living_count "players_marines") 0)))
    (sleep 60)
    (cs_vehicle_speed 0.5)
    (cs_fly_by "hangar_a_pelican01_path/p1")
    (object_set_physics "hangar_a_pelican/pilot" false)
    (unit_close "hangar_a_pelican/pilot")
    (cs_vehicle_speed 0.75)
    (cs_fly_by "hangar_a_pelican01_path/p2")
    (cs_vehicle_speed 1)
    (cs_vehicle_boost true)
    (cs_fly_to "hangar_a_pelican01_path/p3")
    (ai_erase "hangar_a_pelican")
)

(script command_script void 020_04_phantominitpath
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 0.9)
    (cs_fly_to_and_face "hangar_a_phantom_path_b/p4" "hangar_a_phantom_path_b/p3")
    (object_set_physics "hangar_a_cov_init_phantom/pilot" false)
    (cs_fly_to_and_face "hangar_a_phantom_path_b/p0" "hangar_a_phantom_path_b/p3")
    (set phantom_ready true)
    (cs_vehicle_speed 1)
    (cs_fly_by "hangar_a_phantom_path_b/p1")
    (cs_fly_to "hangar_a_phantom_path_b/p2" 0)
    (ai_erase "hangar_a_cov_init_phantom")
)

(script command_script void 020_04_phantom01path
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 1)
    (cs_fly_to "hangar_a_phantom_path_a/p2" 10)
    (cs_vehicle_speed 0.8)
    (cs_fly_by "hangar_a_phantom_path_a/p1" 10)
    (set g_music_020_04 true)
    (cs_vehicle_speed 0.6)
    (cs_fly_to "hangar_a_phantom_path_a/p4" 2)
    (object_set_phantom_power (ai_vehicle_get_from_starting_location "hangar_a_cov_phantom01/pilot") true)
    (sleep_until (= hangar_a_perf_hack true))
    (ai_trickle_via_phantom "hangar_a_cov_phantom01/pilot" "hangar_a_cov_init_phantom_drop")
    (if debug
        (print "phantom 01 unload")
    )
    (object_set_phantom_power (ai_vehicle_get_from_starting_location "hangar_a_cov_phantom01/pilot") false)
    (sleep 30)
    (cs_vehicle_speed 0.8)
    (cs_fly_to_and_face "hangar_a_phantom_path_b/p4" "hangar_a_phantom_path_b/p3")
    (object_set_physics "hangar_a_cov_phantom01/pilot" false)
    (cs_fly_to_and_face "hangar_a_phantom_path_b/p0" "hangar_a_phantom_path_b/p3")
    (set phantom_ready true)
    (cs_vehicle_speed 1)
    (cs_fly_by "hangar_a_phantom_path_b/p1")
    (cs_fly_to "hangar_a_phantom_path_b/p2")
    (ai_erase "hangar_a_cov_phantom01")
)

(script command_script void 020_04_phantom01_5path
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 1)
    (cs_fly_to "hangar_a_phantom_path_a/p2" 10)
    (cs_vehicle_speed 0.8)
    (cs_fly_by "hangar_a_phantom_path_a/p1" 10)
    (cs_vehicle_speed 0.6)
    (cs_fly_to "hangar_a_phantom_path_a/p3" 2)
    (object_set_phantom_power (ai_vehicle_get_from_starting_location "hangar_a_cov_phantom01_5/pilot") true)
    (ai_dump_via_phantom "hangar_a_cov_phantom01_5/pilot" "hangar_a_cov_phantom01_drop_a")
    (sleep 90)
    (ai_dump_via_phantom "hangar_a_cov_phantom01_5/pilot" "hangar_a_cov_phantom01_drop_b")
    (sleep 90)
    (if debug
        (print "phantom 01 unload")
    )
    (object_set_phantom_power (ai_vehicle_get_from_starting_location "hangar_a_cov_phantom01_5/pilot") false)
    (cs_vehicle_speed 0.8)
    (cs_fly_to_and_face "hangar_a_phantom_path_b/p4" "hangar_a_phantom_path_b/p3")
    (object_set_physics "hangar_a_cov_phantom01/pilot" false)
    (set hangar_a_perf_hack true)
    (cs_fly_to_and_face "hangar_a_phantom_path_b/p0" "hangar_a_phantom_path_b/p3")
    (cs_vehicle_speed 1)
    (cs_fly_by "hangar_a_phantom_path_b/p1")
    (cs_fly_to "hangar_a_phantom_path_b/p2")
    (ai_erase "hangar_a_cov_phantom01_5")
)

(script command_script void 020_04_phantom02path
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 1)
    (cs_fly_to "hangar_a_phantom_path_a/p2" 10)
    (cs_vehicle_speed 0.8)
    (cs_fly_by "hangar_a_phantom_path_a/p1" 10)
    (if (<= (game_difficulty_get_real) normal)
        (begin
            (sound_looping_set_alternate "levels\solo\020_base\music\020_music_04" true)
            (set g_music_020_05 true)
        )
    )
    (cs_vehicle_speed 0.6)
    (cs_fly_to "hangar_a_phantom_path_a/p0" 2)
    (object_set_phantom_power (ai_vehicle_get_from_starting_location "hangar_a_cov_phantom02/pilot") true)
    (if (<= (game_difficulty_get_real) normal)
        (begin
            (ai_trickle_via_phantom "hangar_a_cov_phantom02/pilot" "hangar_a_cov_phantom02_drop_a")
            (sleep 90)
            (ai_trickle_via_phantom "hangar_a_cov_phantom02/pilot" "hangar_a_cov_phantom02_drop_b")
            (sleep 90)
        )
        (if (>= (game_difficulty_get_real) heroic)
            (begin
                (game_save)
                (ai_trickle_via_phantom "hangar_a_cov_phantom02/pilot" "hangar_a_cov_phantom03_drop_a")
                (sleep 90)
                (ai_trickle_via_phantom "hangar_a_cov_phantom02/pilot" "hangar_a_cov_phantom03_drop_b")
                (sleep 90)
            )
        )
    )
    (if debug
        (print "phantom 02 unload")
    )
    (object_set_phantom_power (ai_vehicle_get_from_starting_location "hangar_a_cov_phantom02/pilot") false)
    (sleep 30)
    (cs_vehicle_speed 0.8)
    (cs_fly_to_and_face "hangar_a_phantom_path_b/p4" "hangar_a_phantom_path_b/p3")
    (object_set_physics "hangar_a_cov_phantom02/pilot" false)
    (cs_fly_to_and_face "hangar_a_phantom_path_b/p0" "hangar_a_phantom_path_b/p3")
    (set phantom_ready true)
    (set covenant_losing true)
    (cs_vehicle_speed 1)
    (cs_fly_by "hangar_a_phantom_path_b/p1")
    (cs_fly_to "hangar_a_phantom_path_b/p2")
    (ai_erase "hangar_a_cov_phantom02")
)

(script command_script void 020_04_phantom03path
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 1)
    (cs_fly_to "hangar_a_phantom_path_a/p2" 10)
    (cs_vehicle_speed 0.8)
    (cs_fly_by "hangar_a_phantom_path_a/p1" 10)
    (sound_looping_set_alternate "levels\solo\020_base\music\020_music_04" true)
    (set g_music_020_05 true)
    (cs_vehicle_speed 0.6)
    (cs_fly_to "hangar_a_phantom_path_a/p0" 2)
    (object_set_phantom_power (ai_vehicle_get_from_starting_location "hangar_a_cov_phantom03/pilot") true)
    (ai_trickle_via_phantom "hangar_a_cov_phantom03/pilot" "hangar_a_phantom04_legend_a")
    (sleep 90)
    (ai_trickle_via_phantom "hangar_a_cov_phantom03/pilot" "hangar_a_phantom04_legend_c")
    (sleep 90)
    (ai_trickle_via_phantom "hangar_a_cov_phantom03/pilot" "hangar_a_phantom04_legend_b")
    (if debug
        (print "phantom 03 unload")
    )
    (object_set_phantom_power (ai_vehicle_get_from_starting_location "hangar_a_cov_phantom03/pilot") false)
    (sleep 30)
    (cs_vehicle_speed 0.8)
    (cs_fly_to_and_face "hangar_a_phantom_path_b/p4" "hangar_a_phantom_path_b/p3")
    (object_set_physics "hangar_a_cov_phantom01/pilot" false)
    (cs_fly_to_and_face "hangar_a_phantom_path_b/p0" "hangar_a_phantom_path_b/p3")
    (set phantom_ready true)
    (cs_vehicle_speed 1)
    (cs_fly_by "hangar_a_phantom_path_b/p1")
    (cs_fly_to "hangar_a_phantom_path_b/p2")
    (ai_erase "hangar_a_cov_phantom03")
)

(script static void bugger_vents
    (ai_place "loop01_return_hw01")
    (cs_run_command_script "loop01_return_hw01/03" 020_03_bugger_in_the_vents03)
    (cs_run_command_script "loop01_return_hw01/04" 020_03_bugger_in_the_vents04)
)

(script static void test_bugger_vignette
    (ai_place "bugger_intro_hum01")
    (wake 020vb_bugger_v_marine)
)

(script dormant void 020_05_loop01_return
    (data_mine_set_mission_segment "020_05_loop01_return")
    (set base_obj_control 50)
    (wake 05_rumble_event_medium)
    (wake 020_05_pa_talking)
    (wake md_06_bugger_marine02)
    (sleep_until (volume_test_players "cortana_exit_run_trig") 5)
    (cs_run_command_script "loop01_return_hw01/03" cs_abort)
    (cs_run_command_script "loop01_return_hw01/04" cs_abort)
    (sleep 1)
    (ai_set_objective "loop01_return_hw01" "loop01_return_highway")
    (sleep_until (volume_test_players "cave_a_hwy_marines00_trig") 5)
    (game_save)
    (render_patchy_fog false)
    (ai_migrate "loop01_return_hw01" "players_marines")
    (ai_set_objective "players_marines" "loop01_return_obj")
    (object_destroy_containing "bugger_intro_remove")
    (object_create_anew_containing "bugger_intro_crate")
    (ai_place "bugger_intro_hum01")
    (cs_run_command_script "bugger_intro_hum01/actor03" 020_03_bugger_in_the_vents)
    (cs_run_command_script "bugger_intro_hum01/actor01" 020_03_bugger_in_the_vents02)
    (sleep 15)
    (wake 020_05_bugger_machine)
    (wake 020vb_bugger_v_marine)
    (object_destroy_containing "bugger_sound")
    (wake md_05_bugger_marine)
    (sleep_until (and (script_finished "020_05_bugger_machine") (<= (ai_living_count "bugger_intro_cov") 3)) 5)
    (sleep_until (< (ai_living_count "bugger_intro_cov") 1) 5 300)
    (wake md_05_bugger_marine01)
    (cs_run_command_script "bugger_intro_hum01/actor03" 01_cave_a_runner01)
    (cs_run_command_script "bugger_intro_hum01/actor01" 01_cave_a_runner02)
    (wake loop01_navpoint_active)
    (wake loop01_navpoint_deactive)
    (ai_place "loop01_return_hum02")
    (ai_place "loop02_begin_vig03")
    (ai_place "loop02_begin_vig04")
    (device_set_position "cave_a_door_command" 1)
)

(script dormant void 020_05_bugger_machine
    (sleep_until (= bugger_attack true) 1)
    (object_damage_damage_section "bugger_vent" "all" 1)
    (if (= (game_difficulty_get_real) easy)
        (set bugger_difficulty 20)
        (if (= (game_difficulty_get_real) normal)
            (set bugger_difficulty 25)
            (if (= (game_difficulty_get_real) heroic)
                (set bugger_difficulty 30)
                (if (= (game_difficulty_get_real) legendary)
                    (set bugger_difficulty 35)
                )
            )
        )
    )
    (sleep_until 
        (begin
            (if (< (ai_living_count "bugger_intro_cov") 19)
                (begin
                    (if (= bugger_no 1)
                        (ai_place "bugger_squad01" 1)
                        (if (= bugger_no 2)
                            (ai_place "bugger_squad02" 1)
                            (if (= bugger_no 3)
                                (ai_place "bugger_squad03" 1)
                                (if (= bugger_no 4)
                                    (ai_place "bugger_squad04" 1)
                                    (if (= bugger_no 5)
                                        (ai_place "bugger_squad05" 1)
                                    )
                                )
                            )
                        )
                    )
                )
            )
            (>= (ai_body_count "bugger_intro_obj/overall_task") bugger_difficulty)
        )
        15
    )
)

(script dormant void 020_05_loop02_begin
    (data_mine_set_mission_segment "020_05_loop02_begin")
    (game_save)
    (game_insertion_point_unlock 1)
    (wake obj_return_command_center_clear)
    (set base_obj_control 60)
    (device_set_power "loop02_begin_switch" 1)
    (device_set_power "loop02_begin_switch_b" 1)
    (wake 020vc_gift_with_purchase)
    (wake 020_title2)
    (wake loop02_navpoint_active)
    (sleep_until (or (>= (device_get_position "loop02_begin_door") 1) (= (game_insertion_point_get) 1)) 1)
    (wake loop02_navpoint_deactive)
    (ai_dialogue_enable true)
    (wake obj_barracks_set)
)

(script dormant void motorpool_rats
    (begin_random
        (if (< random_rats 1)
            (begin
                (flock_create "motorpool_rats_01")
                (set random_rats (+ random_rats 1))
            )
        )
        (if (< random_rats 1)
            (begin
                (flock_create "motorpool_rats_02")
                (set random_rats (+ random_rats 1))
            )
        )
    )
    (set random_rats 0)
    (sleep 60)
    (flock_stop "motorpool_rats_01")
    (flock_stop "motorpool_rats_02")
)

(script dormant void 020_06_motor_pool
    (wake 020_music_07)
    (wake 020_music_08)
    (wake 020_music_02b)
    (ai_dialogue_enable true)
    (data_mine_set_mission_segment "020_06_motor_pool")
    (game_save)
    (set base_obj_control 70)
    (wake 020_06_player_position)
    (wake 020_06_save)
    (wake motorpool_chieftain_attack)
    (if debug
        (print "starting the motor pool")
    )
    (wake md_06_motorpool_brutes)
    (ai_place "motor_pool_brute01")
    (ai_place "motor_pool_brute02")
    (ai_place "motor_pool_brute03")
    (ai_place "motor_pool_armor_chieftain")
    (ai_place "motor_pool_turret")
    (wake motorpool_rats)
    (sleep_until (or (<= (+ (ai_living_count "motor_pool_brute03") (ai_living_count "motor_pool_brute02")) 1) (< (ai_living_count "motor_pool_armor_chieftain") 1)))
    (if debug
        (print "reinforcements")
    )
    (ai_place "motor_pool_brute04")
    (ai_place "motor_pool_brute05_legend")
    (device_set_position "motor_pool_exit_door" 1)
    (wake motor_pool_navpoint_active)
    (wake motor_pool_navpoint_deactive)
)

(script dormant void motorpool_chieftain_attack
    (sleep_until (and (<= (ai_living_count "motor_pool_brute02") 0) (<= (ai_living_count "motor_pool_brute03") 0) (<= (ai_living_count "motor_pool_brute04") 0)))
    (set var_motor_pool_pos 4)
)

(script dormant void 020_06_save
    (sleep_until (= (ai_task_status "motor_pool_obj/brutes02") 1) 5)
    (if debug
        (print "first motor_pool save seeking")
    )
    (sleep_until (or (volume_test_players "motor_pool_save00") (volume_test_players "motor_pool_save01") (volume_test_players "motor_pool_save02")) 5 300)
    (game_save)
    (sleep_until (= (ai_task_status "motor_pool_obj/brutes_reinforcement") 1) 5)
    (if debug
        (print "second motor_pool save seeking")
    )
    (sleep_until (or (volume_test_players "motor_pool_save00") (volume_test_players "motor_pool_save01") (volume_test_players "motor_pool_save02") (volume_test_players "motor_pool_player_vol02")) 5)
    (game_save)
)

(script dormant void 020_06_player_position
    (set var_motor_pool_pos 1)
    (sleep_until (or (volume_test_players "motor_pool_player_vol02") (volume_test_players "motor_pool_player_vol02a") (volume_test_players "motor_pool_player_vol02b")) 5)
    (set var_motor_pool_pos 2)
    (sleep_until (volume_test_players "motor_pool_player_vol03") 5)
    (set var_motor_pool_pos 3)
    (wake 07_rumble_event_strong)
)

(script dormant void 020_06_sewer
    (set base_obj_control 80)
    (data_mine_set_mission_segment "020_06_sewer")
    (game_save)
    (wake 020_music_09)
    (wake 020_music_10)
    (chud_show_arbiter_ai_navpoint true)
    (wake cortana_moment_a)
    (wake 08_rumble_event_weak)
    (device_set_power "motor_pool_switch_a" 0)
    (sleep_until (volume_test_players "bugger_scary_trig") 5)
    (set random_bool (random_range 0 2))
    (if (= random_bool true)
        (begin
            (ai_place "sewer_bugger_pop_out")
            (set g_music_020_02b false)
            (set g_music_020_09 true)
            (set g_music_020_10 true)
        )
    )
    (sleep_until (volume_test_players "sewer_start_trig") 5)
    (set g_music_020_02b false)
    (set g_music_020_09 true)
    (set g_music_020_10 true)
    (wake bugger_machine01)
    (wake bugger_machine02)
    (wake bugger_machine03)
    (wake bugger_swarm01)
    (wake bugger_swarm02)
    (wake bugger_swarm03)
    (sleep (random_range 90 120))
    (sleep_until (volume_test_players "sewer02_trig") 1)
    (if (not (game_is_cooperative))
        (begin
            (ai_place "020_arbiter")
            (set obj_arbiter (ai_get_object "020_arbiter/actor01"))
            (ai_set_objective "020_arbiter" "evac_hangar_hum_obj")
            (ai_place "arbiter_buggers01")
        )
    )
    (wake md_07_evac_arbiter)
)

(script command_script void bugger_vent_scare
    (cs_enable_pathfinding_failsafe true)
    (cs_fly_to "sewer_buggers/p22" 0.25)
)

(script dormant void bugger_machine01
    (sleep_until 
        (begin
            (sleep (random_range 5 90))
            (set bugger01_num (random_range 0 2))
            (if (= bugger01_num 0)
                (begin
                    (bugger_init01)
                    (ai_erase "sewer_bugger01")
                )
                (begin
                    (bugger_init02)
                    (ai_erase "sewer_bugger02")
                )
            )
            (or (>= (ai_combat_status "sewer_bugger01") 7) (>= (ai_combat_status "sewer_bugger02") 7))
        )
    )
)

(script dormant void bugger_machine02
    (sleep_until 
        (begin
            (sleep (random_range 5 60))
            (set bugger02_num (random_range 0 2))
            (if (= bugger02_num 0)
                (begin
                    (bugger_init03)
                    (ai_erase "sewer_bugger03")
                )
                (begin
                    (bugger_init04)
                    (ai_erase "sewer_bugger04")
                )
            )
            (or (>= (ai_combat_status "sewer_bugger03") 7) (>= (ai_combat_status "sewer_bugger04") 7))
        )
    )
)

(script dormant void bugger_machine03
    (sleep_until 
        (begin
            (sleep (random_range 5 30))
            (set bugger03_num (random_range 0 2))
            (if (= bugger03_num 0)
                (begin
                    (bugger_init05)
                    (ai_erase "sewer_bugger05")
                )
                (begin
                    (bugger_init06)
                    (ai_erase "sewer_bugger06")
                )
            )
            (or (>= (ai_combat_status "sewer_bugger05") 7) (>= (ai_combat_status "sewer_bugger06") 7))
        )
    )
)

(script dormant void bugger_swarm01
    (sleep_until (or (>= (ai_combat_status "sewer_bugger01") 7) (>= (ai_combat_status "sewer_bugger02") 7)) 5)
    (ai_set_objective "sewer_bugger01" "sewer_obj")
    (ai_set_objective "sewer_bugger02" "sewer_obj")
    (sleep_forever bugger_machine01)
    (ai_place "sewer_bugger_swarm01" 1)
    (ai_place "sewer_bugger_swarm02" 1)
    (cs_run_command_script "sewer_bugger_swarm01" flyfree01)
    (cs_run_command_script "sewer_bugger_swarm02" flyfree02)
)

(script dormant void bugger_swarm02
    (sleep_until (or (>= (ai_combat_status "sewer_bugger03") 7) (>= (ai_combat_status "sewer_bugger04") 7)) 5)
    (ai_set_objective "sewer_bugger03" "sewer_obj")
    (ai_set_objective "sewer_bugger04" "sewer_obj")
    (sleep_forever bugger_machine02)
    (ai_place "sewer_bugger_swarm03" 1)
    (ai_place "sewer_bugger_swarm04" 1)
    (cs_run_command_script "sewer_bugger_swarm03" flyfree03)
    (cs_run_command_script "sewer_bugger_swarm04" flyfree04)
)

(script dormant void bugger_swarm03
    (sleep_until (or (>= (ai_combat_status "sewer_bugger05") 7) (>= (ai_combat_status "sewer_bugger06") 7)) 5)
    (ai_set_objective "sewer_bugger05" "sewer_obj")
    (ai_set_objective "sewer_bugger06" "sewer_obj")
    (sleep_forever bugger_machine03)
    (ai_place "sewer_bugger_swarm06" 1)
    (ai_place "sewer_bugger_swarm05" 1)
    (cs_run_command_script "sewer_bugger_swarm05" flyfree05)
    (cs_run_command_script "sewer_bugger_swarm06" flyfree06)
)

(script command_script void flyfree01
    (cs_enable_pathfinding_failsafe true)
    (cs_fly_to "sewer_buggers/p2" 0.25)
    (cs_fly_to "sewer_buggers/p19" 1)
    (cs_abort_on_alert true)
    (ai_set_objective "sewer_bugger_swarm01" "sewer_obj")
)

(script command_script void flyfree02
    (cs_enable_pathfinding_failsafe true)
    (cs_fly_to "sewer_buggers/p1" 0.25)
    (cs_fly_to "sewer_buggers/p19" 1)
    (cs_abort_on_alert true)
    (ai_set_objective "sewer_bugger_swarm02" "sewer_obj")
)

(script command_script void flyfree03
    (cs_enable_pathfinding_failsafe true)
    (cs_fly_to "sewer_buggers/p4" 0.25)
    (cs_fly_to "sewer_buggers/p18" 1)
    (cs_abort_on_alert true)
    (ai_set_objective "sewer_bugger_swarm03" "sewer_obj")
)

(script command_script void flyfree04
    (cs_enable_pathfinding_failsafe true)
    (cs_fly_to "sewer_buggers/p10" 0.25)
    (cs_fly_to "sewer_buggers/p3" 0.25)
    (cs_fly_to "sewer_buggers/p18" 1)
    (cs_abort_on_alert true)
    (ai_set_objective "sewer_bugger_swarm04" "sewer_obj")
)

(script command_script void flyfree05
    (cs_enable_pathfinding_failsafe true)
    (cs_fly_to "sewer_buggers/p6" 0.25)
    (cs_fly_to "sewer_buggers/p20" 1)
    (cs_abort_on_alert true)
    (ai_set_objective "sewer_bugger_swarm05" "sewer_obj")
)

(script command_script void flyfree06
    (cs_enable_pathfinding_failsafe true)
    (cs_fly_to "sewer_buggers/p5" 0.25)
    (cs_fly_to "sewer_buggers/p20" 1)
    (cs_abort_on_alert true)
    (ai_set_objective "sewer_bugger_swarm06" "sewer_obj")
)

(script static void bugger_init01
    (ai_place "sewer_bugger01")
    (cs_run_command_script "sewer_bugger01" fly01)
    (sleep_until (volume_test_objects "sewer_bugger01_trig" (ai_actors "sewer_bugger01")) 1)
)

(script static void bugger_init02
    (ai_place "sewer_bugger02")
    (cs_run_command_script "sewer_bugger02" fly02)
    (sleep_until (volume_test_objects "sewer_bugger02_trig" (ai_actors "sewer_bugger02")) 1)
)

(script static void bugger_init03
    (ai_place "sewer_bugger03")
    (cs_run_command_script "sewer_bugger03" fly03)
    (sleep_until (volume_test_objects "sewer_bugger03_trig" (ai_actors "sewer_bugger03")) 1)
)

(script static void bugger_init04
    (ai_place "sewer_bugger04")
    (cs_run_command_script "sewer_bugger04" fly04)
    (sleep_until (volume_test_objects "sewer_bugger04_trig" (ai_actors "sewer_bugger04")) 1)
)

(script static void bugger_init05
    (ai_place "sewer_bugger05")
    (cs_run_command_script "sewer_bugger05" fly05)
    (sleep_until (volume_test_objects "sewer_bugger05_trig" (ai_actors "sewer_bugger05")) 1)
)

(script static void bugger_init06
    (ai_place "sewer_bugger06")
    (cs_run_command_script "sewer_bugger06" fly06)
    (sleep_until (volume_test_objects "sewer_bugger06_trig" (ai_actors "sewer_bugger06")) 1)
)

(script command_script void fly01
    (cs_enable_pathfinding_failsafe true)
    (cs_fly_to "sewer_buggers/p2" 0.25)
    (cs_abort_on_combat_status 7)
    (cs_fly_to "sewer_buggers/p1" 0.5)
    (cs_abort_on_combat_status 9)
    (cs_fly_to "sewer_buggers/p8" 0.5)
    (cs_fly_to "sewer_buggers/p9" 0.5)
)

(script command_script void fly02
    (cs_enable_pathfinding_failsafe true)
    (cs_fly_to "sewer_buggers/p1" 0.25)
    (cs_abort_on_combat_status 7)
    (cs_fly_to "sewer_buggers/p2" 0.5)
    (cs_abort_on_combat_status 9)
    (cs_fly_to "sewer_buggers/p0" 0.5)
    (cs_fly_to "sewer_buggers/p7" 0.5)
)

(script command_script void fly03
    (cs_enable_pathfinding_failsafe true)
    (cs_fly_to "sewer_buggers/p4" 0.25)
    (cs_abort_on_combat_status 7)
    (cs_fly_to "sewer_buggers/p3" 0.5)
    (cs_abort_on_combat_status 9)
    (cs_fly_to "sewer_buggers/p10" 0.5)
    (cs_fly_to "sewer_buggers/p11" 0.5)
)

(script command_script void fly04
    (cs_enable_pathfinding_failsafe true)
    (cs_fly_to "sewer_buggers/p3" 0.25)
    (cs_abort_on_combat_status 7)
    (cs_fly_to "sewer_buggers/p4" 0.5)
    (cs_abort_on_combat_status 9)
    (cs_fly_to "sewer_buggers/p12" 0.5)
    (cs_fly_to "sewer_buggers/p13" 0.5)
)

(script command_script void fly05
    (cs_enable_pathfinding_failsafe true)
    (cs_fly_to "sewer_buggers/p6" 0.25)
    (cs_abort_on_combat_status 7)
    (cs_fly_to "sewer_buggers/p5" 0.5)
    (cs_abort_on_combat_status 9)
    (cs_fly_to "sewer_buggers/p16" 0.5)
    (cs_fly_to "sewer_buggers/p17" 0.5)
)

(script command_script void fly06
    (cs_enable_pathfinding_failsafe true)
    (cs_fly_to "sewer_buggers/p5" 0.25)
    (cs_abort_on_combat_status 7)
    (cs_fly_to "sewer_buggers/p6" 0.5)
    (cs_abort_on_combat_status 9)
    (cs_fly_to "sewer_buggers/p14" 0.5)
    (cs_fly_to "sewer_buggers/p15" 0.5)
)

(script dormant void barracks_rats
    (begin_random
        (if (< random_rats 1)
            (begin
                (flock_create "barracks_rats_01")
                (set random_rats (+ random_rats 1))
            )
        )
    )
    (set random_rats 0)
    (sleep 60)
    (flock_stop "barracks_rats_01")
)

(script dormant void 020_07_barracks
    (data_mine_set_mission_segment "020_07_barracks_pt1")
    (game_save)
    (set base_obj_control 90)
    (wake 020_music_105)
    (wake 020_music_106)
    (wake 020_music_11)
    (wake evac02_elevator_activate)
    (wake 09_rumble_event_weak)
    (sleep_until (> (device_get_position "020_06_d1") 0))
    (ai_dialogue_enable true)
    (ai_set_objective "020_arbiter" "barracks_marine_obj")
    (ai_set_objective "barracks_sgt" "barracks_marine_obj")
    (wake 020ve_brute_throw_marine)
    (ai_place "barracks_jack01")
    (ai_place "barracks_pack2_01")
    (ai_place "barracks_pack3_01")
    (ai_place "barracks_pack3_01_legendary")
    (wake barracks_rats)
    (sleep 10)
    (wake 020ve_marine_dies)
    (wake vt_07_barracks_02)
    (wake vt_07_barracks_03)
    (wake 020_07_player_position)
    (wake obj_barracks_clear)
    (wake obj_evacuate_set)
    (wake md_07_barracks_exit)
    (sleep_until (= (device_get_position "barracks_door_end") 1) 5)
    (wake md_07_barracks_marines)
    (ai_dialogue_enable true)
    (vs_release arbiter)
    (wake md_08_joh_cc_retreat)
    (sleep_until (= (device_get_position "barracks_evac_hangar_door") 1) 5)
    (set g_music_020_11 true)
    (set g_music_020_106 false)
)

(script dormant void 020_07_player_position
    (sleep_until (volume_test_players "barracks_player_vol01") 5)
    (data_mine_set_mission_segment "020_07_barracks_pt2")
    (set g_music_020_105 true)
    (set g_music_020_106 true)
    (set var_barracks_pos 1)
    (game_save)
    (ai_place "barracks_pack4_01")
    (ai_place "barracks_pack5_01")
    (ai_place "barracks_chieftain")
    (ai_place "barracks_bodyguards")
    (ai_place "barracks_jack02")
    (ai_place "barracks_marine05")
    (ai_place "barracks_marine06")
    (ai_place "barracks_marine07")
    (wake barracks_marine05_anim)
    (wake barracks_marine06_anim)
    (wake barracks_marine07_anim)
    (sleep_until (volume_test_players "barracks_player_vol02") 5)
    (set var_barracks_pos 2)
    (game_save)
    (sleep_until (volume_test_players "barracks_player_vol03") 5)
    (data_mine_set_mission_segment "020_07_barracks_pt3")
    (set var_barracks_pos 3)
    (game_save)
    (sleep_until (volume_test_players "barracks_player_vol04") 5)
    (set var_barracks_pos 4)
    (sleep_until (volume_test_players "barracks_marine_end_trig") 5)
    (set var_barracks_pos 5)
    (game_save)
    (sleep_until (= (device_get_position "barracks_door_end") 1) 5)
    (ai_migrate "020_arbiter" "evac_arbiter")
)

(script dormant void 020_07_disregard_marines
    (ai_disregard (ai_actors "barracks_marine01") true)
    (ai_disregard (ai_actors "barracks_marine02") true)
    (ai_disregard (ai_actors "barracks_marine03") true)
    (ai_disregard (ai_actors "barracks_marine04") true)
    (ai_disregard (ai_actors "barracks_marine05") true)
    (ai_disregard (ai_actors "barracks_marine06") true)
    (ai_disregard (ai_actors "barracks_marine07") true)
)

(script dormant void evac_rats
    (begin_random
        (if (< random_rats 1)
            (begin
                (flock_create "evac_rats_01")
                (set random_rats (+ random_rats 1))
            )
        )
        (if (< random_rats 1)
            (begin
                (flock_create "evac_rats_02")
                (set random_rats (+ random_rats 1))
            )
        )
        (if (< random_rats 1)
            (begin
                (flock_create "evac_rats_03")
                (set random_rats (+ random_rats 1))
            )
        )
    )
    (set random_rats 0)
    (sleep 60)
    (flock_stop "evac_rats_01")
    (flock_stop "evac_rats_02")
    (flock_stop "evac_rats_03")
)

(script dormant void 020_08_evac_hangar
    (game_save)
    (data_mine_set_mission_segment "020_08_evac_hangar_pt1")
    (wake evac_hangar_kill_player)
    (flock_create "hornet_evac")
    (flock_create "banshees_evac")
    (sleep 1)
    (flock_start "hornet_evac")
    (flock_start "banshees_evac")
    (ai_place "evac_hangar_hum_pelican")
    (cs_run_command_script "evac_hangar_hum_pelican/pilot" 020_08_pelican_init)
    (object_cannot_take_damage (ai_vehicle_get_from_starting_location "evac_hangar_hum_pelican/pilot"))
    (ai_cannot_die "evac_hangar_hum_pelican/pilot" true)
    (sleep_until (volume_test_players "evac_hangar_elevator01_trig") 5)
    (set base_obj_control 100)
    (add_recycling_volume "g_barracks_trig_a" 0 10)
    (add_recycling_volume "g_barracks_trig_b" 2 30)
    (add_recycling_volume "g_barracks_trig_c" 5 30)
    (sleep_until (volume_test_players "evac_hangar_joh_event_trig") 5)
    (object_create_folder "crates_evac_hangar_folder")
    (sleep_until (volume_test_players "evac_hangar_begin_encounter") 5)
    (set landing_pad_start true)
    (ai_bring_forward obj_arbiter 5)
    (020_08_jetpack_wave01)
    (wake md_08_evac_pelican_01)
    (sleep_until (or (> (device_get_position "evac02_elev_top") 0) (volume_test_players "evac_hangar_encounter06_trig") (volume_test_players "evac_hangar_encounter06_1_trig")))
    (game_save)
    (wake 020_08_pelican_landing_pad)
    (set var_evac_hangar_pos 1)
    (sleep_until (or (<= (ai_living_count "evac_hangar_cov_wave01") 3) (volume_test_players "evac_hangar_encounter08_trig")))
    (wake 020_08_pelican_returns)
    (sleep_until (<= (ai_living_count "evac_hangar_cov_wave01") 2))
    (020_08_jetpack_wave02)
    (sleep_until (<= (ai_living_count "evac_hangar_jetpack") 2) 5)
    (020_08_jetpack_wave03)
    (game_save)
)

(script continuous void evac_hangar_kill_player
    (sleep_until (volume_test_players "evac_hangar_kill_trig") 5)
    (if (volume_test_object "evac_hangar_kill_trig" (player0))
        (unit_kill (unit (player0)))
        (if (volume_test_objects "evac_hangar_kill_trig" (player1))
            (unit_kill (unit (player1)))
            (if (volume_test_objects "evac_hangar_kill_trig" (player2))
                (unit_kill (unit (player2)))
                (if (volume_test_objects "evac_hangar_kill_trig" (player3))
                    (unit_kill (unit (player3)))
                )
            )
        )
    )
)

(script dormant void 020_08_pelican_returns
    (sleep 60)
    (sleep_until (< (ai_living_count "evac_hangar_cov_wave02") 2))
    (set var_evac_hangar_pos 2)
    (sleep_until (< (ai_living_count "evac_hangar_jetpack") 1))
    (set g_music_020_11 false)
    (set var_evac_hangar_pos 3)
    (zone_set_trigger_volume_enable "zone_set:020_06_08_04_encounter" true)
    (ai_place "evac_hangar_hum_pelican02")
    (object_cannot_take_damage (ai_vehicle_get_from_starting_location "evac_hangar_hum_pelican02/pilot"))
    (ai_vehicle_reserve_seat "evac_hangar_hum_pelican02" 21 true)
    (ai_vehicle_reserve_seat "evac_hangar_hum_pelican02" 22 true)
    (data_mine_set_mission_segment "020_08_evac_hangar_pt2")
    (cs_run_command_script "evac_hangar_hum_pelican02/pilot" 020_08_pelican_land)
)

(script dormant void kill_straggler_jetpacks
    (sleep_until 
        (begin
            (if (and (= (objects_can_see_object (players) (list_get (ai_actors "evac_hangar_jetpack") jetpack_no) 45) false) (> (objects_distance_to_object (players) (list_get (ai_actors "evac_hangar_jetpack") jetpack_no)) 21))
                (begin
                    (object_destroy (list_get (ai_actors "evac_hangar_jetpack") jetpack_no))
                    (print "jetpack brute out of view, auto-destroyed")
                )
            )
            (set jetpack_no (+ jetpack_no 1))
            (if (> jetpack_no 15)
                (set jetpack_no 0)
            )
            (< (ai_living_count "evac_hangar_jetpack") 1)
        )
    )
)

(script dormant void 020_08_arbiter_arrives
    (sleep_until (volume_test_players "top_elevator_trigger") 15)
)

(script dormant void 020_08_pelican_landing_pad
    (sleep_until (= (device_get_position "elevator_evac_02") 0))
    (sleep 30)
    (sleep_until (or (< (ai_strength "evac_hangar_jetpack010") 1) (< (ai_strength "evac_hangar_jetpack011") 1) (< (ai_strength "evac_hangar_jetpack012") 1) (< (ai_strength "evac_hangar_jetpack013") 1)) 15 90)
    (ai_disregard (ai_actors "evac_hangar_hum_pelican") true)
    (cs_run_command_script "evac_hangar_hum_pelican/pilot" 020_08_pelican_intro)
)

(script static void 020_08_jetpack_wave01
    (ai_place "evac_hangar_jetpack010")
    (ai_place "evac_hangar_jetpack011")
    (ai_place "evac_hangar_jetpack012")
    (ai_place "evac_hangar_jetpack013")
    (cs_run_command_script "evac_hangar_jetpack010" 020_08_jetpack010)
    (cs_run_command_script "evac_hangar_jetpack011" 020_08_jetpack011)
    (cs_run_command_script "evac_hangar_jetpack012" 020_08_jetpack012)
    (cs_run_command_script "evac_hangar_jetpack013" 020_08_jetpack013)
)

(script static void 020_08_jetpack_wave02
    (ai_place "evac_hangar_jetpack05")
    (ai_place "evac_hangar_jetpack06")
    (ai_place "evac_hangar_jetpack08")
    (ai_place "evac_hangar_jetpack09")
    (ai_place "evac_hangar_jetpack07_legend")
    (sleep_until (> (ai_living_count "evac_hangar_cov_wave02") 3) 5)
)

(script static void 020_08_jetpack_wave03
    (device_set_position "evac_door_surprise" 1)
    (device_set_position "barracks_evac_hangar_door" 1)
    (device_set_position "020_06_d1" 1)
    (ai_place "evac_hangar_jetpack01")
    (ai_place "evac_hangar_jetpack04")
    (ai_place "evac_hangar_jetpack02")
    (ai_place "evac_hangar_jetpack03")
    (device_set_power "020_06_c4a" 1)
    (device_set_power "evac_hangar_control_door" 1)
    (device_set_position "evac_hangar_control_door" 1)
    (cs_run_command_script "evac_hangar_jetpack01" 020_08_jetpack01)
    (cs_run_command_script "evac_hangar_jetpack02" 020_08_jetpack02)
    (cs_run_command_script "evac_hangar_jetpack03" 020_08_jetpack03)
    (cs_run_command_script "evac_hangar_jetpack04" 020_08_jetpack04)
    (sleep_until (and (not (volume_test_objects "jet_pack_door_close_trig" (ai_actors "evac_hangar_jetpack01"))) (not (volume_test_objects "jet_pack_door_close_trig" (ai_actors "evac_hangar_jetpack02"))) (not (volume_test_objects "jet_pack_door_close_trig" (ai_actors "evac_hangar_jetpack03"))) (not (volume_test_objects "jet_pack_door_close_trig" (ai_actors "evac_hangar_jetpack04")))) 5)
    (device_set_position "evac_hangar_control_door" 0)
    (sleep 300)
    (wake kill_straggler_jetpacks)
)

(script command_script void 020_08_jetpack01
    (cs_movement_mode ai_movement_combat)
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to_nearest "evac_hangar_jetpack")
    (sleep 1)
)

(script command_script void 020_08_jetpack02
    (cs_movement_mode ai_movement_combat)
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to_nearest "evac_hangar_jetpack")
    (sleep 1)
)

(script command_script void 020_08_jetpack03
    (cs_movement_mode ai_movement_combat)
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to_nearest "evac_hangar_jetpack")
    (sleep 1)
)

(script command_script void 020_08_jetpack04
    (cs_movement_mode ai_movement_combat)
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to_nearest "evac_hangar_jetpack")
    (sleep 1)
)

(script command_script void 020_08_jetpack05
    (cs_movement_mode ai_movement_combat)
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to_nearest "evac_hangar_jetpack")
    (sleep 1)
)

(script command_script void 020_08_jetpack06
    (cs_movement_mode ai_movement_combat)
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to_nearest "evac_hangar_jetpack")
    (sleep 1)
)

(script command_script void 020_08_jetpack08
    (cs_movement_mode ai_movement_combat)
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to_nearest "evac_hangar_jetpack")
    (sleep 1)
)

(script command_script void 020_08_jetpack09
    (cs_movement_mode ai_movement_combat)
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to_nearest "evac_hangar_jetpack")
    (sleep 1)
)

(script command_script void 020_08_jetpack010
    (cs_movement_mode ai_movement_combat)
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to_nearest "evac_hangar_jetpack")
    (sleep 1)
    (cs_abort_on_alert true)
)

(script command_script void 020_08_jetpack011
    (cs_movement_mode ai_movement_combat)
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to_nearest "evac_hangar_jetpack")
    (sleep 1)
    (cs_abort_on_alert true)
)

(script command_script void 020_08_jetpack012
    (cs_movement_mode ai_movement_combat)
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to_nearest "evac_hangar_jetpack")
    (sleep 1)
    (cs_abort_on_alert true)
)

(script command_script void 020_08_jetpack013
    (cs_movement_mode ai_movement_combat)
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to_nearest "evac_hangar_jetpack")
    (sleep 1)
    (cs_abort_on_alert true)
)

(script dormant void 020_08_evac_marines
    (sleep 30)
    (ai_place "evac_hangar_cov_buggers")
    (if (>= (ai_living_count "evac_safe_marines") 7)
        (begin
            (ai_place "evac_hangar_johnson")
            (ai_place "evac_reinf_marines" 1)
            (if debug
                (print "good work chief, you saved all of the marines!")
            )
        )
        (if (= (ai_living_count "evac_safe_marines") 6)
            (begin
                (ai_place "evac_hangar_johnson")
                (ai_place "evac_reinf_marines" 2)
                (if debug
                    (print "seems we lost a marine!")
                )
            )
            (if (= (ai_living_count "evac_safe_marines") 5)
                (begin
                    (ai_place "evac_hangar_johnson")
                    (ai_place "evac_reinf_marines" 3)
                    (if debug
                        (print "looks like two didn't make it.")
                    )
                )
                (if (< (ai_living_count "evac_safe_marines") 5)
                    (begin
                        (ai_place "evac_hangar_johnson")
                        (ai_place "evac_reinf_marines" 4)
                        (if debug
                            (print "looks like we lost a fair amount in the barracks.")
                        )
                    )
                )
            )
        )
    )
    (cs_run_command_script "evac_safe_marines" evac_pelican_load)
    (device_set_position "evac_hangar_highway_door" 1)
    (wake evac_hangar_navpoint_active)
    (wake evac_hangar_navpoint_deactive)
    (sleep_until (= (device_get_position "evac_hangar_highway_door") 1))
    (ai_migrate "evac_reinf_marines" "evac_safe_marines")
    (wake md_08_joh_evac_arrives)
    (sleep_until (and (= (ai_living_count "evac_hangar_hum_pelican02") (ai_in_vehicle_count "evac_hangar_hum_pelican02")) (= (ai_living_count "evac_safe_marines") 0)))
    (sleep_until (= (unit_in_vehicle (unit (ai_get_object johnson))) true))
    (if (not (game_is_cooperative))
        (begin
            (cs_run_command_script "evac_arbiter" evac_pelican_load_arbiter)
            (sleep_until (= (unit_in_vehicle (unit obj_arbiter)) true) 30 600)
            (unit_set_active_camo "evac_arbiter" true 0)
            (sleep 1)
            (vehicle_load_magic (ai_vehicle_get_from_starting_location "evac_hangar_hum_pelican02/pilot") 21 obj_arbiter)
            (sleep 1)
            (unit_set_active_camo "evac_arbiter" false 3)
            (sleep_until (= (unit_in_vehicle (unit obj_arbiter)) true))
        )
    )
    (sleep 90)
    (cs_run_command_script "evac_hangar_hum_pelican02/pilot" 020_08_pelican_take_off)
)

(script dormant void 020_08_landing_pad_filter
    (sleep_until 
        (begin
            (if (volume_test_objects "g_evac_top_trig_a" (ai_actors "evac_hangar_marine01"))
                (ai_migrate "evac_hangar_marine01" "evac_safe_marines")
            )
            (if (volume_test_objects "g_evac_top_trig_a" (ai_actors "evac_hangar_marine02"))
                (ai_migrate "evac_hangar_marine02" "evac_safe_marines")
            )
            (if (volume_test_objects "g_evac_top_trig_a" (ai_actors "evac_hangar_marine03"))
                (ai_migrate "evac_hangar_marine03" "evac_safe_marines")
            )
            (if (volume_test_objects "g_evac_top_trig_a" (ai_actors "evac_hangar_marine04"))
                (ai_migrate "evac_hangar_marine04" "evac_safe_marines")
            )
            (if (volume_test_objects "g_evac_top_trig_a" (ai_actors "evac_hangar_marine04"))
                (ai_migrate "evac_hangar_marine05" "evac_safe_marines")
            )
            (if (volume_test_objects "g_evac_top_trig_a" (ai_actors "evac_hangar_marine05"))
                (ai_migrate "evac_hangar_marine05" "evac_safe_marines")
            )
            (if (volume_test_objects "g_evac_top_trig_a" (ai_actors "evac_hangar_marine06"))
                (ai_migrate "evac_hangar_marine06" "evac_safe_marines")
            )
            (if (volume_test_objects "g_evac_top_trig_a" (ai_actors "evac_hangar_marine07"))
                (ai_migrate "evac_hangar_marine07" "evac_safe_marines")
            )
            (= briefing_play false)
        )
    )
    (ai_disposable "evac_hangar_marines" true)
)

(script command_script void 020_08_pelican_init
    (sleep_forever)
)

(script command_script void 020_08_pelican_intro
    (cs_vehicle_speed 0.7)
    (cs_face true "evac_hangar_pelican01/p4")
    (set evac_encounter_begin true)
    (cs_fly_to "evac_hangar_pelican01/p18" 0.7)
    (object_set_physics "evac_hangar_hum_pelican/pilot" false)
    (cs_fly_to "evac_hangar_pelican01/p2" 0.7)
    (cs_face false "evac_hangar_pelican01/p4")
    (cs_vehicle_speed 1)
    (sleep_until 
        (begin
            (if (<= var_evac_hangar_pos 2)
                (cs_fly_to "evac_hangar_pelican01/p12" 10)
            )
            (if (<= var_evac_hangar_pos 2)
                (cs_fly_to "evac_hangar_pelican01/p15" 10)
            )
            (if (<= var_evac_hangar_pos 2)
                (cs_fly_to "evac_hangar_pelican01/p13" 10)
            )
            (if (<= var_evac_hangar_pos 2)
                (cs_fly_to "evac_hangar_pelican01/p16" 10)
            )
            (if (<= var_evac_hangar_pos 2)
                (cs_fly_to "evac_hangar_pelican01/p14" 10)
            )
            (> var_evac_hangar_pos 2)
        )
    )
    (cs_fly_to "evac_hangar_pelican01/p14" 1)
    (ai_erase "evac_hangar_hum_pelican")
)

(script command_script void 020_08_pelican_land
    (cs_enable_pathfinding_failsafe true)
    (sleep_until (= (current_zone_set_fully_active) 7) 5)
    (sleep 30)
    (wake 020_08_landing_pad_filter)
    (wake obj_evacuate_clear)
    (cs_vehicle_speed 0.7)
    (cs_fly_to "evac_hangar_pelican01/p11" 1)
    (wake 020_08_evac_marines)
    (cs_face true "evac_hangar_pelican01/p9")
    (unit_open (ai_vehicle_get ai_current_actor))
    (cs_fly_to "evac_hangar_pelican01/p10" 0.1)
    (sleep_forever)
)

(script command_script void 020_08_pelican_take_off
    (cs_vehicle_speed 0.7)
    (cs_face true "evac_hangar_pelican01/p4")
    (cs_fly_to "evac_hangar_pelican01/p18" 0.7)
    (object_set_physics "evac_hangar_hum_pelican02/pilot" false)
    (cs_fly_to "evac_hangar_pelican01/p0" 0.8)
    (cs_face false "evac_hangar_pelican01/p4")
    (cs_fly_to "evac_hangar_pelican01/p16" 0.8)
    (ai_erase "evac_hangar_hum_pelican02")
)

(script dormant void 020_09_cortana_highway
    (data_mine_set_mission_segment "020_09_cortana_highway_pt1")
    (game_save)
    (sleep_forever obj_self_destruct_set)
    (game_insertion_point_unlock 2)
    (if (= (game_insertion_point_get) 2)
        (zone_set_trigger_volume_enable "zone_set:020_06_08_04_encounter" true)
    )
    (wake 020_title3)
    (wake cortana_moment_b)
    (wake 11_rumble_event_weak)
    (set base_obj_control 110)
    (wake md_08_joh_reminder)
    (wake cortana_navpoint_active)
    (wake cortana_navpoint_deactive)
    (ai_place "cortana_highway_cov02")
    (ai_place "cortana_highway_cov06")
    (ai_place "cortana_highway_cov07")
    (ai_place "cortana_highway_grunt_turret01")
    (ai_place "cortana_highway_grunt_turret02")
    (ai_place "cortana_highway_grunt_turret03")
    (ai_place "cortana_highway_grunt_turret04")
    (ai_place "cortana_highway_turret05_legend")
    (ai_place "cortana_highway_grunt_reinf01")
    (ai_place "cortana_highway_grunt_reinf02")
    (sleep_until (> (device_get_position "cortana_encounter_door") 0) 5)
    (game_save)
    (data_mine_set_mission_segment "020_09_cortana_highway_pt2")
    (set base_obj_control 120)
    (device_set_position "motor_pool_start_door" 1)
    (device_set_power "loop02_begin_switch_b" 1)
    (device_set_power "loop02_begin_switch" 1)
    (device_set_position_immediate "motor_pool_highway_door" 1)
    (wake 020_09_player_position)
    (device_set_power "motor_pool_switch_a" 1)
    (object_destroy_containing "motor_pool_crate")
    (wake cortana02_navpoint_active)
    (wake cortana02_navpoint_deactive)
)

(script command_script void grunt_having_fun
    (cs_shoot_point true "cortana_highway_script/p0")
    (sleep 60)
    (cs_shoot_point false "cortana_highway_script/p0")
    (sleep 30)
    (cs_shoot_point true "cortana_highway_script/p1")
    (sleep 60)
    (cs_shoot_point false "cortana_highway_script/p1")
    (sleep 30)
    (cs_shoot_point true "cortana_highway_script/p2")
    (sleep 60)
    (cs_shoot_point false "cortana_highway_script/p2")
)

(script dormant void 020_09_player_position
    (sleep_until (volume_test_players "cortana_highway_var_trig01") 5)
    (set var_cortana_highway_pos 1)
    (sleep_until (volume_test_players "cortana_highway_var_trig02") 5)
    (set var_cortana_highway_pos 2)
    (game_save)
    (sleep_until (volume_test_players "cortana_highway_var_trig03") 5)
    (game_save)
)

(script command_script void 020_09_transition
    (ai_set_objective ai_current_squad "cortana_highway_ext_obj")
)

(script dormant void 020_10_self_destruct
    (data_mine_set_mission_segment "020_10_self_destruct")
    (wake 020_music_12)
    (wake 020_music_13)
    (wake 020_music_135)
    (device_group_change_only_once_more_set "020_01_g3" true)
    (game_save)
    (device_set_position_immediate "command_center_cin_door" 0)
    (wake 13_rumble_event_medium)
    (wake 14_rumble_event_medium)
    (flock_create "hangar_a_return_banshees_from")
    (flock_create "hangar_a_return_banshees_to")
    (sleep 1)
    (flock_start "hangar_a_return_banshees_from")
    (flock_start "hangar_a_return_banshees_to")
    (object_create_anew "cov_capital_ship01")
    (object_create_anew "ark_closed")
    (set base_obj_control 130)
    (wake 02_10_bomb)
    (sleep 1)
    (object_create_anew_containing "cc_blood")
    (object_create_anew "loop01_return_crate_bomb")
    (wake destruct_bomb_navpoint_active)
    (ai_place "self_destruct_cov01")
    (ai_place "self_destruct_cov02")
    (ai_place "self_destruct_cov03")
    (ai_place "self_destruct_cov05_legend")
    (ai_place "self_destruct_cov06_legend")
    (device_set_power "020_01_c1a" 0)
    (object_create_folder "cc_dmg_fx")
    (object_destroy "loop01_return_crate_shotgun")
    (object_create_anew "self_destruct_crate_empty")
    (object_create_anew "self_destruct_switch")
    (object_create_anew "pda_01")
    (object_destroy_containing "cc_monitor")
    (object_create_anew_containing "cc_monitor_destroy")
    (object_destroy_containing "cc_computer")
    (object_destroy_containing "cc2_computer")
    (object_destroy "cc_med_console")
    (object_create_anew_containing "cc_crashed")
    (sleep 1)
    (object_damage_damage_section "cc_crashed01" "main" 1)
    (object_damage_damage_section "cc_crashed02" "main" 1)
    (object_damage_damage_section "cc_crashed03" "main" 1)
    (object_damage_damage_section "cc_crashed04" "main" 1)
    (object_damage_damage_section "cc_crashed05" "main" 1)
    (object_damage_damage_section "cc_crashed06" "main" 1)
    (object_damage_damage_section "cc_crashed07" "main" 1)
    (object_damage_damage_section "cc_crashed08" "main" 1)
    (object_damage_damage_section "cc_crashed09" "main" 1)
    (object_damage_damage_section "cc_crashed10" "main" 1)
    (object_damage_damage_section "cc_crashed11" "main" 1)
    (object_damage_damage_section "cc_crashed12" "main" 1)
    (object_damage_damage_section "cc_crashed13" "main" 1)
    (object_damage_damage_section "cc_crashed14" "main" 1)
    (object_damage_damage_section "cc_crashed15" "main" 1)
    (object_damage_damage_section "cc_crashed16" "main" 1)
    (object_damage_damage_section "cc_crashed17" "main" 1)
    (object_damage_damage_section "cc_crashed18" "main" 1)
    (object_damage_damage_section "cc_crashed19" "main" 1)
    (object_damage_damage_section "cc_crashed20" "main" 1)
    (object_damage_damage_section "cc_crashed21" "main" 1)
    (object_damage_damage_section "cc_crashed22" "main" 1)
    (object_damage_damage_section "cc_crashed23" "main" 1)
    (object_damage_damage_section "cc_crashed29" "main" 1)
    (object_destroy "cc_tacboard")
    (object_create_anew "cc_tacboard_damaged")
    (device_set_position "cave_a_door_command" 0)
    (object_create_anew_containing "command_")
    (device_set_power "self_destruct_switch" 1)
    (sleep_forever md_08_joh_reminder)
    (sleep_forever md_08_joh_reminder_a)
    (sleep_forever md_08_joh_reminder_b)
    (sleep_forever md_08_joh_reminder_c)
    (ai_dialogue_enable true)
    (sleep_until (> (device_get_position "loop02_begin_door") 0))
    (wake 020vf_truth_reprimand)
    (sleep 30)
    (sleep_until (or (script_finished "020vf_truth_reprimand") (< (ai_living_count "self_destruct_all") 1) (= (volume_test_players "cave_a_dia03_trig") true)))
    (texture_camera_off)
    (sleep 1)
    (ai_erase "fake_truth")
    (object_destroy "grav_throne")
    (device_set_position "cortana_encounter_door" 0)
    (wake md_10_self_destruct_joh)
    (sleep_until (< (ai_living_count "self_destruct_all") 1) 5)
    (set g_music_020_12 true)
)

(script dormant void 02_10_bomb
    (sleep_until (> (device_get_position "self_destruct_switch") 0) 5)
    (volume_teleport_players_not_inside "self_destruct_coop_teleport" "command_center_coop_flag")
    (wake destruct_bomb_navpoint_deactive)
    (wake rumble_event_strong_loop)
    (sleep_forever md_10_self_destruct_joh)
    (ai_dialogue_enable true)
    (device_set_power "sec_light01" 1)
    (device_group_change_only_once_more_set "020_01_g3" true)
    (device_set_power "loop02_begin_switch" 0)
    (device_set_power "loop02_begin_switch_b" 0)
    (device_set_position "loop02_begin_door" 0)
    (sleep_until (= (device_get_position "loop02_begin_door") 0) 5)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_01_exit_encounter" true)
    (zone_set_trigger_volume_enable "zone_set:020_00_01_exit_encounter" true)
    (game_save)
    (wake br_10_command_objective)
    (wake obj_self_destruct_clear)
    (wake obj_exit_set)
    (sleep_until (or (volume_test_players "cave_a_start_trig") (= briefing_play false)) 5)
    (ai_place "self_destruct_cov04")
    (ai_force_active "self_destruct_cov04" true)
    (device_set_position "cave_a_door_command" 1)
    (wake self_destruct_navpoint_active)
    (wake self_destruct_navpoint_deactive)
)

(script dormant void 020_11_exit_run
    (data_mine_set_mission_segment "020_11_exit_run")
    (wake 020_music_14)
    (wake cortana_moment_c)
    (object_destroy "hangar_a_pipes")
    (object_create_anew "hangar_a_pipes_broke")
    (device_set_power "sec_light02" 1)
    (device_set_power "sec_light05" 1)
    (set base_obj_control 140)
    (device_set_position "cave_a_door_hallway02" 1)
    (device_set_position "cave_a_door_hallway01" 0)
    (object_create_anew_containing "exit_run_rock")
    (ai_place "exit_run_cov03")
    (ai_place "exit_run_cov04")
    (ai_place "exit_run_cov05")
    (sleep_until (volume_test_players "command_exit_trig") 1)
    (sleep_until (volume_test_players "cave_a_marine_1") 5)
    (sleep_forever md_11_cave_hangar_joh02)
    (ai_dialogue_enable true)
    (sleep_until (volume_test_players "cave_a_hwy_marines03_trig") 5)
    (device_set_power "sec_light04" 1)
    (device_set_power "sec_light06" 1)
    (ai_place "exit_run_cov01")
    (ai_place "exit_run_cov02")
    (sleep_until (volume_test_players "highway_a_start_trig") 1)
    (ai_place "exit_run_buggers")
    (cs_run_command_script "exit_run_buggers" cs_bugger_flee)
    (wake kill_bugger)
)

(script dormant void kill_bugger
    (set straggler_no 0)
    (sleep_until 
        (begin
            (if (volume_test_objects "bugger_kill" (list_get (ai_actors "exit_run_buggers") straggler_no))
                (begin
                    (ai_erase (object_get_ai (list_get (ai_actors "exit_run_buggers") straggler_no)))
                )
            )
            (set straggler_no (+ straggler_no 1))
            (if (> straggler_no 20)
                (set straggler_no 0)
            )
            (< (ai_living_count "exit_run_buggers") 1)
        )
        1
    )
)

(script static void test_buggers
    (ai_place "exit_run_buggers")
    (cs_run_command_script "exit_run_buggers" cs_bugger_flee)
    (wake kill_bugger)
)

(script command_script void cs_flee
    (cs_suppress_activity_termination true)
    (cs_abort_on_damage true)
    (cs_enable_moving true)
    (cs_movement_mode ai_movement_flee)
    (sleep_forever)
)

(script command_script void cs_flee_interrupt
    (cs_suppress_activity_termination true)
    (cs_abort_on_damage true)
    (cs_abort_on_alert true)
    (cs_enable_moving true)
    (cs_movement_mode ai_movement_flee)
    (sleep_forever)
)

(script command_script void cs_bugger_flee
    (cs_movement_mode ai_movement_flee)
    (cs_shoot false)
    (cs_enable_moving true)
    (sleep_forever)
)

(script dormant void 020_12_hangar_a_return
    (wake cortana_moment_e)
    (wake cortana_moment_f)
    (device_set_power "sec_light03" 1)
    (object_destroy_containing "hangar_a_return_object")
    (device_set_position "door_highway_hangar01" 1)
    (sleep 60)
    (ai_place "hangar_a_return_cov01")
    (print "spawn enemies")
    (ai_place "hangar_a_return_cov02")
    (ai_place "hangar_a_return_cov03")
    (ai_place "hangar_a_return_cov04")
    (ai_place "hangar_a_return_cov06")
    (ai_place "hangar_a_return_cov05")
    (ai_place "hangar_a_return_phantom01")
    (object_set_shadowless "hangar_a_return_phantom01/pilot" true)
    (sleep_until (volume_test_players "hangar_a_entrance_trig") 5)
    (game_save)
    (device_set_position "cave_a_door_command" 0)
    (data_mine_set_mission_segment "020_12_hangar_a_return")
    (set base_obj_control 150)
    (add_recycling_volume "g_cortana_highway_trig_c" 15 10)
    (sleep_until (volume_test_players "hangar_a_door_entrance_trig") 5)
    (cs_run_command_script "hangar_a_return_phantom01/pilot" 020_12_phantominitpath)
    (cs_run_command_script "hangar_a_return_cov05/01" 020_12_grunt_init01)
    (cs_run_command_script "hangar_a_return_cov05/02" 020_12_grunt_init02)
    (cs_run_command_script "hangar_a_return_cov05/03" 020_12_grunt_init03)
    (cs_run_command_script "hangar_a_return_cov05/04" 020_12_grunt_init04)
    (set g_music_020_14 true)
)

(script static void grunt_test
    (ai_place "hangar_a_return_phantom01")
    (cs_run_command_script "hangar_a_return_phantom01/pilot" 020_12_phantominitpath)
    (ai_place "hangar_a_return_cov05")
    (cs_run_command_script "hangar_a_return_cov05/01" 020_12_grunt_init01)
    (cs_run_command_script "hangar_a_return_cov05/02" 020_12_grunt_init02)
    (cs_run_command_script "hangar_a_return_cov05/03" 020_12_grunt_init03)
    (cs_run_command_script "hangar_a_return_cov05/04" 020_12_grunt_init04)
)

(script command_script void 020_12_grunt_init01
    (cs_enable_pathfinding_failsafe true)
    (cs_movement_mode ai_movement_flee)
    (cs_go_to "hangar_a_vignette/p0")
    (sleep 150)
)

(script command_script void 020_12_grunt_init02
    (cs_enable_pathfinding_failsafe true)
    (cs_movement_mode ai_movement_flee)
    (cs_go_to "hangar_a_vignette/p1")
    (sleep 150)
)

(script command_script void 020_12_grunt_init03
    (cs_enable_pathfinding_failsafe true)
    (cs_movement_mode ai_movement_flee)
    (cs_go_to "hangar_a_vignette/p2")
    (sleep 150)
)

(script command_script void 020_12_grunt_init04
    (cs_enable_pathfinding_failsafe true)
    (cs_movement_mode ai_movement_flee)
    (cs_go_to "hangar_a_vignette/p3")
    (sleep 150)
)

(script command_script void 020_12_phantominitpath
    (cs_vehicle_speed 0.8)
    (cs_fly_to_and_face "hangar_a_phantom_path_b/p4" "hangar_a_phantom_path_b/p3")
    (object_set_physics "hangar_a_return_phantom01/pilot" false)
    (cs_fly_to_and_face "hangar_a_phantom_path_b/p0" "hangar_a_phantom_path_b/p3")
    (cs_vehicle_speed 1)
    (cs_fly_by "hangar_a_phantom_path_b/p1")
    (cs_fly_to "hangar_a_phantom_path_b/p2")
    (ai_erase "hangar_a_return_phantom01")
)

(script dormant void evac02_elevator_activate
    (sleep_until 
        (begin
            (if (= (device_get_position "elevator_evac_02") 0)
                (begin
                    (device_set_position "evac02_elev_top" 1)
                    (device_set_position "evac02_elev_back" 1)
                    (device_set_power "evac2_elev_switch01" 1)
                    (motion_blur true)
                    false
                )
                (if (= (device_get_position "elevator_evac_02") 1)
                    (begin
                        (device_set_position "evac02_elev_bottom" 1)
                        (device_set_position "evac02_elev_front" 1)
                        (device_set_power "evac2_elev_switch03" 1)
                        (device_set_power "evac2_elev_switch02" 1)
                        (motion_blur true)
                        false
                    )
                    (if (and (< (device_get_position "elevator_evac_02") 1) (> (device_get_position "elevator_evac_02") 0))
                        (begin
                            (motion_blur false)
                            (device_set_position "evac02_elev_bottom" 0)
                            (device_set_position "evac02_elev_top" 0)
                            (device_set_position "evac02_elev_front" 0)
                            (device_set_position "evac02_elev_back" 0)
                            (device_set_power "evac2_elev_switch01" 0)
                            (device_set_power "evac2_elev_switch02" 0)
                            (device_set_power "evac2_elev_switch03" 0)
                            false
                        )
                    )
                )
            )
        )
        1
    )
)

(script dormant void exit01_elevator_activate
    (sleep_until (> (device_get_position "exit_elev_switch02") 0) 1)
    (device_set_position "exit_elev_top" 0)
    (device_set_position "exit_elev_front" 0)
    (sleep_until (> (device_get_position "exit_elev_front") 0) 1)
    (device_set_position "elevator_exit" 1)
)

(script dormant void base_disposable_ai
    (sleep_until (>= base_obj_control 30))
    (ai_disposable "command_center_hum" true)
    (ai_disposable "cave_a_hum" true)
    (flock_delete "cave_a_rats_01")
    (flock_delete "cave_a_rats_02")
    (flock_delete "cave_a_rats_03")
    (flock_delete "cave_a_rats_04")
    (flock_delete "cave_a_rats_05")
    (flock_delete "cave_a_rats_06")
    (flock_delete "cave_a_rats_07")
    (flock_delete "cave_a_rats_08")
    (sleep_until (>= base_obj_control 50))
    (ai_disposable "highway_a_all" true)
    (flock_delete "hall_a_rats_01")
    (sleep_until (>= base_obj_control 60))
    (ai_disposable "hangar_a_all" true)
    (ai_disposable "players_marines" true)
    (flock_delete "hangar_a_rats_01")
    (flock_delete "hangar_a_rats_02")
    (flock_delete "hangar_a_rats_03")
    (flock_delete "hangar_a_rats_04")
    (flock_delete "hangar_a_rats_05")
    (sleep_until (>= base_obj_control 70))
    (ai_disposable "loop01_return_cov_all" true)
    (ai_disposable "loop01_return_hum_all" true)
    (ai_disposable "loop01_return_hw01" true)
    (ai_disposable "bugger_intro_all" true)
    (sleep_until (>= base_obj_control 90))
    (ai_disposable "loop02_begin_hum" true)
    (ai_disposable "motor_pool_all" true)
    (ai_disposable "sewer_all" true)
    (flock_delete "motorpool_rats_01")
    (flock_delete "motorpool_rats_02")
    (sleep_until (>= base_obj_control 100))
    (ai_disposable "barracks_cov_all" true)
    (flock_delete "barracks_rats_01")
    (sleep_until (>= base_obj_control 110))
    (flock_delete "evac_rats_01")
    (flock_delete "evac_rats_02")
    (flock_delete "evac_rats_03")
    (sleep_until (>= base_obj_control 120))
    (sleep_until (>= base_obj_control 130))
    (sleep_until (>= base_obj_control 140))
    (ai_disposable "cortana_highway_all" true)
    (sleep_until (>= base_obj_control 150))
    (ai_disposable "self_destruct_all" true)
)

(script dormant void base_cleanup
    (sleep_until (>= base_obj_control 10))
    (sleep_until (>= base_obj_control 20))
    (sleep_until (>= base_obj_control 30))
    (device_set_position "cave_a_door_command" 0)
    (device_set_position "cave_a_door_hallway01" 0)
    (sleep_forever ops_center_big_screen)
    (sleep_forever ops_center_monitors)
    (sleep_forever md_01_hw_followers)
    (sleep_forever 01_cave_entry)
    (sleep_forever 01_take_positions)
    (sleep_forever 01_sergeant_dialog)
    (sleep_forever 01_follower_dialog)
    (sleep_forever md_01_command_followers)
    (sleep_forever md_01_command_followers02)
    (sleep_forever 01_cave_a_runner01)
    (sleep_forever 01_cave_a_runner02)
    (sleep_forever 01_johnson_reminder)
    (ai_dialogue_enable true)
    (sleep_until (>= base_obj_control 40))
    (sleep_forever 01_door_repair)
    (sleep_until (>= base_obj_control 50))
    (sleep_forever md_04_hangar_miranda_pa)
    (ai_dialogue_enable true)
    (sleep_until (>= base_obj_control 60))
    (sleep_forever md_hangar_a_radio_johnson)
    (ai_dialogue_enable true)
    (sleep_until (>= base_obj_control 70))
    (sleep_until (>= base_obj_control 80))
    (sleep_until (>= base_obj_control 90))
    (sleep_forever 020vc_gift_with_purchase)
    (sleep_forever 020vc_01)
    (sleep_forever 020vc_setup)
    (sleep_until (>= base_obj_control 100))
    (sleep_forever bugger_machine01)
    (sleep_forever bugger_machine02)
    (sleep_forever bugger_machine03)
    (sleep_forever bugger_swarm01)
    (sleep_forever bugger_swarm02)
    (sleep_forever bugger_swarm03)
    (sleep_until (>= base_obj_control 110))
    (sleep_until (>= base_obj_control 120))
    (sleep_until (>= base_obj_control 130))
    (device_set_position "command_miranda_door" 1)
    (device_set_position "command_center_cin_door" 0)
    (sleep_until (>= base_obj_control 140))
    (sleep_until (>= base_obj_control 150))
)

(script dormant void command_navpoint_active
    (sleep (* 30 90))
    (hud_activate_team_nav_point_flag player "command_navpoint01" g_nav_offset)
)

(script dormant void command_navpoint_deactive
    (sleep_until (or (> base_obj_control 10) (<= (objects_distance_to_flag (players) "command_navpoint01") 1)) 1)
    (sleep_forever command_navpoint_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "command_navpoint01")
)

(script dormant void cave_a_navpoint_active
    (sleep (* 30 90))
    (hud_activate_team_nav_point_flag player "cave_a_navpoint" g_nav_offset)
)

(script dormant void cave_a_navpoint_deactive
    (sleep_until (or (> base_obj_control 20) (<= (objects_distance_to_flag (players) "cave_a_navpoint") 2)) 1)
    (sleep_forever cave_a_navpoint_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "cave_a_navpoint")
)

(script dormant void highway_a_navpoint_active
    (sleep_until (and (< (ai_living_count "highway_a_cov01") 1) (< (ai_living_count "highway_a_cov02") 1) (< (ai_living_count "highway_a_cov03") 1) (< (ai_living_count "highway_a_cov07_legend") 1) (< (ai_living_count "highway_a_cov08_legend") 1)) 5)
    (sleep (* 30 60))
    (hud_activate_team_nav_point_flag player "highway_a_navpoint" g_nav_offset)
)

(script dormant void highway_a_navpoint_deactive
    (sleep_until (or (> base_obj_control 30) (<= (objects_distance_to_flag (players) "highway_a_navpoint") 2)) 1)
    (sleep_forever highway_a_navpoint_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "highway_a_navpoint")
)

(script dormant void hangar_a_navpoint_active
    (sleep (* 30 30))
    (hud_activate_team_nav_point_flag player "hangar_a_navpoint01" g_nav_offset)
)

(script dormant void hangar_a_navpoint_deactive
    (sleep_until (<= (objects_distance_to_flag (players) "hangar_a_navpoint01") 2) 1)
    (sleep_forever hangar_a_navpoint_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "hangar_a_navpoint01")
    (wake hangar_a_navpoint02_active)
    (wake hangar_a_navpoint02_deactive)
)

(script dormant void hangar_a_navpoint02_active
    (sleep (* 30 30))
    (hud_activate_team_nav_point_flag player "highway_a_navpoint01" g_nav_offset)
)

(script dormant void hangar_a_navpoint02_deactive
    (sleep_until (<= (objects_distance_to_flag (players) "highway_a_navpoint01") 2) 1)
    (sleep_forever hangar_a_navpoint02_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "highway_a_navpoint01")
    (wake hangar_a_navpoint03_active)
    (wake hangar_a_navpoint03_deactive)
)

(script dormant void hangar_a_navpoint03_active
    (sleep (* 30 90))
    (hud_activate_team_nav_point_flag player "cave_a_navpoint" g_nav_offset)
)

(script dormant void hangar_a_navpoint03_deactive
    (sleep_until (<= (objects_distance_to_flag (players) "cave_a_navpoint") 2) 1)
    (sleep_forever hangar_a_navpoint03_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "cave_a_navpoint")
)

(script dormant void loop01_navpoint_active
    (sleep (* 30 90))
    (hud_activate_team_nav_point_flag player "command_navpoint01" g_nav_offset)
)

(script dormant void loop01_navpoint_deactive
    (sleep_until (or (> base_obj_control 50) (<= (objects_distance_to_flag (players) "command_navpoint01") 2)) 1)
    (sleep_forever loop01_navpoint_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "command_navpoint01")
)

(script dormant void loop02_navpoint_active
    (sleep_until (= loop02_navpoint_bool true) 5)
    (hud_activate_team_nav_point_flag player "command_navpoint02" g_nav_offset)
)

(script dormant void loop02_navpoint_deactive
    (sleep_forever loop02_navpoint_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "command_navpoint02")
)

(script dormant void motor_pool_navpoint_active
    (sleep_until (< (ai_living_count "motor_pool_all") 1))
    (sleep (* 30 90))
    (hud_activate_team_nav_point_flag player "sewer_navpoint01" g_nav_offset)
)

(script dormant void motor_pool_navpoint_deactive
    (sleep_until (or (> base_obj_control 70) (<= (objects_distance_to_flag (players) "sewer_navpoint01") 2)) 1)
    (sleep_forever motor_pool_navpoint_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "sewer_navpoint01")
)

(script dormant void evac_hangar_navpoint_active
    (sleep (* 30 90))
    (hud_activate_team_nav_point_flag player "evac_hangar_navpoint02" g_nav_offset)
)

(script dormant void evac_hangar_navpoint_deactive
    (sleep_until (or (> base_obj_control 100) (<= (objects_distance_to_flag (players) "evac_hangar_navpoint02") 3)) 1)
    (sleep_forever evac_hangar_navpoint_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "evac_hangar_navpoint02")
)

(script dormant void cortana_navpoint_active
    (sleep (* 30 90))
    (hud_activate_team_nav_point_flag player "cortana_highway_navpoint01" g_nav_offset)
)

(script dormant void cortana_navpoint_deactive
    (sleep_until (or (> base_obj_control 110) (<= (objects_distance_to_flag (players) "cortana_highway_navpoint01") 3)) 1)
    (sleep_forever cortana_navpoint_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "cortana_highway_navpoint01")
)

(script dormant void cortana02_navpoint_active
    (sleep (* 30 90))
    (hud_activate_team_nav_point_flag player "command_navpoint02" g_nav_offset)
)

(script dormant void cortana02_navpoint_deactive
    (sleep_until (or (> base_obj_control 120) (<= (objects_distance_to_flag (players) "command_navpoint02") 2)) 1)
    (sleep_forever cortana02_navpoint_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "command_navpoint02")
)

(script dormant void destruct_bomb_navpoint_active
    (hud_activate_team_nav_point_flag player "bomb_navpoint" g_nav_offset)
)

(script dormant void destruct_bomb_navpoint_deactive
    (sleep_forever destruct_bomb_navpoint_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "bomb_navpoint")
)

(script dormant void self_destruct_navpoint_active
    (sleep (* 30 30))
    (hud_activate_team_nav_point_flag player "command_navpoint01" g_nav_offset)
)

(script dormant void self_destruct_navpoint_deactive
    (sleep_until (or (> base_obj_control 140) (<= (objects_distance_to_flag (players) "command_navpoint01") 2)) 1)
    (sleep_forever self_destruct_navpoint_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "command_navpoint01")
    (wake exit_run_navpoint_active)
    (wake exit_run_navpoint_deactive)
)

(script dormant void exit_run_navpoint_active
    (sleep (* 30 60))
    (hud_activate_team_nav_point_flag player "cave_a_navpoint" g_nav_offset)
)

(script dormant void exit_run_navpoint_deactive
    (sleep_until (or (> base_obj_control 140) (<= (objects_distance_to_flag (players) "cave_a_navpoint") 2)) 1)
    (sleep_forever exit_run_navpoint_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "cave_a_navpoint")
    (wake hangar_a_ret_navpoint_active)
    (wake hangar_a_ret_navpoint_deactive)
)

(script dormant void hangar_a_ret_navpoint_active
    (sleep (* 30 90))
    (hud_activate_team_nav_point_flag player "highway_a_navpoint01" g_nav_offset)
)

(script dormant void hangar_a_ret_navpoint_deactive
    (sleep_until (or (> base_obj_control 150) (<= (objects_distance_to_flag (players) "highway_a_navpoint01") 2)) 1)
    (sleep_forever hangar_a_ret_navpoint_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "highway_a_navpoint01")
    (wake hangar_a_ret02_nav_active)
    (wake hangar_a_ret02_nav_deactive)
)

(script dormant void hangar_a_ret02_nav_active
    (sleep (* 30 90))
    (hud_activate_team_nav_point_flag player "highway_a_navpoint" g_nav_offset)
)

(script dormant void hangar_a_ret02_nav_deactive
    (sleep_until (or (> base_obj_control 150) (<= (objects_distance_to_flag (players) "highway_a_navpoint") 2)) 1)
    (sleep_forever hangar_a_ret02_nav_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "highway_a_navpoint")
    (wake hangar_a_ret03_nav_active)
    (wake hangar_a_ret03_nav_deactive)
)

(script dormant void hangar_a_ret03_nav_active
    (sleep (* 30 90))
    (hud_activate_team_nav_point_flag player "hangar_a_navpoint01" g_nav_offset)
)

(script dormant void hangar_a_ret03_nav_deactive
    (sleep_until (or (> base_obj_control 150) (<= (objects_distance_to_flag (players) "hangar_a_navpoint01") 2)) 1)
    (sleep_forever hangar_a_ret03_nav_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "hangar_a_navpoint01")
    (wake hangar_a_ret04_nav_active)
    (wake hangar_a_ret04_nav_deactive)
)

(script dormant void hangar_a_ret04_nav_active
    (sleep (* 30 30))
    (hud_activate_team_nav_point_flag player "exit_navpoint01" g_nav_offset)
)

(script dormant void hangar_a_ret04_nav_deactive
    (sleep_until (or (> base_obj_control 150) (<= (objects_distance_to_flag (players) "exit_navpoint01") 2)) 1)
    (sleep_forever hangar_a_ret03_nav_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "exit_navpoint01")
)

(script command_script void cs_abort
    (sleep 1)
)

(script dormant void obj_init_set
    (if debug
        (print "new objective set:")
    )
    (if debug
        (print "setup defenses")
    )
    (sleep_until (or (= miranda_done true) (volume_test_players "command_center_intro_marines")) 1)
    (if (volume_test_players "command_center_intro_marines")
        (sleep 270)
    )
    (objectives_show_up_to 0)
    (cinematic_set_chud_objective "obj_0")
    (set g_music_020_01 true)
)

(script dormant void obj_init_clear
    (if debug
        (print "objective complete:")
    )
    (if debug
        (print "stop the covenant from taking the armory.")
    )
    (objectives_finish_up_to 0)
)

(script dormant void obj_hangar_a_set
    (sleep 30)
    (if debug
        (print "new objective set:")
    )
    (if debug
        (print "seal off the south hangar to limit covenant reinforcements.")
    )
    (objectives_show_up_to 1)
    (sleep 200)
    (cinematic_set_chud_objective "obj_1")
)

(script dormant void obj_hangar_a_clear
    (if debug
        (print "objective complete:")
    )
    (if debug
        (print "seal off the south hangar to limit covenant reinforcements.")
    )
    (objectives_finish_up_to 1)
)

(script dormant void obj_return_command_center_set
    (sleep 30)
    (if debug
        (print "new objective set:")
    )
    (if debug
        (print "return to the command center.")
    )
    (objectives_show_up_to 2)
    (sleep 90)
    (cinematic_set_chud_objective "obj_2")
)

(script dormant void obj_return_command_center_clear
    (if debug
        (print "objective complete:")
    )
    (if debug
        (print "return to the command center.")
    )
    (objectives_finish_up_to 2)
)

(script dormant void obj_barracks_set
    (if debug
        (print "new objective set:")
    )
    (if debug
        (print "go to the barracks to help with the rescue effort.")
    )
    (objectives_finish_up_to 2)
    (objectives_show_up_to 3)
    (sleep 120)
    (cinematic_set_chud_objective "obj_3")
)

(script dormant void obj_barracks_clear
    (sleep_until (or (= (device_get_position "barracks_door_end") 1) (<= (ai_living_count "barracks_cov_all") 0)) 5)
    (if debug
        (print "objective complete:")
    )
    (if debug
        (print "go to the barracks to help with the rescue effort.")
    )
    (objectives_finish_up_to 3)
)

(script dormant void obj_evacuate_set
    (sleep_until (= (device_get_position "barracks_door_end") 1) 5)
    (sleep 30)
    (if debug
        (print "new objective set:")
    )
    (if debug
        (print "evacuate the base in the west hangar.")
    )
    (objectives_show_up_to 4)
    (sleep 120)
    (cinematic_set_chud_objective "obj_4")
)

(script dormant void obj_evacuate_clear
    (if debug
        (print "objective complete:")
    )
    (if debug
        (print "evacuate the base in the west hangar.")
    )
    (objectives_finish_up_to 4)
)

(script dormant void obj_self_destruct_set
    (if debug
        (print "new objective set:")
    )
    (if debug
        (print "return to the command center to determine what is interfering with our remote detonation.")
    )
    (objectives_finish_up_to 4)
    (objectives_show_up_to 5)
    (cinematic_set_chud_objective "obj_5")
    (set self_destruct_objective true)
)

(script dormant void obj_self_destruct_set_ins
    (sleep 180)
    (if (not self_destruct_objective)
        (begin
            (if debug
                (print "new objective set:")
            )
            (if debug
                (print "return to the command center to determine what is interfering with our remote detonation.")
            )
            (objectives_finish_up_to 4)
            (objectives_show_up_to 5)
            (cinematic_set_chud_objective "obj_5")
        )
    )
)

(script dormant void obj_self_destruct_clear
    (if debug
        (print "objective complete:")
    )
    (if debug
        (print "return to the command center to determine what is interfering with our remote detonation.")
    )
    (objectives_finish_up_to 5)
)

(script dormant void obj_exit_set
    (sleep 30)
    (if debug
        (print "new objective set:")
    )
    (if debug
        (print "exit the base via an elevator in the north hangar.")
    )
    (objectives_show_up_to 6)
    (sleep 150)
    (cinematic_set_chud_objective "obj_6")
)

(script dormant void obj_exit_clear
    (if debug
        (print "objective complete:")
    )
    (if debug
        (print "exit the base via an elevator in the north hangar.")
    )
    (objectives_finish_up_to 7)
)

(script dormant void gs_award_primary_skull
    (if (award_skull)
        (begin
            (object_create "skull_black_eye")
            (sleep_until (or (unit_has_weapon (unit (player0)) "objects\weapons\multiplayer\ball\primary_skull.weapon") (unit_has_weapon (unit (player1)) "objects\weapons\multiplayer\ball\primary_skull.weapon") (unit_has_weapon (unit (player2)) "objects\weapons\multiplayer\ball\primary_skull.weapon") (unit_has_weapon (unit (player3)) "objects\weapons\multiplayer\ball\primary_skull.weapon")) 5)
            (if debug
                (print "award black_eye skull")
            )
            (campaign_metagame_award_primary_skull (player0) 1)
            (campaign_metagame_award_primary_skull (player1) 1)
            (campaign_metagame_award_primary_skull (player2) 1)
            (campaign_metagame_award_primary_skull (player3) 1)
        )
    )
)

(script dormant void gs_award_secondary_skull
    (if (award_skull)
        (begin
            (object_create "skull_grunt_bday")
            (sleep_until (or (unit_has_weapon (unit (player0)) "objects\weapons\multiplayer\ball\secondary_skull.weapon") (unit_has_weapon (unit (player1)) "objects\weapons\multiplayer\ball\secondary_skull.weapon") (unit_has_weapon (unit (player2)) "objects\weapons\multiplayer\ball\secondary_skull.weapon") (unit_has_weapon (unit (player3)) "objects\weapons\multiplayer\ball\secondary_skull.weapon")) 5)
            (if debug
                (print "award grunt birthday party skull")
            )
            (campaign_metagame_award_secondary_skull (player0) 3)
            (campaign_metagame_award_secondary_skull (player1) 3)
            (campaign_metagame_award_secondary_skull (player2) 3)
            (campaign_metagame_award_secondary_skull (player3) 3)
        )
    )
)

(script static void disable_zone_volumes
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_01_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_00_01_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_00_01_return" false)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_01_return" false)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_04_05_encounter" false)
    (zone_set_trigger_volume_enable "begin_zone_set:020_04_05_06_encounter" false)
    (zone_set_trigger_volume_enable "begin_zone_set:020_05_06_07_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_05_06_07_encounter" false)
    (zone_set_trigger_volume_enable "begin_zone_set:020_06_08_04_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_06_08_04_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_00_04_08_encounter" false)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_04_08_encounter" false)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_01_exit_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_00_01_exit_encounter" false)
    (zone_set_trigger_volume_enable "begin_zone_set:020_01_03_exit_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_01_03_exit_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_04_05_06_encounter" false)
)

(script dormant void object_management
    (sleep_until (> (player_count) 0) 1)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_01_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_00_01_encounter" false)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_04_05_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_00_04_05_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_00_04_08_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_00_01_return" false)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_01_return" false)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_01_exit_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_00_01_exit_encounter" false)
    (zone_set_trigger_volume_enable "begin_zone_set:020_01_03_exit_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_01_03_exit_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_06_08_04_encounter" false)
    (if (= (current_zone_set) 0)
        (begin
            (vehicle_auto_turret "cool_cam01" "cool_cam_trig01" 0 50 50)
            (vehicle_auto_turret "cool_cam02" "cool_cam_trig02" 0 50 50)
            (vehicle_auto_turret "cool_cam03" "cool_cam_trig03" 0 50 50)
        )
    )
    (sleep_until (>= (current_zone_set) 1) 1)
    (if (= (current_zone_set) 1)
        (begin
            (vehicle_auto_turret "cool_cam04" "cool_cam_trig04" 0 50 50)
            (vehicle_auto_turret "cool_cam05" "cool_cam_trig05" 0 50 50)
        )
    )
    (sleep_until (>= (current_zone_set) 2) 1)
    (device_set_position_immediate "cave_a_door_hallway01" 0)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_01_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_00_01_encounter" false)
    (if (= (current_zone_set) 2)
        (begin
            (object_create_folder "bipeds_hangar_a_folder")
            (vehicle_auto_turret "cool_cam06" "cool_cam_trig06" 0 50 50)
        )
    )
    (sleep_until (>= (current_zone_set) 3) 1)
    (device_set_position "cave_a_door_hallway01" 1)
    (device_set_position_immediate "020_03_d2" 1)
    (device_set_position_immediate "hangar_a_entrance_door" 0)
    (zone_set_trigger_volume_enable "begin_zone_set:020_01_03_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_01_03_encounter" false)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_04_05_encounter" true)
    (zone_set_trigger_volume_enable "zone_set:020_00_04_05_encounter" true)
    (device_set_position_immediate "command_center_cin_door" 0)
    (flock_delete "banshees")
    (flock_delete "hornets")
    (sleep_until (>= (current_zone_set) 4) 1)
    (device_set_position_immediate "cave_a_door_hallway01" 0)
    (if (= (current_zone_set) 4)
        (begin
            (object_destroy_folder "bipeds_hangar_a_folder")
            (object_create_folder "bipeds_motorpool_folder")
        )
    )
    (sleep_until (>= (current_zone_set) 5) 1)
    (device_set_position_immediate "loop02_begin_door" 0)
    (zone_set_trigger_volume_enable "zone_set:020_00_01_return" false)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_01_return" false)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_04_05_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_00_04_05_encounter" false)
    (object_destroy "bugger_vent")
    (if (= (current_zone_set) 5)
        (begin
            (vehicle_auto_turret "cool_cam07" "cool_cam_trig07" 0 50 50)
            (vehicle_auto_turret "cool_cam08" "cool_cam_trig08" 0 50 50)
            (vehicle_auto_turret "cool_cam09" "cool_cam_trig09" 0 50 50)
        )
    )
    (sleep_until (>= (current_zone_set_fully_active) 5) 1)
    (sleep 30)
    (object_create_anew "evac02_elev_back")
    (sleep 30)
    (object_create_anew "evac02_elev_front")
    (sleep 30)
    (object_destroy "evac02_elev_back")
    (sleep 30)
    (object_destroy "evac02_elev_front")
    (sleep 30)
    (object_create_anew "evac02_elev_back")
    (object_create_anew "evac02_elev_front")
    (object_create_anew "evac02_elev_top")
    (object_create_anew "evac02_elev_bottom")
    (object_create_anew "elevator_evac_02")
    (object_create_anew "evac2_elev_switch01")
    (object_create_anew "evac2_elev_switch02")
    (object_create_anew "evac2_elev_switch03")
    (sleep 1)
    (objects_attach "elevator_evac_02" "panel" "evac2_elev_switch02" "")
    (objects_attach "elevator_evac_02" "back" "evac02_elev_back" "")
    (objects_attach "elevator_evac_02" "front" "evac02_elev_front" "")
    (kill_volume_disable "kill_evac_elevator")
    (sleep_until (>= (current_zone_set) 6) 1)
    (zone_set_trigger_volume_enable "zone_set:020_04_05_06_encounter" false)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_04_05_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_00_04_05_encounter" false)
    (device_set_position_immediate "motor_pool_exit_door" 0)
    (object_destroy_folder "crates_evac_hangar_folder")
    (object_destroy_folder "bipeds_motorpool_folder")
    (object_destroy_folder "equipment_motorpool_folder")
    (object_destroy_folder "weapons_motorpool_folder")
    (add_recycling_volume "g_sewer_trig_a" 0 1)
    (if (= (current_zone_set) 6)
        (begin
            (garbage_collect_now)
            (sleep 1)
            (object_create_folder "crates_barracks_folder")
        )
    )
    (sleep_until (>= (current_zone_set) 7) 1)
    (zone_set_trigger_volume_enable "begin_zone_set:020_04_05_06_encounter" false)
    (zone_set_trigger_volume_enable "zone_set:020_00_04_08_encounter" true)
    (zone_set_trigger_volume_enable "zone_set:020_05_06_07_encounter" false)
    (device_set_position_immediate "barracks_evac_hangar_door" 0)
    (kill_volume_enable "kill_evac_elevator")
    (if (= (current_zone_set) 7)
        (begin
            (object_destroy_folder "crates_barracks_folder")
            (object_destroy_folder "bipeds_barracks_folder")
            (object_destroy_folder "weapons_barracks_folder")
            (object_destroy_folder "equipment_barracks_folder")
            (vehicle_auto_turret "cool_cam10" "cool_cam_trig10" 0 50 50)
        )
    )
    (sleep_until (>= (current_zone_set) 8) 1)
    (add_recycling_volume "g_evac_bottom_trig_a" 0 1)
    (add_recycling_volume "g_evac_bottom_trig_b" 0 1)
    (add_recycling_volume "g_evac_bottom_trig_c" 0 1)
    (add_recycling_volume "g_evac_top_trig_a" 0 1)
    (sleep_forever evac_hangar_kill_player)
    (device_set_position_immediate "cortana_zone_door" 0)
    (device_set_power "command_center_cin_door" 1)
    (device_set_position_immediate "command_center_cin_door" 0)
    (device_set_position_immediate "evac_hangar_highway_door" 0)
    (flock_delete "banshees_evac")
    (flock_delete "hornet_evac")
    (if (= (current_zone_set) 8)
        (object_destroy_folder "crates_evac_hangar_folder")
        (object_create_folder "bipeds_cc_folder")
    )
    (sleep_until (>= (current_zone_set) 9) 1)
    (add_recycling_volume "g_cortana_highway_trig_a" 0 1)
    (add_recycling_volume "g_cortana_highway_trig_b" 0 1)
    (add_recycling_volume "g_cortana_highway_trig_c" 0 1)
    (add_recycling_volume "g_motor_pool_trig_a" 0 1)
    (add_recycling_volume "g_motor_pool_trig_b" 0 1)
    (object_destroy_folder "crates_cortana_highway_folder")
    (object_destroy_folder "bipeds_cortana_highway_folder")
    (object_destroy_folder "weapons_cortana_highway_folder")
    (object_destroy_folder "equipment_cortana_highway_folder")
    (object_destroy_folder "vehicles_cortana_highway_folder")
    (sleep_until (>= (current_zone_set_fully_active) 9) 1)
    (zone_set_trigger_volume_enable "begin_zone_set:020_01_03_exit_encounter" true)
    (zone_set_trigger_volume_enable "zone_set:020_01_03_exit_encounter" true)
    (device_set_position_immediate "cave_a_door_hallway01" 1)
    (device_set_position_immediate "highway_a_door" 1)
    (device_set_position_immediate "hangar_a_entrance_door" 1)
    (device_set_position_immediate "020_03_d2" 1)
    (sleep_until (>= (current_zone_set) 10) 1)
    (add_recycling_volume "g_command_center_trig_a" 0 1)
    (add_recycling_volume "g_command_center_trig_b" 0 1)
    (add_recycling_volume "g_command_center_trig_c" 0 1)
    (add_recycling_volume "g_cave_a_trig_a" 0 1)
    (add_recycling_volume "g_cave_a_trig_b" 0 1)
    (object_destroy_folder "crates_command_center_folder")
    (object_destroy_folder "crates_cave_a_folder")
    (object_destroy_folder "bipeds_cc_folder")
    (device_set_power "sec_light01" 0)
    (device_set_power "sec_light02" 0)
    (zone_set_trigger_volume_enable "zone_set:020_00_01_exit_encounter" false)
    (zone_set_trigger_volume_enable "begin_zone_set:020_00_01_exit_encounter" false)
    (device_set_position_immediate "cave_a_door_hallway01" 0)
    (sleep_until (>= (current_zone_set_fully_active) 10) 1)
    (object_create_anew "exit_elev_front")
    (object_create_anew "exit_elev_back")
    (object_create_anew "exit_elev_top")
    (object_create_anew "elevator_exit")
    (sleep 1)
    (objects_attach "elevator_exit" "panel" "exit_elev_switch02" "")
    (objects_attach "elevator_exit" "front" "exit_elev_front" "")
    (objects_attach "elevator_exit" "back" "exit_elev_back" "")
    (object_create_folder "bipeds_hangar_a_folder")
    (sleep_until (>= (current_zone_set) 11) 1)
    (device_set_position_immediate "hangar_a_left_door" 1)
    (device_set_position_immediate "hangar_a_right_door" 1)
)

(script static void !020la01_landing_sh1
    (begin
        (object_destroy "elevator_evac_02")
        (fade_in 0 0 0 20)
    )
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 0) 0 "cin_hanger_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 0) 0)
    (cinematic_object_create_cinematic_anchor "cin_hanger_anchor" "cin_hanger_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 0 (cinematic_object_get_unit "cin_arbiter") "020la01_cin_arbiter_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 1 (cinematic_object_get_unit "cin_chief") "020la01_cin_chief_1" true)
    (object_hide (cinematic_object_get_unit "cin_corpsman1") true)
    (object_hide (cinematic_object_get_unit "cin_corpsman2") true)
    (object_hide (cinematic_object_get_unit "cin_critical_marine") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 5 (cinematic_object_get_unit "cin_johnson") "020la01_cin_johnson_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 6 (cinematic_object_get_unit "cin_traffic_controller1") "020la01_cin_officer1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 7 (cinematic_object_get_unit "cin_traffic_controller2") "020la01_cin_marine1_1" true)
    (object_hide (cinematic_object_get_unit "cin_wounded01") true)
    (object_hide (cinematic_object_get_unit "cin_wounded02") true)
    (object_hide (cinematic_object_get_unit "cin_wounded03") true)
    (object_hide (cinematic_object_get_scenery "cin_elevator") true)
    (object_hide (cinematic_object_get_scenery "cin_gurney") true)
    (object_hide (cinematic_object_get_unit "cin_miranda") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 14 (cinematic_object_get_scenery "pelican") "020la01_cin_pelican_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 2 0)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "thrusters_back" 0.15 0)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "thrusters_down" 0.25 0)
    (sleep 1)
    (cinematic_scripting_start_music 0 0 0 1)
    (sleep 1)
    (cinematic_scripting_start_music 0 0 0 0)
    (cinematic_scripting_start_dialogue 0 0 0 0 (cinematic_object_get_unit "cin_traffic_controller1"))
    (sleep 3)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "thrusters_down" 1 30)
    (sleep 57)
    (cinematic_scripting_start_dialogue 0 0 0 1 (cinematic_object_get_unit "cin_traffic_controller1"))
    (sleep 68)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la01_landing_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 0) 1 "cin_hanger_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 0) 1)
    (cinematic_object_create_cinematic_anchor "cin_hanger_anchor" "cin_hanger_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 0 (cinematic_object_get_unit "cin_arbiter") "020la01_cin_arbiter_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 1 (cinematic_object_get_unit "cin_chief") "020la01_cin_chief_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 2 (cinematic_object_get_unit "cin_corpsman1") "020la01_med_tech1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 3 (cinematic_object_get_unit "cin_corpsman2") "020la01_med_tech2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 4 (cinematic_object_get_unit "cin_critical_marine") "020la01_cin_dying_marine_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 5 (cinematic_object_get_unit "cin_johnson") "020la01_cin_johnson_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 6 (cinematic_object_get_unit "cin_traffic_controller1") "020la01_cin_officer1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 7 (cinematic_object_get_unit "cin_traffic_controller2") "020la01_cin_marine1_2" true)
    (object_hide (cinematic_object_get_unit "cin_wounded01") true)
    (object_hide (cinematic_object_get_unit "cin_wounded02") true)
    (object_hide (cinematic_object_get_unit "cin_wounded03") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 11 (cinematic_object_get_scenery "cin_elevator") "020la01_cin_elevator_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 12 (cinematic_object_get_scenery "cin_gurney") "020la01_cin_gurney_2" true)
    (object_hide (cinematic_object_get_unit "cin_miranda") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 14 (cinematic_object_get_scenery "pelican") "020la01_cin_pelican_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure 1.5 0)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "thrusters_back" 0.15 0)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "jet_wash_active" 1 0)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "thrusters_down" 1 0)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "jet_wash_power" 1 0)
    (sleep 5)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "thrusters_down" 0.5 15)
    (sleep 20)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "thrusters_down" 0.75 10)
    (sleep 15)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "thrusters_down" 0.35 10)
    (sleep 25)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "thrusters_down" 0.75 35)
    (sleep 42)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la01_landing_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 0) 2 "cin_hanger_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 0) 2)
    (cinematic_object_create_cinematic_anchor "cin_hanger_anchor" "cin_hanger_anchor")
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (object_hide (cinematic_object_get_unit "cin_chief") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 2 (cinematic_object_get_unit "cin_corpsman1") "020la01_med_tech1_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 3 (cinematic_object_get_unit "cin_corpsman2") "020la01_med_tech2_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 4 (cinematic_object_get_unit "cin_critical_marine") "020la01_cin_dying_marine_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 5 (cinematic_object_get_unit "cin_johnson") "020la01_cin_johnson_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 6 (cinematic_object_get_unit "cin_traffic_controller1") "020la01_cin_officer1_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 7 (cinematic_object_get_unit "cin_traffic_controller2") "020la01_cin_marine1_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 8 (cinematic_object_get_unit "cin_wounded01") "020la01_cin_wounded01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 9 (cinematic_object_get_unit "cin_wounded02") "020la01_cin_wounded02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 10 (cinematic_object_get_unit "cin_wounded03") "020la01_cin_wounded03_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 11 (cinematic_object_get_scenery "cin_elevator") "020la01_cin_elevator_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 12 (cinematic_object_get_scenery "cin_gurney") "020la01_cin_gurney_3" true)
    (object_hide (cinematic_object_get_unit "cin_miranda") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 14 (cinematic_object_get_scenery "pelican") "020la01_cin_pelican_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (render_exposure 1 0)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "jet_wash_active" 1 0)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "jet_wash_power" 1 0)
    (sleep 74)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la01_landing_sh4
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 0) 3 "cin_hanger_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 0) 3)
    (cinematic_object_create_cinematic_anchor "cin_hanger_anchor" "cin_hanger_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 0 (cinematic_object_get_unit "cin_arbiter") "020la01_cin_arbiter_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 1 (cinematic_object_get_unit "cin_chief") "020la01_cin_chief_4" true)
    (object_hide (cinematic_object_get_unit "cin_corpsman1") true)
    (object_hide (cinematic_object_get_unit "cin_corpsman2") true)
    (object_hide (cinematic_object_get_unit "cin_critical_marine") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 5 (cinematic_object_get_unit "cin_johnson") "020la01_cin_johnson_4" true)
    (object_hide (cinematic_object_get_unit "cin_traffic_controller1") true)
    (object_hide (cinematic_object_get_unit "cin_traffic_controller2") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 8 (cinematic_object_get_unit "cin_wounded01") "020la01_cin_wounded01_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 9 (cinematic_object_get_unit "cin_wounded02") "020la01_cin_wounded02_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 10 (cinematic_object_get_unit "cin_wounded03") "020la01_cin_wounded03_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 11 (cinematic_object_get_scenery "cin_elevator") "020la01_cin_elevator_4" true)
    (object_hide (cinematic_object_get_scenery "cin_gurney") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 13 (cinematic_object_get_unit "cin_miranda") "020la01_cin_miranda_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 14 (cinematic_object_get_scenery "pelican") "020la01_cin_pelican_4" true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (render_exposure 1 0)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "thrusters_back" 0.15 0)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "jet_wash_active" 1 0)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "thrusters_down" 0.75 0)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "jet_wash_power" 1 0)
    (sleep 1)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "thrusters_back" 0 40)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "thrusters_down" 0 40)
    (sleep 4)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "jet_wash_power" 0.25 35)
    (sleep 13)
    (cinematic_scripting_start_dialogue 0 0 3 0 (cinematic_object_get_unit "cin_wounded02"))
    (sleep 22)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "jet_wash_power" 0 20)
    (sleep 40)
    (object_set_function_variable (cinematic_object_get_scenery "pelican") "jet_wash_active" 0 0)
    (sleep 48)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la01_landing_sh5
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 0) 4 "cin_hanger_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 0) 4)
    (cinematic_object_create_cinematic_anchor "cin_hanger_anchor" "cin_hanger_anchor")
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (object_hide (cinematic_object_get_unit "cin_chief") true)
    (object_hide (cinematic_object_get_unit "cin_corpsman1") true)
    (object_hide (cinematic_object_get_unit "cin_corpsman2") true)
    (object_hide (cinematic_object_get_unit "cin_critical_marine") true)
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (object_hide (cinematic_object_get_unit "cin_traffic_controller1") true)
    (object_hide (cinematic_object_get_unit "cin_traffic_controller2") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 8 (cinematic_object_get_unit "cin_wounded01") "020la01_cin_wounded01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 9 (cinematic_object_get_unit "cin_wounded02") "020la01_cin_wounded02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 10 (cinematic_object_get_unit "cin_wounded03") "020la01_cin_wounded03_5" true)
    (object_hide (cinematic_object_get_scenery "cin_elevator") true)
    (object_hide (cinematic_object_get_scenery "cin_gurney") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 13 (cinematic_object_get_unit "cin_miranda") "020la01_cin_miranda_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 14 (cinematic_object_get_scenery "pelican") "020la01_cin_pelican_5" true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (render_exposure 2 0)
    (sleep 6)
    (cinematic_scripting_start_dialogue 0 0 4 0 (cinematic_object_get_unit "cin_wounded03"))
    (sleep 60)
    (cinematic_scripting_start_dialogue 0 0 4 1 (cinematic_object_get_unit "cin_wounded01"))
    (sleep 40)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la01_landing_sh6
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 0) 5 "cin_hanger_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 0) 5)
    (cinematic_object_create_cinematic_anchor "cin_hanger_anchor" "cin_hanger_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 0 (cinematic_object_get_unit "cin_arbiter") "020la01_cin_arbiter_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 1 (cinematic_object_get_unit "cin_chief") "020la01_cin_chief_6" true)
    (object_hide (cinematic_object_get_unit "cin_corpsman1") true)
    (object_hide (cinematic_object_get_unit "cin_corpsman2") true)
    (object_hide (cinematic_object_get_unit "cin_critical_marine") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 5 (cinematic_object_get_unit "cin_johnson") "020la01_cin_johnson_6" true)
    (object_hide (cinematic_object_get_unit "cin_traffic_controller1") true)
    (object_hide (cinematic_object_get_unit "cin_traffic_controller2") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 8 (cinematic_object_get_unit "cin_wounded01") "020la01_cin_wounded01_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 9 (cinematic_object_get_unit "cin_wounded02") "020la01_cin_wounded02_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 10 (cinematic_object_get_unit "cin_wounded03") "020la01_cin_wounded03_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 11 (cinematic_object_get_scenery "cin_elevator") "020la01_cin_elevator_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 12 (cinematic_object_get_scenery "cin_gurney") "020la01_cin_gurney_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 13 (cinematic_object_get_unit "cin_miranda") "020la01_cin_miranda_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 14 (cinematic_object_get_scenery "pelican") "020la01_cin_pelican_6" true)
    (cinematic_lights_initialize_for_shot 5)
    (cinematic_clips_initialize_for_shot 5)
    (render_exposure 1 0)
    (sleep 14)
    (cinematic_scripting_start_dialogue 0 0 5 0 (cinematic_object_get_unit "cin_wounded03"))
    (sleep 42)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la01_landing
    (begin
        (cinematic_show_letterbox_immediate true)
        (sound_class_set_gain "amb" 0 0)
    )
    (cinematic_print "beginning scene 1")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 0) 0)
    (!020la01_landing_sh1)
    (!020la01_landing_sh2)
    (!020la01_landing_sh3)
    (!020la01_landing_sh4)
    (!020la01_landing_sh5)
    (!020la01_landing_sh6)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 0 0 0 (cinematic_object_get_unit "cin_arbiter"))
    (cinematic_scripting_destroy_object 0 0 1 (cinematic_object_get_unit "cin_chief"))
    (cinematic_scripting_destroy_object 0 0 2 (cinematic_object_get_unit "cin_corpsman1"))
    (cinematic_scripting_destroy_object 0 0 3 (cinematic_object_get_unit "cin_corpsman2"))
    (cinematic_scripting_destroy_object 0 0 4 (cinematic_object_get_unit "cin_critical_marine"))
    (cinematic_scripting_destroy_object 0 0 5 (cinematic_object_get_unit "cin_johnson"))
    (cinematic_scripting_destroy_object 0 0 6 (cinematic_object_get_unit "cin_traffic_controller1"))
    (cinematic_scripting_destroy_object 0 0 7 (cinematic_object_get_unit "cin_traffic_controller2"))
    (cinematic_scripting_destroy_object 0 0 8 (cinematic_object_get_unit "cin_wounded01"))
    (cinematic_scripting_destroy_object 0 0 9 (cinematic_object_get_unit "cin_wounded02"))
    (cinematic_scripting_destroy_object 0 0 10 (cinematic_object_get_unit "cin_wounded03"))
    (cinematic_scripting_destroy_object 0 0 11 (cinematic_object_get_scenery "cin_elevator"))
    (cinematic_scripting_destroy_object 0 0 12 (cinematic_object_get_scenery "cin_gurney"))
    (cinematic_scripting_destroy_object 0 0 13 (cinematic_object_get_unit "cin_miranda"))
    (cinematic_scripting_destroy_object 0 0 14 (cinematic_object_get_scenery "pelican"))
)

(script static void !020la02_stairway_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 0 "cin_hanger_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 0)
    (cinematic_object_create_cinematic_anchor "cin_hanger_anchor" "cin_hanger_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 0 (cinematic_object_get_unit "cin_arbiter") "020la02_cin_arbiter_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 1 (cinematic_object_get_unit "cin_chief") "020la02_cin_chief_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 2 (cinematic_object_get_unit "cin_johnson") "020la02_cin_johnson_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 3 (cinematic_object_get_unit "cin_miranda") "020la02_cin_miranda_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 (cinematic_object_get_unit "cin_wounded03") "020la01_cin_wounded03_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 2 0)
    (sleep 7)
    (cinematic_scripting_start_dialogue 0 1 0 0 (cinematic_object_get_unit "cin_miranda"))
    (sleep 52)
    (cinematic_scripting_start_dialogue 0 1 0 1 (cinematic_object_get_unit "cin_johnson"))
    (sleep 55)
    (cinematic_scripting_start_dialogue 0 1 0 2 (cinematic_object_get_unit "cin_miranda"))
    (sleep 25)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la02_stairway_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 1 "cin_hanger_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 1)
    (cinematic_object_create_cinematic_anchor "cin_hanger_anchor" "cin_hanger_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 0 (cinematic_object_get_unit "cin_arbiter") "020la02_cin_arbiter_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 1 (cinematic_object_get_unit "cin_chief") "020la02_cin_chief_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 2 (cinematic_object_get_unit "cin_johnson") "020la02_cin_johnson_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 3 (cinematic_object_get_unit "cin_miranda") "020la02_cin_miranda_2" true)
    (object_hide (cinematic_object_get_unit "cin_wounded03") true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure 2.5 0)
    (sleep 31)
    (cinematic_scripting_start_dialogue 0 1 1 0 (cinematic_object_get_unit "cin_miranda"))
    (sleep 43)
    (cinematic_scripting_start_dialogue 0 1 1 1 (cinematic_object_get_unit "cin_chief"))
    (sleep 2)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la02_stairway_sc_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 2 "cin_hanger_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 2)
    (cinematic_object_create_cinematic_anchor "cin_hanger_anchor" "cin_hanger_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 0 (cinematic_object_get_unit "cin_arbiter") "020la02_cin_arbiter_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 1 (cinematic_object_get_unit "cin_chief") "020la02_cin_chief_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 2 (cinematic_object_get_unit "cin_johnson") "020la02_cin_johnson_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 3 (cinematic_object_get_unit "cin_miranda") "020la02_cin_miranda_3" true)
    (object_hide (cinematic_object_get_unit "cin_wounded03") true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (render_exposure 2.5 0)
    (sleep 39)
    (cinematic_scripting_start_dialogue 0 1 2 0 (cinematic_object_get_unit "cin_miranda"))
    (sleep 76)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la02_stairway_sc
    (cinematic_print "beginning scene 2")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 0)
    (!020la02_stairway_sc_sh1)
    (!020la02_stairway_sc_sh2)
    (!020la02_stairway_sc_sh3)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 0 1 0 (cinematic_object_get_unit "cin_arbiter"))
    (cinematic_scripting_destroy_object 0 1 1 (cinematic_object_get_unit "cin_chief"))
    (cinematic_scripting_destroy_object 0 1 2 (cinematic_object_get_unit "cin_johnson"))
    (cinematic_scripting_destroy_object 0 1 3 (cinematic_object_get_unit "cin_miranda"))
    (cinematic_scripting_destroy_object 0 1 4 (cinematic_object_get_unit "cin_wounded03"))
)

(script static void !020la03_hallway_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 2) 0 "cin_020la03_hallway")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 0)
    (cinematic_object_create_cinematic_anchor "cin_020la03_hallway" "cin_020la03_hallway")
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 1 (cinematic_object_get_unit "cin_chief") "020la03_cin_chief_1" true)
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (object_hide (cinematic_object_get_unit "cin_medic1") true)
    (object_hide (cinematic_object_get_unit "cin_medic2") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 5 (cinematic_object_get_unit "cin_miranda") "020la03_cin_miranda_1" true)
    (object_hide (cinematic_object_get_unit "cin_patient") true)
    (object_hide (cinematic_object_get_scenery "cin_iv_stand") true)
    (object_hide (cinematic_object_get_scenery "cin_gurney") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 9 (cinematic_object_get_unit "cin_marine01_w") "020la03_cin_marine01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 10 (cinematic_object_get_unit "cin_marine02_w") "020la03_cin_marine02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 11 (cinematic_object_get_unit "cin_marine03_w") "020la03_cin_marine03_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 12 (cinematic_object_get_unit "cin_marine04_w") "020la03_cin_marine04_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 13 (cinematic_object_get_unit "cin_marine05_w") "020la03_cin_marine05_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 14 (cinematic_object_get_unit "cin_marine06_w") "020la03_cin_marine06_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 15 (cinematic_object_get_scenery "cin_pda_lighting1") "020la03_cin_pda_light1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 16 (cinematic_object_get_scenery "cin_pda_lighting2") "020la03_cin_pda_light2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 17 (cinematic_object_get_scenery "cin_pda_lighting3") "020la03_cin_pda_light3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 18 (cinematic_object_get_scenery "cin_pda_lighting4") "020la03_cin_pda_light4_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 19 (cinematic_object_get_scenery "cin_pda_lighting5") "020la03_cin_pda_light5_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 20 (cinematic_object_get_scenery "cin_fx_marker1") "020la03_cin_fx_marker1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 21 (cinematic_object_get_scenery "cin_fx_marker2") "020la03_cin_fx_marker2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 22 (cinematic_object_get_scenery "cin_fx_marker3") "020la03_cin_fx_marker3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 23 (cinematic_object_get_scenery "cin_fx_marker4") "020la03_cin_fx_marker4_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 24 (cinematic_object_get_scenery "cin_fx_marker5") "020la03_cin_fx_marker5_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure -0.5 0)
    (sleep 91)
    (cinematic_scripting_start_dialogue 0 2 0 0 (cinematic_object_get_unit "cin_miranda"))
    (sleep 49)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la03_hallway_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 2) 1 "cin_020la03_hallway")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 1)
    (cinematic_object_create_cinematic_anchor "cin_020la03_hallway" "cin_020la03_hallway")
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 0 (cinematic_object_get_unit "cin_arbiter") "020la03_cin_arbiter_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 1 (cinematic_object_get_unit "cin_chief") "020la03_cin_chief_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 2 (cinematic_object_get_unit "cin_johnson") "020la03_cin_johnson_2" true)
    (object_hide (cinematic_object_get_unit "cin_medic1") true)
    (object_hide (cinematic_object_get_unit "cin_medic2") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 5 (cinematic_object_get_unit "cin_miranda") "020la03_cin_miranda_2" true)
    (object_hide (cinematic_object_get_unit "cin_patient") true)
    (object_hide (cinematic_object_get_scenery "cin_iv_stand") true)
    (object_hide (cinematic_object_get_scenery "cin_gurney") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 9 (cinematic_object_get_unit "cin_marine01_w") "020la03_cin_marine01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 10 (cinematic_object_get_unit "cin_marine02_w") "020la03_cin_marine02_2" true)
    (object_hide (cinematic_object_get_unit "cin_marine03_w") true)
    (object_hide (cinematic_object_get_unit "cin_marine04_w") true)
    (object_hide (cinematic_object_get_unit "cin_marine05_w") true)
    (object_hide (cinematic_object_get_unit "cin_marine06_w") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 15 (cinematic_object_get_scenery "cin_pda_lighting1") "020la03_cin_pda_light1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 16 (cinematic_object_get_scenery "cin_pda_lighting2") "020la03_cin_pda_light2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 17 (cinematic_object_get_scenery "cin_pda_lighting3") "020la03_cin_pda_light3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 18 (cinematic_object_get_scenery "cin_pda_lighting4") "020la03_cin_pda_light4_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 19 (cinematic_object_get_scenery "cin_pda_lighting5") "020la03_cin_pda_light5_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 20 (cinematic_object_get_scenery "cin_fx_marker1") "020la03_cin_fx_marker1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 21 (cinematic_object_get_scenery "cin_fx_marker2") "020la03_cin_fx_marker2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 22 (cinematic_object_get_scenery "cin_fx_marker3") "020la03_cin_fx_marker3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 23 (cinematic_object_get_scenery "cin_fx_marker4") "020la03_cin_fx_marker4_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 24 (cinematic_object_get_scenery "cin_fx_marker5") "020la03_cin_fx_marker5_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure -0.5 0)
    (sleep 2)
    (cinematic_scripting_start_music 0 2 1 0)
    (sleep 110)
    (cinematic_scripting_start_dialogue 0 2 1 0 (cinematic_object_get_unit "cin_miranda"))
    (sleep 31)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la03_hallway_sc_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 2) 2 "cin_020la03_hallway")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 2)
    (cinematic_object_create_cinematic_anchor "cin_020la03_hallway" "cin_020la03_hallway")
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 0 (cinematic_object_get_unit "cin_arbiter") "020la03_cin_arbiter_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 1 (cinematic_object_get_unit "cin_chief") "020la03_cin_chief_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 2 (cinematic_object_get_unit "cin_johnson") "020la03_cin_johnson_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 3 (cinematic_object_get_unit "cin_medic1") "020la03_cin_medic1_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 4 (cinematic_object_get_unit "cin_medic2") "020la03_cin_medic2_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 5 (cinematic_object_get_unit "cin_miranda") "020la03_cin_miranda_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 6 (cinematic_object_get_unit "cin_patient") "020la03_cin_patient_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 7 (cinematic_object_get_scenery "cin_iv_stand") "020la03_cin_iv_stand_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 8 (cinematic_object_get_scenery "cin_gurney") "020la03_cin_gurney_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 9 (cinematic_object_get_unit "cin_marine01_w") "020la03_cin_marine01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 10 (cinematic_object_get_unit "cin_marine02_w") "020la03_cin_marine02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 11 (cinematic_object_get_unit "cin_marine03_w") "020la03_cin_marine03_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 12 (cinematic_object_get_unit "cin_marine04_w") "020la03_cin_marine04_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 13 (cinematic_object_get_unit "cin_marine05_w") "020la03_cin_marine05_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 14 (cinematic_object_get_unit "cin_marine06_w") "020la03_cin_marine06_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 15 (cinematic_object_get_scenery "cin_pda_lighting1") "020la03_cin_pda_light1_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 16 (cinematic_object_get_scenery "cin_pda_lighting2") "020la03_cin_pda_light2_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 17 (cinematic_object_get_scenery "cin_pda_lighting3") "020la03_cin_pda_light3_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 18 (cinematic_object_get_scenery "cin_pda_lighting4") "020la03_cin_pda_light4_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 19 (cinematic_object_get_scenery "cin_pda_lighting5") "020la03_cin_pda_light5_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 20 (cinematic_object_get_scenery "cin_fx_marker1") "020la03_cin_fx_marker1_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 21 (cinematic_object_get_scenery "cin_fx_marker2") "020la03_cin_fx_marker2_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 22 (cinematic_object_get_scenery "cin_fx_marker3") "020la03_cin_fx_marker3_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 23 (cinematic_object_get_scenery "cin_fx_marker4") "020la03_cin_fx_marker4_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 24 (cinematic_object_get_scenery "cin_fx_marker5") "020la03_cin_fx_marker5_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (render_exposure -0.5 0)
    (sleep 93)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la03_hallway_sc_sh4
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 2) 3 "cin_020la03_hallway")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 3)
    (cinematic_object_create_cinematic_anchor "cin_020la03_hallway" "cin_020la03_hallway")
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 0 (cinematic_object_get_unit "cin_arbiter") "020la03_cin_arbiter_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 1 (cinematic_object_get_unit "cin_chief") "020la03_cin_chief_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 2 (cinematic_object_get_unit "cin_johnson") "020la03_cin_johnson_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 3 (cinematic_object_get_unit "cin_medic1") "020la03_cin_medic1_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 4 (cinematic_object_get_unit "cin_medic2") "020la03_cin_medic2_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 5 (cinematic_object_get_unit "cin_miranda") "020la03_cin_miranda_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 6 (cinematic_object_get_unit "cin_patient") "020la03_cin_patient_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 7 (cinematic_object_get_scenery "cin_iv_stand") "020la03_cin_iv_stand_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 8 (cinematic_object_get_scenery "cin_gurney") "020la03_cin_gurney_4" true)
    (object_hide (cinematic_object_get_unit "cin_marine01_w") true)
    (object_hide (cinematic_object_get_unit "cin_marine02_w") true)
    (object_hide (cinematic_object_get_unit "cin_marine03_w") true)
    (object_hide (cinematic_object_get_unit "cin_marine04_w") true)
    (object_hide (cinematic_object_get_unit "cin_marine05_w") true)
    (object_hide (cinematic_object_get_unit "cin_marine06_w") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 15 (cinematic_object_get_scenery "cin_pda_lighting1") "020la03_cin_pda_light1_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 16 (cinematic_object_get_scenery "cin_pda_lighting2") "020la03_cin_pda_light2_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 17 (cinematic_object_get_scenery "cin_pda_lighting3") "020la03_cin_pda_light3_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 18 (cinematic_object_get_scenery "cin_pda_lighting4") "020la03_cin_pda_light4_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 19 (cinematic_object_get_scenery "cin_pda_lighting5") "020la03_cin_pda_light5_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 20 (cinematic_object_get_scenery "cin_fx_marker1") "020la03_cin_fx_marker1_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 21 (cinematic_object_get_scenery "cin_fx_marker2") "020la03_cin_fx_marker2_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 22 (cinematic_object_get_scenery "cin_fx_marker3") "020la03_cin_fx_marker3_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 23 (cinematic_object_get_scenery "cin_fx_marker4") "020la03_cin_fx_marker4_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 24 (cinematic_object_get_scenery "cin_fx_marker5") "020la03_cin_fx_marker5_4" true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (render_exposure -0.5 0)
    (sleep 35)
    (cinematic_scripting_start_dialogue 0 2 3 0 (cinematic_object_get_unit "cin_miranda"))
    (sleep 75)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la03_hallway_sc_sh5
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 2) 4 "cin_020la03_hallway")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 4)
    (cinematic_object_create_cinematic_anchor "cin_020la03_hallway" "cin_020la03_hallway")
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 1 (cinematic_object_get_unit "cin_chief") "020la03_cin_chief_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 2 (cinematic_object_get_unit "cin_johnson") "020la03_cin_johnson_5" true)
    (object_hide (cinematic_object_get_unit "cin_medic1") true)
    (object_hide (cinematic_object_get_unit "cin_medic2") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 5 (cinematic_object_get_unit "cin_miranda") "020la03_cin_miranda_5" true)
    (object_hide (cinematic_object_get_unit "cin_patient") true)
    (object_hide (cinematic_object_get_scenery "cin_iv_stand") true)
    (object_hide (cinematic_object_get_scenery "cin_gurney") true)
    (object_hide (cinematic_object_get_unit "cin_marine01_w") true)
    (object_hide (cinematic_object_get_unit "cin_marine02_w") true)
    (object_hide (cinematic_object_get_unit "cin_marine03_w") true)
    (object_hide (cinematic_object_get_unit "cin_marine04_w") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 13 (cinematic_object_get_unit "cin_marine05_w") "020la03_cin_marine05_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 14 (cinematic_object_get_unit "cin_marine06_w") "020la03_cin_marine06_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 15 (cinematic_object_get_scenery "cin_pda_lighting1") "020la03_cin_pda_light1_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 16 (cinematic_object_get_scenery "cin_pda_lighting2") "020la03_cin_pda_light2_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 17 (cinematic_object_get_scenery "cin_pda_lighting3") "020la03_cin_pda_light3_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 18 (cinematic_object_get_scenery "cin_pda_lighting4") "020la03_cin_pda_light4_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 19 (cinematic_object_get_scenery "cin_pda_lighting5") "020la03_cin_pda_light5_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 20 (cinematic_object_get_scenery "cin_fx_marker1") "020la03_cin_fx_marker1_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 21 (cinematic_object_get_scenery "cin_fx_marker2") "020la03_cin_fx_marker2_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 22 (cinematic_object_get_scenery "cin_fx_marker3") "020la03_cin_fx_marker3_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 23 (cinematic_object_get_scenery "cin_fx_marker4") "020la03_cin_fx_marker4_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 24 (cinematic_object_get_scenery "cin_fx_marker5") "020la03_cin_fx_marker5_5" true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (render_exposure -0.5 0)
    (sleep 127)
    (cinematic_scripting_start_dialogue 0 2 4 0 (cinematic_object_get_unit "cin_miranda"))
    (sleep 88)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la03_hallway_sc
    (cinematic_print "beginning scene 3")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 0)
    (!020la03_hallway_sc_sh1)
    (!020la03_hallway_sc_sh2)
    (!020la03_hallway_sc_sh3)
    (!020la03_hallway_sc_sh4)
    (!020la03_hallway_sc_sh5)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 0 2 0 (cinematic_object_get_unit "cin_arbiter"))
    (cinematic_scripting_destroy_object 0 2 1 (cinematic_object_get_unit "cin_chief"))
    (cinematic_scripting_destroy_object 0 2 2 (cinematic_object_get_unit "cin_johnson"))
    (cinematic_scripting_destroy_object 0 2 3 (cinematic_object_get_unit "cin_medic1"))
    (cinematic_scripting_destroy_object 0 2 4 (cinematic_object_get_unit "cin_medic2"))
    (cinematic_scripting_destroy_object 0 2 5 (cinematic_object_get_unit "cin_miranda"))
    (cinematic_scripting_destroy_object 0 2 6 (cinematic_object_get_unit "cin_patient"))
    (cinematic_scripting_destroy_object 0 2 7 (cinematic_object_get_scenery "cin_iv_stand"))
    (cinematic_scripting_destroy_object 0 2 8 (cinematic_object_get_scenery "cin_gurney"))
    (cinematic_scripting_destroy_object 0 2 9 (cinematic_object_get_unit "cin_marine01_w"))
    (cinematic_scripting_destroy_object 0 2 10 (cinematic_object_get_unit "cin_marine02_w"))
    (cinematic_scripting_destroy_object 0 2 11 (cinematic_object_get_unit "cin_marine03_w"))
    (cinematic_scripting_destroy_object 0 2 12 (cinematic_object_get_unit "cin_marine04_w"))
    (cinematic_scripting_destroy_object 0 2 13 (cinematic_object_get_unit "cin_marine05_w"))
    (cinematic_scripting_destroy_object 0 2 14 (cinematic_object_get_unit "cin_marine06_w"))
    (cinematic_scripting_destroy_object 0 2 15 (cinematic_object_get_scenery "cin_pda_lighting1"))
    (cinematic_scripting_destroy_object 0 2 16 (cinematic_object_get_scenery "cin_pda_lighting2"))
    (cinematic_scripting_destroy_object 0 2 17 (cinematic_object_get_scenery "cin_pda_lighting3"))
    (cinematic_scripting_destroy_object 0 2 18 (cinematic_object_get_scenery "cin_pda_lighting4"))
    (cinematic_scripting_destroy_object 0 2 19 (cinematic_object_get_scenery "cin_pda_lighting5"))
    (cinematic_scripting_destroy_object 0 2 20 (cinematic_object_get_scenery "cin_fx_marker1"))
    (cinematic_scripting_destroy_object 0 2 21 (cinematic_object_get_scenery "cin_fx_marker2"))
    (cinematic_scripting_destroy_object 0 2 22 (cinematic_object_get_scenery "cin_fx_marker3"))
    (cinematic_scripting_destroy_object 0 2 23 (cinematic_object_get_scenery "cin_fx_marker4"))
    (cinematic_scripting_destroy_object 0 2 24 (cinematic_object_get_scenery "cin_fx_marker5"))
)

(script static void !020la04_halo_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 3) 0 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 3) 0)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 0 (cinematic_object_get_unit "cin_arbiter") "020la04_cin_arbiter_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 1 (cinematic_object_get_unit "cin_chief") "020la04_cin_chief_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 2 (cinematic_object_get_unit "cin_johnson") "020la04_cin_johnson_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 3 (cinematic_object_get_unit "cin_navy_officer1") "020la04_cin_navy_officer1_1" true)
    (object_hide (cinematic_object_get_unit "cin_marine2") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 5 (cinematic_object_get_unit "cin_miranda") "020la04_cin_miranda_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 6 (cinematic_object_get_scenery "cin_cigar") "020la04_cin_cigar_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 7 (cinematic_object_get_scenery "cin_pda") "020la04_cin_pda1_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 1.5 0)
    (sleep 20)
    (cinematic_scripting_start_dialogue 0 3 0 0 (cinematic_object_get_unit "cin_chief"))
    (sleep 42)
    (cinematic_scripting_start_dialogue 0 3 0 1 (cinematic_object_get_unit "cin_miranda"))
    (sleep 13)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la04_halo_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 3) 1 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 3) 1)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (object_hide (cinematic_object_get_unit "cin_chief") true)
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 3 (cinematic_object_get_unit "cin_navy_officer1") "020la04_cin_navy_officer1_2" true)
    (object_hide (cinematic_object_get_unit "cin_marine2") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 5 (cinematic_object_get_unit "cin_miranda") "020la04_cin_miranda_2" true)
    (object_hide (cinematic_object_get_scenery "cin_cigar") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 7 (cinematic_object_get_scenery "cin_pda") "020la04_cin_pda1_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure 1 0)
    (sleep 83)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la04_halo_sc_sh3
    (texture_camera_off)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 3) 2 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 3) 2)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 0 (cinematic_object_get_unit "cin_arbiter") "020la04_cin_arbiter_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 1 (cinematic_object_get_unit "cin_chief") "020la04_cin_chief_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 2 (cinematic_object_get_unit "cin_johnson") "020la04_cin_johnson_3" true)
    (object_hide (cinematic_object_get_unit "cin_navy_officer1") true)
    (object_hide (cinematic_object_get_unit "cin_marine2") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 5 (cinematic_object_get_unit "cin_miranda") "020la04_cin_miranda_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 6 (cinematic_object_get_scenery "cin_cigar") "020la04_cin_cigar_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 7 (cinematic_object_get_scenery "cin_pda") "020la04_cin_pda1_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (render_exposure 1 0)
    (sleep 113)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la04_halo_sc_sh4
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 3) 3 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 3) 3)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 0 (cinematic_object_get_unit "cin_arbiter") "020la04_cin_arbiter_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 1 (cinematic_object_get_unit "cin_chief") "020la04_cin_chief_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 2 (cinematic_object_get_unit "cin_johnson") "020la04_cin_johnson_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 3 (cinematic_object_get_unit "cin_navy_officer1") "020la04_cin_navy_officer1_4" true)
    (object_hide (cinematic_object_get_unit "cin_marine2") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 5 (cinematic_object_get_unit "cin_miranda") "020la04_cin_miranda_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 6 (cinematic_object_get_scenery "cin_cigar") "020la04_cin_cigar_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 7 (cinematic_object_get_scenery "cin_pda") "020la04_cin_pda1_4" true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (render_exposure 1 0)
    (sleep 85)
    (cinematic_scripting_start_dialogue 0 3 3 0 (cinematic_object_get_unit "cin_miranda"))
    (sleep 42)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la04_halo_sc_sh5
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 3) 4 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 3) 4)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 1 (cinematic_object_get_unit "cin_chief") "020la04_cin_chief_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 2 (cinematic_object_get_unit "cin_johnson") "020la04_cin_johnson_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 3 (cinematic_object_get_unit "cin_navy_officer1") "020la04_cin_navy_officer1_5" true)
    (object_hide (cinematic_object_get_unit "cin_marine2") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 5 (cinematic_object_get_unit "cin_miranda") "020la04_cin_miranda_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 6 (cinematic_object_get_scenery "cin_cigar") "020la04_cin_cigar_5" true)
    (object_hide (cinematic_object_get_scenery "cin_pda") true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (render_exposure 1 0)
    (sleep 176)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la04_halo_sc_sh6
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 3) 5 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 3) 5)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 1 (cinematic_object_get_unit "cin_chief") "020la04_cin_chief_6" true)
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (object_hide (cinematic_object_get_unit "cin_navy_officer1") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 4 (cinematic_object_get_unit "cin_marine2") "020la04_cin_marine2_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 5 (cinematic_object_get_unit "cin_miranda") "020la04_cin_miranda_6" true)
    (object_hide (cinematic_object_get_scenery "cin_cigar") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 7 (cinematic_object_get_scenery "cin_pda") "020la04_cin_pda1_6" true)
    (cinematic_lights_initialize_for_shot 5)
    (cinematic_clips_initialize_for_shot 5)
    (render_exposure 1 0)
    (sleep 16)
    (cinematic_scripting_start_dialogue 0 3 5 0 (cinematic_object_get_unit "cin_chief"))
    (sleep 55)
    (cinematic_scripting_start_dialogue 0 3 5 1 (cinematic_object_get_unit "cin_marine2"))
    (sleep 59)
    (cinematic_scripting_start_dialogue 0 3 5 2 (cinematic_object_get_unit "cin_miranda"))
    (sleep 36)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la04_halo_sc
    (cinematic_print "beginning scene 4")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 3) 0)
    (!020la04_halo_sc_sh1)
    (!020la04_halo_sc_sh2)
    (!020la04_halo_sc_sh3)
    (!020la04_halo_sc_sh4)
    (!020la04_halo_sc_sh5)
    (!020la04_halo_sc_sh6)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 0 3 0 (cinematic_object_get_unit "cin_arbiter"))
    (cinematic_scripting_destroy_object 0 3 1 (cinematic_object_get_unit "cin_chief"))
    (cinematic_scripting_destroy_object 0 3 2 (cinematic_object_get_unit "cin_johnson"))
    (cinematic_scripting_destroy_object 0 3 3 (cinematic_object_get_unit "cin_navy_officer1"))
    (cinematic_scripting_destroy_object 0 3 4 (cinematic_object_get_unit "cin_marine2"))
    (cinematic_scripting_destroy_object 0 3 5 (cinematic_object_get_unit "cin_miranda"))
    (cinematic_scripting_destroy_object 0 3 6 (cinematic_object_get_scenery "cin_cigar"))
    (cinematic_scripting_destroy_object 0 3 7 (cinematic_object_get_scenery "cin_pda"))
    (texture_camera_off)
)

(script static void !020la05_green_sir_sc_sh1
    (set texture_camera_exposure 2.5)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 4) 0 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 4) 0)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 0 (cinematic_object_get_unit "cin_arbiter") "020la05_cin_arbiter_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 1 (cinematic_object_get_unit "cin_chief") "020la05_chief_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 2 (cinematic_object_get_unit "cin_hood") "020la05_hood_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 3 (cinematic_object_get_unit "cin_johnson") "020la05_johnson_1" true)
    (object_hide (cinematic_object_get_unit "cin_navy_officer1") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 5 (cinematic_object_get_unit "cin_miranda") "020la05_miranda_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 6 (cinematic_object_get_scenery "cin_cigar") "020la05_cin_cigar_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 7 (cinematic_object_get_scenery "cin_inamberclad_bridge") "020la05_cin_amberclad_bridge_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 8 (cinematic_object_get_scenery "cin_speaker") "020la05_cin_speaker_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 1 0)
    (cinematic_print "custom script play")
    (sleep 1)
    (cinematic_scripting_start_dialogue 0 4 0 1 (cinematic_object_get_scenery "cin_speaker"))
    (cinematic_scripting_start_dialogue 0 4 0 0 (cinematic_object_get_unit "cin_hood"))
    (sleep 35)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la05_green_sir_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 4) 1 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 4) 1)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 0 (cinematic_object_get_unit "cin_arbiter") "020la05_cin_arbiter_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 1 (cinematic_object_get_unit "cin_chief") "020la05_chief_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 2 (cinematic_object_get_unit "cin_hood") "020la05_hood_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 3 (cinematic_object_get_unit "cin_johnson") "020la05_johnson_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 4 (cinematic_object_get_unit "cin_navy_officer1") "020la05_cin_navy_officer1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 5 (cinematic_object_get_unit "cin_miranda") "020la05_miranda_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 6 (cinematic_object_get_scenery "cin_cigar") "020la05_cin_cigar_2" true)
    (object_hide (cinematic_object_get_scenery "cin_inamberclad_bridge") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 8 (cinematic_object_get_scenery "cin_speaker") "020la05_cin_speaker_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure 1 0)
    (sleep 19)
    (cinematic_scripting_start_dialogue 0 4 1 0 (cinematic_object_get_unit "cin_miranda"))
    (cinematic_print "waiting for event (cinematic_scripting_start_dialogue 0 4 1 1 (cinematic_object_get_scenery "cin_speaker")) which occurs at frame 58, but shot only has 58 frames")
    (sleep 39)
    (cinematic_scripting_start_dialogue 0 4 1 1 (cinematic_object_get_scenery "cin_speaker"))
    (cinematic_print "waiting for event (cinematic_scripting_start_dialogue 0 4 1 2 (cinematic_object_get_unit "cin_hood")) which occurs at frame 58, but shot only has 58 frames")
    (cinematic_scripting_start_dialogue 0 4 1 2 (cinematic_object_get_unit "cin_hood"))
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la05_green_sir_sc_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 4) 2 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 4) 2)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (object_hide (cinematic_object_get_unit "cin_chief") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 2 (cinematic_object_get_unit "cin_hood") "020la05_hood_3" true)
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (object_hide (cinematic_object_get_unit "cin_navy_officer1") true)
    (object_hide (cinematic_object_get_unit "cin_miranda") true)
    (object_hide (cinematic_object_get_scenery "cin_cigar") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 7 (cinematic_object_get_scenery "cin_inamberclad_bridge") "020la05_cin_amberclad_bridge_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 8 (cinematic_object_get_scenery "cin_speaker") "020la05_cin_speaker_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (render_exposure 1 0)
    (sleep 52)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la05_green_sir_sc_sh4
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 4) 3 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 4) 3)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 0 (cinematic_object_get_unit "cin_arbiter") "020la05_cin_arbiter_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 1 (cinematic_object_get_unit "cin_chief") "020la05_chief_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 2 (cinematic_object_get_unit "cin_hood") "020la05_hood_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 3 (cinematic_object_get_unit "cin_johnson") "020la05_johnson_4" true)
    (object_hide (cinematic_object_get_unit "cin_navy_officer1") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 5 (cinematic_object_get_unit "cin_miranda") "020la05_miranda_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 6 (cinematic_object_get_scenery "cin_cigar") "020la05_cin_cigar_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 7 (cinematic_object_get_scenery "cin_inamberclad_bridge") "020la05_cin_amberclad_bridge_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 8 (cinematic_object_get_scenery "cin_speaker") "020la05_cin_speaker_4" true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (render_exposure 1 0)
    (sleep 37)
    (cinematic_scripting_start_dialogue 0 4 3 0 (cinematic_object_get_unit "cin_chief"))
    (sleep 62)
    (cinematic_scripting_start_dialogue 0 4 3 1 (cinematic_object_get_scenery "cin_speaker"))
    (cinematic_scripting_start_dialogue 0 4 3 2 (cinematic_object_get_unit "cin_hood"))
    (sleep 33)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la05_green_sir_sc_sh5
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 4) 4 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 4) 4)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (object_hide (cinematic_object_get_unit "cin_chief") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 2 (cinematic_object_get_unit "cin_hood") "020la05_hood_5" true)
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (object_hide (cinematic_object_get_unit "cin_navy_officer1") true)
    (object_hide (cinematic_object_get_unit "cin_miranda") true)
    (object_hide (cinematic_object_get_scenery "cin_cigar") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 7 (cinematic_object_get_scenery "cin_inamberclad_bridge") "020la05_cin_amberclad_bridge_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 8 (cinematic_object_get_scenery "cin_speaker") "020la05_cin_speaker_5" true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (render_exposure 1 0)
    (sleep 162)
    (texture_camera_off)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la05_green_sir_sc
    (texture_camera_on)
    (cinematic_print "beginning scene 5")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 4) 0)
    (!020la05_green_sir_sc_sh1)
    (!020la05_green_sir_sc_sh2)
    (!020la05_green_sir_sc_sh3)
    (!020la05_green_sir_sc_sh4)
    (!020la05_green_sir_sc_sh5)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 0 4 0 (cinematic_object_get_unit "cin_arbiter"))
    (cinematic_scripting_destroy_object 0 4 1 (cinematic_object_get_unit "cin_chief"))
    (cinematic_scripting_destroy_object 0 4 2 (cinematic_object_get_unit "cin_hood"))
    (cinematic_scripting_destroy_object 0 4 3 (cinematic_object_get_unit "cin_johnson"))
    (cinematic_scripting_destroy_object 0 4 4 (cinematic_object_get_unit "cin_navy_officer1"))
    (cinematic_scripting_destroy_object 0 4 5 (cinematic_object_get_unit "cin_miranda"))
    (cinematic_scripting_destroy_object 0 4 6 (cinematic_object_get_scenery "cin_cigar"))
    (cinematic_scripting_destroy_object 0 4 7 (cinematic_object_get_scenery "cin_inamberclad_bridge"))
    (cinematic_scripting_destroy_object 0 4 8 (cinematic_object_get_scenery "cin_speaker"))
)

(script static void !020la07_the_plan_sc_sh1
    (set texture_camera_exposure 4)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 5) 0 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 5) 0)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 0 (cinematic_object_get_unit "cin_chief") "020la07_cin_chief_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 1 (cinematic_object_get_unit "cin_hood") "020la07_cin_hood_1" true)
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 3 (cinematic_object_get_unit "cin_miranda") "020la07_cin_miranda_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 4 (cinematic_object_get_scenery "cin_cigar") "020la07_cin_cigar_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 5 (cinematic_object_get_scenery "cin_pda") "020la07_cin_pda_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 6 (cinematic_object_get_unit "cin_marine") "020la07_cin_marine_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 7 (cinematic_object_get_scenery "cin_inamberclad_bridge") "020la07_cin_inamberclad_bridge_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 8 (cinematic_object_get_scenery "cin_pda1") "020la07_cin_pda1_1" true)
    (object_hide (cinematic_object_get_scenery "cin_speaker") true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 0 0)
    (object_set_function_variable (cinematic_object_get_scenery "cin_cigar") "cigar_glow" 1 0)
    (set texture_camera_near_plane 0.02)
    (cinematic_print "custom script play")
    (sleep 1)
    (cinematic_scripting_start_dialogue 0 5 0 0 (cinematic_object_get_unit "cin_miranda"))
    (sleep 113)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la07_the_plan_sc_sh2
    (set texture_camera_exposure 4)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 5) 1 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 5) 1)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (object_hide (cinematic_object_get_unit "cin_chief") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 1 (cinematic_object_get_unit "cin_hood") "020la07_cin_hood_2" true)
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 3 (cinematic_object_get_unit "cin_miranda") "020la07_cin_miranda_2" true)
    (object_hide (cinematic_object_get_scenery "cin_cigar") true)
    (object_hide (cinematic_object_get_scenery "cin_pda") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 6 (cinematic_object_get_unit "cin_marine") "020la07_cin_marine_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 7 (cinematic_object_get_scenery "cin_inamberclad_bridge") "020la07_cin_inamberclad_bridge_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 8 (cinematic_object_get_scenery "cin_pda1") "020la07_cin_pda1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 9 (cinematic_object_get_scenery "cin_speaker") "020la07_cin_speaker_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure 0 0)
    (sleep 228)
    (cinematic_scripting_start_dialogue 0 5 1 0 (cinematic_object_get_scenery "cin_speaker"))
    (cinematic_scripting_start_dialogue 0 5 1 1 (cinematic_object_get_unit "cin_hood"))
    (sleep 27)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la07_the_plan_sc_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 5) 2 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 5) 2)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 0 (cinematic_object_get_unit "cin_chief") "020la07_cin_chief_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 1 (cinematic_object_get_unit "cin_hood") "020la07_cin_hood_3" true)
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (object_hide (cinematic_object_get_unit "cin_miranda") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 4 (cinematic_object_get_scenery "cin_cigar") "020la07_cin_cigar_3" true)
    (object_hide (cinematic_object_get_scenery "cin_pda") true)
    (object_hide (cinematic_object_get_unit "cin_marine") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 7 (cinematic_object_get_scenery "cin_inamberclad_bridge") "020la07_cin_inamberclad_bridge_3" true)
    (object_hide (cinematic_object_get_scenery "cin_pda1") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 9 (cinematic_object_get_scenery "cin_speaker") "020la07_cin_speaker_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (sleep 95)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la07_the_plan_sc_sh4
    (set texture_camera_exposure 4)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 5) 3 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 5) 3)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (object_hide (cinematic_object_get_unit "cin_chief") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 1 (cinematic_object_get_unit "cin_hood") "020la07_cin_hood_4" true)
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (object_hide (cinematic_object_get_unit "cin_miranda") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 4 (cinematic_object_get_scenery "cin_cigar") "020la07_cin_cigar_4" true)
    (object_hide (cinematic_object_get_scenery "cin_pda") true)
    (object_hide (cinematic_object_get_unit "cin_marine") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 7 (cinematic_object_get_scenery "cin_inamberclad_bridge") "020la07_cin_inamberclad_bridge_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 8 (cinematic_object_get_scenery "cin_pda1") "020la07_cin_pda1_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 5 9 (cinematic_object_get_scenery "cin_speaker") "020la07_cin_speaker_4" true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (render_exposure 0 0)
    (sleep 196)
    (set texture_camera_exposure 1)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la07_the_plan_sc_sh5
    (fade_out 0 0 0 0)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 5) 4 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 5) 4)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (object_hide (cinematic_object_get_unit "cin_chief") true)
    (object_hide (cinematic_object_get_unit "cin_hood") true)
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (object_hide (cinematic_object_get_unit "cin_miranda") true)
    (object_hide (cinematic_object_get_scenery "cin_cigar") true)
    (object_hide (cinematic_object_get_scenery "cin_pda") true)
    (object_hide (cinematic_object_get_unit "cin_marine") true)
    (object_hide (cinematic_object_get_scenery "cin_inamberclad_bridge") true)
    (object_hide (cinematic_object_get_scenery "cin_pda1") true)
    (object_hide (cinematic_object_get_scenery "cin_speaker") true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (sleep 1)
    (cinematic_scripting_start_music 0 5 4 0)
    (sleep 39)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la07_the_plan_sc
    (cinematic_print "beginning scene 6")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 5) 0)
    (!020la07_the_plan_sc_sh1)
    (!020la07_the_plan_sc_sh2)
    (!020la07_the_plan_sc_sh3)
    (!020la07_the_plan_sc_sh4)
    (!020la07_the_plan_sc_sh5)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 0 5 0 (cinematic_object_get_unit "cin_chief"))
    (cinematic_scripting_destroy_object 0 5 1 (cinematic_object_get_unit "cin_hood"))
    (cinematic_scripting_destroy_object 0 5 2 (cinematic_object_get_unit "cin_johnson"))
    (cinematic_scripting_destroy_object 0 5 3 (cinematic_object_get_unit "cin_miranda"))
    (cinematic_scripting_destroy_object 0 5 4 (cinematic_object_get_scenery "cin_cigar"))
    (cinematic_scripting_destroy_object 0 5 5 (cinematic_object_get_scenery "cin_pda"))
    (cinematic_scripting_destroy_object 0 5 6 (cinematic_object_get_unit "cin_marine"))
    (cinematic_scripting_destroy_object 0 5 7 (cinematic_object_get_scenery "cin_inamberclad_bridge"))
    (cinematic_scripting_destroy_object 0 5 8 (cinematic_object_get_scenery "cin_pda1"))
    (cinematic_scripting_destroy_object 0 5 9 (cinematic_object_get_scenery "cin_speaker"))
)

(script static void !020la08_powerout_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 6) 0 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 6) 0)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 6 0 (cinematic_object_get_unit "cin_chief") "020la08_cin_chief_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 6 1 (cinematic_object_get_unit "cin_johnson") "020la08_cin_johnson_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 6 2 (cinematic_object_get_unit "cin_navy_officer1") "020la08_cin_marine1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 6 3 (cinematic_object_get_unit "cin_miranda") "020la08_cin_miranda_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 6 4 (cinematic_object_get_scenery "cin_cigar") "020la08_cin_cigar_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 6 5 (cinematic_object_get_scenery "cin_pda") "020la08_cin_pda_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_autoexposure_instant 1)
    (sleep 2)
    (cinematic_scripting_start_dialogue 0 6 0 0 (cinematic_object_get_unit "cin_navy_officer1"))
    (sleep 45)
    (cinematic_scripting_start_dialogue 0 6 0 1 (cinematic_object_get_unit "cin_miranda"))
    (sleep 58)
    (cinematic_scripting_start_dialogue 0 6 0 2 (cinematic_object_get_unit "cin_navy_officer1"))
    (sleep 62)
    (cinematic_scripting_start_dialogue 0 6 0 3 (cinematic_object_get_unit "cin_miranda"))
    (sleep 74)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la08_powerout
    (begin
        (object_destroy "cin_main_screen")
        (object_destroy "cin_tex_cam_screens")
        (fade_in 0 0 0 15)
    )
    (cinematic_print "beginning scene 7")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 6) 0)
    (!020la08_powerout_sh1)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 0 6 0 (cinematic_object_get_unit "cin_chief"))
    (cinematic_scripting_destroy_object 0 6 1 (cinematic_object_get_unit "cin_johnson"))
    (cinematic_scripting_destroy_object 0 6 2 (cinematic_object_get_unit "cin_navy_officer1"))
    (cinematic_scripting_destroy_object 0 6 3 (cinematic_object_get_unit "cin_miranda"))
    (cinematic_scripting_destroy_object 0 6 4 (cinematic_object_get_scenery "cin_cigar"))
    (cinematic_scripting_destroy_object 0 6 5 (cinematic_object_get_scenery "cin_pda"))
)

(script static void !020la09_profitpart1_sh1
    (begin
        (object_create_anew "cin_tex_cam_screens")
        (set texture_camera_exposure 0.2)
    )
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 7) 0 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 7) 0)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 0 (cinematic_object_get_unit "cin_chief") "020la09_cin_chief_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 1 (cinematic_object_get_unit "cin_miranda") "020la09_cin_miranda_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 2 (cinematic_object_get_unit "cin_truth") "020la09_cin_truth_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 3 (cinematic_object_get_unit "cin_arbiter") "020la09_cin_arbiter_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 4 (cinematic_object_get_unit "cin_johnson") "020la09_cin_johnson_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 5 (cinematic_object_get_scenery "cin_cigar2") "020la09_cin_cigar_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 6 (cinematic_object_get_scenery "cin_pda") "020la09_cin_pda_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 7 (cinematic_object_get_scenery "cin_prophet_chair") "020la09_cin_prophet_chair_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 8 (cinematic_object_get_scenery "cin_speaker") "020la09_cin_speaker_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_autoexposure_instant 1)
    (cinematic_print "custom script play")
    (unit_limit_lipsync_to_mouth_only (cinematic_object_get_unit "cin_johnson") true)
    (sleep 1)
    (cinematic_scripting_start_dialogue 0 7 0 1 (cinematic_object_get_unit "cin_truth"))
    (cinematic_scripting_start_dialogue 0 7 0 0 (cinematic_object_get_scenery "cin_speaker"))
    (sleep 2)
    (cinematic_scripting_start_music 0 7 0 0)
    (sleep 98)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la09_profitpart1_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 7) 1 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 7) 1)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 0 (cinematic_object_get_unit "cin_chief") "020la09_cin_chief_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 1 (cinematic_object_get_unit "cin_miranda") "020la09_cin_miranda_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 2 (cinematic_object_get_unit "cin_truth") "020la09_cin_truth_2" true)
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 4 (cinematic_object_get_unit "cin_johnson") "020la09_cin_johnson_2" true)
    (object_hide (cinematic_object_get_scenery "cin_cigar2") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 6 (cinematic_object_get_scenery "cin_pda") "020la09_cin_pda_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 7 (cinematic_object_get_scenery "cin_prophet_chair") "020la09_cin_prophet_chair_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 8 (cinematic_object_get_scenery "cin_speaker") "020la09_cin_speaker_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_autoexposure_instant 1)
    (sleep 12)
    (cinematic_scripting_start_dialogue 0 7 1 0 (cinematic_object_get_scenery "cin_speaker"))
    (cinematic_scripting_start_dialogue 0 7 1 1 (cinematic_object_get_unit "cin_truth"))
    (sleep 128)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la09_profitpart1_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 7) 2 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 7) 2)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (object_hide (cinematic_object_get_unit "cin_chief") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 1 (cinematic_object_get_unit "cin_miranda") "020la09_cin_miranda_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 2 (cinematic_object_get_unit "cin_truth") "020la09_cin_truth_3" true)
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 4 (cinematic_object_get_unit "cin_johnson") "020la09_cin_johnson_3" true)
    (object_hide (cinematic_object_get_scenery "cin_cigar2") true)
    (object_hide (cinematic_object_get_scenery "cin_pda") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 7 (cinematic_object_get_scenery "cin_prophet_chair") "020la09_cin_prophet_chair_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 8 (cinematic_object_get_scenery "cin_speaker") "020la09_cin_speaker_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (render_autoexposure_instant 1)
    (sleep 125)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la09_profitpart1_sh4
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 7) 3 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 7) 3)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 0 (cinematic_object_get_unit "cin_chief") "020la09_cin_chief_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 1 (cinematic_object_get_unit "cin_miranda") "020la09_cin_miranda_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 2 (cinematic_object_get_unit "cin_truth") "020la09_cin_truth_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 3 (cinematic_object_get_unit "cin_arbiter") "020la09_cin_arbiter_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 4 (cinematic_object_get_unit "cin_johnson") "020la09_cin_johnson_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 5 (cinematic_object_get_scenery "cin_cigar2") "020la09_cin_cigar_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 6 (cinematic_object_get_scenery "cin_pda") "020la09_cin_pda_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 7 (cinematic_object_get_scenery "cin_prophet_chair") "020la09_cin_prophet_chair_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 8 (cinematic_object_get_scenery "cin_speaker") "020la09_cin_speaker_4" true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (render_autoexposure_instant 1)
    (unit_limit_lipsync_to_mouth_only (cinematic_object_get_unit "cin_johnson") true)
    (cinematic_print "custom script play")
    (sleep 189)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la09_profitpart1_sh5
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 7) 4 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 7) 4)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 0 (cinematic_object_get_unit "cin_chief") "020la09_cin_chief_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 1 (cinematic_object_get_unit "cin_miranda") "020la09_cin_miranda_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 2 (cinematic_object_get_unit "cin_truth") "020la09_cin_truth_5" true)
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 4 (cinematic_object_get_unit "cin_johnson") "020la09_cin_johnson_5" true)
    (object_hide (cinematic_object_get_scenery "cin_cigar2") true)
    (object_hide (cinematic_object_get_scenery "cin_pda") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 7 (cinematic_object_get_scenery "cin_prophet_chair") "020la09_cin_prophet_chair_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 8 (cinematic_object_get_scenery "cin_speaker") "020la09_cin_speaker_5" true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (render_autoexposure_instant 1)
    (sleep 75)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la09_profitpart1_sh6
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 7) 5 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 7) 5)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (object_hide (cinematic_object_get_unit "cin_chief") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 1 (cinematic_object_get_unit "cin_miranda") "020la09_cin_miranda_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 2 (cinematic_object_get_unit "cin_truth") "020la09_cin_truth_6" true)
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 4 (cinematic_object_get_unit "cin_johnson") "020la09_cin_johnson_6" true)
    (object_hide (cinematic_object_get_scenery "cin_cigar2") true)
    (object_hide (cinematic_object_get_scenery "cin_pda") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 7 (cinematic_object_get_scenery "cin_prophet_chair") "020la09_cin_prophet_chair_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 7 8 (cinematic_object_get_scenery "cin_speaker") "020la09_cin_speaker_6" true)
    (cinematic_lights_initialize_for_shot 5)
    (cinematic_clips_initialize_for_shot 5)
    (render_autoexposure_instant 1)
    (sleep 251)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la09_profitpart1
    (cinematic_print "beginning scene 8")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 7) 0)
    (!020la09_profitpart1_sh1)
    (!020la09_profitpart1_sh2)
    (!020la09_profitpart1_sh3)
    (!020la09_profitpart1_sh4)
    (!020la09_profitpart1_sh5)
    (!020la09_profitpart1_sh6)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 0 7 0 (cinematic_object_get_unit "cin_chief"))
    (cinematic_scripting_destroy_object 0 7 1 (cinematic_object_get_unit "cin_miranda"))
    (cinematic_scripting_destroy_object 0 7 2 (cinematic_object_get_unit "cin_truth"))
    (cinematic_scripting_destroy_object 0 7 3 (cinematic_object_get_unit "cin_arbiter"))
    (cinematic_scripting_destroy_object 0 7 4 (cinematic_object_get_unit "cin_johnson"))
    (cinematic_scripting_destroy_object 0 7 5 (cinematic_object_get_scenery "cin_cigar2"))
    (cinematic_scripting_destroy_object 0 7 6 (cinematic_object_get_scenery "cin_pda"))
    (cinematic_scripting_destroy_object 0 7 7 (cinematic_object_get_scenery "cin_prophet_chair"))
    (cinematic_scripting_destroy_object 0 7 8 (cinematic_object_get_scenery "cin_speaker"))
)

(script static void !020la10_profitpart2_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 8) 0 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 8) 0)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 0 (cinematic_object_get_unit "cin_chief") "020la10_cin_chief_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 1 (cinematic_object_get_unit "cin_johnson") "020la10_cin_johnson_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 2 (cinematic_object_get_unit "cin_navy_officer1") "020la10_cin_marine1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 3 (cinematic_object_get_unit "cin_miranda") "020la10_cin_miranda_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 4 (cinematic_object_get_unit "cin_truth") "020la10_cin_truth_1" true)
    (object_hide (cinematic_object_get_scenery "cin_cigar") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 6 (cinematic_object_get_scenery "cin_speaker") "020la10_cin_speaker_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 7 (cinematic_object_get_scenery "cin_prophet_chair") "020la10_cin_prophet_chair_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_autoexposure_instant 1)
    (sleep 2)
    (cinematic_scripting_start_dialogue 0 8 0 0 (cinematic_object_get_scenery "cin_speaker"))
    (cinematic_scripting_start_dialogue 0 8 0 1 (cinematic_object_get_unit "cin_truth"))
    (sleep 200)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la10_profitpart2_sh2
    (begin
        (object_create_anew "cin_tex_cam_screens")
        (set texture_camera_exposure 0.2)
    )
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 8) 1 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 8) 1)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 0 (cinematic_object_get_unit "cin_chief") "020la10_cin_chief_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 1 (cinematic_object_get_unit "cin_johnson") "020la10_cin_johnson_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 2 (cinematic_object_get_unit "cin_navy_officer1") "020la10_cin_marine1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 3 (cinematic_object_get_unit "cin_miranda") "020la10_cin_miranda_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 4 (cinematic_object_get_unit "cin_truth") "020la10_cin_truth_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 5 (cinematic_object_get_scenery "cin_cigar") "020la10_cin_cigar_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 6 (cinematic_object_get_scenery "cin_speaker") "020la10_cin_speaker_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 7 (cinematic_object_get_scenery "cin_prophet_chair") "020la10_cin_prophet_chair_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_autoexposure_instant 1)
    (cinematic_print "waiting for event (begin (set texture_camera_exposure -10)
(object_destroy cin_tex_cam_screens)) which occurs at frame 97, but shot only has 95 frames")
    (sleep 97)
    (begin
        (set texture_camera_exposure -10)
        (object_destroy "cin_tex_cam_screens")
    )
    (cinematic_print "waiting for event (cinematic_print "custom script play") which occurs at frame 97, but shot only has 95 frames")
    (cinematic_print "custom script play")
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la10_profitpart2_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 8) 2 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 8) 2)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 0 (cinematic_object_get_unit "cin_chief") "020la10_cin_chief_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 1 (cinematic_object_get_unit "cin_johnson") "020la10_cin_johnson_3" true)
    (object_hide (cinematic_object_get_unit "cin_navy_officer1") true)
    (object_hide (cinematic_object_get_unit "cin_miranda") true)
    (object_hide (cinematic_object_get_unit "cin_truth") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 8 5 (cinematic_object_get_scenery "cin_cigar") "020la10_cin_cigar_3" true)
    (object_hide (cinematic_object_get_scenery "cin_speaker") true)
    (object_hide (cinematic_object_get_scenery "cin_prophet_chair") true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (render_exposure -10 0)
    (cinematic_print "custom script play")
    (sleep 3)
    (cinematic_print "custom script play")
    (render_exposure 1 1.2)
    (sleep 41)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la10_profitpart2
    (cinematic_print "beginning scene 9")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 8) 0)
    (!020la10_profitpart2_sh1)
    (!020la10_profitpart2_sh2)
    (!020la10_profitpart2_sh3)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 0 8 0 (cinematic_object_get_unit "cin_chief"))
    (cinematic_scripting_destroy_object 0 8 1 (cinematic_object_get_unit "cin_johnson"))
    (cinematic_scripting_destroy_object 0 8 2 (cinematic_object_get_unit "cin_navy_officer1"))
    (cinematic_scripting_destroy_object 0 8 3 (cinematic_object_get_unit "cin_miranda"))
    (cinematic_scripting_destroy_object 0 8 4 (cinematic_object_get_unit "cin_truth"))
    (cinematic_scripting_destroy_object 0 8 5 (cinematic_object_get_scenery "cin_cigar"))
    (cinematic_scripting_destroy_object 0 8 6 (cinematic_object_get_scenery "cin_speaker"))
    (cinematic_scripting_destroy_object 0 8 7 (cinematic_object_get_scenery "cin_prophet_chair"))
    (set texture_camera_exposure 1)
)

(script static void !020la11_towar_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 9) 0 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 9) 0)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 0 (cinematic_object_get_unit "cin_chief") "020la11_cin_chief_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 1 (cinematic_object_get_unit "cin_johnson") "020la11_cin_johnson_1" true)
    (object_hide (cinematic_object_get_unit "cin_navy_officer_ger") true)
    (object_hide (cinematic_object_get_unit "cin_navy_officer2") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 4 (cinematic_object_get_unit "cin_miranda") "020la11_cin_miranda_1" true)
    (object_hide (cinematic_object_get_scenery "cin_magnum") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 6 (cinematic_object_get_unit "cin_arbiter") "020la11_cin_arbiter_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 7 (cinematic_object_get_scenery "cin_cigar") "020la11_cin_cigar_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 1.5 0)
    (cinematic_scripting_start_effect 0 9 0 0 (cinematic_object_get "cin_cigar"))
    (unit_set_emotion_by_name (cinematic_object_get_unit "cin_johnson") "happy" 1 0.01)
    (cinematic_print "custom script play")
    (sleep 1)
    (cinematic_scripting_start_dialogue 0 9 0 0 (cinematic_object_get_unit "cin_johnson"))
    (sleep 98)
    (cinematic_scripting_start_dialogue 0 9 0 1 (cinematic_object_get_unit "cin_chief"))
    (sleep 59)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la11_towar_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 9) 1 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 9) 1)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 0 (cinematic_object_get_unit "cin_chief") "020la11_cin_chief_2" true)
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (object_hide (cinematic_object_get_unit "cin_navy_officer_ger") true)
    (object_hide (cinematic_object_get_unit "cin_navy_officer2") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 4 (cinematic_object_get_unit "cin_miranda") "020la11_cin_miranda_2" true)
    (object_hide (cinematic_object_get_scenery "cin_magnum") true)
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (object_hide (cinematic_object_get_scenery "cin_cigar") true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure 1.5 0)
    (sleep 94)
    (cinematic_scripting_start_dialogue 0 9 1 0 (cinematic_object_get_unit "cin_miranda"))
    (sleep 3)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la11_towar_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 9) 2 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 9) 2)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 0 (cinematic_object_get_unit "cin_chief") "020la11_cin_chief_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 1 (cinematic_object_get_unit "cin_johnson") "020la11_cin_johnson_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 2 (cinematic_object_get_unit "cin_navy_officer_ger") "020la11_cin_marine1_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 3 (cinematic_object_get_unit "cin_navy_officer2") "020la11_cin_marine2_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 4 (cinematic_object_get_unit "cin_miranda") "020la11_cin_miranda_3" true)
    (object_hide (cinematic_object_get_scenery "cin_magnum") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 6 (cinematic_object_get_unit "cin_arbiter") "020la11_cin_arbiter_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 7 (cinematic_object_get_scenery "cin_cigar") "020la11_cin_cigar_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (render_exposure 1.5 0)
    (unit_set_emotion_by_name (cinematic_object_get_unit "cin_johnson") "happy" 1 0.01)
    (cinematic_print "custom script play")
    (sleep 49)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la11_towar_sh4
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 9) 3 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 9) 3)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (object_hide (cinematic_object_get_unit "cin_chief") true)
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 2 (cinematic_object_get_unit "cin_navy_officer_ger") "020la11_cin_marine1_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 3 (cinematic_object_get_unit "cin_navy_officer2") "020la11_cin_marine2_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 4 (cinematic_object_get_unit "cin_miranda") "020la11_cin_miranda_4" true)
    (object_hide (cinematic_object_get_scenery "cin_magnum") true)
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (object_hide (cinematic_object_get_scenery "cin_cigar") true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (render_exposure 1.5 0)
    (sleep 2)
    (cinematic_scripting_start_dialogue 0 9 3 0 (cinematic_object_get_unit "cin_navy_officer_ger"))
    (sleep 20)
    (cinematic_scripting_start_dialogue 0 9 3 1 (cinematic_object_get_unit "cin_miranda"))
    (sleep 6)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la11_towar_sh5
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 9) 4 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 9) 4)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 0 (cinematic_object_get_unit "cin_chief") "020la11_cin_chief_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 1 (cinematic_object_get_unit "cin_johnson") "020la11_cin_johnson_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 2 (cinematic_object_get_unit "cin_navy_officer_ger") "020la11_cin_marine1_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 3 (cinematic_object_get_unit "cin_navy_officer2") "020la11_cin_marine2_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 4 (cinematic_object_get_unit "cin_miranda") "020la11_cin_miranda_5" true)
    (object_hide (cinematic_object_get_scenery "cin_magnum") true)
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (object_hide (cinematic_object_get_scenery "cin_cigar") true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (render_exposure 1.5 0)
    (sleep 60)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la11_towar_sh6
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 9) 5 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 9) 5)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 0 (cinematic_object_get_unit "cin_chief") "020la11_cin_chief_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 1 (cinematic_object_get_unit "cin_johnson") "020la11_cin_johnson_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 2 (cinematic_object_get_unit "cin_navy_officer_ger") "020la11_cin_marine1_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 3 (cinematic_object_get_unit "cin_navy_officer2") "020la11_cin_marine2_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 4 (cinematic_object_get_unit "cin_miranda") "020la11_cin_miranda_6" true)
    (object_hide (cinematic_object_get_scenery "cin_magnum") true)
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 7 (cinematic_object_get_scenery "cin_cigar") "020la11_cin_cigar_6" true)
    (cinematic_lights_initialize_for_shot 5)
    (cinematic_clips_initialize_for_shot 5)
    (render_exposure 1.5 0)
    (unit_set_emotion_by_name (cinematic_object_get_unit "cin_johnson") "happy" 1 1)
    (cinematic_print "custom script play")
    (sleep 1)
    (cinematic_scripting_start_dialogue 0 9 5 0 (cinematic_object_get_unit "cin_navy_officer_ger"))
    (sleep 15)
    (cinematic_scripting_start_dialogue 0 9 5 1 (cinematic_object_get_unit "cin_miranda"))
    (sleep 62)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la11_towar_sh7
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 9) 6 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 9) 6)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 0 (cinematic_object_get_unit "cin_chief") "020la11_cin_chief_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 1 (cinematic_object_get_unit "cin_johnson") "020la11_cin_johnson_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 2 (cinematic_object_get_unit "cin_navy_officer_ger") "020la11_cin_marine1_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 3 (cinematic_object_get_unit "cin_navy_officer2") "020la11_cin_marine2_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 4 (cinematic_object_get_unit "cin_miranda") "020la11_cin_miranda_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 5 (cinematic_object_get_scenery "cin_magnum") "020la11_cin_fp_magnum_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 6 (cinematic_object_get_unit "cin_arbiter") "020la11_cin_arbiter_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 7 (cinematic_object_get_scenery "cin_cigar") "020la11_cin_cigar_7" true)
    (cinematic_lights_initialize_for_shot 6)
    (cinematic_clips_initialize_for_shot 6)
    (render_exposure 1.5 0)
    (unit_set_emotion_by_name (cinematic_object_get_unit "cin_johnson") "happy" 1 0.01)
    (cinematic_print "custom script play")
    (sleep 25)
    (cinematic_scripting_start_dialogue 0 9 6 0 (cinematic_object_get_unit "cin_johnson"))
    (sleep 54)
    (cinematic_scripting_start_dialogue 0 9 6 1 (cinematic_object_get_unit "cin_navy_officer_ger"))
    (sleep 35)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la11_towar_sh8
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 9) 7 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 9) 7)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (object_hide (cinematic_object_get_unit "cin_chief") true)
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 2 (cinematic_object_get_unit "cin_navy_officer_ger") "020la11_cin_marine1_8" true)
    (object_hide (cinematic_object_get_unit "cin_navy_officer2") true)
    (object_hide (cinematic_object_get_unit "cin_miranda") true)
    (object_hide (cinematic_object_get_scenery "cin_magnum") true)
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (object_hide (cinematic_object_get_scenery "cin_cigar") true)
    (cinematic_lights_initialize_for_shot 7)
    (cinematic_clips_initialize_for_shot 7)
    (render_exposure 1.5 0)
    (sleep 45)
    (cinematic_scripting_start_dialogue 0 9 7 0 (cinematic_object_get_unit "cin_navy_officer_ger"))
    (sleep 54)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la11_towar_sh9
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 9) 8 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 9) 8)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 0 (cinematic_object_get_unit "cin_chief") "020la11_cin_chief_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 1 (cinematic_object_get_unit "cin_johnson") "020la11_cin_johnson_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 2 (cinematic_object_get_unit "cin_navy_officer_ger") "020la11_cin_marine1_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 3 (cinematic_object_get_unit "cin_navy_officer2") "020la11_cin_marine2_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 4 (cinematic_object_get_unit "cin_miranda") "020la11_cin_miranda_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 5 (cinematic_object_get_scenery "cin_magnum") "020la11_cin_fp_magnum_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 6 (cinematic_object_get_unit "cin_arbiter") "020la11_cin_arbiter_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 7 (cinematic_object_get_scenery "cin_cigar") "020la11_cin_cigar_9" true)
    (cinematic_lights_initialize_for_shot 8)
    (cinematic_clips_initialize_for_shot 8)
    (render_exposure 1.5 0)
    (sleep 57)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la11_towar_sh10
    (texture_camera_off)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 9) 9 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 9) 9)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 0 (cinematic_object_get_unit "cin_chief") "020la11_cin_chief_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 1 (cinematic_object_get_unit "cin_johnson") "020la11_cin_johnson_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 2 (cinematic_object_get_unit "cin_navy_officer_ger") "020la11_cin_marine1_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 3 (cinematic_object_get_unit "cin_navy_officer2") "020la11_cin_marine2_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 4 (cinematic_object_get_unit "cin_miranda") "020la11_cin_miranda_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 5 (cinematic_object_get_scenery "cin_magnum") "020la11_cin_fp_magnum_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 6 (cinematic_object_get_unit "cin_arbiter") "020la11_cin_arbiter_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 9 7 (cinematic_object_get_scenery "cin_cigar") "020la11_cin_cigar_10" true)
    (cinematic_lights_initialize_for_shot 9)
    (cinematic_clips_initialize_for_shot 9)
    (render_exposure 1.5 0)
    (sleep 34)
    (cinematic_scripting_start_dialogue 0 9 9 0 (cinematic_object_get_unit "cin_miranda"))
    (sleep 76)
    (fade_out 0 0 0 20)
    (cinematic_print "custom script play")
    (sleep 20)
    (texture_camera_on)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020la11_towar
    (object_destroy "cin_tex_cam_screens")
    (cinematic_print "beginning scene 10")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 9) 0)
    (!020la11_towar_sh1)
    (!020la11_towar_sh2)
    (!020la11_towar_sh3)
    (!020la11_towar_sh4)
    (!020la11_towar_sh5)
    (!020la11_towar_sh6)
    (!020la11_towar_sh7)
    (!020la11_towar_sh8)
    (!020la11_towar_sh9)
    (!020la11_towar_sh10)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 0 9 0 (cinematic_object_get_unit "cin_chief"))
    (cinematic_scripting_destroy_object 0 9 1 (cinematic_object_get_unit "cin_johnson"))
    (cinematic_scripting_destroy_object 0 9 2 (cinematic_object_get_unit "cin_navy_officer_ger"))
    (cinematic_scripting_destroy_object 0 9 3 (cinematic_object_get_unit "cin_navy_officer2"))
    (cinematic_scripting_destroy_object 0 9 4 (cinematic_object_get_unit "cin_miranda"))
    (cinematic_scripting_destroy_object 0 9 5 (cinematic_object_get_scenery "cin_magnum"))
    (cinematic_scripting_destroy_object 0 9 6 (cinematic_object_get_unit "cin_arbiter"))
    (cinematic_scripting_destroy_object 0 9 7 (cinematic_object_get_scenery "cin_cigar"))
)

(script static void 020la_secret_base_debug
    (cinematic_zone_activate_for_debugging 0)
    (sleep 1)
    (camera_control true)
    (cinematic_start)
    (set cinematic_letterbox_style 2)
    (cinematic_show_letterbox_immediate true)
    (camera_set_cinematic)
    (cinematic_set (cinematic_tag_reference_get_cinematic 0))
    (fade_in 0 0 0 0)
    (!020la01_landing)
    (!020la02_stairway_sc)
    (!020la03_hallway_sc)
    (!020la04_halo_sc)
    (!020la05_green_sir_sc)
    (!020la07_the_plan_sc)
    (!020la08_powerout)
    (!020la09_profitpart1)
    (!020la10_profitpart2)
    (!020la11_towar)
    (cinematic_destroy)
    (cinematic_stop)
    (camera_control false)
    (render_exposure_fade_out 0)
    (cinematic_zone_deactivate 0)
)

(script static void 020la_secret_base
    (cinematic_zone_activate 0)
    (sleep 1)
    (camera_set_cinematic)
    (cinematic_set (cinematic_tag_reference_get_cinematic 0))
    (fade_in 0 0 0 0)
    (!020la01_landing)
    (!020la02_stairway_sc)
    (!020la03_hallway_sc)
    (!020la04_halo_sc)
    (!020la05_green_sir_sc)
    (!020la07_the_plan_sc)
    (!020la08_powerout)
    (!020la09_profitpart1)
    (!020la10_profitpart2)
    (!020la11_towar)
    (cinematic_destroy)
    (render_exposure_fade_out 0)
)

(script static void 020la_secret_base_cleanup
    (cinematic_scripting_clean_up 0)
)

(script static void !lip_sync_test_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 0 "cin_hanger_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 0)
    (cinematic_object_create_cinematic_anchor "cin_hanger_anchor" "cin_hanger_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 (cinematic_object_get_unit "cin_arbiter") "xxxx_cin_arbiter_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 (cinematic_object_get_unit "cin_chief") "xxxx_cin_chief_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 2 (cinematic_object_get_unit "cin_johnson") "xxxx_cin_johnson_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 (cinematic_object_get_unit "cin_miranda") "xxxx_cin_miranda_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 (cinematic_object_get_unit "cin_wounded01") "xxxx_cin_wounded01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 (cinematic_object_get_unit "cin_wounded02") "xxxx_cin_wounded02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 (cinematic_object_get_unit "cin_wounded03") "xxxx_cin_wounded03_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 7 (cinematic_object_get_scenery "cin_pelican") "xxxx_cin_pelican_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (sleep 64)
    (cinematic_scripting_start_dialogue 1 0 0 0 (cinematic_object_get_unit "cin_wounded02"))
    (sleep 64)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !lip_sync_test_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 1 "cin_hanger_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 1)
    (cinematic_object_create_cinematic_anchor "cin_hanger_anchor" "cin_hanger_anchor")
    (object_hide (cinematic_object_get_unit "cin_arbiter") true)
    (object_hide (cinematic_object_get_unit "cin_chief") true)
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (object_hide (cinematic_object_get_unit "cin_miranda") true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 (cinematic_object_get_unit "cin_wounded01") "xxxx_cin_wounded01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 (cinematic_object_get_unit "cin_wounded02") "xxxx_cin_wounded02_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 (cinematic_object_get_unit "cin_wounded03") "xxxx_cin_wounded03_2" true)
    (object_hide (cinematic_object_get_scenery "cin_pelican") true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (sleep 5)
    (cinematic_scripting_start_dialogue 1 0 1 0 (cinematic_object_get_unit "cin_wounded03"))
    (sleep 78)
    (cinematic_scripting_start_dialogue 1 0 1 1 (cinematic_object_get_unit "cin_wounded01"))
    (sleep 23)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !lip_sync_test_sc_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 2 "cin_hanger_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 2)
    (cinematic_object_create_cinematic_anchor "cin_hanger_anchor" "cin_hanger_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 (cinematic_object_get_unit "cin_arbiter") "xxxx_cin_arbiter_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 (cinematic_object_get_unit "cin_chief") "xxxx_cin_chief_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 2 (cinematic_object_get_unit "cin_johnson") "xxxx_cin_johnson_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 (cinematic_object_get_unit "cin_miranda") "xxxx_cin_miranda_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 (cinematic_object_get_unit "cin_wounded01") "xxxx_cin_wounded01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 (cinematic_object_get_unit "cin_wounded02") "xxxx_cin_wounded02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 (cinematic_object_get_unit "cin_wounded03") "xxxx_cin_wounded03_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 7 (cinematic_object_get_scenery "cin_pelican") "xxxx_cin_pelican_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (sleep 9)
    (cinematic_scripting_start_dialogue 1 0 2 0 (cinematic_object_get_unit "cin_wounded03"))
    (sleep 90)
    (render_depth_of_field_enable false)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !lip_sync_test_sc
    (cinematic_print "beginning scene 1")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 0)
    (!lip_sync_test_sc_sh1)
    (!lip_sync_test_sc_sh2)
    (!lip_sync_test_sc_sh3)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 1 0 0 (cinematic_object_get_unit "cin_arbiter"))
    (cinematic_scripting_destroy_object 1 0 1 (cinematic_object_get_unit "cin_chief"))
    (cinematic_scripting_destroy_object 1 0 2 (cinematic_object_get_unit "cin_johnson"))
    (cinematic_scripting_destroy_object 1 0 3 (cinematic_object_get_unit "cin_miranda"))
    (cinematic_scripting_destroy_object 1 0 4 (cinematic_object_get_unit "cin_wounded01"))
    (cinematic_scripting_destroy_object 1 0 5 (cinematic_object_get_unit "cin_wounded02"))
    (cinematic_scripting_destroy_object 1 0 6 (cinematic_object_get_unit "cin_wounded03"))
    (cinematic_scripting_destroy_object 1 0 7 (cinematic_object_get_scenery "cin_pelican"))
)

(script static void xxxx_lip_sync_test_debug
    (cinematic_zone_activate_for_debugging 1)
    (sleep 1)
    (camera_control true)
    (cinematic_start)
    (set cinematic_letterbox_style 2)
    (cinematic_show_letterbox_immediate true)
    (camera_set_cinematic)
    (cinematic_set (cinematic_tag_reference_get_cinematic 1))
    (fade_in 0 0 0 0)
    (!lip_sync_test_sc)
    (cinematic_destroy)
    (cinematic_stop)
    (camera_control false)
    (render_exposure_fade_out 0)
    (cinematic_zone_deactivate 1)
)

(script static void xxxx_lip_sync_test
    (cinematic_zone_activate 1)
    (sleep 1)
    (camera_set_cinematic)
    (cinematic_set (cinematic_tag_reference_get_cinematic 1))
    (fade_in 0 0 0 0)
    (!lip_sync_test_sc)
    (cinematic_destroy)
    (render_exposure_fade_out 0)
)

(script static void xxxx_lip_sync_test_cleanup
    (cinematic_scripting_clean_up 1)
)

(script static void !020cb_called_upon_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2 0) 0 "cortana_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 0)
    (cinematic_object_create_cinematic_anchor "cortana_flag" "cortana_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 (cinematic_object_get_unit "cin_cortana") "020cb_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (cinematic_scripting_play_cortana_effect 2 0 0 0)
    (sleep 1)
    (cinematic_scripting_start_dialogue 2 0 0 0 none)
    (sleep 163)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020cb_called_upon_sc
    (cinematic_print "beginning scene 1")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 0)
    (!020cb_called_upon_sc_sh1)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 2 0 0 (cinematic_object_get_unit "cin_cortana"))
)

(script continuous void 020cb_called_upon
    (sleep_forever)
    (cinematic_zone_activate 2)
    (sleep 1)
    (cinematic_set (cinematic_tag_reference_get_cinematic 2))
    (set g_cortana_header true)
    (camera_set_cinematic)
    (camera_set_briefing true)
    (!020cb_called_upon_sc)
    (set g_cortana_footer true)
    (cinematic_scripting_destroy_cortana_effect_cinematic)
    (cinematic_zone_deactivate 2)
)

(script static void !020cc_protectors_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 3 0) 0 "cortana_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 3 0) 0)
    (cinematic_object_create_cinematic_anchor "cortana_flag" "cortana_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 0 (cinematic_object_get_unit "cin_cortana") "020cc_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (cinematic_scripting_play_cortana_effect 3 0 0 0)
    (sleep 1)
    (cinematic_scripting_start_dialogue 3 0 0 0 none)
    (sleep 160)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020cc_protectors_sc
    (cinematic_print "beginning scene 1")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 3 0) 0)
    (!020cc_protectors_sc_sh1)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 3 0 0 (cinematic_object_get_unit "cin_cortana"))
)

(script continuous void 020cc_protectors
    (sleep_forever)
    (cinematic_zone_activate 3)
    (sleep 1)
    (cinematic_set (cinematic_tag_reference_get_cinematic 3))
    (set g_cortana_header true)
    (camera_set_cinematic)
    (camera_set_briefing true)
    (!020cc_protectors_sc)
    (set g_cortana_footer true)
    (cinematic_scripting_destroy_cortana_effect_cinematic)
    (cinematic_zone_deactivate 3)
)

(script static void !020cd_hardship_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 0) 0 "cortana_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 0) 0)
    (cinematic_object_create_cinematic_anchor "cortana_flag" "cortana_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 0 (cinematic_object_get_unit "cin_cortana") "020cd_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (cinematic_scripting_play_cortana_effect 4 0 0 0)
    (sleep 2)
    (cinematic_scripting_start_dialogue 4 0 0 0 none)
    (sleep 135)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020cd_hardship_sc
    (cinematic_print "beginning scene 1")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 0) 0)
    (!020cd_hardship_sc_sh1)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 4 0 0 (cinematic_object_get_unit "cin_cortana"))
)

(script continuous void 020cd_hardship
    (sleep_forever)
    (cinematic_zone_activate 4)
    (sleep 1)
    (cinematic_set (cinematic_tag_reference_get_cinematic 4))
    (set g_cortana_header true)
    (camera_set_cinematic)
    (camera_set_briefing true)
    (!020cd_hardship_sc)
    (set g_cortana_footer true)
    (cinematic_scripting_destroy_cortana_effect_cinematic)
    (cinematic_zone_deactivate 4)
)

(script static void !020cf_your_tomb_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 5 0) 0 "cortana_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 5 0) 0)
    (cinematic_object_create_cinematic_anchor "cortana_flag" "cortana_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 0 (cinematic_object_get_unit "cin_cortana") "020cf_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (cinematic_scripting_play_cortana_effect 5 0 0 0)
    (sleep 1)
    (cinematic_scripting_start_dialogue 5 0 0 0 (cinematic_object_get_unit "cin_cortana"))
    (sleep 157)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020cf_your_tomb_sc
    (cinematic_print "beginning scene 1")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 5 0) 0)
    (!020cf_your_tomb_sc_sh1)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 5 0 0 (cinematic_object_get_unit "cin_cortana"))
)

(script continuous void 020cf_your_tomb
    (sleep_forever)
    (cinematic_zone_activate 5)
    (sleep 1)
    (cinematic_set (cinematic_tag_reference_get_cinematic 5))
    (set g_cortana_header true)
    (camera_set_cinematic)
    (camera_set_briefing true)
    (!020cf_your_tomb_sc)
    (set g_cortana_footer true)
    (cinematic_scripting_destroy_cortana_effect_cinematic)
    (cinematic_zone_deactivate 5)
)

(script static void !020cg_become_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 6 0) 0 "cortana_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 6 0) 0)
    (cinematic_object_create_cinematic_anchor "cortana_flag" "cortana_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 0 (cinematic_object_get_unit "cin_cortana") "020cg_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (cinematic_scripting_play_cortana_effect 6 0 0 0)
    (sleep 1)
    (cinematic_scripting_start_dialogue 6 0 0 0 none)
    (sleep 152)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !020cg_become_sc
    (cinematic_print "beginning scene 1")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 6 0) 0)
    (!020cg_become_sc_sh1)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 6 0 0 (cinematic_object_get_unit "cin_cortana"))
)

(script continuous void 020cg_become
    (sleep_forever)
    (cinematic_zone_activate 6)
    (sleep 1)
    (cinematic_set (cinematic_tag_reference_get_cinematic 6))
    (set g_cortana_header true)
    (camera_set_cinematic)
    (camera_set_briefing true)
    (!020cg_become_sc)
    (set g_cortana_footer true)
    (cinematic_scripting_destroy_cortana_effect_cinematic)
    (cinematic_zone_deactivate 6)
)

(script static void !vid_calibration_sc_sh1
    (begin
        (fade_in 0 0 0 60)
        (cinematic_show_letterbox_immediate false)
    )
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 7 0) 0 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 7 0) 0)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 0 (cinematic_object_get_unit "cin_johnson") "johnson_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 3 0)
    (sleep 70)
    (cinematic_scripting_start_dialogue 7 0 0 0 (cinematic_object_get_unit "cin_johnson"))
    (sleep 9)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !vid_calibration_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 7 0) 1 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 7 0) 1)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 0 (cinematic_object_get_unit "cin_johnson") "johnson_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure 3 0)
    (sleep 356)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !vid_calibration_sc_sh3
    (fade_out 0 0 0 0)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 7 0) 2 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 7 0) 2)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (sleep 9)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !vid_calibration_sc_sh4
    (fade_in 0 0 0 0)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 7 0) 3 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 7 0) 3)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 0 (cinematic_object_get_unit "cin_johnson") "johnson_4" true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (render_exposure 3 0)
    (sleep 8)
    (cinematic_scripting_start_dialogue 7 0 3 0 (cinematic_object_get_unit "cin_johnson"))
    (sleep 107)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !vid_calibration_sc_sh5
    (fade_out 0 0 0 0)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 7 0) 4 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 7 0) 4)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (sleep 8)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !vid_calibration_sc_sh6
    (fade_in 0 0 0 0)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 7 0) 5 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 7 0) 5)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 0 (cinematic_object_get_unit "cin_johnson") "johnson_6" true)
    (cinematic_lights_initialize_for_shot 5)
    (cinematic_clips_initialize_for_shot 5)
    (render_exposure 3 0)
    (sleep 11)
    (cinematic_scripting_start_dialogue 7 0 5 0 (cinematic_object_get_unit "cin_johnson"))
    (sleep 125)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !vid_calibration_sc_sh7
    (fade_out 0 0 0 0)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 7 0) 6 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 7 0) 6)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (cinematic_lights_initialize_for_shot 6)
    (cinematic_clips_initialize_for_shot 6)
    (sleep 6)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !vid_calibration_sc_sh8
    (fade_in 0 0 0 0)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 7 0) 7 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 7 0) 7)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 0 (cinematic_object_get_unit "cin_johnson") "johnson_8" true)
    (cinematic_lights_initialize_for_shot 7)
    (cinematic_clips_initialize_for_shot 7)
    (render_exposure 3 0)
    (sleep 8)
    (cinematic_scripting_start_dialogue 7 0 7 0 (cinematic_object_get_unit "cin_johnson"))
    (sleep 110)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !vid_calibration_sc_sh9
    (fade_out 0 0 0 0)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 7 0) 8 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 7 0) 8)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (cinematic_lights_initialize_for_shot 8)
    (cinematic_clips_initialize_for_shot 8)
    (sleep 10)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !vid_calibration_sc_sh10
    (fade_in 0 0 0 0)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 7 0) 9 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 7 0) 9)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 0 (cinematic_object_get_unit "cin_johnson") "johnson_10" true)
    (cinematic_lights_initialize_for_shot 9)
    (cinematic_clips_initialize_for_shot 9)
    (render_exposure 3 0)
    (sleep 8)
    (cinematic_scripting_start_dialogue 7 0 9 0 (cinematic_object_get_unit "cin_johnson"))
    (sleep 221)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !vid_calibration_sc_sh11
    (fade_out 0 0 0 0)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 7 0) 10 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 7 0) 10)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (object_hide (cinematic_object_get_unit "cin_johnson") true)
    (cinematic_lights_initialize_for_shot 10)
    (cinematic_clips_initialize_for_shot 10)
    (sleep 6)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !vid_calibration_sc_sh12
    (fade_in 0 0 0 0)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 7 0) 11 "cin_control_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 7 0) 11)
    (cinematic_object_create_cinematic_anchor "cin_control_anchor" "cin_control_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 0 (cinematic_object_get_unit "cin_johnson") "johnson_12" true)
    (cinematic_lights_initialize_for_shot 11)
    (cinematic_clips_initialize_for_shot 11)
    (render_exposure 3 0)
    (sleep 5)
    (cinematic_scripting_start_dialogue 7 0 11 0 (cinematic_object_get_unit "cin_johnson"))
    (sleep 84)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !vid_calibration_sc
    (cinematic_print "beginning scene 1")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 7 0) 0)
    (!vid_calibration_sc_sh1)
    (!vid_calibration_sc_sh2)
    (!vid_calibration_sc_sh3)
    (!vid_calibration_sc_sh4)
    (!vid_calibration_sc_sh5)
    (!vid_calibration_sc_sh6)
    (!vid_calibration_sc_sh7)
    (!vid_calibration_sc_sh8)
    (!vid_calibration_sc_sh9)
    (!vid_calibration_sc_sh10)
    (!vid_calibration_sc_sh11)
    (!vid_calibration_sc_sh12)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 7 0 0 (cinematic_object_get_unit "cin_johnson"))
)

(script static void vid_cal_debug
    (cinematic_zone_activate_for_debugging 7)
    (sleep 1)
    (camera_control true)
    (cinematic_start)
    (set cinematic_letterbox_style 2)
    (cinematic_show_letterbox_immediate true)
    (camera_set_cinematic)
    (cinematic_set (cinematic_tag_reference_get_cinematic 7))
    (fade_in 0 0 0 0)
    (!vid_calibration_sc)
    (cinematic_destroy)
    (cinematic_stop)
    (camera_control false)
    (render_exposure_fade_out 0)
    (cinematic_zone_deactivate 7)
)

(script static void vid_cal
    (cinematic_zone_activate 7)
    (sleep 1)
    (camera_set_cinematic)
    (cinematic_set (cinematic_tag_reference_get_cinematic 7))
    (fade_in 0 0 0 0)
    (!vid_calibration_sc)
    (cinematic_destroy)
    (render_exposure_fade_out 0)
)

(script static void vid_cal_cleanup
    (cinematic_scripting_clean_up 7)
)

; Decompilation finished in ~0.2782667s
