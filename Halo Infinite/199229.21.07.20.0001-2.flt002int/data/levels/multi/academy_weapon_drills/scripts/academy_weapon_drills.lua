-- Copyright (C) Microsoft. All rights reserved.

REQUIRES('globals/scripts/global_multiplayer_init.lua')

--## SERVER

function MakeChallengeInitArg(challengeName:string,
								challengeDesc:string,
								challengeObjects:table,
								mapVariant: string,
								mapVariantAssetId: string,
								starScoreRegistration:table,
								pickupStartItem:tag,
								scoringTypeEnum:number,
								targetIDs:table)

	assert(mapVariantAssetId ~= nil and type(mapVariantAssetId) == 'string');

	return hmake AcademyInitArgs
	{
		mapVariant = mapVariant,
		challengeName = challengeName,
		challengeDesc = challengeDesc,
		-- Map Variant Asset Ids are generated by Ark/UGC pipeline
		-- You can see what a asset Id maps to at https://hiugc.admin.halowaypoint.com/guard/home
		-- You can view successful ark runs here: https://343.visualstudio.com/Guardian/_build?definitionId=510&_a=summary
		mapVariantAssetId = mapVariantAssetId,
		starScoreRegistration	=	starScoreRegistration,
		startFlag		= FLAGS.fl_shooting_course_spawn,
		pickupStartItem = pickupStartItem,
		pickupStartIsWeapon = true;
		pickupStartFlag = FLAGS.fl_object_start,
		challengeObjects = challengeObjects,
		startShield		= nil, 
		startBlocker	= nil,
		startVolume		= nil, 
		goalVolume		= nil,
		scoringType		= scoringTypeEnum,
		targetIDs 		= targetIDs,
		startButton = nil,
		academyUITag = TAG('ui\wpf\anubisui\hud\scripted\prototype\label.cui_screen'),
		endFlag = FLAGS.fl_shooting_course_spawn,
		pickupStartCrateTag = TAG('levels\assets\shiva\unsc\worldobjects\unsc_wo_weapontrunk_b\unsc_wo_weapontrunk_b.device_machine'),
	};
end

function ReturnChallengeTable():table

	local assaultRifle:tag = TAG('objects\weapons\rifle\assault_rifle\assault_rifle.weapon');
	local commandoRifle:tag = TAG('objects\weapons\rifle\commando_rifle\commando_rifle.weapon');
	local combatShotgun:tag = TAG('objects\weapons\proto\proto_combat_shotgun\proto_combat_shotgun.weapon');
	local pulseCarbine:tag = TAG('objects\weapons\proto\proto_plasma_wetwork\proto_plasma_wetwork.weapon');
	local smg:tag = TAG(nil);
	local voltAction:tag = TAG('objects\weapons\proto\proto_volt_action\proto_volt_action.weapon');
	local battleRifle:tag = TAG('objects\weapons\rifle\br\br.weapon');
	local sideArm:tag = TAG('objects\weapons\pistol\sidearm_pistol\sidearm_pistol.weapon');
	local arcZapper:tag = TAG('objects\weapons\proto\proto_arc_zapper\proto_arc_zapper.weapon');
	local plasmaPistol:tag = TAG('objects\weapons\pistol\plasma_pistol\plasma_pistol.weapon');
	local cinderShot:tag = TAG('objects\weapons\proto\proto_heatwave\proto_heatwave.weapon');
	local overCharger:tag = TAG(nil);
	local hydraLauncher:tag = TAG('objects\weapons\rifle\mlrs\mlrs.weapon');
	local sniperRifle:tag = TAG('objects\weapons\rifle\sniper_rifle\sniper_rifle.weapon');
	local plasmaBlaster:tag = TAG('objects\weapons\proto\proto_plasma_plasmablaster\proto_plasma_plasmablaster.weapon');
	local heatWave:tag = TAG('objects\weapons\proto\proto_hotrod_gun\proto_hotrod_gun.weapon');
	local skewer:tag = TAG('objects\weapons\proto\proto_skewer\proto_skewer.weapon');
	local rocketLauncher:tag = TAG('objects\weapons\support_high\spnker_rocket_launcher_olympus\spnker_rocket_launcher_olympus.weapon');
	local needler:tag = TAG('objects\weapons\pistol\needler\needler.weapon');
	local spikeRevolver:tag = TAG('objects\weapons\proto\proto_spike_revolver\proto_spike_revolver.weapon');
	local provoker:tag = TAG('objects\weapons\rifle\provoker\provoker.weapon');
	local sentinelBeam:tag = TAG('objects\weapons\proto\proto_hardlight_sentinel_beam\proto_hardlight_sentinel_beam.weapon');

	local useMvarToPickChallenge = true;

	local challengeTable = 
	{
		MakeChallengeInitArg(
			"academy_ar_drill_01",
			"academy_drill_01_desc",
			{MODULES.shootingcourse01rearwall,
			MODULES.ar01cover},
			"levels\\multi\\academy_weapon_drills\\assault_rifle_01",
			"85895dca-3c01-4429-8dd0-9333c610af0c",
			{10000, 12500},
			assaultRifle,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"ar01_target"},
			{"ar01_target_01"},
			{"ar01_target_02"},
			{"ar01_target_03"},
			{"ar01_target_04"},
			{"ar01_target_05"}}),

		MakeChallengeInitArg(
			"academy_ar_drill_02",
			"academy_drill_02_desc",
			{MODULES.shootingcourse01rearwall,
			MODULES.ar02cover},
			"levels\\multi\\academy_weapon_drills\\assault_rifle_02",
			"e05f342a-92b2-428f-a202-f66a81f7a79a",
			{12000, 13500},
			assaultRifle,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"ar02_target"},
			{"ar02_target_01"},
			{"ar02_target_02"},
			{"ar02_target_03"},
			{"ar02_target_04"},
			{"ar02_target_05"}}),

		MakeChallengeInitArg(
			"academy_ar_drill_03",
			"academy_drill_03_desc",
			{MODULES.shootingcourse01rearwall,
			MODULES.ar03cover},
			"levels\\multi\\academy_weapon_drills\\assault_rifle_03",
			"bb906ed1-996b-41dd-80ef-d920d352798b",
			{12000, 15000},
			assaultRifle,
			AcademyChallengeTypeEnum.medCountdown,
			{{"ar03_target"},
			{"ar03_target_01"},
			{"ar03_target_02"},
			{"ar03_target_03"},
			{"ar03_target_04"},
			{"ar03_target_05"},
			{"ar03_target_06"},
			{"ar03_target_07"},
			{"ar03_target_08"}}),

		MakeChallengeInitArg(
			"academy_cr_drill_01",
			"academy_drill_01_desc",
			{MODULES.shootingcourse01rearwall,
			MODULES.cr01cover},
			"levels\\multi\\academy_weapon_drills\\commando_rifle_01",
			"598fecef-b3b0-4eb4-b3ae-89edd8e0e6ff",
			{10000, 15000},
			commandoRifle,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"cr01_target"},
			{"cr01_target_01"},
			{"cr01_target_02"},
			{"cr01_target_03"},
			{"cr01_target_04"},
			{"cr01_target_05"}}),

		MakeChallengeInitArg(
			"academy_cr_drill_02",
			"academy_drill_02_desc",
			{MODULES.shootingcourse01rearwall,
			MODULES.cr02cover},
			"levels\\multi\\academy_weapon_drills\\commando_rifle_02",
			"856f1592-162d-4edb-bb86-fa93f8f11bf8",
			{9000, 13000},
			commandoRifle,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"cr02_target"},
			{"cr02_target_01"},
			{"cr02_target_02"},
			{"cr02_target_03"},
			{"cr02_target_04"},
			{"cr02_target_05"}}),

		MakeChallengeInitArg(
			"academy_cr_drill_03",
			"academy_drill_03_desc",
			{MODULES.shootingcrcoursewallpluscolumns,},
			"levels\\multi\\academy_weapon_drills\\commando_rifle_03",
			"f61d21df-5cd0-4408-86d0-70f16f7088ea",
			{15000, 18500},
			commandoRifle,
			AcademyChallengeTypeEnum.medCountdown,
			{{"cr03_target"},
			{"cr03_target_01"},
			{"cr03_target_02"},
			{"cr03_target_03"},
			{"cr03_target_04"},
			{"cr03_target_05"},
			{"cr03_target_06"},
			{"cr03_target_07"},
			{"cr03_target_08"},
			{"cr03_target_09"},
			{"cr03_target_10"},
			{"cr03_target_11"}}),

		MakeChallengeInitArg(
			"academy_cs_drill_01",
			"academy_drill_01_desc",
			{MODULES.shootingcourse01rearwall,
			MODULES.cs01cover},
			"levels\\multi\\academy_weapon_drills\\combat_shotgun_01",
			"1aea49fc-f0aa-483f-9af3-15546b75d562",
			{12500, 14000},
			combatShotgun,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"cs01_target"},
			{"cs01_target_01"},
			{"cs01_target_02"},
			{"cs01_target_03"},
			{"cs01_target_04"},
			{"cs01_target_05"}}),

		MakeChallengeInitArg(
			"academy_cs_drill_02",
			"academy_drill_02_desc",
			{MODULES.cshotguncourse01cover,},
			"levels\\multi\\academy_weapon_drills\\combat_shotgun_02",
			"9ba74c5e-a0e7-470c-85c6-646ec887c473",
			{10000, 12000},
			combatShotgun,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"cs02_target"},
			{"cs02_target_01"},
			{"cs02_target_02"},
			{"cs02_target_03"},
			{"cs02_target_04"},
			{"cs02_target_05"}}),

		MakeChallengeInitArg(
			"academy_cs_drill_03",
			"academy_drill_03_desc",
			{MODULES.shootingcourse01rearwall,
			MODULES.bs03cover,},
			"levels\\multi\\academy_weapon_drills\\combat_shotgun_03",
			"bdd2e776-1f56-4c34-a321-32b0635a8a5f",
			{11000, 13500},
			combatShotgun,
			AcademyChallengeTypeEnum.medCountdown,
			{{"cs03_target",
				"cs03_target_01",
				"cs03_target_02",
				"cs03_target_03"},
			{"cs03_target_04",
				"cs03_target_05",
				"cs03_target_06"},
			{"cs03_target",
				"cs03_target_03",
				"cs03_target_04"},
			{"cs03_target_07",
				"cs03_target_08",
				"cs03_target_09",
				"cs03_target_10"}}),

		MakeChallengeInitArg(
			"academy_ww_drill_01",
			"academy_drill_01_desc",
			{MODULES.arczapperwall,
			MODULES.ww01cover},
			"levels\\multi\\academy_weapon_drills\\wetworks_01",
			"a22883d2-fe3a-4b56-94d6-a3ea92976663",
			{12500, 14000},
			pulseCarbine,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"ww01_target"},
			{"ww01_target_01"},
			{"ww01_target_02"},
			{"ww01_target_03"},
			{"ww01_target_04"},
			{"ww01_target_05"},
			{"ww01_target_06"},
			{"ww01_target_07"},
			{"ww01_target_08"},
			{"ww01_target_09"},
			{"ww01_target_10"}}),

		MakeChallengeInitArg(
			"academy_ww_drill_02",
			"academy_drill_02_desc",
			{MODULES.arczapperwall,
			MODULES.ww02cover},
			"levels\\multi\\academy_weapon_drills\\wetworks_02",
			"52350a94-9d33-4c1e-9f9c-fef134a89665",
			{8000, 10000},
			pulseCarbine,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"ww02_target"},
			{"ww02_target_01"},
			{"ww02_target_02"},
			{"ww02_target_03"},
			{"ww02_target_04"},
			{"ww02_target_05"}}),

		MakeChallengeInitArg(
			"academy_ww_drill_03",
			"academy_drill_03_desc",
			{MODULES.shootingcrcoursewallpluscolumns,},
			"levels\\multi\\academy_weapon_drills\\wetworks_03",
			"8d9a52a8-1bfe-4851-9556-9349fdb3106c",
			{13000, 15000},
			pulseCarbine,
			AcademyChallengeTypeEnum.medCountdown,
			{{"ww03_target"},
			{"ww03_target_01"},
			{"ww03_target_02"},
			{"ww03_target_03"},
			{"ww03_target_04"},
			{"ww03_target_05"}}),

		MakeChallengeInitArg(
			"academy_va_drill_01",
			"academy_drill_01_desc",
			{MODULES.voltactionrearwall,
			MODULES.va01cover},
			"levels\\multi\\academy_weapon_drills\\volt_action_01",
			"1e2fdda8-cb62-4f67-8b40-16ad3acddc30",
			{12000, 16000},
			voltAction,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"va01_target",
			"va01_target_01",
			"va01_target_02",
			"va01_target_09",
			"va01_target_10",
			"va01_target_11"},
			{"va01_target_03",
			"va01_target_04",
			"va01_target_05",
			"va01_target_12",
			"va01_target_13",
			"va01_target_14"},
			{"va01_target_06",
			"va01_target_07",
			"va01_target_08",
			"va01_target_15",
			"va01_target_16",
			"va01_target_17"}}),

		MakeChallengeInitArg(
			"academy_va_drill_02",
			"academy_drill_02_desc",
			{MODULES.voltactionrearwall,
			MODULES.va02cover},
			"levels\\multi\\academy_weapon_drills\\volt_action_02",
			"494f344c-c7ca-4ca6-a5fd-3a4d3bf974f3",
			{20000, 22500},
			voltAction,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"va02_target",
			"va02_target_01",
			"va02_target_02",
			"va02_target_03"},
			{"va02_target_04",
			"va02_target_05",
			"va02_target_06",
			"va02_target_07",
			"va02_target_08",
			"va02_target_09",
			"va02_target_10",
			"va02_target_11"}}),

		MakeChallengeInitArg(
			"academy_va_drill_03",
			"academy_drill_03_desc",
			{MODULES.voltactionrearwall,
			MODULES.va03cover},
			"levels\\multi\\academy_weapon_drills\\volt_action_03",
			"6cdbb820-b23b-4314-93c2-37b7a083c365",
			{20000, 25000},
			voltAction,
			AcademyChallengeTypeEnum.medCountdown,
			{{"va03_target",
			"va03_target_01",
			"va03_target_02"},
			{"va03_target_03",
			"va03_target_04",
			"va03_target_05"},
			{"va03_target_06",
			"va03_target_07",
			"va03_target_08"},
			{"va03_target_09",
			"va03_target_10",
			"va03_target_11"},
			{"va03_target_12",
			"va03_target_13",
			"va03_target_14"},
			{"va03_target_15",
			"va03_target_16",
			"va03_target_17",},
			{"va03_target_18",
			"va03_target_19",
			"va03_target_20"}}),

		MakeChallengeInitArg(
			"academy_br_drill_01",
			"academy_drill_01_desc",
			{MODULES.voltactionrearwall,
			MODULES.br01cover},
			"levels\\multi\\academy_weapon_drills\\battle_rifle_01",
			"176a58e0-c6d2-4f60-bfa3-35d0110a50f2",
			{10000, 12000},
			battleRifle,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"br01_target"},
			{"br01_target_01"},
			{"br01_target_02"},
			{"br01_target_03"},
			{"br01_target_04"},
			{"br01_target_05"},
			{"br01_target_06"},
			{"br01_target_07"},
			{"br01_target_08"},
			{"br01_target_09"},
			{"br01_target_10"}}),

		MakeChallengeInitArg(
			"academy_br_drill_02",
			"academy_drill_02_desc",
			{MODULES.voltactionrearwall,
			MODULES.br02cover},
			"levels\\multi\\academy_weapon_drills\\battle_rifle_02",
			"12a8d21b-54ec-4575-a8ba-b4028746cb47",
			{10000, 12500},
			battleRifle,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"br02_target"},
			{"br02_target_01"},
			{"br02_target_02"},
			{"br02_target_03"},
			{"br02_target_04"},
			{"br02_target_05"}}),

		MakeChallengeInitArg(
			"academy_br_drill_03",
			"academy_drill_03_desc",
			{MODULES.voltactionrearwall,
			MODULES.br03cover},
			"levels\\multi\\academy_weapon_drills\\battle_rifle_03",
			"679ded47-8d82-46fd-96c1-ebd04f03bd7e",
			{11500, 14500},
			battleRifle,
			AcademyChallengeTypeEnum.medCountdown,
			{{"br03_target"},
			{"br03_target_01"},
			{"br03_target_02"},
			{"br03_target_03"},
			{"br03_target_04"},
			{"br03_target_05"},
			{"br03_target_06"}}),

		MakeChallengeInitArg(
			"academy_sp_drill_01",
			"academy_drill_01_desc",
			{MODULES.shootingcourse01rearwall,
			MODULES.sp01cover},
			"levels\\multi\\academy_weapon_drills\\sidearm_01",
			"dcdcbcfb-f981-4e0f-b780-87dbab8f2c56",
			{9000, 10000},
			sideArm,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"sp01_target"},
			{"sp01_target_01"},
			{"sp01_target_02"},
			{"sp01_target_03"},
			{"sp01_target_04"},
			{"sp01_target_05"},
			{"sp01_target_06"}}),

		MakeChallengeInitArg(
			"academy_sp_drill_02",
			"academy_drill_02_desc",
			{MODULES.cshotguncourse01cover,
			MODULES.sp02cover},
			"levels\\multi\\academy_weapon_drills\\sidearm_02",
			"9c63273e-aa05-478a-baf9-b33b90c7e9c8",
			{9000, 10000},
			sideArm,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"sp02_target",
			"sp02_target_03",
			"sp02_target_04"},
			{"sp02_target_01",
			"sp02_target_02",
			"sp02_target_05",
			"sp02_target_06"}}),

			MakeChallengeInitArg(
			"academy_sp_drill_03",
			"academy_drill_03_desc",
			{MODULES.shootingcrcoursewallpluscolumns,},
			"levels\\multi\\academy_weapon_drills\\sidearm_03",
			"b0e42792-78b4-4511-b755-43c649f8d671",
			{9000, 10000},
			sideArm,
			AcademyChallengeTypeEnum.medCountdown,
			{{"sp03_target"},
			{"sp03_target_01"},
			{"sp03_target_02"},
			{"sp03_target_03"},
			{"sp03_target_04"},
			{"sp03_target_05"},
			{"sp03_target_06"},
			{"sp03_target_07"}}),
--
		MakeChallengeInitArg(
			"academy_az_drill_01",
			"academy_drill_01_desc",
			{MODULES.arczapperwall,
			MODULES.az01cover},
			"levels\\multi\\academy_weapon_drills\\arc_zapper_01",
			"deba84ec-093f-4520-878c-e64a5945d7a8",
			{8000, 10000},
			arcZapper,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"az01_target_07",
			"az01_target_08",
			"az01_target_09"},
			{"az01_target_01",
			"az01_target_04",
			"az01_target_06"},
			{"az01_target_02",
			"az01_target_03",
			"az01_target_05"}}),
--
		MakeChallengeInitArg(
			"academy_az_drill_02",
			"academy_drill_02_desc",
			{MODULES.arczapperwall,
			MODULES.az02cover},
			"levels\\multi\\academy_weapon_drills\\arc_zapper_02",
			"acddf3d6-3849-4a5d-8e4e-8bf3f4eb78ac",
			{8500, 10000},
			arcZapper,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"az02_target",
				"az02_static_target"},
			{"az02_target_01",
				"az02_static_target_01",
				"az02_static_target_01_01"},
			{"az02_target_02",
				"az02_static_target_02"},
			{"az02_target_03",
				"az02_static_target_03",
				"az02_static_target_03_01",
				"az02_static_target_03_02",}}),
--
		MakeChallengeInitArg(
			"academy_az_drill_03",
			"academy_drill_03_desc",
			{MODULES.arczapperwall,
			MODULES.az03cover},
			"levels\\multi\\academy_weapon_drills\\arc_zapper_03",
			"4accfb7a-93a6-447e-94b7-e7894463721b",
			{10000, 12000},
			arcZapper,
			AcademyChallengeTypeEnum.medCountdown,
			{{"az03_target",
				"az03_target_03"},
			{"az03_target_01",
				"az03_target_06",
				"az03_target_09"},
			{"az03_target_02",
				"az03_target_05",
				"az03_target_08"},
			{"az03_target_04",
				"az03_target_07"}}),

		MakeChallengeInitArg(
			"academy_hw_drill_01",
			"academy_drill_01_desc",
			{MODULES.heatwavewallpluscover,
			MODULES.hw01cover},
			"levels\\multi\\academy_weapon_drills\\heatwave_01",
			"2ed944bb-a730-4ad6-ad55-79060748e954",
			{13000, 17000},
			cinderShot,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"hw01_target",
			"hw01_target_02"},
			{"hw01_target_01",
			"hw01_target_03"},
			{"hw01_target_04",
			"hw01_target_05",
			"hw01_target_06"}}),

		MakeChallengeInitArg(
			"academy_hw_drill_02",
			"academy_drill_02_desc",
			{MODULES.shootingcourse01rearwall,
			MODULES.hw02cover},
			"levels\\multi\\academy_weapon_drills\\heatwave_02",
			"6f1dd4a5-1996-49ea-a37e-fba456fb3b1a",
			{16000, 20000},
			cinderShot,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"hw02_target",
			"hw02_target_01",
			"hw02_target_02",
			"hw02_target_03",
			"hw02_target_04",
			"hw02_target_05",
			"hw02_target_06"},
			{"hw02_target_07",
			"hw02_target_08",
			"hw02_target_09"}}),

		MakeChallengeInitArg(
			"academy_hw_drill_03",
			"academy_drill_03_desc",
			{MODULES.heatwavewallpluscover,},
			"levels\\multi\\academy_weapon_drills\\heatwave_03",
			"ae9a9cee-7558-4d18-a651-c893d52e217a",
			{10000, 12000},
			cinderShot,
			AcademyChallengeTypeEnum.medCountdown,
			{{"hw03_target"},
			{"hw03_target_01"},
			{"hw03_target_02"},
			{"hw03_target_03"},
			{"hw03_target_04"},
			{"hw03_target_05"}}),

		MakeChallengeInitArg(
			"academy_pp_drill_01",
			"academy_drill_01_desc",
			{MODULES.shootingcourse01rearwall,
			MODULES.pp01cover},
			"levels\\multi\\academy_weapon_drills\\plasma_pistol_01",
			"b43b3064-4c24-431f-9eea-799e7381f502",
			{8000, 9000},
			plasmaPistol,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"pp01_target"},
			{"pp01_target_01"},
			{"pp01_target_02"},
			{"pp01_target_03"},
			{"pp01_target_04"},
			{"pp01_target_05"}}),

		MakeChallengeInitArg(
			"academy_pp_drill_02",
			"academy_drill_02_desc",
			{MODULES.shootingcourse01rearwall,
			MODULES.pp02cover},
			"levels\\multi\\academy_weapon_drills\\plasma_pistol_02",
			"19db5e6e-8d07-45ba-a7a6-4231eb2e1204",
			{6500, 7000},
			plasmaPistol,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"pp02_target"},
			{"pp02_target_01"},
			{"pp02_target_02"},
			{"pp02_target_03"},
			{"pp02_target_04"},
			{"pp02_target_05"}}),

		MakeChallengeInitArg(
			"academy_pp_drill_03",
			"academy_drill_03_desc",
			{MODULES.shootingcourse01rearwall,
			MODULES.pp03cover},
			"levels\\multi\\academy_weapon_drills\\plasma_pistol_03",
			"59fa5f7b-3d55-44c0-af3c-c8f0db1aa161",
			{8000, 9000},
			plasmaPistol,
			AcademyChallengeTypeEnum.medCountdown,
			{{"pp03_target"},
			{"pp03_target_01"},
			{"pp03_target_02"},
			{"pp03_target_03"},
			{"pp03_target_04"},
			{"pp03_target_05"},
			{"pp03_target_06"},
			{"pp03_target_07"},
			{"pp03_target_08"}}),

			MakeChallengeInitArg(
			"academy_hl_drill_01",
			"academy_drill_01_desc",
			{MODULES.hydra_01_props},
			"levels\\multi\\academy_weapon_drills\\hydra_launcher_01",
			"950f963b-24d3-4936-8a45-1ab949e29a56",
			{20000, 28000},
			hydraLauncher,
			AcademyChallengeTypeEnum.medCountdown,
			{{"hl01_target_01",
			"hl01_target_02",
			"hl01_target_03",
			"hl01_target_12",
			"hl01_target_13"},
			{"hl01_target_04",
			"hl01_target_05",
			"hl01_target_06",			
			"hl01_target_10"},
			{"hl01_target_07",
			"hl01_target_08",
			"hl01_target_09",			
			"hl01_target_11"}}),

		MakeChallengeInitArg(
			"academy_hl_drill_02",
			"academy_drill_02_desc",
			{MODULES.hydra_02_props},
			"levels\\multi\\academy_weapon_drills\\hydra_launcher_02",
			"32953205-4811-4ec6-b3b2-cd648092c3f0",
			{12000, 16000},
			hydraLauncher,
			AcademyChallengeTypeEnum.medCountdown,
			{{"hl02_target_04",
			"hl02_target_05",
			"hl02_target_01",
			"hl02_target_02",
			"hl02_target_03",
			"hl02_target_06",
			"hl02_target_07"}}),

			MakeChallengeInitArg(
			"academy_hl_drill_03",
			"academy_drill_03_desc",
			{MODULES.voltactionrearwall,
			MODULES.hydra03cover},
			"levels\\multi\\academy_weapon_drills\\hydra_launcher_03",
			"c456bcd2-771f-4e1c-a3d9-97c8b656c093",
			{8000, 9000},
			hydraLauncher,
			AcademyChallengeTypeEnum.medCountdown,
			{{"hl03_target_01",
			"hl03_target_02",
			"hl03_target_03"},
			{"hl03_target_04",
			"hl03_target_05",
			"hl03_target_06"},
			{"hl03_target_07",
			"hl03_target_08",
			"hl03_target_09"},
			{"hl03_target_10",
			"hl03_target_11",
			"hl03_target_12"},
			{"hl03_target_13",
			"hl03_target_14",
			"hl03_target_15"},
			{"hl03_target_16",
			"hl03_target_17",
			"hl03_target_18",},
			{"hl03_target_19",
			"hl03_target_20",
			"hl03_target_21"}}),

			MakeChallengeInitArg(
			"academy_sr_drill_01",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.deployablecoverfar,
			MODULES.sr01cover},
			"levels\\multi\\academy_weapon_drills\\sniper_rifle_01",
			"388d803e-3ba0-481d-9f93-aaedce7e465c",
			{18000, 24000},
			sniperRifle,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"sr1_target_01"},
			{"sr1_target_02"},
			{"sr1_target_03"},
			{"sr1_target_04"},
			{"sr1_target_05"},
			{"sr1_target_06"}}),

		MakeChallengeInitArg(
			"academy_sr_drill_02",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.sr02cover,},
			"levels\\multi\\academy_weapon_drills\\sniper_rifle_02",
			"38c4bb75-3102-4a0e-a95a-8e920fab5758",
			{12000, 16000},
			sniperRifle,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"sr2_target_01",
			"sr2_target_07"},	
			{"sr2_target_02",
			"sr2_target_08"},
			{"sr2_target_03",
			"sr2_target_09"},
			{"sr2_target_04"},
			{"sr2_target_05",
			"sr2_target_10"},
			{"sr2_target_06"}}),

		MakeChallengeInitArg(
			"academy_sr_drill_03",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.deployablecoverfar,},
			"levels\\multi\\academy_weapon_drills\\sniper_rifle_03",
			"e44bfe6e-9e62-4b5e-818a-4d5571d0293c",
			{7000, 8500},
			sniperRifle,
			AcademyChallengeTypeEnum.medCountdown,
			{{"sr3_target_01",
			"sr3_target_07"},
			{"sr3_target_02"},
			{"sr3_target_03",
			"sr3_target_08"},
			{"sr3_target_04"},
			{"sr3_target_05"},
			{"sr3_target_06",
			"sr3_target_09"}}),

		MakeChallengeInitArg(
			"academy_pb_drill_01",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.pb01cover,},
			"levels\\multi\\academy_weapon_drills\\plasma_blaster_01",
			"821c77d5-378a-4dc4-9b60-b384a4bd2b90",
			{8500, 10000},
			plasmaBlaster,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"pb1_target_01"},
			{"pb1_target_02"},
			{"pb1_target_03"},
			{"pb1_target_04"},
			{"pb1_target_05"},
			{"pb1_target_06"}}),

		MakeChallengeInitArg(
			"academy_pb_drill_02",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.pb02cover,},
			"levels\\multi\\academy_weapon_drills\\plasma_blaster_02",
			"ea497ced-c773-468c-b0bb-59cd39880211",
			{6500, 8000},
			plasmaBlaster,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"pb2_target_01",
			"pb2_target_07"},	
			{"pb2_target_02",
			"pb2_target_08"},
			{"pb2_target_03",
			"pb2_target_09"},
			{"pb2_target_04"},
			{"pb2_target_05",
			"pb2_target_10"},
			{"pb2_target_06"}}),

		MakeChallengeInitArg(
			"academy_pb_drill_03",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.deployablecoverfar,},
			"levels\\multi\\academy_weapon_drills\\plasma_blaster_03",
			"b77f57e0-415d-4e3f-ac14-06f5801eac35",
			{9000, 11500},
			plasmaBlaster,
			AcademyChallengeTypeEnum.medCountdown,
			{{"pb3_target_01",
			"pb3_target_07"},
			{"pb3_target_02"},
			{"pb3_target_03",
			"pb3_target_08"},
			{"pb3_target_04"},
			{"pb3_target_05"},
			{"pb3_target_06",
			"pb3_target_09"}}),

		MakeChallengeInitArg(
			"academy_hr_drill_01",
			"academy_drill_gen_desc",
			{MODULES.shootingcourse01rearwall,
			MODULES.hrstationarycover,},
			"levels\\multi\\academy_weapon_drills\\hot_rod_01",
			"4f6c2133-609d-4448-b2ab-a3b1acbd0551",
			{18000, 24000},
			heatWave,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"hr1_target_01"},
			{"hr1_target_02"},
			{"hr1_target_03"},
			{"hr1_target_04",
			"hr1_target_05"},
			{"hr1_target_06"}}),

		MakeChallengeInitArg(
			"academy_hr_drill_02",
			"academy_drill_gen_desc",
			{MODULES.shootingcourse01rearwall,
			MODULES.hrsetpathcover,},
			"levels\\multi\\academy_weapon_drills\\hot_rod_02",
			"7fe19b87-d2ad-4c71-8685-3207eb67a405",
			{13500, 16000},
			heatWave,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"hr2_target_01",
			"hr2_target_06"},	
			{"hr2_target_02",
			"hr2_target_05"},
			{"hr2_target_03",
			"hr2_target_04"}}),

		MakeChallengeInitArg(
			"academy_hr_drill_03",
			"academy_drill_gen_desc",
			{MODULES.shootingcourse01rearwall,
			MODULES.hrsetpathcover,},
			"levels\\multi\\academy_weapon_drills\\hot_rod_03",
			"5a072c56-a6bc-4188-8da7-1ec8af4694ef",
			{8500, 12000},
			heatWave,
			AcademyChallengeTypeEnum.medCountdown,
			{{"hr3_target_01",
			"hr3_target_06"},	
			{"hr3_target_02",
			"hr3_target_05"},
			{"hr3_target_03",
			"hr3_target_04"}}),

		MakeChallengeInitArg(
			"academy_sk_drill_01",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.sk01cover,},
			"levels\\multi\\academy_weapon_drills\\skewer_01",
			"9406af8b-4143-4d72-a875-3a1536368aef",
			{9000, 10000},
			skewer,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"sk1_target_01",
			"sk1_target_02"},
			{"sk1_target_03"},
			{"sk1_target_05",
			"sk1_target_07"},
			{"sk1_target_06"},
			{"sk1_target_09"},
			{"sk1_target_04",
			"sk1_target_08"}}),

		MakeChallengeInitArg(
			"academy_sk_drill_02",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.sk02cover,},
			"levels\\multi\\academy_weapon_drills\\skewer_02",
			"b89afc31-6a6f-4976-981e-197f090d2ec6",
			{3500, 5000},
			skewer,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"sk2_target_01"},
			{"sk2_target_02"},	
			{"sk2_target_05"},
			{"sk2_target_04"},
			{"sk2_target_03"},
			{"sk2_target_06"}}),

		MakeChallengeInitArg(
			"academy_sk_drill_03",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.sk03cover,},
			"levels\\multi\\academy_weapon_drills\\skewer_03",
			"2b6f6c2f-1bea-4e9a-afac-0d0cf27ab663",
			{6000, 10000},
			skewer,
			AcademyChallengeTypeEnum.medCountdown,
			{{"sk3_target_01"},
			{"sk3_target_02"},	
			{"sk3_target_05"},
			{"sk3_target_04"},
			{"sk3_target_03"},
			{"sk3_target_06"}}),

		MakeChallengeInitArg(
			"academy_rl_drill_01",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.rl01cover,},
			"levels\\multi\\academy_weapon_drills\\rocket_launcher_01",
			"b475fce5-9d67-44b6-9140-4bb89f350d69",
			{12000, 15000},
			rocketLauncher,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"rl1_target_01",
			"rl1_target_02",
			"rl1_target_03",
			"rl1_target_04",
			"rl1_target_05",
			"rl1_target_06"},
			{"rl1_target_07",
			"rl1_target_08",
			"rl1_target_09",
			"rl1_target_10",
			"rl1_target_11",
			"rl1_target_12"},
			{"rl1_target_13",
			"rl1_target_14",
			"rl1_target_24",
			"rl1_target_25"},
			{"rl1_target_15",
			"rl1_target_16",
			"rl1_target_17",
			"rl1_target_21",
			"rl1_target_22",
			"rl1_target_23"},
			{"rl1_target_24",
			"rl1_target_25",
			"rl1_target_18",
			"rl1_target_19",
			"rl1_target_20"},
			{"rl1_target_26",
			"rl1_target_27",
			"rl1_target_28",
			"rl1_target_29",
			"rl1_target_30",
			"rl1_target_31"}}),

		MakeChallengeInitArg(
			"academy_rl_drill_02",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.rl02cover,},
			"levels\\multi\\academy_weapon_drills\\rocket_launcher_02",
			 "97ad5ad8-2c16-44c7-a605-1f6e9fbecf64",
			{8000, 10000},
			rocketLauncher,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"rl2_target_01",
			"rl2_target_02",
			"rl2_target_03",
			"rl2_target_04"},
			{"rl2_target_05",
			"rl2_target_06",
			"rl2_target_07",
			"rl2_target_08"},
			{"rl2_target_09",
			"rl2_target_10",
			"rl2_target_11",
			"rl2_target_12"},
			{"rl2_target_09",
			"rl2_target_10",
			"rl2_target_13",
			"rl2_target_14"}}),

		MakeChallengeInitArg(
			"academy_rl_drill_03",
			"academy_drill_gen_desc",
			{MODULES.arczapperwall,
			MODULES.rl03cover,},
			"levels\\multi\\academy_weapon_drills\\rocket_launcher_03",
			"93bd3615-64d1-4e43-919f-1efb9d7b1029",
			{10000, 12000},
			rocketLauncher,
			AcademyChallengeTypeEnum.medCountdown,
			{{"rl3_target_03",
				"rl3_target_12"},
			{"rl3_target_02",
				"rl3_target_08"},	
			{"rl3_target_04",
				"rl3_target_05",
				"rl3_target_07"},
			{"rl3_target_03",
				"rl3_target_10"},
			{"rl3_target_01",
				"rl3_target_11",
				"rl3_target_09",
				"rl3_target_06"}}),

		MakeChallengeInitArg(
			"academy_nd_drill_01",
			"academy_drill_gen_desc",
			{MODULES.shootingcourse01rearwall,
			MODULES.need01cover,},
			"levels\\multi\\academy_weapon_drills\\needler_01",
			"79299d37-1a03-48ce-a9b7-f124d097cfa0",
			{10000, 12500},
			needler,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"nd1_target_01",
			"nd1_target_02",
			"nd1_target_03"},
			{"nd1_target_05",
			"nd1_target_07"},
			{"nd1_target_06"},
			{"nd1_target_09"},
			{"nd1_target_04",
			"nd1_target_08"}}),
	
		MakeChallengeInitArg(
			"academy_nd_drill_02",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.need02cover,},
			"levels\\multi\\academy_weapon_drills\\needler_02",
			"9c019cae-6408-4401-a2f3-775e9a9d4995",
			{7500, 10000},
			needler,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"nd2_target_01"},
			{"nd2_target_02"},	
			{"nd2_target_05"},
			{"nd2_target_04"},
			{"nd2_target_03"},
			{"nd2_target_06"}}),

		MakeChallengeInitArg(
			"academy_nd_drill_03",
			"academy_drill_gen_desc",
			{MODULES.shootingcourse01rearwall,
			MODULES.ndcover,},
			"levels\\multi\\academy_weapon_drills\\needler_03",
			"fc3252e0-2c4c-4f89-875a-470d80cfcb1e",
			{11000, 15000},
			needler,
			AcademyChallengeTypeEnum.medCountdown,
			{{"nd3_target_01"},
			{"nd3_target_02"},	
			{"nd3_target_05"},
			{"nd3_target_04"},
			{"nd3_target_03"},
			{"nd3_target_06"}}),

		MakeChallengeInitArg(
			"academy_sprev_drill_01",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.spike01cover,},
			"levels\\multi\\academy_weapon_drills\\spike_revolver_01",
			"31cd4723-9b1b-4143-87e7-7e4afda3e3db",
			{9000, 10000},
			spikeRevolver,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"spike1_target_01",
			"spike1_target_02",
			"spike1_target_03"},
			{"spike1_target_05",
			"spike1_target_07"},
			{"spike1_target_06"},
			{"spike1_target_09"},
			{"spike1_target_04",
			"spike1_target_08"}}),

		MakeChallengeInitArg(
			"academy_sprev_drill_02",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.spike02cover,},
			"levels\\multi\\academy_weapon_drills\\spike_revolver_02",
			 "7b7b2cf6-7b31-4834-829d-d9f45fcc8014",
			{4000, 6000},
			spikeRevolver,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"spike2_target_01"},
			{"spike2_target_02"},	
			{"spike2_target_05"},
			{"spike2_target_04"},
			{"spike2_target_03"},
			{"spike2_target_06"}}),

		MakeChallengeInitArg(
			"academy_sprev_drill_03",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.spike03cover,},
			"levels\\multi\\academy_weapon_drills\\spike_revolver_03",
			"4b3fc9b9-ab07-4f56-ac93-edaf393fdc1a",
			{10000, 12000},
			spikeRevolver,
			AcademyChallengeTypeEnum.medCountdown,
			{{"spike3_target_01",
			"spike3_target_02",	
			"spike3_target_05"},
			{"spike3_target_06",
			"spike3_target_02",	
			"spike3_target_04"},
			{"spike3_target_04",
			"spike3_target_03",
			"spike3_target_06"}}),

		MakeChallengeInitArg(
			"academy_sm_drill_01",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.prov01cover,},
			"levels\\multi\\academy_weapon_drills\\provoker_01",
			"942959d6-3a01-4a79-a788-ac8eb39f0ffb",
			{10000, 12000},
			provoker,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"sm1_target_01",
			"sm1_target_02",
			"sm1_target_03"},
			{"sm1_target_05",
			"sm1_target_07"},
			{"sm1_target_06"},
			{"sm1_target_09"},
			{"sm1_target_04",
			"sm1_target_08"}}),

		MakeChallengeInitArg(
			"academy_sm_drill_02",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.prov02cover,},
			"levels\\multi\\academy_weapon_drills\\provoker_02",
			"c45bfab4-37fd-43ea-96ad-7b64700e34bc",
			{4000, 8000},
			provoker,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"sm2_target_01"},
			{"sm2_target_02"},	
			{"sm2_target_03"},
			{"sm2_target_04"},
			{"sm2_target_05"},
			{"sm2_target_06"},
			{"sm2_target_07"},
			{"sm2_target_08"}}),

		MakeChallengeInitArg(
			"academy_sm_drill_03",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.ndcover,},
			"levels\\multi\\academy_weapon_drills\\provoker_03",
			"fae6c409-a9c2-4d9d-8ab1-bc1338d32691",
			{10000, 12000},
			provoker,
			AcademyChallengeTypeEnum.medCountdown,
			{{"sm3_target_01"},
			{"sm3_target_02"},	
			{"sm3_target_05"},
			{"sm3_target_04"},
			{"sm3_target_03"},
			{"sm3_target_06"}}),

		MakeChallengeInitArg(
			"academy_sb_drill_01",
			"academy_drill_gen_desc",
			{MODULES.arczapperwall,
			MODULES.sb01cover,},
			"levels\\multi\\academy_weapon_drills\\sentinel_beam_01",
			"8f236f49-dfe5-44d2-85d0-8a1c7078425f",
			{22000, 28000},
			sentinelBeam,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"sb1_target_01",
			"sb1_target_04",
			"sb1_target_08"},
			{"sb1_target_05",
			"sb1_target_01"},
			{"sb1_target_02",
			"sb1_target_03"},
			{"sb1_target_02",
			"sb1_target_06"},
			{"sb1_target_09",
			"sb1_target_07",
			"sb1_target_01"}}),

		MakeChallengeInitArg(
			"academy_sb_drill_02",
			"academy_drill_gen_desc",
			{MODULES.arczapperwall,
			MODULES.sb02cover,},
			"levels\\multi\\academy_weapon_drills\\sentinel_beam_02",
			"6f5be767-ad25-4ce1-ac55-eaa75ac631c7",
			{8500, 12000},
			sentinelBeam,
			AcademyChallengeTypeEnum.shortCountdown,
			{{"sb2_target_01",
			"sb2_target_08",
			"sb2_target_09"},
			{"sb2_target_02",
			"sb2_target_07",
			"sb2_target_08"},	
			{"sb2_target_05",
			"sb2_target_09"},
			{"sb2_target_04",
			"sb2_target_07",
			"sb2_target_09"},
			{"sb2_target_03",
			"sb2_target_07"},
			{"sb2_target_06",
			"sb2_target_07"}}),

		MakeChallengeInitArg(
			"academy_sb_drill_03",
			"academy_drill_gen_desc",
			{MODULES.voltactionrearwall,
			MODULES.sb03cover,},
			"levels\\multi\\academy_weapon_drills\\sentinel_beam_03",
			"04f1f2a4-183f-4fd6-af6f-924d0f35d2ac",
			{7500, 10000},
			sentinelBeam,
			AcademyChallengeTypeEnum.medCountdown,
			{{"sb3_target_01",
			"sb3_target_04"},	
			{"sb3_target_02",
			"sb3_target_05"},
			{"sb3_target_03",
			"sb3_target_06"}}),
	};

	local selectedChallenges = {};
	local challengeSelected:boolean = false;

	-- Filter, since we only want to start the init for 1 weapon.
	for index, challenge in ipairs(challengeTable) do
		-- For iteration and launching via HL, MapVariant_GetName() works, but asset Ids are how the game launches specific map variants in release
		if ((MapVariant_GetName() == challenge.mapVariant) or (challenge.mapVariantAssetId == MapVariant_GetAssetId())) then
			selectedChallenges[index] = challenge;
			challengeSelected = true;
		end
	end

	-- If no init preference matches potential challenges, then just pick the first one.
	if challengeSelected == false then
		dprint("Default challenge selected");
		table.insert(selectedChallenges, challengeTable[1]);
	end

	return selectedChallenges;
end

--## CLIENT

function remoteClient.cl_CreateEnemyOutline(unit:object)
	Outline_AssignTagToObject(unit, TAG('globals\outlines\default_enemy_outline.outlinetypedefinition'));

	SleepUntil([| unit_get_health(unit) <= 0 ], 1);
	Outline_RemoveFromObject(unit);
end
