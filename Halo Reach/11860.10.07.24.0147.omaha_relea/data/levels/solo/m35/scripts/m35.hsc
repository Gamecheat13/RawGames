; Decompiled with Assembly
; 
; Source file: m35.hsc
; Start time: 2018-02-05 12:53:40 PM
; 
; Remember that all script code is property of Bungie/343 Industries.
; You have no rights. Play nice.

; Globals
(global boolean b_debug_fork true)
(global boolean b_debug_pelican true)
(global boolean b_debug_phantom false)
(global boolean b_debug_globals false)
(global short player_00 0)
(global short player_01 1)
(global short player_02 2)
(global short player_03 3)
(global short s_md_play_time 0)
(global string data_mine_mission_segment "")
(global boolean b_debug_cinematic_scripts true)
(global boolean b_cinematic_entered false)
(global sound sfx_a_button none)
(global sound sfx_b_button none)
(global sound sfx_hud_in none)
(global sound sfx_hud_out none)
(global sound sfx_objective none)
(global sound sfx_tutorial_complete "sound\game_sfx\ui\pda_transition.sound")
(global sound sfx_blip "sound\game_sfx\ui\transition_beeps")
(global object_list l_blip_list (players))
(global boolean b_blip_list_locked false)
(global short s_blip_list_index 0)
(global short blip_neutralize 0)
(global short blip_defend 1)
(global short blip_ordnance 2)
(global short blip_interface 3)
(global short blip_recon 4)
(global short blip_recover 5)
(global short blip_structure 6)
(global short blip_neutralize_alpha 7)
(global short blip_neutralize_bravo 8)
(global short blip_neutralize_charlie 9)
(global short blip_ammo 13)
(global short blip_hostile_vehicle 14)
(global short blip_hostile 15)
(global short blip_default_a 17)
(global short blip_default_b 18)
(global short blip_default_c 19)
(global short blip_default_d 20)
(global short blip_default 21)
(global short blip_destination 21)
(global boolean b_is_dialogue_playing false)
(global boolean g_music01 false)
(global boolean g_music02 false)
(global boolean g_music03 false)
(global boolean g_music04 false)
(global boolean g_music05 false)
(global boolean g_music06 false)
(global boolean g_music_ins false)
(global boolean editor_cinematics false)
(global boolean editor_object_management false)
(global boolean g_play_cinematics true)
(global boolean g_player_training true)
(global boolean debug true)
(global boolean dialogue true)
(global boolean g_music true)
(global short g_insertion_index 0)
(global object obj_kat none)
(global object obj_jorge none)
(global short g_hill_obj_control 0)
(global short g_twin_obj_control 0)
(global short g_facility_obj_control 0)
(global short g_cannon_obj_control 0)
(global short g_falcon_obj_control 0)
(global short g_spire_obj_control 0)
(global short b_waypoint_time (* 30 120))
(global boolean g_player_on_foot false)
(global boolean g_facility_zealot_escaped false)
(global boolean g_bfg01_destroyed false)
(global boolean g_bfg01_core_destroyed false)
(global boolean g_bfg02_destroyed false)
(global boolean g_bfg02_core_destroyed false)
(global boolean g_longswords01_clear false)
(global short g_frigate_position 0)
(global short g_player_start_pitch 65520)
(global boolean g_null false)
(global real g_nav_offset 0.55)
(global boolean g_e3 true)
(global short g_twin_banshee 0)
(global object obj_zealot none)
(global boolean g_falcon_crash false)
(global short g_bob_number 0)
(global ai v_hog_control none)

; Scripts
(script static void (f_load_fork (vehicle fork, string load_side, ai load_squad_01, ai load_squad_02, ai load_squad_03, ai load_squad_04))
    (ai_place load_squad_01)
    (ai_place load_squad_02)
    (ai_place load_squad_03)
    (ai_place load_squad_04)
    (sleep 1)
    (if (= load_side "left")
        (begin
            (if b_debug_fork
                (print "load fork left...")
            )
            (ai_vehicle_enter_immediate load_squad_01 fork 0)
            (ai_vehicle_enter_immediate load_squad_02 fork 0)
            (ai_vehicle_enter_immediate load_squad_03 fork 0)
            (ai_vehicle_enter_immediate load_squad_04 fork 0)
        )
        (if (= load_side "right")
            (begin
                (if b_debug_fork
                    (print "load fork right...")
                )
                (ai_vehicle_enter_immediate load_squad_01 fork 1)
                (ai_vehicle_enter_immediate load_squad_02 fork 1)
                (ai_vehicle_enter_immediate load_squad_03 fork 1)
                (ai_vehicle_enter_immediate load_squad_04 fork 1)
            )
            (if (= load_side "dual")
                (begin
                    (if b_debug_fork
                        (print "load fork dual...")
                    )
                    (ai_vehicle_enter_immediate load_squad_01 fork 0)
                    (ai_vehicle_enter_immediate load_squad_02 fork 0)
                    (ai_vehicle_enter_immediate load_squad_03 fork 1)
                    (ai_vehicle_enter_immediate load_squad_04 fork 1)
                )
                (if (= load_side "any")
                    (begin
                        (if b_debug_fork
                            (print "load fork any...")
                        )
                        (ai_vehicle_enter_immediate load_squad_01 fork 2)
                        (ai_vehicle_enter_immediate load_squad_02 fork 2)
                        (ai_vehicle_enter_immediate load_squad_03 fork 2)
                        (ai_vehicle_enter_immediate load_squad_04 fork 2)
                    )
                )
            )
        )
    )
)

(script static void (f_load_fork_cargo (vehicle fork, string load_type, ai load_squad_01, ai load_squad_02, ai load_squad_03))
    (if (= load_type "large")
        (begin
            (ai_place load_squad_01)
            (sleep 1)
            (vehicle_load_magic fork 3 (ai_vehicle_get_from_squad load_squad_01 0))
        )
        (if (= load_type "small")
            (begin
                (ai_place load_squad_01)
                (ai_place load_squad_02)
                (ai_place load_squad_03)
                (sleep 1)
                (vehicle_load_magic fork 4 (ai_vehicle_get_from_squad load_squad_01 0))
                (vehicle_load_magic fork 5 (ai_vehicle_get_from_squad load_squad_02 0))
                (vehicle_load_magic fork 6 (ai_vehicle_get_from_squad load_squad_03 0))
            )
        )
    )
)

(script static void (f_unload_fork (vehicle fork, string drop_side))
    (if b_debug_fork
        (print "opening fork...")
    )
    (unit_open fork)
    (sleep 30)
    (if (= drop_side "left")
        (begin
            (f_unload_fork_left fork)
            (sleep 75)
        )
        (if (= drop_side "right")
            (begin
                (f_unload_fork_right fork)
                (sleep 75)
            )
            (if (= drop_side "dual")
                (begin
                    (f_unload_fork_all fork)
                    (sleep 75)
                )
            )
        )
    )
    (if b_debug_fork
        (print "closing fork...")
    )
    (unit_close fork)
)

(script static void (f_unload_fork_left (vehicle fork))
    (begin_random
        (begin
            (vehicle_unload fork 7)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 8)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 9)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 10)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 11)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 12)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 13)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 14)
            (sleep (random_range 0 10))
        )
    )
)

(script static void (f_unload_fork_right (vehicle fork))
    (begin_random
        (begin
            (vehicle_unload fork 15)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 16)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 17)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 18)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 19)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 20)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 21)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 22)
            (sleep (random_range 0 10))
        )
    )
)

(script static void (f_unload_fork_all (vehicle fork))
    (begin_random
        (begin
            (vehicle_unload fork 7)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 8)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 9)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 10)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 11)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 12)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 13)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 14)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 15)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 16)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 17)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 18)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 19)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 20)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 21)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload fork 22)
            (sleep (random_range 0 10))
        )
    )
)

(script static void (f_unload_fork_cargo (vehicle fork, string load_type))
    (if (= load_type "large")
        (vehicle_unload fork 3)
        (if (= load_type "small")
            (begin_random
                (begin
                    (vehicle_unload fork 4)
                    (sleep (random_range 15 30))
                )
                (begin
                    (vehicle_unload fork 5)
                    (sleep (random_range 15 30))
                )
                (begin
                    (vehicle_unload fork 6)
                    (sleep (random_range 15 30))
                )
            )
            (if (= load_type "small01")
                (vehicle_unload fork 4)
                (if (= load_type "small02")
                    (vehicle_unload fork 5)
                    (if (= load_type "small03")
                        (vehicle_unload fork 6)
                    )
                )
            )
        )
    )
)

(script static void f_hud_obj_complete
    (objectives_clear)
    (chud_show_screen_objective "campaign_hud_objcomplete")
    (sleep 160)
    (chud_show_screen_objective "")
)

(script static void (f_load_pelican (vehicle pelican, string load_side, ai load_squad_01, ai load_squad_02))
    (ai_place load_squad_01)
    (ai_place load_squad_02)
    (sleep 1)
    (if (= load_side "left")
        (begin
            (if b_debug_pelican
                (print "load pelican left...")
            )
            (ai_vehicle_enter_immediate load_squad_01 pelican 23)
        )
        (if (= load_side "right")
            (begin
                (if b_debug_pelican
                    (print "load pelican right...")
                )
                (ai_vehicle_enter_immediate load_squad_01 pelican 24)
            )
            (if (= load_side "dual")
                (begin
                    (if b_debug_pelican
                        (print "load pelican dual...")
                    )
                    (ai_vehicle_enter_immediate load_squad_01 pelican 23)
                    (ai_vehicle_enter_immediate load_squad_02 pelican 24)
                )
            )
        )
    )
)

(script static void (f_unload_pelican_all (vehicle pelican))
    (unit_open pelican)
    (sleep 60)
    (begin_random
        (begin
            (vehicle_unload pelican 25)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload pelican 26)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload pelican 27)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload pelican 28)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload pelican 29)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload pelican 30)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload pelican 31)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload pelican 32)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload pelican 33)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload pelican 34)
            (sleep (random_range 0 10))
        )
    )
)

(script static void (f_load_pelican_cargo (vehicle pelican, string load_type, ai load_squad_01, ai load_squad_02))
    (if (= load_type "large")
        (begin
            (ai_place load_squad_01)
            (sleep 1)
            (vehicle_load_magic pelican 35 (ai_vehicle_get_from_squad load_squad_01 0))
        )
        (if (= load_type "small")
            (begin
                (ai_place load_squad_01)
                (ai_place load_squad_02)
                (sleep 1)
            )
        )
    )
)

(script static void (f_unload_pelican_cargo (vehicle pelican, string load_type))
    (if (= load_type "large")
        (vehicle_unload pelican 35)
        (if (= load_type "small")
            (begin_random
                (begin
                    (sleep (random_range 15 30))
                )
                (begin
                    (sleep (random_range 15 30))
                )
            )
        )
    )
)

(script static void (f_load_phantom (vehicle phantom, string load_side, ai load_squad_01, ai load_squad_02, ai load_squad_03, ai load_squad_04))
    (ai_place load_squad_01)
    (ai_place load_squad_02)
    (ai_place load_squad_03)
    (ai_place load_squad_04)
    (sleep 1)
    (if (= load_side "left")
        (begin
            (if b_debug_phantom
                (print "load phantom left...")
            )
            (ai_vehicle_enter_immediate load_squad_01 phantom 36)
            (ai_vehicle_enter_immediate load_squad_02 phantom 37)
            (ai_vehicle_enter_immediate load_squad_03 phantom 38)
            (ai_vehicle_enter_immediate load_squad_04 phantom 39)
        )
        (if (= load_side "right")
            (begin
                (if b_debug_phantom
                    (print "load phantom right...")
                )
                (ai_vehicle_enter_immediate load_squad_01 phantom 40)
                (ai_vehicle_enter_immediate load_squad_02 phantom 41)
                (ai_vehicle_enter_immediate load_squad_03 phantom 42)
                (ai_vehicle_enter_immediate load_squad_04 phantom 43)
            )
            (if (= load_side "dual")
                (begin
                    (if b_debug_phantom
                        (print "load phantom dual...")
                    )
                    (ai_vehicle_enter_immediate load_squad_01 phantom 37)
                    (ai_vehicle_enter_immediate load_squad_02 phantom 41)
                    (ai_vehicle_enter_immediate load_squad_03 phantom 36)
                    (ai_vehicle_enter_immediate load_squad_04 phantom 40)
                )
                (if (= load_side "any")
                    (begin
                        (if b_debug_phantom
                            (print "load phantom any...")
                        )
                        (ai_vehicle_enter_immediate load_squad_01 phantom 44)
                        (ai_vehicle_enter_immediate load_squad_02 phantom 44)
                        (ai_vehicle_enter_immediate load_squad_03 phantom 44)
                        (ai_vehicle_enter_immediate load_squad_04 phantom 44)
                    )
                    (if (= load_side "chute")
                        (begin
                            (if b_debug_phantom
                                (print "load phantom chute...")
                            )
                            (ai_vehicle_enter_immediate load_squad_01 phantom 45)
                            (ai_vehicle_enter_immediate load_squad_02 phantom 46)
                            (ai_vehicle_enter_immediate load_squad_03 phantom 47)
                            (ai_vehicle_enter_immediate load_squad_04 phantom 48)
                        )
                    )
                )
            )
        )
    )
)

(script static void (f_load_phantom_cargo (vehicle phantom, string load_number, ai load_squad_01, ai load_squad_02))
    (if (= load_number "single")
        (begin
            (ai_place load_squad_01)
            (sleep 1)
            (vehicle_load_magic phantom 49 (ai_vehicle_get_from_squad load_squad_01 0))
        )
        (if (= load_number "double")
            (begin
                (ai_place load_squad_01)
                (ai_place load_squad_02)
                (sleep 1)
                (vehicle_load_magic phantom 50 (ai_vehicle_get_from_squad load_squad_01 0))
                (vehicle_load_magic phantom 51 (ai_vehicle_get_from_squad load_squad_02 0))
            )
        )
    )
)

(script static void (f_unload_phantom (vehicle phantom, string drop_side))
    (if b_debug_phantom
        (print "opening phantom...")
    )
    (unit_open phantom)
    (sleep 60)
    (if (= drop_side "left")
        (begin
            (f_unload_ph_left phantom)
            (sleep 45)
            (f_unload_ph_mid_left phantom)
            (sleep 75)
        )
        (if (= drop_side "right")
            (begin
                (f_unload_ph_right phantom)
                (sleep 45)
                (f_unload_ph_mid_right phantom)
                (sleep 75)
            )
            (if (= drop_side "dual")
                (begin
                    (f_unload_ph_left phantom)
                    (f_unload_ph_right phantom)
                    (sleep 75)
                )
                (if (= drop_side "chute")
                    (begin
                        (f_unload_ph_chute phantom)
                        (sleep 75)
                    )
                )
            )
        )
    )
    (if b_debug_phantom
        (print "closing phantom...")
    )
    (unit_close phantom)
)

(script static void (f_unload_ph_left (vehicle phantom))
    (begin_random
        (begin
            (vehicle_unload phantom 37)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload phantom 36)
            (sleep (random_range 0 10))
        )
    )
)

(script static void (f_unload_ph_right (vehicle phantom))
    (begin_random
        (begin
            (vehicle_unload phantom 41)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload phantom 40)
            (sleep (random_range 0 10))
        )
    )
)

(script static void (f_unload_ph_mid_left (vehicle phantom))
    (begin_random
        (begin
            (vehicle_unload phantom 38)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload phantom 39)
            (sleep (random_range 0 10))
        )
    )
)

(script static void (f_unload_ph_mid_right (vehicle phantom))
    (begin_random
        (begin
            (vehicle_unload phantom 42)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload phantom 43)
            (sleep (random_range 0 10))
        )
    )
)

(script static void (f_unload_ph_chute (vehicle phantom))
    (object_set_phantom_power phantom true)
    (if (vehicle_test_seat phantom 45)
        (begin
            (vehicle_unload phantom 45)
            (sleep 120)
        )
    )
    (if (vehicle_test_seat phantom 46)
        (begin
            (vehicle_unload phantom 46)
            (sleep 120)
        )
    )
    (if (vehicle_test_seat phantom 47)
        (begin
            (vehicle_unload phantom 47)
            (sleep 120)
        )
    )
    (if (vehicle_test_seat phantom 48)
        (begin
            (vehicle_unload phantom 48)
            (sleep 120)
        )
    )
    (object_set_phantom_power phantom false)
)

(script static void (f_unload_phantom_cargo (vehicle phantom, string load_number))
    (if (= load_number "single")
        (vehicle_unload phantom 49)
        (if (= load_number "double")
            (begin_random
                (begin
                    (vehicle_unload phantom 50)
                    (sleep (random_range 15 30))
                )
                (begin
                    (vehicle_unload phantom 51)
                    (sleep (random_range 15 30))
                )
            )
        )
    )
)

(script static unit player0
    (player_get 0)
)

(script static unit player1
    (player_get 1)
)

(script static unit player2
    (player_get 2)
)

(script static unit player3
    (player_get 3)
)

(script static short player_count
    (list_count (players))
)

(script static void print_difficulty
    (if (= (game_difficulty_get_real) easy)
        (print "easy")
        (if (= (game_difficulty_get_real) normal)
            (print "normal")
            (if (= (game_difficulty_get_real) heroic)
                (print "heroic")
                (if (= (game_difficulty_get_real) legendary)
                    (print "legendary")
                )
            )
        )
    )
)

(script static boolean difficulty_legendary
    (= (game_difficulty_get_real) legendary)
)

(script static boolean difficulty_heroic
    (= (game_difficulty_get_real) heroic)
)

(script static boolean difficulty_normal
    (<= (game_difficulty_get_real) normal)
)

(script static void replenish_players
    (if b_debug_globals
        (print "replenish player health...")
    )
    (unit_set_current_vitality player0 80 80)
    (unit_set_current_vitality player1 80 80)
    (unit_set_current_vitality player2 80 80)
    (unit_set_current_vitality player3 80 80)
)

(script static boolean coop_players_2
    (>= (game_coop_player_count) 2)
)

(script static boolean coop_players_3
    (>= (game_coop_player_count) 3)
)

(script static boolean coop_players_4
    (>= (game_coop_player_count) 4)
)

(script static boolean any_players_in_vehicle
    (or (unit_in_vehicle (unit player0)) (unit_in_vehicle (unit player1)) (unit_in_vehicle (unit player2)) (unit_in_vehicle (unit player3)))
)

(script static void (f_vehicle_scale_destroy (vehicle vehicle_variable))
    (object_set_scale vehicle_variable 0.01 (* 30 5))
    (sleep (* 30 5))
    (object_destroy vehicle_variable)
)

(script static void (f_ai_place_vehicle_deathless (ai squad))
    (ai_place squad)
    (ai_cannot_die (object_get_ai (vehicle_driver (ai_vehicle_get_from_squad squad 0))) true)
    (object_cannot_die (ai_vehicle_get_from_squad squad 0) true)
)

(script static void (f_ai_place_vehicle_deathless_no_emp (ai squad))
    (ai_place squad)
    (ai_cannot_die (object_get_ai (vehicle_driver (ai_vehicle_get_from_squad squad 0))) true)
    (object_cannot_die (ai_vehicle_get_from_squad squad 0) true)
    (object_ignores_emp (ai_vehicle_get_from_squad squad 0) true)
)

(script static short (f_vehicle_rider_number (vehicle v))
    (list_count (vehicle_riders v))
)

(script static boolean (f_all_squad_in_vehicle (ai inf_squad, ai vehicle_squad))
    (and (= (ai_living_count inf_squad) 0) (= (ai_living_count vehicle_squad) (f_vehicle_rider_number (ai_vehicle_get_from_squad vehicle_squad 0))))
)

(script static ai (f_ai_get_vehicle_driver (ai squad))
    (object_get_ai (vehicle_driver (ai_vehicle_get_from_squad squad 0)))
)

(script static void (f_ai_magically_see_players (ai squad))
    (ai_magically_see_object squad player0)
    (ai_magically_see_object squad player1)
    (ai_magically_see_object squad player2)
    (ai_magically_see_object squad player3)
)

(script dormant void f_global_health_saves
    (sleep_until (> (player_count) 0))
    (sleep_until 
        (begin
            (sleep_until (< (object_get_health player0) 1))
            (sleep (* 30 7))
            (if (< (object_get_health player0) 1)
                (begin
                    (sleep_until (= (object_get_health player0) 1))
                    (print "global health: health pack aquired")
                    (game_save)
                )
                (print "global health: re-gen")
            )
            false
        )
    )
)

(script static void (f_coop_resume_unlocked (cutscene_title resume_title, short insertion_point))
    (if (game_is_cooperative)
        (begin
            (sound_impulse_start sfx_hud_in none 1)
            (cinematic_set_chud_objective resume_title)
            (game_insertion_point_unlock insertion_point)
        )
    )
)

(script static boolean cinematic_skip_start
    (cinematic_skip_start_internal)
    (game_save_cinematic_skip)
    (sleep_until (not (game_saving)) 1)
    (not (game_reverted))
)

(script static void (cinematic_skip_stop (string_id cinematic_name))
    (cinematic_skip_stop_internal)
    (if (not (game_reverted))
        (begin
            (game_revert)
            (sleep 1)
        )
    )
)

(script static void (cinematic_skip_stop_load_zone (string_id cinematic_name, zone_set z))
    (cinematic_skip_stop_internal)
    (if (not (game_reverted))
        (begin
            (game_revert)
            (sleep 1)
        )
    )
    (switch_zone_set z)
    (sleep 2)
)

(script static void (cinematic_skip_stop_terminal (string_id cinematic_name))
    (cinematic_skip_stop_internal)
    (if (not (game_reverted))
        (begin
            (game_revert)
            (sleep 1)
            (if b_debug_globals
                (print "sleeping forever...")
            )
            (sleep_forever)
        )
    )
)

(script static void test_cinematic_enter_exit
    (sleep 30)
)

(script static void (cinematic_enter (string_id cinematic_name, boolean lower_weapon))
    (set b_cinematic_entered true)
    (cinematic_enter_pre lower_weapon)
    (sleep (cinematic_tag_fade_out_from_game cinematic_name))
    (cinematic_enter_post)
)

(script static void (designer_cinematic_enter (boolean lower_weapon))
    (cinematic_enter_pre lower_weapon)
    (sleep (cinematic_transition_fade_out_from_game "cinematics\transitions\default_intra.cinematic_transition"))
    (cinematic_enter_post)
)

(script static void (cinematic_enter_pre (boolean lower_weapon))
    (ai_disregard (players) true)
    (object_cannot_take_damage (players))
    (player_control_fade_out_all_input 1)
    (if (= lower_weapon true)
        (begin
            (if b_debug_cinematic_scripts
                (print "lowering weapon slowly...")
            )
            (unit_lower_weapon player0 30)
            (unit_lower_weapon player1 30)
            (unit_lower_weapon player2 30)
            (unit_lower_weapon player3 30)
        )
    )
    (campaign_metagame_time_pause true)
    (chud_cinematic_fade 0 0.5)
)

(script static void cinematic_enter_post
    (if b_debug_cinematic_scripts
        (print "hiding players...")
    )
    (object_hide player0 true)
    (object_hide player1 true)
    (object_hide player2 true)
    (object_hide player3 true)
    (player_enable_input false)
    (player_disable_movement true)
    (sleep 1)
    (if b_debug_cinematic_scripts
        (print "camera control on")
    )
    (camera_control true)
    (cinematic_start)
)

(script static void (cinematic_exit (string_id cinematic_name, boolean weapon_starts_lowered))
    (cinematic_exit_pre weapon_starts_lowered)
    (sleep (cinematic_tag_fade_in_to_game cinematic_name))
    (cinematic_exit_post weapon_starts_lowered)
)

(script static void (designer_cinematic_exit (boolean weapon_starts_lowered))
    (cinematic_exit_pre weapon_starts_lowered)
    (sleep (cinematic_transition_fade_in_to_game "cinematics\transitions\default_intra.cinematic_transition"))
    (cinematic_exit_post weapon_starts_lowered)
)

(script static void (cinematic_exit_into_title (string_id cinematic_name, boolean weapon_starts_lowered))
    (cinematic_exit_pre weapon_starts_lowered)
    (chud_cinematic_fade 0 0)
    (sleep (cinematic_tag_fade_in_to_game cinematic_name))
    (cinematic_exit_post_title weapon_starts_lowered)
)

(script static void (cinematic_exit_pre (boolean weapon_starts_lowered))
    (cinematic_stop)
    (camera_control false)
    (object_hide player0 false)
    (object_hide player1 false)
    (object_hide player2 false)
    (object_hide player3 false)
    (if (= weapon_starts_lowered true)
        (begin
            (if b_debug_cinematic_scripts
                (print "snapping weapon to lowered state...")
            )
            (unit_lower_weapon player0 1)
            (unit_lower_weapon player1 1)
            (unit_lower_weapon player2 1)
            (unit_lower_weapon player3 1)
            (sleep 1)
        )
        (begin
            (unit_raise_weapon player0 1)
            (unit_raise_weapon player1 1)
            (unit_raise_weapon player2 1)
            (unit_raise_weapon player3 1)
            (sleep 1)
        )
    )
    (player_control_unlock_gaze player0)
    (player_control_unlock_gaze player1)
    (player_control_unlock_gaze player2)
    (player_control_unlock_gaze player3)
    (sleep 1)
)

(script static void (cinematic_exit_post (boolean weapon_starts_lowered))
    (cinematic_show_letterbox false)
    (if (= weapon_starts_lowered true)
        (begin
            (if b_debug_cinematic_scripts
                (print "raising player weapons slowly...")
            )
            (unit_raise_weapon player0 30)
            (unit_raise_weapon player1 30)
            (unit_raise_weapon player2 30)
            (unit_raise_weapon player3 30)
            (sleep 10)
        )
    )
    (chud_cinematic_fade 1 1)
    (sleep 1)
    (player_enable_input true)
    (player_control_fade_in_all_input 1)
    (campaign_metagame_time_pause false)
    (ai_disregard (players) false)
    (object_can_take_damage (players))
    (player_disable_movement false)
)

(script static void (cinematic_exit_post_title (boolean weapon_starts_lowered))
    (cinematic_show_letterbox false)
    (if (= weapon_starts_lowered true)
        (begin
            (if b_debug_cinematic_scripts
                (print "raising player weapons slowly...")
            )
            (unit_raise_weapon player0 30)
            (unit_raise_weapon player1 30)
            (unit_raise_weapon player2 30)
            (unit_raise_weapon player3 30)
            (sleep 10)
        )
    )
    (sleep 1)
    (player_enable_input true)
    (player_control_fade_in_all_input 1)
    (campaign_metagame_time_pause false)
    (ai_disregard (players) false)
    (object_can_take_damage (players))
    (player_disable_movement false)
)

(script static void insertion_snap_to_black
    (fade_out 0 0 0 0)
    (ai_disregard (players) true)
    (object_cannot_take_damage (players))
    (player_control_fade_out_all_input 1)
    (unit_lower_weapon player0 0)
    (unit_lower_weapon player1 0)
    (unit_lower_weapon player2 0)
    (unit_lower_weapon player3 0)
    (campaign_metagame_time_pause true)
    (chud_cinematic_fade 0 0)
    (if b_debug_cinematic_scripts
        (print "hiding players...")
    )
    (object_hide player0 true)
    (object_hide player1 true)
    (object_hide player2 true)
    (object_hide player3 true)
    (player_enable_input false)
    (player_disable_movement true)
    (sleep 1)
    (if b_debug_cinematic_scripts
        (print "camera control on")
    )
)

(script static void insertion_fade_to_gameplay
    (designer_fade_in "fade_from_black" true)
)

(script static void (designer_fade_in (string fade_type, boolean weapon_starts_lowered))
    (cinematic_stop)
    (camera_control false)
    (object_hide player0 false)
    (object_hide player1 false)
    (object_hide player2 false)
    (object_hide player3 false)
    (if (= weapon_starts_lowered true)
        (begin
            (if b_debug_cinematic_scripts
                (print "snapping weapon to lowered state...")
            )
            (unit_lower_weapon player0 1)
            (unit_lower_weapon player1 1)
            (unit_lower_weapon player2 1)
            (unit_lower_weapon player3 1)
            (sleep 1)
        )
    )
    (player_control_unlock_gaze player0)
    (player_control_unlock_gaze player1)
    (player_control_unlock_gaze player2)
    (player_control_unlock_gaze player3)
    (sleep 1)
    (if (= fade_type "fade_from_black")
        (begin
            (if b_debug_cinematic_scripts
                (print "fading from black...")
            )
            (fade_in 0 0 0 30)
            (sleep 20)
        )
        (if (= fade_type "fade_from_white")
            (begin
                (if b_debug_cinematic_scripts
                    (print "fading from white...")
                )
                (fade_in 1 1 1 30)
                (sleep 20)
            )
            (if (= fade_type "snap_from_black")
                (begin
                    (if b_debug_cinematic_scripts
                        (print "snapping from black...")
                    )
                    (fade_in 0 0 0 5)
                    (sleep 5)
                )
                (if (= fade_type "snap_from_white")
                    (begin
                        (if b_debug_cinematic_scripts
                            (print "snapping from white...")
                        )
                        (fade_in 1 1 1 5)
                        (sleep 5)
                    )
                    (if (= fade_type "no_fade")
                        (begin
                            (fade_in 1 1 1 0)
                            (sleep 5)
                        )
                    )
                )
            )
        )
    )
    (cinematic_show_letterbox false)
    (if (= weapon_starts_lowered true)
        (begin
            (if b_debug_cinematic_scripts
                (print "raising player weapons slowly...")
            )
            (unit_raise_weapon player0 30)
            (unit_raise_weapon player1 30)
            (unit_raise_weapon player2 30)
            (unit_raise_weapon player3 30)
            (sleep 10)
        )
    )
    (chud_cinematic_fade 1 1)
    (sleep 1)
    (player_enable_input true)
    (player_control_fade_in_all_input 1)
    (campaign_metagame_time_pause false)
    (ai_disregard (players) false)
    (object_can_take_damage (players))
    (player_disable_movement false)
)

(script static void cinematic_snap_to_black
    (sleep 0)
)

(script static void cinematic_snap_to_white
    (sleep 0)
)

(script static void cinematic_snap_from_black
    (sleep 0)
)

(script static void cinematic_snap_from_white
    (sleep 0)
)

(script static void cinematic_fade_to_black
    (sleep 0)
)

(script static void cinematic_fade_to_white
    (sleep 0)
)

(script static void cinematic_fade_to_gameplay
    (designer_fade_in "fade_from_black" true)
)

(script static void cinematic_hud_on
    (chud_cinematic_fade 1 0)
    (chud_show_crosshair false)
)

(script static void cinematic_hud_off
    (chud_cinematic_fade 0 0)
    (chud_show_crosshair true)
)

(script static void performance_default_script
    (sleep_until 
        (begin
            (performance_play_line_by_id (+ (performance_get_last_played_line_index) 1))
            (>= (+ (performance_get_last_played_line_index) 1) (performance_get_line_count))
        )
        0
    )
)

(script static void end_mission
    (game_won)
)

(script static void (f_start_mission (string_id cinematic_name))
    (if (= b_cinematic_entered false)
        (cinematic_enter cinematic_name true)
    )
    (set b_cinematic_entered false)
    (sleep 1)
    (if (cinematic_skip_start)
        (begin
            (if b_debug_cinematic_scripts
                (print "f_start_mission: cinematic_skip_start is true... starting cinematic...")
            )
            (cinematic_show_letterbox_immediate true)
            (cinematic_run_script_by_name cinematic_name)
        )
    )
    (cinematic_skip_stop cinematic_name)
)

(script static void (f_play_cinematic_advanced (string_id cinematic_name, zone_set cinematic_zone_set, zone_set zone_to_load_when_done))
    (if b_debug_cinematic_scripts
        (print "f_play_cinematic: calling cinematic_enter")
    )
    (set b_cinematic_entered false)
    (switch_zone_set cinematic_zone_set)
    (sleep 1)
    (if (cinematic_skip_start)
        (begin
            (if b_debug_globals
                (print "f_play_cinematic: playing cinematic...")
            )
            (cinematic_show_letterbox_immediate true)
            (cinematic_run_script_by_name cinematic_name)
        )
    )
    (cinematic_skip_stop_load_zone cinematic_name zone_to_load_when_done)
    (if b_debug_cinematic_scripts
        (print "f_play_cinematic: done with cinematic. resetting audio levels...")
    )
)

(script static void (f_play_cinematic_unskippable (string_id cinematic_name, zone_set cinematic_zone_set))
    (if b_debug_cinematic_scripts
        (print "f_play_cinematic: calling cinematic_enter")
    )
    (if (= b_cinematic_entered false)
        (cinematic_enter cinematic_name false)
    )
    (set b_cinematic_entered false)
    (sleep 1)
    (switch_zone_set cinematic_zone_set)
    (sleep 1)
    (sound_suppress_ambience_update_on_revert)
    (sleep 1)
    (begin
        (if b_debug_globals
            (print "f_play_cinematic: playing cinematic...")
        )
        (cinematic_show_letterbox true)
        (sleep 30)
        (cinematic_show_letterbox_immediate true)
        (cinematic_run_script_by_name cinematic_name)
    )
)

(script static void (f_play_cinematic (string_id cinematic_name, zone_set cinematic_zone_set))
    (if b_debug_cinematic_scripts
        (print "f_play_cinematic: calling cinematic_enter")
    )
    (if (= b_cinematic_entered false)
        (cinematic_enter cinematic_name false)
    )
    (set b_cinematic_entered false)
    (sleep 1)
    (switch_zone_set cinematic_zone_set)
    (sleep 1)
    (sound_suppress_ambience_update_on_revert)
    (sleep 1)
    (if (cinematic_skip_start)
        (begin
            (if b_debug_globals
                (print "f_play_cinematic: playing cinematic...")
            )
            (cinematic_show_letterbox true)
            (sleep 30)
            (cinematic_show_letterbox_immediate true)
            (cinematic_run_script_by_name cinematic_name)
        )
    )
    (cinematic_skip_stop cinematic_name)
)

(script static void (f_end_mission (string_id cinematic_name, zone_set cinematic_zone_set))
    (if (= b_cinematic_entered false)
        (cinematic_enter cinematic_name false)
    )
    (set b_cinematic_entered false)
    (sleep 1)
    (ai_erase_all)
    (garbage_collect_now)
    (switch_zone_set cinematic_zone_set)
    (sleep 1)
    (if (cinematic_skip_start)
        (begin
            (if b_debug_globals
                (print "play outro cinematic...")
            )
            (cinematic_show_letterbox true)
            (sleep 30)
            (cinematic_show_letterbox_immediate true)
            (cinematic_run_script_by_name cinematic_name)
        )
    )
    (cinematic_skip_stop_internal)
    (fade_out 0 0 0 0)
    (sleep 1)
)

(script static void (f_end_mission_ai (string_id cinematic_name, zone_set cinematic_zone_set))
    (if (= b_cinematic_entered false)
        (cinematic_enter cinematic_name false)
    )
    (set b_cinematic_entered false)
    (sleep 1)
    (ai_disregard player0 true)
    (ai_disregard player1 true)
    (ai_disregard player2 true)
    (ai_disregard player3 true)
    (garbage_collect_now)
    (switch_zone_set cinematic_zone_set)
    (sleep 1)
    (if (cinematic_skip_start)
        (begin
            (if b_debug_globals
                (print "play outro cinematic...")
            )
            (cinematic_show_letterbox true)
            (sleep 30)
            (cinematic_show_letterbox_immediate true)
            (cinematic_run_script_by_name cinematic_name)
        )
    )
    (cinematic_skip_stop_internal)
    (fade_out 0 0 0 0)
    (sleep 1)
)

(script startup void beginning_mission_segment
    (data_mine_set_mission_segment "mission_start")
)

(script static void (f_sfx_a_button (short player_short))
    (sound_impulse_start sfx_a_button (player_get player_short) 1)
)

(script static void (f_sfx_b_button (short player_short))
    (sound_impulse_start sfx_b_button (player_get player_short) 1)
)

(script static void (f_sfx_hud_in (short player_short))
    (sound_impulse_start sfx_hud_in (player_get player_short) 1)
)

(script static void (f_sfx_hud_out (short player_short))
    (sound_impulse_start sfx_hud_out (player_get player_short) 1)
)

(script static void (f_sfx_hud_tutorial_complete (player player_to_train))
    (sound_impulse_start sfx_tutorial_complete player_to_train 1)
)

(script static void (f_display_message (short player_short, cutscene_title display_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
)

(script static void (f_tutorial_begin (player player_to_train, string_id display_title))
    (f_hud_training_forever player_to_train display_title)
    (sleep 5)
    (unit_action_test_reset player_to_train)
    (sleep 5)
)

(script static void (f_tutorial_end (player player_to_train))
    (f_sfx_hud_tutorial_complete player_to_train)
    (f_hud_training_clear player_to_train)
    (sleep 30)
)

(script static void (f_tutorial_boost (player player_variable, string_id display_title))
    (f_tutorial_begin player_variable display_title)
    (sleep_until (unit_action_test_grenade_trigger player_variable) 1)
    (f_tutorial_end player_variable)
)

(script static void (f_tutorial_rotate_weapons (player player_variable, string_id display_title))
    (f_tutorial_begin player_variable display_title)
    (sleep_until (unit_action_test_rotate_weapons player_variable) 1)
    (f_tutorial_end player_variable)
)

(script static void (f_tutorial_fire_weapon (player player_variable, string_id display_title))
    (f_tutorial_begin player_variable display_title)
    (sleep_until (unit_action_test_primary_trigger player_variable) 1)
    (f_tutorial_end player_variable)
)

(script static void (f_tutorial_turn (player player_variable, string_id display_title))
    (f_tutorial_begin player_variable display_title)
    (sleep 20)
    (sleep_until (unit_action_test_look_relative_all_directions player_variable) 1)
    (f_tutorial_end player_variable)
)

(script static void (f_tutorial_throttle (player player_variable, string_id display_title))
    (f_tutorial_begin player_variable display_title)
    (sleep 20)
    (sleep_until (unit_action_test_move_relative_all_directions player_variable) 1)
    (f_tutorial_end player_variable)
)

(script static void (f_tutorial_tricks (player player_variable, string_id display_title))
    (f_tutorial_begin player_variable display_title)
    (sleep_until (unit_action_test_vehicle_trick_secondary player_variable) 1)
    (f_tutorial_end player_variable)
)

(script static void (f_hud_training (player player_num, string_id string_hud))
    (chud_show_screen_training player_num string_hud)
    (sleep 120)
    (chud_show_screen_training player_num "")
)

(script static void (f_hud_training_forever (player player_num, string_id string_hud))
    (chud_show_screen_training player_num string_hud)
)

(script static void (f_hud_training_clear (player player_num))
    (chud_show_screen_training player_num "")
)

(script static void f_hud_training_new_weapon
    (chud_set_static_hs_variable player0 0 1)
    (chud_set_static_hs_variable player1 0 1)
    (chud_set_static_hs_variable player2 0 1)
    (chud_set_static_hs_variable player3 0 1)
    (sleep 200)
    (chud_clear_hs_variable player0 0)
    (chud_clear_hs_variable player1 0)
    (chud_clear_hs_variable player2 0)
    (chud_clear_hs_variable player3 0)
)

(script static void (f_hud_training_new_weapon_player (player p))
    (chud_set_static_hs_variable p 0 1)
    (sleep 200)
    (chud_clear_hs_variable p 0)
)

(script static void (f_hud_training_new_weapon_player_clear (player p))
    (chud_clear_hs_variable p 0)
)

(script static void (f_hud_training_confirm (player player_num, string_id string_hud, string button_press))
    (if (= (player_is_in_game player_num) false)
        (sleep_forever)
    )
    (chud_show_screen_training player_num string_hud)
    (sleep 10)
    (player_action_test_reset)
    (sleep_until (if (= button_press "primary_trigger")
        (sleep_until (unit_action_test_primary_trigger player_num))
        (if (= button_press "grenade_trigger")
            (sleep_until (unit_action_test_grenade_trigger player_num))
            (if (= button_press "equipment")
                (sleep_until (unit_action_test_equipment player_num))
                (if (= button_press "melee")
                    (sleep_until (unit_action_test_melee player_num))
                    (if (= button_press "jump")
                        (sleep_until (unit_action_test_jump player_num))
                        (if (= button_press "rotate_grenades")
                            (sleep_until (unit_action_test_rotate_grenades player_num))
                            (if (= button_press "rotate_weapons")
                                (sleep_until (unit_action_test_rotate_weapons player_num))
                                (if (= button_press "context_primary")
                                    (sleep_until (unit_action_test_context_primary player_num))
                                    (if (= button_press "vision_trigger")
                                        (sleep_until (or (unit_action_test_vision_trigger player_num) (player_night_vision_on)))
                                        (if (= button_press "back")
                                            (sleep_until (unit_action_test_back player_num))
                                            (if (= button_press "vehicle_trick")
                                                (sleep_until (unit_action_test_vehicle_trick_primary player_num))
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            )
        )
    ) 1 (* 30 10))
    (chud_show_screen_training player_num "")
)

(script static void (f_hud_obj_new (string_id string_hud, string_id string_start))
    (f_hud_start_menu_obj string_start)
    (chud_show_screen_objective string_hud)
    (sleep 160)
    (chud_show_screen_objective "")
)

(script static void (f_hud_obj_repeat (string_id string_hud))
    (chud_show_screen_objective string_hud)
    (sleep 160)
    (chud_show_screen_objective "")
)

(script static void (f_hud_start_menu_obj (string_id reference))
    (objectives_clear)
    (objectives_set_string 0 reference)
    (objectives_show_string reference)
)

(script static void (f_hud_chapter (string_id string_hud))
    (chud_cinematic_fade 0 30)
    (sleep 10)
    (chud_show_screen_chapter_title string_hud)
    (chud_fade_chapter_title_for_player player0 1 30)
    (chud_fade_chapter_title_for_player player1 1 30)
    (chud_fade_chapter_title_for_player player2 1 30)
    (chud_fade_chapter_title_for_player player3 1 30)
    (sleep 120)
    (chud_fade_chapter_title_for_player player0 0 30)
    (chud_fade_chapter_title_for_player player1 0 30)
    (chud_fade_chapter_title_for_player player2 0 30)
    (chud_fade_chapter_title_for_player player3 0 30)
    (chud_show_screen_chapter_title "")
    (sleep 10)
    (chud_cinematic_fade 1 30)
)

(script static void (f_hud_flash_object_fov (object_name hud_object_highlight))
    (sleep_until (or (objects_can_see_object player0 hud_object_highlight 25) (objects_can_see_object player1 hud_object_highlight 25) (objects_can_see_object player2 hud_object_highlight 25) (objects_can_see_object player3 hud_object_highlight 25)) 1)
    (object_create hud_object_highlight)
    (set chud_debug_highlight_object_color_red 1)
    (set chud_debug_highlight_object_color_green 1)
    (set chud_debug_highlight_object_color_blue 0)
    (f_hud_flash_single hud_object_highlight)
    (f_hud_flash_single hud_object_highlight)
    (f_hud_flash_single hud_object_highlight)
    (object_destroy hud_object_highlight)
)

(script static void (f_hud_flash_object (object_name hud_object_highlight))
    (object_create hud_object_highlight)
    (set chud_debug_highlight_object_color_red 1)
    (set chud_debug_highlight_object_color_green 1)
    (set chud_debug_highlight_object_color_blue 0)
    (f_hud_flash_single hud_object_highlight)
    (f_hud_flash_single hud_object_highlight)
    (f_hud_flash_single hud_object_highlight)
    (object_destroy hud_object_highlight)
)

(script static void (f_hud_flash_single (object_name hud_object_highlight))
    (object_hide hud_object_highlight false)
    (set chud_debug_highlight_object hud_object_highlight)
    (sleep 4)
    (object_hide hud_object_highlight true)
    (sleep 5)
)

(script static void (f_hud_flash_single_nodestroy (object_name hud_object_highlight))
    (set chud_debug_highlight_object hud_object_highlight)
    (sleep 4)
    (set chud_debug_highlight_object none)
    (sleep 5)
)

(script static void (f_blip_internal (object obj, short icon_disappear_time, short final_delay))
    (chud_track_object obj true)
    (sound_impulse_start sfx_blip none 1)
    (sleep icon_disappear_time)
    (chud_track_object obj false)
    (sleep final_delay)
)

(script static void (f_blip_flag_internal (cutscene_flag f, short icon_disappear_time, short final_delay))
    (chud_track_flag f true)
    (sound_impulse_start sfx_blip none 1)
    (sleep icon_disappear_time)
    (chud_track_flag f false)
    (sleep final_delay)
)

(script static void (f_blip_flag (cutscene_flag f, short type))
    (chud_track_flag_with_priority f type)
)

(script static void (f_blip_flag_forever (cutscene_flag f))
    (print "f_blip_flag_forever is going away. please use f_blip_flag")
    (f_blip_flag f blip_neutralize)
)

(script static void (f_unblip_flag (cutscene_flag f))
    (chud_track_flag f false)
)

(script static void (f_blip_object (object obj, short type))
    (chud_track_object_with_priority obj type)
)

(script static void (f_blip_object_offset (object obj, short type, short offset))
    (chud_track_object_with_priority obj type)
    (chud_track_object_set_vertical_offset obj offset)
)

(script static void (f_blip_object_forever (object obj))
    (print "f_blip_object_forever is going away. please use f_blip_object")
    (chud_track_object obj true)
)

(script static void (f_unblip_object (object obj))
    (chud_track_object obj false)
)

(script static void (f_blip_object_until_dead (object obj))
    (chud_track_object obj true)
    (sleep_until (<= (object_get_health obj) 0))
    (chud_track_object obj false)
)

(script static void (f_blip_ai (ai group, short blip_type))
    (sleep_until (= b_blip_list_locked false) 1)
    (set b_blip_list_locked true)
    (set s_blip_list_index 0)
    (set l_blip_list (ai_actors group))
    (sleep_until 
        (begin
            (if (> (object_get_health (list_get l_blip_list s_blip_list_index)) 0)
                (f_blip_object (list_get l_blip_list s_blip_list_index) blip_type)
            )
            (set s_blip_list_index (+ s_blip_list_index 1))
            (>= s_blip_list_index (list_count l_blip_list))
        )
        1
    )
    (set b_blip_list_locked false)
)

(script static void (f_blip_ai_offset (ai group, short blip_type, short offset))
    (sleep_until (= b_blip_list_locked false) 1)
    (set b_blip_list_locked true)
    (set s_blip_list_index 0)
    (set l_blip_list (ai_actors group))
    (sleep_until 
        (begin
            (if (> (object_get_health (list_get l_blip_list s_blip_list_index)) 0)
                (f_blip_object_offset (list_get l_blip_list s_blip_list_index) blip_type offset)
            )
            (set s_blip_list_index (+ s_blip_list_index 1))
            (>= s_blip_list_index (list_count l_blip_list))
        )
        1
    )
    (set b_blip_list_locked false)
)

(script static void (f_blip_ai_forever (ai group))
    (print "f_blip_ai_forever is going away. please use f_blip_ai")
    (f_blip_ai group 0)
)

(script static void (f_blip_ai_until_dead (ai char))
    (print "f_blip_ai_until_dead will be rolled into the new f_blip_ai command. consider using that instead.")
    (f_blip_ai_forever char)
    (sleep_until (<= (object_get_health (ai_get_object char)) 0))
    (f_unblip_ai char)
)

(script static void (f_unblip_ai (ai group))
    (sleep_until (= b_blip_list_locked false) 1)
    (set b_blip_list_locked true)
    (set s_blip_list_index 0)
    (set l_blip_list (ai_actors group))
    (sleep_until 
        (begin
            (if (> (object_get_health (list_get l_blip_list s_blip_list_index)) 0)
                (f_unblip_object (list_get l_blip_list s_blip_list_index))
            )
            (set s_blip_list_index (+ s_blip_list_index 1))
            (>= s_blip_list_index (list_count l_blip_list))
        )
        1
    )
    (set b_blip_list_locked false)
)

(script static void (f_blip_title (object obj, string_id title))
    (chud_track_object_with_priority obj 6 title)
    (sleep 120)
    (chud_track_object obj false)
)

(script static void (f_blip_weapon (object gun, short dist, short dist2))
    (sleep_until (or (and (<= (objects_distance_to_object player0 gun) dist) (>= (objects_distance_to_object player0 gun) 0.1)) (and (<= (objects_distance_to_object player1 gun) dist) (>= (objects_distance_to_object player1 gun) 0.1)) (and (<= (objects_distance_to_object player2 gun) dist) (>= (objects_distance_to_object player2 gun) 0.1)) (and (<= (objects_distance_to_object player3 gun) dist) (>= (objects_distance_to_object player3 gun) 0.1))) 1)
    (print "blip on")
    (f_blip_object gun blip_ordnance)
    (sleep_until (or (not (object_get_at_rest gun)) (and (>= (objects_distance_to_object player0 gun) dist2) (>= (objects_distance_to_object player0 gun) dist2) (>= (objects_distance_to_object player0 gun) dist2) (>= (objects_distance_to_object player0 gun) dist2))) 1)
    (print "blip off")
    (f_unblip_object gun)
)

(script static void (f_hud_spartan_waypoint (ai spartan, string_id spartan_hud, short max_dist))
    (sleep_until 
        (begin
            (if (< (objects_distance_to_object (ai_get_object spartan) player0) 0.95)
                (begin
                    (chud_track_object spartan false)
                    (sleep 60)
                )
                (if (> (objects_distance_to_object (ai_get_object spartan) player0) max_dist)
                    (begin
                        (chud_track_object spartan false)
                        (sleep 60)
                    )
                    (if (< (objects_distance_to_object (ai_get_object spartan) player0) 3)
                        (begin
                            (chud_track_object_with_priority spartan 22 spartan_hud)
                            (sleep 60)
                        )
                        (if (objects_can_see_object player0 (ai_get_object spartan) 10)
                            (begin
                                (chud_track_object_with_priority spartan 22 spartan_hud)
                                (sleep 60)
                            )
                            (if true
                                (begin
                                    (chud_track_object_with_priority spartan 5 "")
                                )
                            )
                        )
                    )
                )
            )
            false
        )
        30
    )
)

(script static void (f_callout_atom (object obj, short type, short time, short postdelay))
    (chud_track_object_with_priority obj type)
    (sound_impulse_start sfx_blip none 1)
    (sleep time)
    (chud_track_object obj false)
    (sleep postdelay)
)

(script static void (f_callout_flag_atom (cutscene_flag f, short type, short time, short postdelay))
    (chud_track_flag_with_priority f type)
    (sound_impulse_start sfx_blip none 1)
    (sleep time)
    (chud_track_flag f false)
    (sleep postdelay)
)

(script static void (f_callout_object (object obj, short type))
    (f_callout_atom obj type 120 2)
)

(script static void (f_callout_object_fast (object obj, short type))
    (f_callout_atom obj type 20 5)
)

(script static void (f_callout_ai (ai actors, short type))
    (sleep_until (= b_blip_list_locked false) 1)
    (set b_blip_list_locked true)
    (set l_blip_list (ai_actors actors))
    (sleep_until 
        (begin
            (if (> (object_get_health (list_get l_blip_list s_blip_list_index)) 0)
                (f_callout_object (list_get l_blip_list s_blip_list_index) type)
            )
            (set s_blip_list_index (+ s_blip_list_index 1))
            (>= s_blip_list_index (list_count l_blip_list))
        )
        1
    )
    (set s_blip_list_index 0)
    (set b_blip_list_locked false)
)

(script static void (f_callout_ai_fast (ai actors, short type))
    (sleep_until (= b_blip_list_locked false) 1)
    (set b_blip_list_locked true)
    (set l_blip_list (ai_actors actors))
    (sleep_until 
        (begin
            (if (> (object_get_health (list_get l_blip_list s_blip_list_index)) 0)
                (f_callout_object_fast (list_get l_blip_list s_blip_list_index) type)
            )
            (set s_blip_list_index (+ s_blip_list_index 1))
            (>= s_blip_list_index (list_count l_blip_list))
        )
        1
    )
    (set s_blip_list_index 0)
    (set b_blip_list_locked false)
)

(script static void (f_callout_and_hold_flag (cutscene_flag f, short type))
    (chud_track_flag_with_priority f type)
    (sound_impulse_start sfx_blip none 1)
    (sleep 10)
)

(script static void (f_md_ai_play (short delay, ai character, ai_line line))
    (set b_is_dialogue_playing true)
    (if (>= (ai_living_count character) 1)
        (begin
            (set s_md_play_time (ai_play_line character line))
            (sleep s_md_play_time)
            (sleep delay)
        )
        (print "this actor does not exist to play f_md_ai_play")
    )
    (set b_is_dialogue_playing false)
)

(script static void (f_md_object_play (short delay, object obj, ai_line line))
    (set b_is_dialogue_playing true)
    (set s_md_play_time (ai_play_line_on_object obj line))
    (sleep s_md_play_time)
    (sleep delay)
    (set b_is_dialogue_playing false)
)

(script static void (f_md_ai_play_cutoff (short cutoff_time, ai character, ai_line line))
    (set b_is_dialogue_playing true)
    (set s_md_play_time (- (ai_play_line character line) cutoff_time))
    (sleep s_md_play_time)
    (set b_is_dialogue_playing false)
)

(script static void (f_md_object_play_cutoff (short cutoff_time, object obj, ai_line line))
    (set b_is_dialogue_playing true)
    (set s_md_play_time (- (ai_play_line_on_object obj line) cutoff_time))
    (sleep s_md_play_time)
    (set b_is_dialogue_playing false)
)

(script static void f_md_abort
    (sleep s_md_play_time)
    (print "dialog script aborted!")
    (set b_is_dialogue_playing false)
    (ai_dialogue_enable true)
)

(script static void f_md_abort_no_combat_dialog
    (f_md_abort)
    (sleep 1)
    (ai_dialogue_enable false)
)

(script static void (f_md_play (short delay, sound line))
    (set b_is_dialogue_playing true)
    (set s_md_play_time (sound_impulse_language_time line))
    (sound_impulse_start line none 1)
    (sleep (sound_impulse_language_time line))
    (sleep delay)
    (set s_md_play_time 0)
    (set b_is_dialogue_playing false)
)

(script static boolean f_is_dialogue_playing
    b_is_dialogue_playing
)

(script static boolean (f_ai_has_spawned (ai actors))
    (> (ai_spawn_count actors) 0)
)

(script static boolean (f_ai_is_defeated (ai actors))
    (and (> (ai_spawn_count actors) 0) (<= (ai_living_count actors) 0))
)

(script static boolean (f_ai_is_partially_defeated (ai actors, short count))
    (and (>= (ai_spawn_count actors) count) (<= (ai_living_count actors) count))
)

(script static boolean (f_task_is_empty (ai task))
    (<= (ai_task_count task) 0)
)

(script static boolean (f_task_has_actors (ai task))
    (> (ai_task_count task) 0)
)

(script static ai (f_object_get_squad (object ai_obj))
    (ai_get_squad (object_get_ai ai_obj))
)

(script static void debug_toggle_cookie_cutters
    (if (= debug_instanced_geometry false)
        (begin
            (set debug_objects_collision_models false)
            (set debug_objects_physics_models false)
            (set debug_objects_bounding_spheres false)
            (set debug_objects_cookie_cutters true)
            (set debug_objects true)
            (set debug_instanced_geometry_collision_geometry false)
            (set debug_instanced_geometry_cookie_cutters true)
            (set debug_instanced_geometry true)
        )
        (begin
            (set debug_objects_cookie_cutters false)
            (set debug_objects false)
            (set debug_instanced_geometry_cookie_cutters false)
            (set debug_instanced_geometry false)
        )
    )
)

(script static void debug_toggle_pathfinding_collisions
    (if (= collision_debug false)
        (begin
            (set collision_debug true)
            (set collision_debug_flag_ignore_invisible_surfaces false)
        )
        (begin
            (set collision_debug false)
            (set collision_debug_flag_ignore_invisible_surfaces true)
        )
    )
)

(script static void f_branch_empty01
    (print "branch exit")
)

(script static void f_branch_empty02
    (print "branch exit")
)

(script static void f_branch_empty03
    (print "branch exit")
)

(script startup void m35_ambient_stub
    (if debug
        (print "m35 ambient stub")
    )
)

(script static void (md_play (short delay, sound line))
    (sleep delay)
    (sound_impulse_start line none 1)
    (sleep (sound_impulse_language_time line))
)

(script dormant void md_hill_intro
    (sleep 80)
    (sleep_until (not b_is_dialogue_playing) 5)
    (ai_dialogue_enable false)
    (print "carter: kat, six: what's your status?")
    (f_md_object_play 0 none m35_0010)
    (sleep 60)
    (print "kat: pylons are down. we're pushing up the hill!")
    (f_md_ai_play 0 "gr_kat" m35_0020)
    (print "carter: copy that.  i'm waiting on new intel.  see what you can see.  carter out.")
    (ai_dialogue_enable true)
    (sleep 50)
    (wake obj_00_engage_start)
)

(script dormant void md_kat_left
    (sleep_until (not b_is_dialogue_playing) 5)
    (ai_dialogue_enable false)
    (print "kat: commander, i'm gonna set up a forward observation post here.")
    (f_md_object_play 0 none m35_0050)
    (print "carter: copy that.  i'm waiting on new intel.  see what you can see.  carter out.")
    (f_md_object_play 40 none m35_0060)
    (ai_dialogue_enable true)
)

(script dormant void md_twin_intro
    (sleep_until (or (<= (ai_living_count "obj_hill_cov") 0) (>= g_hill_obj_control 6) (vehicle_test_seat_unit_list (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) none (players))))
    (sleep_until (not b_is_dialogue_playing))
    (if (<= (ai_living_count "obj_hill_cov") 0)
        (wake md_hill_hog)
    )
    (ai_dialogue_enable false)
    (sleep 50)
    (print "carter: kat, be advised oni has id'd two hostile anti-aircraft guns southwest of your position.")
    (f_md_object_play 20 none m35_0120)
    (print "kat: copy, commander.  new targets, six.  go shut down those aa guns.")
    (f_md_ai_play 10 "gr_kat" m35_0130)
    (ai_dialogue_enable true)
    (wake obj_01_aa01_start)
    (set g_music01 true)
)

(script dormant void md_hill_hog
    (branch (player_in_vehicle (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0)) (f_md_abort))
    (sleep_until (volume_test_objects "tv_hill_hog_drop" (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0)))
    (sleep_until (<= (ai_living_count "obj_hill_cov") 0))
    (sleep 200)
    (sleep_until (not b_is_dialogue_playing))
    (print "kat: commandeer that warthog, six.")
    (f_md_ai_play 0 "gr_kat" m35_0100)
)

(script dormant void md_twin_intro_02
    (branch g_bfg01_core_destroyed (f_md_abort))
    (sleep_until (not b_is_dialogue_playing) 5)
    (print "longsword captain 1: two lima four to noble one.  those guns are pounding us with high-velocity plasma shells.")
    (f_md_object_play 20 none m35_0180)
    (print "auntie dot: which would mean a strike by the frigate grafton is also out of the question.")
    (f_md_object_play 0 none m35_0200)
    (print "carter: noble six: all our birds are stuck out of range unless you can do something about those guns.")
    (f_md_object_play 0 none m35_0210)
    (set g_music02 true)
)

(script dormant void md_twin_gun_in_range
    (branch g_bfg01_core_destroyed (f_md_abort))
    (sleep_until (not b_is_dialogue_playing) 5)
    (game_save)
    (wake twin_bfg_flash)
    (ai_dialogue_enable false)
    (sleep 30)
    (print "carter: six: aa gun should be in visual range.")
    (f_md_object_play 0 none m35_0170)
    (ai_dialogue_enable true)
    (wake md_twin_intro_02)
)

(script dormant void md_twin_gun_info_02
    (branch g_bfg01_core_destroyed (f_md_abort))
    (sleep_until (>= g_twin_obj_control 2) 30 b_waypoint_time)
    (if (>= g_twin_obj_control 2)
        (sleep b_waypoint_time)
    )
    (sleep_until (not b_is_dialogue_playing) 5)
    (ai_dialogue_enable false)
    (print "carter: new intel, six: looks like normal weapons won't dent those aa guns.")
    (f_md_object_play 20 none m35_0220)
    (print "auntie dot: i would suggest neutralizing the interior fuel cells, lieutenant.")
    (f_md_object_play 0 none m35_0230)
    (ai_dialogue_enable true)
    (wake obj_11_aa01b_start)
)

(script dormant void md_twin_gun_info_03
    (branch g_bfg01_core_destroyed (f_md_abort))
    (sleep_until (not b_is_dialogue_playing) 5)
    (print "auntie dot: noble six, if i may? look for the fuel-chamber hatch.")
    (f_md_object_play 0 none m35_0240)
    (f_blip_object "sc_hud_bfg01_core" blip_neutralize)
)

(script dormant void md_twin_longswords
    (sleep_until (not b_is_dialogue_playing) 5)
    (print "longsword captain 1: control, two lima four.  permission to commence bombing run, heading two-two-four-point-six, over.")
    (f_md_object_play 0 none m35_0630)
    (sleep_until g_bfg01_destroyed)
    (f_hud_obj_complete)
    (sleep (random_range 20 30))
    (ai_dialogue_enable false)
    (print "carter: good work, noble six.  unsc air support: skies are clear.")
    (f_md_object_play 40 none m35_0560)
    (ai_dialogue_enable true)
    (print "longswords are clear")
    (set g_longswords01_clear true)
    (print "longsword captain 1: copy, two lima four, bombing run, heading two-two-four-point-six  permission granted, out.")
    (f_md_object_play 10 none m35_0640)
    (sleep 200)
    (wake obj_02_adv01_start)
    (wake md_twin_take_road)
    (set g_music03 true)
)

(script dormant void md_twin_take_road
    (sleep_until (not b_is_dialogue_playing) 5)
    (print "kat: six: take that south road and see if you can get a better look at those lz spires.  i'll be on radio.")
    (if (>= (ai_living_count (object_get_ai obj_kat)) 1)
        (f_md_ai_play 0 "gr_kat" m35_0070)
        (f_md_object_play 0 none m35_0070)
    )
)

(script dormant void md_twin_bridge
    (sleep_until (>= (device_get_position "dm_pelican") 0.2) 1)
    (sleep_until (not b_is_dialogue_playing) 5)
    (ai_dialogue_enable false)
    (print "kat: six, pelican inbound with a portable bridge.  once it's in place, head over to the southwest side.")
    (if (>= (ai_living_count (object_get_ai obj_kat)) 1)
        (f_md_ai_play 0 "gr_kat" m35_0570)
        (f_md_object_play 0 none m35_0570)
    )
    (ai_dialogue_enable true)
)

(script dormant void md_twin_bridge_02
    (branch (>= g_facility_obj_control 1) (f_md_abort))
    (sleep_until (>= (device_get_position "dm_pelican") 0.5))
    (sleep_until (not b_is_dialogue_playing) 5)
    (print "kat: bridge in position, six. keep moving toward those spires.")
    (if (>= (ai_living_count (object_get_ai obj_kat)) 1)
        (f_md_ai_play 0 "gr_kat" m35_0580)
        (f_md_object_play 0 none m35_0580)
    )
    (sleep b_waypoint_time)
    (print "kat: bridge in position, six. keep moving toward those spires.")
    (if (>= (ai_living_count (object_get_ai obj_kat)) 1)
        (f_md_ai_play 0 "gr_kat" m35_0590)
        (f_md_object_play 0 none m35_0590)
    )
)

(script dormant void md_facility_intro
    (sleep_until (>= g_facility_obj_control 1))
    (sleep_until (not b_is_dialogue_playing) 5)
    (wake chapter_02_start)
    (ai_dialogue_enable false)
    (sleep 40)
    (print "carter: noble six, there's a mining facility near your position.  covenant are using it as a command outpost.  troopers on-site have already engaged.")
    (f_md_object_play 0 none m35_0730)
    (ai_dialogue_enable true)
    (wake obj_03_facility_start)
    (set g_music01 true)
)

(script dormant void md_facility_elite
    (sleep_until (>= g_facility_obj_control 3))
    (sleep_until (or (<= (ai_living_count "gr_facility_intro_cov") 0) (>= g_facility_obj_control 5)))
    (sleep_until (not b_is_dialogue_playing))
    (ai_dialogue_enable false)
    (sleep 20)
    (print "auntie dot: new intelligence: friendly forces near the covenant outpost have sighted a high value target. an elite zealot in fact.")
    (f_md_object_play 0 none m35_0740)
    (print "kat: a zealot? we're onto something big, commander")
    (if (>= (ai_living_count (object_get_ai obj_kat)) 1)
        (f_md_ai_play_cutoff 5 "gr_kat" m35_0750)
        (f_md_object_play_cutoff 5 none m35_0750)
    )
    (print "carter: eyes on the prize, noble. take out that zealot if you get the chance. but keep moving toward the spires.")
    (f_md_object_play 0 none m35_0760)
    (ai_dialogue_enable true)
    (set g_music02 true)
)

(script dormant void md_facility_zealot_dead
    (sleep_until (not b_is_dialogue_playing) 5)
    (print "kat: high value target has been neutralized. impressive, six.")
    (if (>= (ai_living_count (object_get_ai obj_kat)) 1)
        (f_md_ai_play_cutoff 10 "gr_kat" m35_0780)
        (f_md_object_play_cutoff 10 none m35_0780)
    )
)

(script dormant void md_facility_end
    (branch (volume_test_players "tv_enc_cannon") (f_md_abort))
    (sleep_until (>= g_facility_obj_control 14) 5)
    (sleep_until (<= (ai_living_count "obj_facility_cov") 0))
    (sleep_until (not b_is_dialogue_playing) 5)
    (sleep 60)
    (print "kat: mining facility secured, six.  move on at your discretion.")
    (if (>= (ai_living_count (object_get_ai obj_kat)) 1)
        (f_md_ai_play 0 "gr_kat" m35_0790)
        (f_md_object_play 0 none m35_0790)
    )
)

(script dormant void md_cannon_intro
    (sleep_until (>= g_cannon_obj_control 1) 1)
    (sleep_until (not b_is_dialogue_playing) 5)
    (ai_dialogue_enable false)
    (print "carter: update, six: scans show another covenant aa gun ahead of your position.")
    (f_md_object_play 20 none m35_0820)
    (print "carter: i want you to neutralize that gun -- by any means necessary.")
    (f_md_object_play 0 none m35_0840)
    (ai_dialogue_enable true)
    (game_save)
    (wake obj_04_aa02_start)
    (set g_music01 true)
)

(script dormant void md_cannon_waypoint
    (branch g_bfg02_destroyed (f_md_abort))
    (sleep_until (not b_is_dialogue_playing) 5)
    (print "carter: noble six!  i need that aa gun offline now!")
    (f_md_object_play 0 none m35_0920)
)

(script dormant void md_cannon_end
    (sleep_until (>= (ai_living_count "sq_falcon_01") 1))
    (sleep_until (not b_is_dialogue_playing) 5)
    (sleep (random_range 50 60))
    (ai_dialogue_enable false)
    (print "carter: well done, six. oni needs up-close recon on those spires.  we're gonna fly you the rest of the way.")
    (f_md_object_play 40 none m35_0930)
    (print "kat: jorge has a falcon inbound your position, lieutenant.  highlighting the lz now...")
    (if (>= (ai_living_count (object_get_ai obj_kat)) 1)
        (f_md_ai_play 0 "gr_kat" m35_0940)
        (f_md_object_play 0 none m35_0940)
    )
    (wake md_kat_left)
    (ai_dialogue_enable true)
    (wake obj_05_falcon_start)
    (f_blip_flag "fl_falcon_01" blip_default)
)

(script dormant void md_cannon_end_02
    (sleep 60)
    (sleep_until (not b_is_dialogue_playing))
    (print "kat: jorge has a falcon inbound your position, lieutenant.  highlighting the lz now...")
    (if (>= (ai_living_count (object_get_ai obj_kat)) 1)
        (f_md_ai_play 0 "gr_kat" m35_0940)
        (f_md_object_play 0 none m35_0940)
    )
    (set g_music_ins true)
    (wake obj_05_falcon_start)
    (f_blip_flag "fl_falcon_01" blip_default)
)

(script dormant void md_falcon_start
    (sleep_until (volume_test_players "tv_cannon_landing"))
    (sleep_until (not b_is_dialogue_playing) 5)
    (print "jorge: need a lift, spartan?")
    (f_md_ai_play 0 (object_get_ai obj_jorge) m35_0950)
    (wake obj_05_falcon02_start)
)

(script dormant void md_falcon_canyon
    (sleep_until (unit_in_vehicle_type player0 20))
    (sleep_until (not b_is_dialogue_playing) 5)
    (ai_dialogue_enable false)
    (sleep 120)
    (print "jorge: spotted some nasty business in the canyon on the way down.")
    (f_md_ai_play 0 (object_get_ai obj_jorge) m35_0970)
    (print "pilot 2: i'll call out targets as we go.")
    (f_md_object_play 0 none m35_0980)
    (ai_dialogue_enable true)
    (sleep 20)
    (wake chapter_03_start)
)

(script dormant void md_falcon_callouts
    (wake md_falcon_callout_top)
    (wake md_falcon_callout_ground)
    (wake md_falcon_callout_nice)
    (sleep_until (all_players_in_falcon))
    (if (falcon_has_right_gunners)
        (wake md_falcon_callout_right_phantom)
    )
    (if (falcon_has_left_gunners)
        (wake md_falcon_callout_left_wraiths)
    )
)

(script dormant void md_falcon_callout_top
    (sleep_until (>= g_falcon_obj_control 30))
    (sleep_until (not b_is_dialogue_playing) 5)
    (print "pilot 2: top of the canyon, dead ahead.")
    (f_md_object_play 0 none m35_1030)
)

(script dormant void md_falcon_callout_right_phantom
    (sleep_until (>= g_falcon_obj_control 40))
    (sleep_until (not b_is_dialogue_playing) 5)
    (print "pilot 2: phantom inbound!  hang on!")
    (f_md_object_play 0 none m35_1020)
)

(script dormant void md_falcon_callout_left_wraiths
    (sleep_until (>= g_falcon_obj_control 40))
    (sleep_until (not b_is_dialogue_playing) 1)
    (print "pilot 2: we've got hostile armor across the canyon!")
    (f_md_object_play 0 none m35_1120)
    (print "jorge: take out those tanks, six!")
    (f_md_ai_play 0 (object_get_ai obj_jorge) m35_1130)
)

(script dormant void md_falcon_callout_nice
    (sleep_until (>= g_falcon_obj_control 50))
    (sleep_until (not b_is_dialogue_playing) 5)
    (print "pilot 2: nice shooting, spartans!")
    (f_md_object_play 0 none m35_1100)
    (print "jorge: stay sharp, six; we're not out of the canyon yet.")
    (f_md_ai_play 0 (object_get_ai obj_jorge) m35_1110)
)

(script dormant void md_falcon_callout_ground
    (sleep_until (>= g_falcon_obj_control 260))
    (sleep_until (not b_is_dialogue_playing) 5)
    (print "jorge: engage the ground units!")
    (f_md_ai_play 0 (object_get_ai obj_jorge) m35_1140)
)

(script dormant void md_falcon_dome_start
    (sleep_until (>= g_falcon_obj_control 50) 5)
    (sleep 440)
    (sleep_until (not b_is_dialogue_playing) 5)
    (print "pilot: there's the spire!")
    (f_md_object_play 20 none m35_1180)
    (wake md_falcon_view_hud)
    (set g_music05 true)
    (ai_dialogue_enable false)
    (print "carter: solid copy.  dot?")
    (f_md_object_play 30 none m35_1190)
    (print "auntie dot: latest intel suggests these spires may be projecting electro-magnetic cloaking shields.")
    (f_md_object_play 25 none m35_1200)
    (print "jorge: priority one, pilot.  gotta know what's in there.")
    (f_md_ai_play 0 (object_get_ai obj_jorge) m35_1220)
    (print "pilot: affirmative, sir. here we go...")
    (f_md_object_play 20 none m35_1230)
    (ai_dialogue_enable true)
)

(script dormant void md_falcon_view_hud
    (f_hud_flash_object "sc_hud_highlight_spire")
    (f_blip_title "sc_hud_spire" "wp_callout_m35_spire")
)

(script dormant void md_falcon_crash_01
    (if dialogue
        (print "command (radio): emp!  my falcon's not responding!")
    )
    (if dialogue
        (print "command (radio): we're going down, repeat echo 21 going down!")
    )
)

(script dormant void md_falcon_crash_02
    (if dialogue
        (print "command (radio): brace yourself for impact!")
    )
)

(script dormant void md_spire_start
    (sleep_until (not b_is_dialogue_playing) 5)
    (sleep 60)
    (print "jorge: you all right?  i'm showing hostiles all over the place we gotta move!")
    (f_md_ai_play 0 "gr_jorge" m35_1240)
    (sleep 30)
    (wake md_spire_view)
)

(script dormant void md_spire_view
    (sleep_until (not b_is_dialogue_playing) 5)
    (ai_dialogue_enable false)
    (wake md_spire_view_hud)
    (print "jorge: commander, we've got eyes on the spire.  looks like a staging area")
    (f_md_ai_play 0 "gr_jorge" m35_1260)
    (wake obj_06_spire_start)
    (set g_music01 true)
    (print "carter: copy.  we have your visual. dot's working the problem. standby.")
    (f_md_object_play 0 none m35_1270)
    (ai_dialogue_enable true)
    (wake md_spire_view02)
)

(script dormant void md_spire_view_hud
    (f_hud_flash_object "sc_hud_highlight_spire")
    (f_blip_title "sc_hud_spire" "wp_callout_m35_spire")
)

(script dormant void md_spire_jetpack
    (sleep_until (not b_is_dialogue_playing) 5)
    (print "auntie dot: be advised, noble six: jet-pack armor module available in your vicinity.")
    (f_md_object_play 0 none m35_1340)
    (print "jorge: six, see if they're operational.")
    (f_md_ai_play 0 "gr_jorge" m35_1350)
    (wake md_spire_view02)
)

(script dormant void md_spire_view02
    (sleep_until (>= g_spire_obj_control 3))
    (sleep_until (not b_is_dialogue_playing) 5)
    (wake spire_phantoms)
    (f_hud_flash_object "sc_hud_highlight_spire")
    (f_blip_title "sc_hud_spire" "wp_callout_m35_spire")
    (ai_dialogue_enable false)
    (print "auntie dot: noble five: oni believes those spires to be teleportation terminals.")
    (f_md_object_play 20 none m35_1280)
    (print "jorge: teleporters? linked to what?")
    (f_md_ai_play 70 "gr_jorge" m35_1290)
    (print "carter: frigate grafton is on station, ready to kill that spire. but we need the shield powered down first.")
    (f_md_object_play 15 none m35_1310)
    (print "jorge: understood. six, i'll hold these bastards off! you find a way to the top of the spire!")
    (f_md_ai_play 0 "gr_jorge" m35_1320)
    (ai_dialogue_enable true)
    (set g_music02 true)
)

(script dormant void md_spire_banshee
    (sleep_until (not b_is_dialogue_playing) 5)
    (print "jorge: i spotted a banshee on the eastern ridge. could be your ticket up, six.")
    (f_md_ai_play 0 "gr_jorge" m35_1360)
)

(script dormant void md_spire_up
    (sleep_until (or (volume_test_players "tv_spire_grav") (>= g_spire_obj_control 4)) 1)
    (sleep_until (not b_is_dialogue_playing) 1)
    (if (not (game_is_cooperative))
        (game_save_immediate)
    )
    (ai_dialogue_enable false)
    (print "jorge: noble leader: six is on his/her way up!")
    (if (player_has_female_voice player0)
        (f_md_ai_play 20 "gr_jorge" m35_1400)
        (f_md_ai_play 20 "gr_jorge" m35_1390)
    )
    (print "carter: get in there, take out that shield, lieutenant!")
    (f_md_object_play 0 none m35_1410)
    (ai_dialogue_enable true)
    (game_save)
    (wake obj_07_spire02_start)
)

(script dormant void md_spire_interior
    (sleep_until (>= g_spire_obj_control 4))
    (sleep_until (not b_is_dialogue_playing) 5)
    (ai_dialogue_enable false)
    (print "carter: spartans: i'm en route with a falcon. we'll extract as soon as you knock out power to that shield!")
    (f_md_object_play 0 none m35_1420)
    (print "jorge: ready when you are, six!")
    (f_md_ai_play 30 "gr_jorge" m35_1430)
    (print "carter: hurry, lieutenant!  we got a frigate inbound to blow that spire soon as the shield's powered down!")
    (f_md_object_play 0 none m35_1440)
    (ai_dialogue_enable true)
    (wake md_spire_button)
)

(script dormant void md_spire_button
    (branch (>= (device_get_position "dc_spire_01") 1) (f_md_abort))
    (sleep_until (<= (ai_living_count "gr_spire_top_cov") 0))
    (sleep_until (not b_is_dialogue_playing) 5)
    (print "carter: lieutenant! drop the shield, and get out of there!")
    (f_md_object_play 0 none m35_1460)
    (f_blip_object "dc_spire_01" blip_interface)
)

(script static void md_spire_interior_remind
    (sleep_until (not b_is_dialogue_playing) 5)
    (print "carter: noble six, we need to kill that shield and clear the area! now!")
    (f_md_object_play 0 none m35_1450)
)

(script static void branch_vig_kill
    (print "branch kill")
)

(script static boolean (branch_spire_elite (ai my_actor))
    (or (> (object_get_recent_shield_damage (ai_get_object my_actor)) 0) (> (object_get_recent_body_damage (ai_get_object my_actor)) 0) (>= g_spire_obj_control 5) (<= (ai_living_count "gr_spire_top_cov") 2) (<= (ai_living_count "sq_spire_grunt_01") 1))
)

(script static void reset_music_var_go
    (set g_music01 false)
    (set g_music02 false)
    (set g_music03 false)
    (set g_music04 false)
    (set g_music05 false)
    (set g_music06 false)
    (set g_music_ins false)
)

(script dormant void music_memory_test
    (sound_looping_stop "levels\solo\m35\music\m35_music_01")
    (sound_looping_stop "levels\solo\m35\music\m35_music_02")
    (sound_looping_stop "levels\solo\m35\music\m35_music_03")
    (sound_looping_stop "levels\solo\m35\music\m35_music_04")
    (sound_looping_stop "levels\solo\m35\music\m35_music_05")
    (sound_looping_stop "levels\solo\m35\music\m35_music_06")
    (sound_looping_stop "levels\solo\m35\music\m35_music_07")
    (sound_looping_stop "levels\solo\m35\music\m35_music_08")
    (sound_looping_stop "levels\solo\m35\music\m35_music_09")
    (sound_looping_stop "levels\solo\m35\music\m35_music_10")
    (sound_looping_stop "levels\solo\m35\music\m35_music_11")
    (sound_looping_stop "levels\solo\m35\music\m35_music_12")
    (sound_looping_stop "levels\solo\m35\music\m35_music_13")
)

(script dormant void music_hill
    (print "music_hill")
    (sleep_until g_music01 5)
    (print "music change: objective neutralize enemy aa")
    (sound_looping_stop "levels\solo\m35\music\m35_music_01")
    (sound_looping_start "levels\solo\m35\music\m35_music_02" none 1)
)

(script dormant void music_twin
    (print "music_twin")
    (reset_music_var_go)
    (sleep_until g_music02 5)
    (print "music change: visual range")
    (sound_looping_stop "levels\solo\m35\music\m35_music_02")
    (sleep_until g_music03 5)
    (print "music change: objective advance into enemy territory")
    (sound_looping_start "levels\solo\m35\music\m35_music_03" none 1)
)

(script dormant void music_facility
    (print "music_facility")
    (reset_music_var_go)
    (sleep_until g_music01 5)
    (print "music change: objective secure mining facility")
    (sound_looping_stop "levels\solo\m35\music\m35_music_03")
    (sleep_until g_music02 5)
    (print "music change: keep moving towards the spires")
    (sound_looping_start "levels\solo\m35\music\m35_music_04" none 1)
    (sleep_until g_music03 5)
    (print "music change: reach the area with the vehicles")
    (sound_looping_stop "levels\solo\m35\music\m35_music_04")
)

(script dormant void music_cannon
    (print "music_cannon")
    (reset_music_var_go)
    (sleep_until g_music01 5)
    (print "music change: objective neutralize aa gun")
    (sound_looping_start "levels\solo\m35\music\m35_music_05" none 1)
    (sleep_until g_music02 5)
    (print "music change: kill wraith or hunter")
    (sound_looping_activate_layer "levels\solo\m35\music\m35_music_05" 1)
    (sleep_until g_music03 5)
    (print "music change: destroy aa gun")
    (sound_looping_stop "levels\solo\m35\music\m35_music_05")
)

(script dormant void music_falcon
    (print "music_falcon")
    (reset_music_var_go)
    (sleep_until g_music04 5)
    (print "music change: the spire")
    (sound_looping_start "levels\solo\m35\music\m35_music_06" none 1)
    (sleep_until g_music05 5)
    (print "music change: there's the spire")
    (sound_looping_stop "levels\solo\m35\music\m35_music_06")
)

(script dormant void music_spire
    (print "music_spire")
    (reset_music_var_go)
    (sleep_until g_music01 5)
    (print "music change: ")
    (sound_looping_stop "levels\solo\m35\music\m35_music_07")
    (sleep_until g_music02 5)
    (print "music change: find a way to the top of the spire")
    (sound_looping_start "levels\solo\m35\music\m35_music_08" none 1)
    (sleep_until g_music03 5)
    (print "music change: top of the spire")
    (sound_looping_start "levels\solo\m35\music\m35_music_09" none 1)
    (sleep_until g_music04 5)
    (print "music change: hit the button drop shield")
    (sound_looping_stop "levels\solo\m35\music\m35_music_09")
)

(script dormant void music_alpha
    (print "music_alpha")
    (reset_music_var_go)
    (print "music change: rally point alpha")
    (sound_looping_start "levels\solo\m35\music\m35_music_03" none 1)
)

(script dormant void music_bravo
    (print "music_bravo")
    (reset_music_var_go)
    (print "music change: rally point beavo")
    (sound_looping_start "levels\solo\m35\music\m35_music_10" none 1)
    (sleep_until g_music_ins 5)
    (print "music change: i'm highlighting the lz now")
    (sound_looping_start "levels\solo\m35\music\m35_music_11" none 1)
    (sleep_until g_music01 5)
    (print "music change: the spire")
    (sound_looping_stop "levels\solo\m35\music\m35_music_10")
    (sound_looping_stop "levels\solo\m35\music\m35_music_11")
)

(script dormant void spartan_waypoints_hill
    (f_hud_spartan_waypoint (object_get_ai obj_kat) "kat_name" 60)
)

(script dormant void spartan_waypoints_falcon
    (f_hud_spartan_waypoint (object_get_ai obj_jorge) "jorge_name" 60)
)

(script dormant void spartan_waypoints_spire
    (f_hud_spartan_waypoint (object_get_ai obj_jorge) "jorge_name" 60)
)

(script dormant void obj_00_engage_start
    (f_hud_obj_new "ct_objective_0" "primary_objective_0")
)

(script dormant void obj_01_aa01_start
    (f_hud_obj_new "ct_objective_1" "primary_objective_1")
)

(script dormant void obj_11_aa01b_start
    (f_hud_obj_new "ct_objective_1" "primary_objective_11")
)

(script dormant void obj_02_adv01_start
    (f_hud_obj_new "ct_objective_2" "primary_objective_2")
)

(script dormant void obj_03_facility_start
    (f_hud_obj_new "ct_objective_3" "primary_objective_3")
)

(script dormant void obj_04_aa02_start
    (f_hud_obj_new "ct_objective_4" "primary_objective_4")
)

(script dormant void obj_05_falcon_start
    (f_hud_obj_new "ct_objective_0" "primary_objective_0")
)

(script dormant void obj_05_falcon02_start
    (f_hud_obj_new "ct_objective_5" "primary_objective_5")
)

(script dormant void obj_06_spire_start
    (f_hud_obj_new "ct_objective_6" "primary_objective_6")
)

(script dormant void obj_07_spire02_start
    (f_hud_obj_new "ct_objective_7" "primary_objective_7")
)

(script dormant void chapter_01_start
    (sleep 30)
    (f_hud_chapter "chapter_01")
)

(script dormant void chapter_02_start
    (f_hud_chapter "chapter_02")
)

(script dormant void chapter_03_start
    (set g_music04 true)
    (f_hud_chapter "chapter_03")
)

(script static boolean obj_helite_0_5
    (<= g_hill_obj_control 2)
)

(script static boolean obj_hgrunt_0_8
    (<= g_hill_obj_control 2)
)

(script static boolean obj_hjacka_0_9
    (<= g_hill_obj_control 2)
)

(script static boolean obj_hcov_h_0_10
    (>= g_hill_obj_control 5)
)

(script static boolean obj_hrush__0_22
    (volume_test_players "tv_hill_starting_area")
)

(script static boolean obj_hkat_f_1_3
    (>= g_hill_obj_control 1)
)

(script static boolean obj_hkat_a_1_4
    (>= g_hill_obj_control 2)
)

(script static boolean obj_hkat_h_1_5
    (>= g_hill_obj_control 4)
)

(script static boolean obj_hkat_w_1_7
    (volume_test_players "tv_hill_kat")
)

(script static boolean obj_hdrive_1_10
    (any_players_in_vehicle)
)

(script static boolean obj_htasks_1_12
    (volume_test_players "tv_hill_leftside")
)

(script static boolean obj_htasks_1_13
    (>= g_hill_obj_control 3)
)

(script static boolean obj_htasks_1_14
    (volume_test_players "tv_hill_leftside")
)

(script static boolean obj_hhog_d_1_15
    (volume_test_objects "tv_hill_hog_drop" (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0))
)

(script static boolean obj_tskirm_2_8
    (< g_twin_obj_control 2)
)

(script static boolean obj_tskirm_2_9
    (< g_twin_obj_control 1)
)

(script static boolean obj_tlower_2_12
    (not (volume_test_players "tv_twin_lower"))
)

(script static boolean obj_tskirm_2_27
    (volume_test_players "tv_twin_upper_center")
)

(script static boolean obj_ttwin__2_33
    g_bfg01_core_destroyed
)

(script static boolean obj_taa_ba_2_36
    (not (volume_test_players "tv_twin_lower_final"))
)

(script static boolean obj_ttasks_2_39
    (>= g_twin_obj_control 2)
)

(script static boolean obj_ttasks_2_42
    (volume_test_players "tv_twin_lower_start")
)

(script static boolean obj_ttasks_2_43
    g_bfg01_core_destroyed
)

(script static boolean obj_ttasks_2_44
    (not (volume_test_players "tv_twin_upper"))
)

(script static boolean obj_twrait_2_45
    (volume_test_players "tv_twin_upper_center")
)

(script static boolean obj_taa_el_2_48
    (volume_test_players "tv_twin_gun")
)

(script static boolean obj_tbfg01_3_0
    g_bfg01_destroyed
)

(script static boolean obj_ttroop_3_5
    (volume_test_players "tv_twin_lower_start")
)

(script static boolean obj_ttroop_3_6
    (volume_test_players "tv_twin_lower_approach")
)

(script static boolean obj_ttroop_3_7
    (volume_test_players "tv_twin_lower_siege")
)

(script static boolean obj_ttroop_3_8
    (volume_test_players "tv_twin_lower_final")
)

(script static boolean obj_tvehic_3_11
    g_bfg01_destroyed
)

(script static boolean obj_tvehic_3_13
    (volume_test_players "tv_twin_lower_start")
)

(script static boolean obj_tbfg01_3_14
    g_bfg01_core_destroyed
)

(script static boolean obj_tvehic_3_15
    (<= (ai_living_count "sq_twin_wraith_01") 0)
)

(script static boolean obj_tvehic_3_16
    (volume_test_players "tv_twin_upper_vehicle")
)

(script static boolean obj_fjacka_4_1
    (< g_facility_obj_control 3)
)

(script static boolean obj_fskirm_4_5
    (< g_facility_obj_control 5)
)

(script static boolean obj_fskirm_4_7
    (< g_facility_obj_control 8)
)

(script static boolean obj_ffork__4_10
    (< g_facility_obj_control 6)
)

(script static boolean obj_fcov_0_4_15
    (< g_facility_obj_control 10)
)

(script static boolean obj_fcov_0_4_16
    (< g_facility_obj_control 11)
)

(script static boolean obj_fcov_0_4_17
    (< g_facility_obj_control 12)
)

(script static boolean obj_fjacka_4_19
    (< g_facility_obj_control 7)
)

(script static boolean obj_fjacka_4_20
    (< g_facility_obj_control 8)
)

(script static boolean obj_fjacka_4_27
    (>= g_facility_obj_control 14)
)

(script static boolean obj_fgrunt_4_31
    (>= g_facility_obj_control 15)
)

(script static boolean obj_fjacka_4_33
    (< g_facility_obj_control 13)
)

(script static boolean obj_fgrunt_4_34
    (>= g_facility_obj_control 8)
)

(script static boolean obj_fintro_4_38
    (< g_facility_obj_control 3)
)

(script static boolean obj_fgrunt_4_43
    (and (>= g_facility_obj_control 12) (not (volume_test_players "tv_facility_zealot_01")))
)

(script static boolean obj_fzealo_4_47
    (volume_test_players "tv_facility_zealot_01")
)

(script static boolean obj_fzealo_4_48
    (volume_test_players "tv_facility_zealot_02")
)

(script static boolean obj_fjacka_4_49
    (volume_test_players "tv_facility_final_rush")
)

(script static boolean obj_fzealo_4_50
    (volume_test_players "tv_facility_final_rush")
)

(script static boolean obj_fzealo_4_52
    (volume_test_players "tv_facility_zealot_03")
)

(script static boolean obj_fbridg_5_4
    (>= g_facility_obj_control 2)
)

(script static boolean obj_fkat_i_5_6
    (>= g_facility_obj_control 3)
)

(script static boolean obj_ffiret_5_7
    (>= g_facility_obj_control 3)
)

(script static boolean obj_ftasks_5_8
    (>= g_facility_obj_control 4)
)

(script static boolean obj_fkat_i_5_9
    (>= g_facility_obj_control 14)
)

(script static boolean obj_fkat_i_5_10
    (>= g_facility_obj_control 6)
)

(script static boolean obj_fkat_i_5_11
    (>= g_facility_obj_control 12)
)

(script static boolean obj_fkat_i_5_12
    (>= g_facility_obj_control 8)
)

(script static boolean obj_fkat_i_5_13
    (>= g_facility_obj_control 16)
)

(script static boolean obj_fvehic_5_14
    (b_facility_hog_control)
)

(script static boolean obj_fkat_i_5_15
    (>= g_facility_obj_control 4)
)

(script static boolean obj_fvehic_5_16
    (< g_facility_obj_control 2)
)

(script static boolean obj_finiti_5_17
    (= (current_zone_set_fully_active) 4)
)

(script static boolean obj_finiti_5_18
    (<= (ai_task_count "obj_facility_cov/gt_cov_intro") 0)
)

(script static boolean obj_cjacka_6_5
    (< g_cannon_obj_control 2)
)

(script static boolean obj_cghost_6_8
    (and (< g_facility_obj_control 16) (> (ai_task_count "obj_cannon_cov/gt_ghost_01") 1))
)

(script static boolean obj_cghost_6_11
    (and (< g_facility_obj_control 16) (> (ai_task_count "obj_cannon_cov/gt_ghost_01") 1))
)

(script static boolean obj_cskirm_6_16
    (volume_test_players "tv_cannon_main")
)

(script static boolean obj_cskirm_6_17
    (and (> (ai_task_count "obj_cannon_cov/gt_wraith") 2) (not (volume_test_players "tv_cannon_05")))
)

(script static boolean obj_cphant_6_23
    (or (> (ai_task_count "obj_cannon_cov/gt_wraith") 2) (not (volume_test_players "tv_cannon_05")))
)

(script static boolean obj_ccov_0_6_25
    (and (> (ai_task_count "obj_cannon_cov/gt_wraith") 2) (not (volume_test_players "tv_cannon_05")))
)

(script static boolean obj_chunte_6_34
    (volume_test_players "tv_cannon_05")
)

(script static boolean obj_ctasks_6_35
    (and (> (ai_task_count "obj_cannon_cov/gt_wraith") 2) (not (volume_test_players "tv_cannon_05")))
)

(script static boolean obj_cgt_fi_6_39
    g_bfg02_core_destroyed
)

(script static boolean obj_cwrait_6_42
    (volume_test_players_all "tv_cannon_backtrack")
)

(script static boolean obj_cwrait_6_43
    (volume_test_players_all "tv_cannon_backtrack")
)

(script static boolean obj_cwarth_7_5
    g_bfg02_destroyed
)

(script static boolean obj_callie_7_6
    (<= (ai_task_count "obj_cannon_cov/final_retreat_cov") 5)
)

(script static boolean obj_callie_7_7
    (<= (ai_task_count "obj_cannon_cov/final_retreat_cov") 0)
)

(script static boolean obj_ctasks_7_13
    (>= g_cannon_obj_control 3)
)

(script static boolean obj_cupper_7_14
    (>= (ai_task_count "obj_cannon_cov/gt_canyon_connection") 1)
)

(script static boolean obj_cdropd_7_15
    (< g_cannon_obj_control 3)
)

(script static boolean obj_cvehic_7_16
    (volume_test_players "tv_cannon_main")
)

(script static boolean obj_cdropd_7_17
    (not (= (current_zone_set_fully_active) 5))
)

(script static boolean obj_fwrait_8_0
    (< g_falcon_obj_control 40)
)

(script static boolean obj_fwrait_8_15
    (< g_falcon_obj_control 40)
)

(script static boolean obj_fspire_8_17
    (>= g_falcon_obj_control 40)
)

(script static boolean obj_fex_02_8_21
    (>= (ai_living_count "sq_falcon_ex_02_left_shade_01") 1)
)

(script static boolean obj_scov_r_10_9
    (>= g_spire_obj_control 5)
)

(script static boolean obj_sgrunt_10_11
    (volume_test_players "tv_spire_control")
)

(script static boolean obj_sgrunt_10_13
    (volume_test_players "tv_spire_upper")
)

(script static boolean obj_sjacka_10_16
    (<= g_spire_obj_control 0)
)

(script static boolean obj_scov_0_10_20
    (volume_test_players "tv_spire_base_left")
)

(script static boolean obj_sskirm_10_23
    (<= g_spire_obj_control 1)
)

(script static boolean obj_sgrunt_10_29
    (<= g_spire_obj_control 1)
)

(script static boolean obj_sgrunt_10_33
    (<= g_spire_obj_control 1)
)

(script static boolean obj_stasks_10_34
    (<= g_spire_obj_control 0)
)

(script static boolean obj_scov_0_10_35
    (volume_test_players "tv_spire_base_right")
)

(script static boolean obj_stasks_10_38
    (volume_test_players "tv_spire_03")
)

(script static boolean obj_sgrunt_10_39
    (<= (ai_living_count "gr_spire_top_cov") 3)
)

(script startup void m35_insertion_stub
    (if debug
        (print "m35 insertion stub")
    )
)

(script static void ins_hill
    (print "insertion point : ins_hill")
    (print "switching zone sets...")
    (switch_zone_set "set_hill_intro")
    (sleep_until (= (current_zone_set_fully_active) 0) 1)
    (set g_insertion_index 1)
)

(script static void ins_twin
    (set g_insertion_index 2)
    (if debug
        (print "switching zone sets...")
    )
    (switch_zone_set "set_hill_transition")
    (sleep 1)
    (set g_hill_obj_control 100)
    (wake twin_bfg_start)
    (ai_place "sq_hill_allies_01")
    (ai_place "sq_hill_rockethog_01")
    (object_teleport_to_ai_point (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) "ps_teleports/twin_ins01")
    (if (not (game_is_cooperative))
        (begin
            (ai_place "sq_hill_kat")
            (ai_cannot_die "sq_hill_kat" true)
            (set obj_kat (ai_get_unit "gr_kat"))
            (if (not (game_is_cooperative))
                (wake spartan_waypoints_hill)
            )
            (ai_vehicle_enter_immediate "gr_kat" (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 52)
        )
    )
    (ai_set_objective "gr_allies" "obj_twin_allies")
    (print "teleporting players...")
    (vehicle_load_magic (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 55 player0)
    (vehicle_load_magic (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 57 player1)
    (vehicle_load_magic (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 52 player2)
    (object_teleport_to_ai_point (player3) "ps_teleports/twin_ins02")
    (wake twin_bridge)
    (insertion_fade_to_gameplay)
    (game_save_immediate)
)

(script static void ins_facility
    (set g_insertion_index 3)
    (if debug
        (print "switching zone sets...")
    )
    (switch_zone_set "set_facility")
    (sleep_until (= (current_zone_set_fully_active) 4) 1)
    (sleep 1)
    (unit_add_equipment player0 "profile_full_health" true false)
    (unit_add_equipment player1 "profile_full_health" true false)
    (unit_add_equipment player2 "profile_full_health" true false)
    (unit_add_equipment player3 "profile_full_health" true false)
    (set g_hill_obj_control 100)
    (set g_twin_obj_control 100)
    (wake flocks_02_start)
    (ai_place "sq_hill_rockethog_01/no_driver")
    (object_teleport_to_ai_point (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) "ps_teleports/facility_ins01")
    (sleep 1)
    (print "teleporting players...")
    (vehicle_load_magic (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 55 player0)
    (if (not (game_is_cooperative))
        (begin
            (ai_place "sq_hill_kat/facility")
            (ai_cannot_die "gr_kat" true)
            (set obj_kat (ai_get_unit "gr_kat"))
            (wake kat_control)
            (sleep 1)
            (ai_set_objective "gr_allies" "obj_facility_allies")
            (sleep 1)
            (if (not (game_is_cooperative))
                (wake spartan_waypoints_hill)
            )
            (print "forcing kat into hog turret")
            (ai_vehicle_enter_immediate "gr_kat" (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 57)
        )
        (begin
            (print "teleporting coop players...")
            (vehicle_load_magic (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 57 player1)
            (vehicle_load_magic (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 52 player2)
            (object_teleport_to_ai_point player3 "ps_teleports/facility_ins02")
        )
    )
    (wake md_facility_intro)
    (set g_bfg01_destroyed true)
    (set g_twin_obj_control 5)
    (wake music_alpha)
    (insertion_fade_to_gameplay)
    (game_save_immediate)
    (sleep 90)
    (wake obj_02_adv01_start)
)

(script static void ins_cannon
    (set g_insertion_index 4)
    (if debug
        (print "switching zone sets...")
    )
    (switch_zone_set "set_cannon")
    (sleep 1)
    (if debug
        (print "facility blockers")
    )
    (device_set_position_immediate "dm_facility_door_01" 1)
    (set g_hill_obj_control 100)
    (set g_twin_obj_control 100)
    (set g_facility_obj_control 15)
    (ai_place "sq_hill_kat/cannon")
    (ai_cannot_die "gr_kat" true)
    (set obj_kat (ai_get_unit "gr_kat"))
    (ai_set_objective "gr_allies" "obj_facility_allies")
    (set g_falcon_obj_control 16)
    (print "teleporting players...")
    (object_teleport (player0) "fl_cannon_player0")
    (object_teleport (player1) "fl_cannon_player1")
    (object_teleport (player2) "fl_cannon_player2")
    (object_teleport (player3) "fl_cannon_player3")
    (sleep 1)
    (wake cannon_bfg_start)
    (ai_place "sq_cannon_ghost_01")
    (ai_place "sq_cannon_ghost_02")
    (sleep 1)
    (ai_vehicle_reserve_seat "sq_cannon_ghost_01" 62 true)
    (ai_vehicle_reserve_seat "sq_cannon_ghost_02" 62 true)
    (device_set_position_immediate "dm_facility_door_01" 0)
    (set g_bfg01_destroyed true)
    (insertion_fade_to_gameplay)
    (game_save_immediate)
    (sleep_until (volume_test_players "tv_facility_16") 1)
    (if debug
        (print "set objective control 16")
    )
    (set g_facility_obj_control 16)
    (game_save)
)

(script static void ins_falcon
    (set g_insertion_index 5)
    (print "switching zone sets...")
    (switch_zone_set "set_cannon")
    (sleep 1)
    (set g_hill_obj_control 100)
    (set g_twin_obj_control 100)
    (set g_facility_obj_control 100)
    (set g_cannon_obj_control 100)
    (wake flocks_03_start)
    (ai_place "sq_cannon_bfg_driver")
    (unit_kill (ai_vehicle_get_from_squad "sq_cannon_bfg_driver" 0))
    (ai_place "sq_cannon_ins_troopers")
    (print "teleporting players...")
    (object_teleport (player0) "fl_falcon_player0")
    (object_teleport (player1) "fl_falcon_player1")
    (object_teleport (player2) "fl_falcon_player2")
    (object_teleport (player3) "fl_falcon_player3")
    (sleep 1)
    (unit_add_equipment player0 "profile_full_health" true false)
    (unit_add_equipment player1 "profile_full_health" true false)
    (unit_add_equipment player2 "profile_full_health" true false)
    (unit_add_equipment player3 "profile_full_health" true false)
    (set g_bfg01_destroyed true)
    (set g_bfg02_destroyed true)
    (wake music_bravo)
    (insertion_fade_to_gameplay)
    (game_save_immediate)
    (sleep 90)
    (wake md_cannon_end_02)
)

(script static void ins_spire
    (set g_insertion_index 6)
    (if debug
        (print "switching zone sets...")
    )
    (switch_zone_set "set_spire")
    (sleep 1)
    (set g_hill_obj_control 100)
    (set g_twin_obj_control 100)
    (set g_facility_obj_control 100)
    (set g_cannon_obj_control 100)
    (set g_falcon_obj_control 1000)
    (print "teleporting players...")
    (object_teleport_to_ai_point (player0) "ps_teleports/spire00")
    (object_teleport_to_ai_point (player1) "ps_teleports/spire01")
    (object_teleport_to_ai_point (player2) "ps_teleports/spire02")
    (object_teleport_to_ai_point (player3) "ps_teleports/spire03")
    (set g_bfg01_destroyed true)
    (set g_bfg02_destroyed true)
    (object_create "sc_spire_crashed_falcon_01")
    (object_create "sc_spire_crashed_falcon_02")
    (object_create "sc_falcon_chunk01")
    (object_create "sc_falcon_chunk02")
    (object_create "sc_falcon_chunk03")
    (object_create "dm_sky_frigate01b")
    (simplify_frigate_turrets_02 "dm_sky_frigate01b")
    (frigate01b_load_gunners)
    (cs_run_command_script "sq_sky_frigate01_right_gunners" cs_falcon_frigate_spire)
    (insertion_fade_to_gameplay)
    (game_save_immediate)
)

(script static void ins_blank
    (print "insertion point : blank")
    (set g_insertion_index 10)
    (switch_zone_set "set_hill_intro")
    (sleep_until (= (current_zone_set_fully_active) 0) 1)
    (cinematic_fade_to_gameplay)
    (game_save_immediate)
)

(script static void branch_kill
    (print "branch kill")
)

(script static void hud_unblip_all
    (f_unblip_object (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0))
    (f_unblip_object "sc_hud_bfg01_core")
    (f_unblip_object "sc_hud_bridge")
    (f_unblip_object "sc_hud_bfg02_core")
    (f_unblip_flag "fl_falcon_01")
    (f_unblip_object (ai_vehicle_get_from_squad "sq_falcon_01" 0))
    (f_unblip_object "dc_spire_01")
)

(script command_script void abort_cs
    (print "abort_cs")
    (sleep 1)
)

(script command_script void sleep_cs
    (sleep_forever)
)

(script startup void m35_startup
    (if debug
        (print "m35 startup script")
    )
    (fade_out 0 0 0 0)
    (wake soft_ceilings)
    (ai_allegiance human player)
    (ai_allegiance player human)
    (wake f_global_health_saves)
    (if (game_is_cooperative)
        (begin
            (unit_add_equipment player0 "profile_coop_starting" true false)
            (unit_add_equipment player1 "profile_coop_starting" true false)
            (unit_add_equipment player2 "profile_coop_starting" true false)
            (unit_add_equipment player3 "profile_coop_starting" true false)
            (player_set_profile "profile_coop_respawn")
        )
    )
    (if (and (> (player_count) 0) (not (editor_mode)))
        (start)
        (begin
            (fade_in 0 0 0 0)
        )
    )
    (wake m35)
)

(script static void start
    (print "starting")
    (if (= (game_insertion_point_get) 0)
        (ins_hill)
        (if (= (game_insertion_point_get) 1)
            (ins_twin)
            (if (= (game_insertion_point_get) 2)
                (ins_facility)
                (if (= (game_insertion_point_get) 3)
                    (ins_cannon)
                    (if (= (game_insertion_point_get) 4)
                        (ins_falcon)
                        (if (= (game_insertion_point_get) 5)
                            (ins_spire)
                            (if (= (game_insertion_point_get) 10)
                                (ins_blank)
                                (if (= (game_insertion_point_get) 11)
                                    (test_setpiece_twin)
                                    (if (= (game_insertion_point_get) 9)
                                        (test_setpiece_frigate)
                                    )
                                )
                            )
                        )
                    )
                )
            )
        )
    )
)

(script dormant void m35
    (player_disable_movement false)
    (wake player_on_foot)
    (wake bob_start)
    (wake zone_set_control)
    (wake object_control)
    (wake garbage_collect)
    (sleep_until (>= g_insertion_index 1) 1)
    (if (= g_insertion_index 1)
        (wake enc_hill)
    )
    (sleep_until (or (volume_test_players "tv_enc_twin") (>= g_insertion_index 2)) 1)
    (if (<= g_insertion_index 2)
        (wake enc_twin)
    )
    (sleep_until (or (= (current_zone_set_fully_active) 4) (>= g_insertion_index 3)) 1)
    (if (<= g_insertion_index 3)
        (wake enc_facility)
    )
    (sleep_until (or (volume_test_players "tv_enc_cannon") (>= g_insertion_index 4)) 1)
    (if (<= g_insertion_index 4)
        (wake enc_cannon)
    )
    (sleep_until (or (= (current_zone_set_fully_active) 5) (>= g_insertion_index 5)) 1)
    (if (<= g_insertion_index 5)
        (wake enc_falcon)
    )
    (sleep_until (or (volume_test_players "tv_enc_spire") (>= g_insertion_index 6)) 1)
    (if (<= g_insertion_index 6)
        (wake enc_spire)
    )
)

(script dormant void player_on_foot
    (sleep_until 
        (begin
            (if (or (and (= (game_coop_player_count) 1) (= (unit_in_vehicle player0) true)) (and (= (game_coop_player_count) 2) (and (= (unit_in_vehicle player0) true) (= (unit_in_vehicle player1) true))) (and (= (game_coop_player_count) 3) (and (= (unit_in_vehicle player0) true) (= (unit_in_vehicle player1) true) (= (unit_in_vehicle player2) true))) (and (= (game_coop_player_count) 4) (and (= (unit_in_vehicle player0) true) (= (unit_in_vehicle player1) true) (= (unit_in_vehicle player2) true) (= (unit_in_vehicle player3) true))))
                (set g_player_on_foot false)
                (set g_player_on_foot true)
            )
            false
        )
    )
)

(script dormant void enc_hill
    (if (or editor_cinematics (not (editor_mode)))
        (begin
            (print "starting intro cinematic!")
            (f_start_mission "035la_bigpush")
        )
    )
    (if (not (game_is_cooperative))
        (wake hill_grenade_launcher_training)
    )
    (object_set_permutation "m35_bridge_intro" "default" "destroyed_gp")
    (ai_place "sq_hill_kat")
    (ai_cannot_die "sq_hill_kat" true)
    (set obj_kat (ai_get_unit "gr_kat"))
    (wake hill_intro_hog)
    (if (>= (game_coop_player_count) 3)
        (object_create "v_hill_ghost")
    )
    (wake music_hill)
    (wake hill_place_01)
    (wake hill_big_battle)
    (sleep 20)
    (if (not (game_is_cooperative))
        (wake hill_place_02)
    )
    (wake kat_control)
    (switch_zone_set "set_hill")
    (sleep 1)
    (prepare_to_switch_to_zone_set "set_hill_transition")
    (cinematic_exit "035la_bigpush" true)
    (if (not (game_is_cooperative))
        (wake spartan_waypoints_hill)
    )
    (wake chapter_01_start)
    (wake md_hill_intro)
    (wake md_twin_intro)
    (wake twin_bfg_start)
    (sleep_until (volume_test_players "tv_hill_01") 1)
    (if debug
        (print "set objective control 1")
    )
    (set g_hill_obj_control 1)
    (game_save)
    (sleep_until (volume_test_players "tv_hill_02") 1)
    (if debug
        (print "set objective control 2")
    )
    (set g_hill_obj_control 2)
    (game_save)
    (sleep_until (volume_test_players "tv_hill_03") 1)
    (if debug
        (print "set objective control 3")
    )
    (set g_hill_obj_control 3)
    (game_save)
    (sleep_until (volume_test_players "tv_hill_04") 1)
    (if debug
        (print "set objective control 4")
    )
    (set g_hill_obj_control 4)
    (game_save)
    (sleep_until (volume_test_players "tv_hill_05") 1)
    (if debug
        (print "set objective control 5")
    )
    (set g_hill_obj_control 5)
    (game_save)
    (sleep_until (volume_test_players "tv_hill_06") 1)
    (if debug
        (print "set objective control 6")
    )
    (set g_hill_obj_control 6)
    (game_save)
)

(script dormant void hill_place_01
    (if (not (game_is_cooperative))
        (begin
            (ai_place "sq_hill_falcon_01")
            (object_ignores_emp (ai_vehicle_get_from_squad "sq_hill_falcon_01" 0) true)
            (damage_object (ai_vehicle_get_from_squad "sq_hill_falcon_01" 0) "hull" 400)
            (wake cov_flak_control)
        )
    )
    (sleep 1)
    (ai_place "sq_hill_grunt_01")
    (ai_place "sq_hill_grunt_02")
    (ai_place "sq_hill_jacks_01")
    (ai_place "sq_hill_shades")
    (sleep 1)
    (ai_place "sq_fork_01")
    (ai_place "sq_hill_banshees")
    (ai_disregard (ai_actors "sq_hill_banshees") true)
    (sleep 1)
    (ai_place "sq_hill_elite_01")
    (ai_disregard (ai_actors "sq_hill_elite_01") true)
    (wake hill_pelican_control)
    (f_ai_magically_see_players "obj_hill_cov")
    (ai_cannot_die "sq_hill_kat" true)
    (sleep_until (>= g_hill_obj_control 3) 30 500)
    (print "ai_disregard elite: false")
    (ai_disregard (ai_actors "sq_hill_elite_01") false)
)

(script command_script void cs_hill_kat_start
    (cs_crouch true)
    (sleep 20)
    (cs_enable_looking true)
    (cs_enable_targeting true)
    (sleep 55)
    (cs_use_equipment 2.3)
)

(script dormant void hill_place_02
    (ai_place "sq_hill_falcon_03")
    (object_ignores_emp (ai_vehicle_get_from_squad "sq_hill_falcon_03" 0) true)
    (ai_place "sq_hill_falcon_04")
    (object_ignores_emp (ai_vehicle_get_from_squad "sq_hill_falcon_04" 0) true)
)

(script dormant void hill_pelican_control
    (sleep_until (or (and (>= g_hill_obj_control 4) (<= (ai_living_count "sq_hill_shades") 1)) (and (<= (ai_living_count "obj_hill_cov") 3) (<= (ai_living_count "sq_hill_shades") 1)) (<= (ai_living_count "sq_hill_shades") 0)))
    (print "placing pelican")
    (ai_place "sq_hill_pelican_01")
    (ai_disregard (ai_vehicle_get_from_squad "sq_hill_pelican_01" 0) true)
    (sleep_until (and (<= (ai_living_count "sq_hill_shades") 0) (>= g_hill_obj_control 4)))
    (cs_run_command_script (f_ai_get_vehicle_driver "sq_hill_pelican_01") cs_pelican_01_drop)
    (game_save)
)

(script dormant void cov_flak_control
    (print "cov_flak_control: setting targetting group")
    (ai_set_targeting_group "sq_hill_shades" 2)
    (ai_set_targeting_group "sq_hill_pelican_01" 2)
    (sleep_until (or (>= g_hill_obj_control 3) (<= (ai_living_count "obj_hill_cov/shades") 1) (<= (ai_living_count "sq_hill_elite_01/elite") 0) (<= (ai_living_count "obj_hill_cov") 10)))
    (print "cov_flak_control: re-setting targetting group")
    (ai_set_targeting_group "sq_hill_shades" 65535)
    (f_ai_magically_see_players "sq_hill_shades")
    (ai_set_targeting_group "sq_hill_pelican_01" 65535)
)

(script dormant void hill_big_battle
    (wake flocks_01_start)
    (wake sky_scarab01_start)
    (sleep 60)
    (wake sky_scarab02_start)
    (sleep 60)
    (wake sky_scarab03_start)
)

(script command_script void cs_hill_shades
    (ai_disregard (ai_actors ai_current_actor) true)
    (sleep_until 
        (begin
            (begin_random
                (cs_shoot_point true "ps_hill_shades/p0")
                (cs_shoot_point true "ps_hill_shades/p1")
                (cs_shoot_point true "ps_hill_shades/p2")
                (cs_shoot_point true "ps_hill_shades/p3")
                (cs_shoot_point true "ps_hill_shades/p4")
            )
            (>= g_hill_obj_control 3)
        )
        30
        250
    )
    (cs_enable_targeting true)
    (ai_disregard (ai_actors ai_current_actor) false)
    (ai_magically_see_object ai_current_actor (ai_vehicle_get_from_squad "sq_hill_falcon_01" 0))
    (f_ai_magically_see_players ai_current_actor)
    (print "shades done shooting points")
)

(script dormant void hill_intro_hog
    (object_create "v_hill_intro_hog")
    (sleep 1)
    (object_dynamic_simulation_disable "v_hill_intro_hog" true)
    (damage_object "v_hill_intro_hog" "hull" 400)
    (sleep_until (< (objects_distance_to_object (players) "v_hill_intro_hog") 3) 5 80)
    (object_dynamic_simulation_disable "v_hill_intro_hog" false)
    (unit_kill "v_hill_intro_hog")
)

(script dormant void hill_grenade_launcher_training
    (branch (unit_action_test_rotate_weapons player0) (branch_kill_launcher_training))
    (sleep 200)
    (f_hud_training_new_weapon)
)

(script static void branch_kill_launcher_training
    (chud_clear_hs_variable player0 0)
    (chud_clear_hs_variable player1 0)
    (chud_clear_hs_variable player2 0)
    (chud_clear_hs_variable player3 0)
)

(script command_script void cs_hill_falcon_01
    (ai_set_targeting_group ai_current_actor 2)
    (cs_fly_by "ps_hill_falcons/p0")
    (cs_vehicle_speed 0.8)
    (cs_fly_by "ps_hill_falcons/p1")
    (cs_face true "ps_hill_falcons/p2")
    (damage_object (ai_vehicle_get ai_current_actor) "hull" 100)
    (cs_vehicle_speed 0.2)
    (sleep 30)
    (cs_fly_by "ps_hill_falcons/p4" 1)
    (cs_vehicle_speed 0.5)
    (sleep 30)
    (cs_fly_by "ps_hill_falcons/p1" 1)
    (cs_vehicle_speed 1)
    (cs_fly_by "ps_hill_falcons/p2")
    (f_vehicle_scale_destroy (ai_vehicle_get ai_current_actor))
)

(script command_script void cs_hill_falcon_02
    (ai_set_targeting_group ai_current_actor 2)
    (cs_fly_by "ps_hill_falcons/p3")
    (cs_fly_by "ps_hill_falcons/p4")
    (damage_object (ai_vehicle_get ai_current_actor) "hull" 100)
    (cs_fly_by "ps_hill_falcons/p2")
    (f_vehicle_scale_destroy (ai_vehicle_get ai_current_actor))
)

(script command_script void cs_hill_falcon_03
    (cs_enable_looking true)
    (cs_enable_moving true)
    (sleep (random_range 430 530))
    (unit_kill (ai_vehicle_get ai_current_actor))
)

(script command_script void cs_hill_falcon_04
    (cs_enable_looking true)
    (cs_enable_moving true)
    (damage_object (ai_vehicle_get ai_current_actor) "hull" 100)
    (sleep (random_range 330 430))
    (unit_kill (ai_vehicle_get ai_current_actor))
)

(script command_script void cs_hill_banshees
    (cs_vehicle_boost true)
    (sleep (random_range 60 70))
    (cs_vehicle_boost false)
    (print "cs banshees: boost done")
    (cs_enable_looking true)
    (print "cs banshees: shoot")
    (begin_random
        (cs_shoot_point true "ps_hill_banshees/p0")
        (cs_shoot_point true "ps_hill_banshees/p1")
        (cs_shoot_point true "ps_hill_banshees/p2")
        (cs_shoot_point true "ps_hill_banshees/p3")
        (cs_shoot_point true "ps_hill_banshees/p4")
        (cs_shoot_point true "ps_hill_banshees/p5")
        (cs_shoot_point true "ps_hill_banshees/p6")
    )
    (sleep (random_range 60 110))
    (cs_vehicle_boost true)
    (cs_fly_by "ps_hill_banshees/fly_by_01" 10)
    (cs_fly_by "ps_hill_banshees/fly_by_02" 10)
    (f_vehicle_scale_destroy (ai_vehicle_get ai_current_actor))
)

(script command_script void cs_fork_01
    (if debug
        (print "fork 01")
    )
    (f_load_fork (ai_vehicle_get ai_current_actor) "left" none none "sq_fork_01_grunt_02" none)
    (ai_force_active "gr_fork_01" true)
    (ai_set_objective "gr_fork_01" "obj_hill_cov")
    (cs_fly_to_and_face "ps_fork_01/hover_01" "ps_fork_01/face_01" 1)
    (unit_open (ai_vehicle_get ai_current_actor))
    (cs_fly_to_and_face "ps_fork_01/drop_01" "ps_fork_01_end/face_01" 1)
    (f_unload_fork (ai_vehicle_get ai_current_actor) "left")
    (cs_vehicle_speed 1)
    (cs_fly_to_and_face "ps_fork_01/hover_01" "ps_fork_01/face_01" 1)
    (unit_close (ai_vehicle_get ai_current_actor))
    (sleep 15)
    (cs_vehicle_speed 0.5)
    (cs_fly_by "ps_fork_01/exit_01")
    (cs_vehicle_speed 1)
    (cs_fly_by "ps_fork_01/exit_02")
    (cs_fly_by "ps_fork_01/exit_03")
    (cs_vehicle_boost true)
    (cs_fly_by "ps_fork_01/erase")
    (ai_erase ai_current_squad)
)

(script command_script void cs_pelican_01
    (print "pelican_01")
    (f_load_pelican_cargo (ai_vehicle_get ai_current_actor) "large" "sq_hill_rockethog_01" none)
    (wake hill_hog_setup)
    (wake hog_hill_driver)
    (cs_run_command_script (ai_get_turret_ai ai_current_actor 0) cs_pelican_01_drop_turret)
    (cs_vehicle_boost true)
    (cs_fly_to_and_face "ps_pelican_01/approach_01" "ps_pelican_01/face_01")
    (cs_vehicle_boost false)
    (cs_vehicle_speed 0.5)
    (sleep_until 
        (begin
            (begin_random
                (cs_fly_to_and_face "ps_pelican_01/evade_01" "ps_pelican_01/face_01")
                (cs_fly_to_and_face "ps_pelican_01/evade_02" "ps_pelican_01/face_01")
                (sleep (random_range 0 10))
            )
            false
        )
    )
)

(script command_script void cs_pelican_01_drop
    (if debug
        (print "pelican_01_drop")
    )
    (cs_run_command_script (ai_get_turret_ai ai_current_actor 0) abort_cs)
    (cs_fly_to "ps_pelican_01/approach_01")
    (cs_vehicle_speed 0.6)
    (cs_fly_to_and_face "ps_pelican_01/drop_01" "ps_pelican_01/face_01" 1)
    (sleep_until (not (volume_test_players "tv_hill_hog_drop")) 5)
    (f_unload_pelican_cargo (ai_vehicle_get ai_current_actor) "large")
    (wake hill_hog_blip)
    (sleep_until (volume_test_players "tv_hill_hog_drop") 30 (* 30 20))
    (sleep 60)
    (cs_vehicle_speed 1)
    (cs_fly_by "ps_hill_falcons/p2")
    (f_vehicle_scale_destroy (ai_vehicle_get ai_current_actor))
)

(script command_script void cs_pelican_01_drop_turret
    (sleep_until 
        (begin
            (if (not (volume_test_players "tv_hill_kat"))
                (begin_random
                    (cs_shoot_point true "ps_pelican_01/shoot_01")
                    (cs_shoot_point true "ps_pelican_01/shoot_02")
                    (cs_shoot_point true "ps_pelican_01/shoot_03")
                    (cs_shoot_point true "ps_pelican_01/shoot_04")
                )
                (cs_shoot_point true "ps_pelican_01/shoot_air")
            )
            false
        )
    )
)

(script dormant void hill_hog_setup
    (branch (<= (object_get_health (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0)) 0) (branch_kill))
    (ai_vehicle_reserve_seat (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 55 true)
    (sleep_until (player_in_vehicle (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0)))
    (ai_vehicle_reserve_seat (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 55 false)
    (if (not (game_is_cooperative))
        (ai_player_add_fireteam_squad player0 "sq_hill_rockethog_01/gunner01")
    )
    (sleep_until 
        (begin
            (sleep_until (not (player_in_vehicle (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0))))
            (ai_vehicle_reserve_seat (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 55 true)
            (ai_vehicle_reserve_seat (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 52 true)
            (vehicle_unload (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 55)
            (vehicle_unload (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 52)
            (sleep_until (player_in_vehicle (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0)))
            (ai_vehicle_reserve_seat (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 55 false)
            (ai_vehicle_reserve_seat (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 52 false)
            (game_save)
            false
        )
    )
)

(script dormant void hill_hog_blip
    (f_blip_object_offset (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) blip_default 1)
    (sleep_until (or (player_in_vehicle (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0)) (volume_test_players "tv_enc_twin")))
    (f_unblip_object (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0))
)

(script dormant void enc_twin
    (wake twin_01)
    (wake twin_waypoints)
    (wake twin_wraith_fx)
    (wake md_twin_gun_in_range)
    (wake md_twin_gun_info_02)
    (wake md_facility_intro)
    (ai_lod_full_detail_actors 15)
    (wake twin_place_01)
    (ai_set_objective "gr_allies" "obj_twin_allies")
    (wake hog_twin_driver)
    (if (= g_bob_number 1)
        (ai_place "sq_twin_bob")
    )
    (wake twin_bridge)
    (wake music_twin)
    (sleep_until (volume_test_players "tv_twin_01") 5)
    (if debug
        (print "set objective control 1")
    )
    (set g_twin_obj_control 1)
    (ai_set_objective "gr_hill_allies" "obj_twin_allies")
    (wake twin_place_02)
    (wake twin_place_02b)
    (ai_disposable "gr_hill_cov" true)
    (ai_disposable "gr_hill_cov" true)
    (sleep_until (or g_bfg01_core_destroyed (volume_test_players "tv_twin_02")) 5)
    (if debug
        (print "set objective control 2")
    )
    (set g_twin_obj_control 2)
    (game_save)
    (sleep_until g_bfg01_core_destroyed 5)
    (if debug
        (print "set objective control 3")
    )
    (set g_twin_obj_control 3)
    (wake twin_place_03)
    (wake twin_place_04)
    (game_save)
    (sleep_until (volume_test_players "tv_twin_upper") 5)
    (if debug
        (print "set objective control 4")
    )
    (set g_twin_obj_control 4)
    (game_save)
    (sleep_until (volume_test_players "tv_twin_05") 5)
    (if debug
        (print "set objective control 5")
    )
    (set g_twin_obj_control 5)
    (wake twin_place_05)
    (wake hog_twin_exit_driver)
    (game_insertion_point_unlock 2)
    (game_save)
)

(script dormant void twin_place_01
    (ai_place "sq_twin_grunt_02")
    (sleep 1)
    (ai_place "sq_twin_skirmisher_01")
    (ai_place "sq_twin_skirmisher_02")
    (sleep 1)
    (ai_place "sq_twin_jackal_watch")
    (ai_place "sq_twin_rev_01")
    (sleep 5)
    (if (<= (game_coop_player_count) 2)
        (begin
            (ai_place "sq_twin_cov_02")
            (ai_place "sq_twin_ghost_02")
            (sleep 1)
            (ai_place "sq_twin_ghost_01")
        )
        (begin
            (ai_place "sq_twin_cov_02_3coop")
        )
    )
)

(script dormant void twin_place_02
    (ai_place "sq_phantom_03")
)

(script dormant void twin_place_02b
    (sleep_until (volume_test_players "tv_twin_lower_final") 5)
    (ai_place "sq_twin_grunt_01b")
    (sleep 1)
    (ai_place "sq_twin_jackal_01")
    (ai_place "sq_twin_elite_01")
    (if (<= (game_coop_player_count) 2)
        (ai_place "sq_twin_grunt_01")
        (ai_place "sq_twin_elite_3coop")
    )
)

(script dormant void twin_place_03
    (if (>= (game_coop_player_count) 3)
        (sleep_forever)
    )
    (sleep (random_range 280 330))
    (ai_place "sq_phantom_03")
    (object_set_scale (ai_vehicle_get_from_squad "sq_phantom_03" 0) 0.01 0)
    (object_set_scale (ai_vehicle_get_from_squad "sq_phantom_03" 0) 1 90)
)

(script dormant void twin_place_04
    (sleep_until g_bfg01_destroyed 5)
    (sleep 120)
    (ai_place "sq_twin_phantom_final")
    (game_save)
    (sleep_until (>= (device_get_position "dm_pelican") 0.3))
    (cs_run_command_script (ai_get_turret_ai "sq_twin_phantom_final" 0) cs_twin_phantom_turret)
    (sleep_until (<= (ai_living_count "sq_twin_wraith_01") 0))
    (cs_run_command_script (f_ai_get_vehicle_driver "sq_twin_phantom_final") cs_twin_phantom_final_exit)
    (game_save)
)

(script dormant void twin_place_05
    (ai_place "sq_facility_intro_cov")
)

(script dormant void twin_save
    (branch (>= g_twin_obj_control 3) (branch_kill))
    (sleep_until 
        (begin
            (sleep (* 30 60))
            (game_save)
            false
        )
    )
)

(script command_script void cs_phantom_03
    (if (not g_bfg01_core_destroyed)
        (begin
            (print "phantom 03")
            (ai_place "sq_phantom_03_cov_01")
            (ai_place "sq_phantom_03_cov_02")
            (ai_vehicle_enter_immediate "sq_phantom_03_cov_01" (ai_vehicle_get ai_current_actor) 36)
            (ai_vehicle_enter_immediate "sq_phantom_03_cov_02" (ai_vehicle_get ai_current_actor) 37)
        )
        (if g_bfg01_core_destroyed
            (begin
                (print "phantom 04")
            )
        )
    )
    (sleep 1)
    (ai_set_objective "gr_phantom_03" "obj_twin_cov")
    (cs_fly_by "ps_phantom_03/approach_02" 1)
    (cs_vehicle_speed 0.75)
    (cs_fly_to_and_face "ps_phantom_03/hover_01" "ps_phantom_03/face_01" 1)
    (unit_open (ai_vehicle_get ai_current_actor))
    (sleep 30)
    (cs_fly_to_and_face "ps_phantom_03/drop_01" "ps_phantom_03/face_01" 1)
    (vehicle_unload (ai_vehicle_get ai_current_actor) 37)
    (vehicle_unload (ai_vehicle_get ai_current_actor) 36)
    (sleep 150)
    (cs_fly_by "ps_phantom_03/run_01" 1)
    (cs_vehicle_speed 1)
    (unit_close (ai_vehicle_get ai_current_actor))
    (sleep 15)
    (cs_fly_by "ps_phantom_03/exit_01")
    (cs_fly_by "ps_phantom_03/exit_02")
    (cs_fly_by "ps_phantom_03/exit_03")
    (cs_vehicle_boost true)
    (cs_fly_by "ps_phantom_03/erase")
    (f_vehicle_scale_destroy (ai_vehicle_get ai_current_actor))
)

(script command_script void cs_twin_phantom_final
    (set b_debug_phantom true)
    (print "twin_phantom_final")
    (f_load_phantom (ai_vehicle_get ai_current_actor) "right" "sq_twin_skirmisher_03" none none none)
    (f_load_phantom_cargo (ai_vehicle_get ai_current_actor) "single" "sq_twin_wraith_01" none)
    (cs_run_command_script "sq_twin_wraith_01" abort_cs)
    (cs_vehicle_boost true)
    (cs_fly_by "ps_twin_phantom_final/p0" 1)
    (cs_vehicle_boost false)
    (cs_fly_to_and_face "ps_twin_phantom_final/p1" "ps_twin_phantom_final/p2" 1)
    (sleep 30)
    (f_unload_phantom_cargo (ai_vehicle_get ai_current_actor) "single")
    (f_unload_phantom (ai_vehicle_get ai_current_actor) "right")
    (sleep 40)
    (cs_run_command_script "sq_twin_wraith_01/driver01" cs_twin_wraith_01)
)

(script command_script void cs_twin_phantom_turret
    (cs_shoot true "dm_pelican")
    (sleep_until (>= (device_get_position "dm_pelican") 0.7))
)

(script command_script void cs_twin_phantom_final_exit
    (cs_vehicle_boost true)
    (cs_fly_by "ps_twin_phantom_final/p0" 1)
    (cs_fly_by "ps_twin_phantom_final/p3" 1)
    (f_vehicle_scale_destroy (ai_vehicle_get ai_current_actor))
)

(script dormant void twin_wraith_fx
    (sleep_until (or (<= (ai_task_count "obj_twin_cov/gt_lower_center") 0) (volume_test_players "tv_twin_lower_final")))
    (sleep_until 
        (begin
            (sleep_until (volume_test_players "tv_twin_lower") 5)
            (effect_new_random "fx\fx_library\designer_fx\wraith_mortar.effect" "ps_fx_twin_wraith/p0" 7 3)
            (sleep (random_range 60 120))
            (effect_new_random "fx\fx_library\designer_fx\wraith_mortar.effect" "ps_fx_twin_wraith/p1" 7 3)
            (sleep (random_range 90 150))
            g_bfg01_core_destroyed
        )
    )
)

(script command_script void cs_twin_banshee_lower
    (cs_enable_targeting true)
    (cs_enable_looking true)
    (cs_vehicle_boost true)
    (cs_fly_by "ps_twin_banshee/lower_run_01")
    (cs_fly_by "ps_twin_banshee/lower_run_02")
    (cs_fly_by "ps_twin_banshee/lower_run_03")
    (cs_fly_by "ps_twin_banshee/lower_run_05")
    (cs_fly_by "ps_twin_banshee/lower_run_06")
    (cs_vehicle_boost false)
)

(script command_script void cs_twin_banshee_upper
    (cs_enable_targeting true)
    (cs_enable_looking true)
    (cs_vehicle_boost true)
    (cs_fly_by "ps_twin_banshee/upper_run_01")
    (cs_fly_by "ps_twin_banshee/upper_run_02")
    (cs_fly_by "ps_twin_banshee/upper_run_03")
    (cs_fly_by "ps_twin_banshee/upper_run_04")
    (cs_fly_by "ps_twin_banshee/upper_run_05")
    (cs_vehicle_boost false)
)

(script command_script void cs_twin_banshee_exit
    (cs_vehicle_boost true)
    (cs_fly_by "ps_twin_banshee/exit_01")
    (cs_fly_by "ps_twin_banshee/exit_02")
    (cs_fly_by "ps_twin_banshee/exit_03")
    (cs_fly_by "ps_twin_banshee/erase")
    (ai_erase ai_current_squad)
)

(script command_script void cs_twin_wraith_01
    (cs_abort_on_damage true)
    (sleep_until 
        (begin
            (begin_random_count
                1
                (cs_shoot_point true "ps_twin_wraith/p0")
                (cs_shoot_point true "ps_twin_wraith/p1")
                (cs_shoot_point true "ps_twin_wraith/p2")
                (cs_shoot_point true "ps_twin_wraith/p3")
                (cs_shoot_point true "ps_twin_wraith/p4")
                (cs_shoot_point true "ps_twin_wraith/p5")
            )
            (sleep 120)
            (volume_test_players "tv_twin_upper_center")
        )
    )
    (f_ai_magically_see_players ai_current_actor)
)

(script static void twin_wraith_fight
    (f_ai_magically_see_players ai_current_actor)
    (game_save)
)

(script command_script void cs_twin_falcon_01
    (ai_set_targeting_group ai_current_actor 2)
    (cs_enable_pathfinding_failsafe true)
    (cs_enable_targeting true)
    (object_set_velocity (ai_vehicle_get ai_current_actor) 5 0 10)
    (cs_fly_by "ps_twin_falcon_01/start")
    (sleep_until 
        (begin
            (begin_random_count
                1
                (cs_fly_by "ps_twin_falcon_01/p0")
                (cs_fly_by "ps_twin_falcon_01/p1")
                (cs_fly_by "ps_twin_falcon_01/p2")
            )
            false
        )
        60
    )
)

(script dormant void twin_bfg_start
    (sleep_until (= (current_zone_set_fully_active) 2))
    (wake twin_bfg_target_control)
    (sleep_until (object_model_target_destroyed (ai_vehicle_get_from_squad "sq_twin_bfg_driver" 0) "target_core"))
    (print "bfg01_core_destroyed")
    (set g_bfg01_core_destroyed true)
    (sleep (* 16 30))
    (print "bfg01_destroyed")
    (set g_bfg01_destroyed true)
    (game_save)
)

(script dormant void twin_bfg_target_control
    (ai_place "sq_twin_bfg_driver")
    (wake twin_bfg_failsafe)
    (ai_set_targeting_group "sq_twin_bfg_driver" 2)
    (object_set_persistent (ai_vehicle_get_from_squad "sq_twin_bfg_driver" 0) true)
    (cs_run_command_script "sq_twin_bfg_driver" cs_twin_bfg_shoot)
    (if (not (game_is_cooperative))
        (wake twin_falcon_control)
    )
)

(script dormant void twin_falcon_control
    (sleep_until (>= g_twin_obj_control 1))
    (ai_place "sq_twin_falcon_01")
    (ai_set_targeting_group "sq_twin_falcon_01/driver01" 2)
    (sleep 200)
    (cs_run_command_script "sq_twin_bfg_driver" abort_cs)
    (sleep_until (<= (ai_task_count "obj_twin_allies/gt_falcons") 0))
    (cs_run_command_script "sq_twin_bfg_driver" cs_twin_bfg_shoot)
    (sleep 200)
    (ai_place "sq_twin_falcon_02")
    (ai_set_targeting_group "sq_twin_falcon_02/driver01" 2)
    (sleep 200)
    (cs_run_command_script "sq_twin_bfg_driver" abort_cs)
    (sleep_until (<= (ai_task_count "obj_twin_allies/gt_falcons") 0))
    (cs_run_command_script "sq_twin_bfg_driver" cs_twin_bfg_shoot)
)

(script dormant void twin_bfg_failsafe
    (sleep_until (< (object_get_health (ai_vehicle_get_from_squad "sq_twin_bfg_driver" 0)) 0.5))
    (ai_disregard (ai_actors "sq_twin_bfg_driver") true)
)

(script command_script void cs_twin_bfg_shoot
    (if (= g_twin_obj_control 0)
        (begin
            (cs_shoot_point true "ps_twin_bfg/p0")
            (sleep_until (>= g_twin_obj_control 1) 5)
            (cs_aim true "ps_twin_bfg/p0")
            (sleep 90)
            (cs_aim false "ps_twin_bfg/p0")
            (print "bfg done standing still")
        )
    )
    (sleep_until 
        (begin
            (begin_random
                (cs_shoot_point true "ps_twin_bfg/p0")
                (cs_shoot_point true "ps_twin_bfg/p1")
                (cs_shoot_point true "ps_twin_bfg/p2")
            )
            false
        )
    )
)

(script dormant void twin_bfg_flash
    (print "ui flashing bfg01")
    (f_hud_flash_object "sc_hud_highlight_bfg01")
    (f_blip_title "sc_hud_bfg" "wp_callout_m35_bfg")
)

(script dormant void twin_01
    (sleep_until g_bfg01_core_destroyed 5)
    (if debug
        (print "twin_01 complete")
    )
    (wake frigate_setup)
    (set g_twin_banshee 2)
)

(script dormant void twin_bridge
    (sleep_until (>= (current_zone_set_fully_active) 3) 1)
    (objects_attach "dm_pelican" "" "dm_bridge" "")
    (device_set_position_track "dm_pelican" "m35_device_position" 0)
    (sleep_until (>= g_twin_obj_control 4) 5)
    (print "bridge incoming")
    (wake md_twin_bridge)
    (wake md_twin_bridge_02)
    (device_animate_position "dm_pelican" 1 40 1 1 true)
    (sleep_until (>= (device_get_position "dm_pelican") 0.48) 1)
    (print "drop")
    (objects_detach "dm_pelican" "dm_bridge")
    (device_set_position "dm_bridge" 1)
)

(script dormant void twin_waypoints
    (branch (>= g_twin_obj_control 5) (hud_unblip_all))
    (sleep_until (>= g_twin_obj_control 1) 30 b_waypoint_time)
    (if (not (>= g_twin_obj_control 1))
        (begin
            (f_blip_object "sc_hud_bfg01_core" blip_neutralize)
            (sleep_until g_bfg01_core_destroyed)
            (hud_unblip_all)
        )
    )
    (sleep_until (>= g_twin_obj_control 2) 30 b_waypoint_time)
    (if (not (>= g_twin_obj_control 2))
        (begin
            (f_blip_object "sc_hud_bfg01_core" blip_neutralize)
            (sleep_until g_bfg01_core_destroyed)
            (hud_unblip_all)
        )
    )
    (sleep_until g_bfg01_core_destroyed 30 b_waypoint_time)
    (sleep_until g_bfg01_core_destroyed 30 b_waypoint_time)
    (if (not g_bfg01_core_destroyed)
        (begin
            (wake md_twin_gun_info_03)
            (sleep_until g_bfg01_core_destroyed)
            (sleep 30)
            (hud_unblip_all)
        )
    )
    (game_save)
    (sleep_until (>= g_twin_obj_control 5) 30 b_waypoint_time)
    (if (not (>= g_twin_obj_control 5))
        (begin
            (f_blip_object "sc_hud_bridge" blip_default)
            (sleep_until (>= g_twin_obj_control 5))
            (hud_unblip_all)
        )
    )
    (game_save)
)

(script dormant void enc_facility
    (ai_lod_full_detail_actors 20)
    (wake facility_place_01)
    (wake facility_place_02)
    (wake facility_place_03)
    (wake facility_place_04)
    (wake facility_game_saves)
    (ai_set_objective "gr_allies" "obj_facility_allies")
    (wake md_facility_elite)
    (wake md_facility_end)
    (wake music_facility)
    (wake facility_hologram_training)
    (wake facility_launcher_blip)
    (wake cannon_bfg_start)
    (wake facility_wraith_fx)
    (wake hog_facility_driver)
    (sleep_until (volume_test_players "tv_facility_01") 1)
    (if debug
        (print "set objective control 1")
    )
    (set g_facility_obj_control 1)
    (ai_disposable "gr_twin_cov" true)
    (game_save)
    (sleep_until (or (volume_test_players "tv_facility_02") (volume_test_players "tv_facility_03")) 1)
    (if debug
        (print "set objective control 2")
    )
    (set g_facility_obj_control 2)
    (game_save)
    (sleep_until (volume_test_players "tv_facility_03") 1)
    (if debug
        (print "set objective control 3")
    )
    (set g_facility_obj_control 3)
    (game_save)
    (sleep_until (or (volume_test_players "tv_facility_04") (volume_test_players "tv_facility_11")) 1)
    (if debug
        (print "set objective control 4")
    )
    (set g_facility_obj_control 4)
    (game_save)
    (sleep_until (or (volume_test_players "tv_facility_05") (volume_test_players "tv_facility_11")) 1)
    (if debug
        (print "set objective control 5")
    )
    (set g_facility_obj_control 5)
    (game_save)
    (sleep_until (or (volume_test_players "tv_facility_06") (volume_test_players "tv_facility_11")) 1)
    (if debug
        (print "set objective control 6")
    )
    (set g_facility_obj_control 6)
    (game_save)
    (sleep_until (or (volume_test_players "tv_facility_07") (volume_test_players "tv_facility_11")) 1)
    (if debug
        (print "set objective control 7")
    )
    (set g_facility_obj_control 7)
    (game_save)
    (sleep_until (or (volume_test_players "tv_facility_08") (volume_test_players "tv_facility_11")) 1)
    (if debug
        (print "set objective control 8")
    )
    (set g_facility_obj_control 8)
    (game_save)
    (sleep_until (or (volume_test_players "tv_facility_09") (volume_test_players "tv_facility_11")) 1)
    (if debug
        (print "set objective control 9")
    )
    (set g_facility_obj_control 9)
    (game_save)
    (sleep_until (or (volume_test_players "tv_facility_10") (volume_test_players "tv_inner_bypass")) 1)
    (if debug
        (print "set objective control 10")
    )
    (set g_facility_obj_control 10)
    (game_save)
    (sleep_until (or (volume_test_players "tv_facility_11") (volume_test_players "tv_inner_bypass")) 1)
    (if debug
        (print "set objective control 11")
    )
    (set g_facility_obj_control 11)
    (game_save)
    (sleep_until (or (volume_test_players "tv_facility_12") (volume_test_players "tv_inner_bypass")) 1)
    (if debug
        (print "set objective control 12")
    )
    (set g_facility_obj_control 12)
    (game_save)
    (sleep_until (or (volume_test_players "tv_facility_13") (volume_test_players "tv_inner_bypass")) 1)
    (if debug
        (print "set objective control 13")
    )
    (set g_facility_obj_control 13)
    (ai_player_remove_fireteam_squad player0 "sq_facility_allies_01")
    (ai_player_remove_fireteam_squad player0 "sq_facility_allies_02")
    (ai_player_remove_fireteam_squad player0 "gr_allies")
    (game_save)
    (sleep_until (volume_test_players "tv_facility_14") 1)
    (if debug
        (print "set objective control 14")
    )
    (set g_facility_obj_control 14)
    (game_save)
    (sleep_until (volume_test_players "tv_facility_15") 1)
    (if debug
        (print "set objective control 15")
    )
    (set g_facility_obj_control 15)
    (game_save)
    (sleep_until (volume_test_players "tv_facility_16") 1)
    (if debug
        (print "set objective control 16")
    )
    (set g_facility_obj_control 16)
    (set g_music03 true)
    (game_save)
)

(script dormant void facility_game_saves
    (sleep_until 
        (begin
            (if (and (volume_test_players "tv_facility_14") (<= (ai_living_count "sq_facility_grunt_01") 0))
                (begin
                    (game_save)
                    (sleep 300)
                )
                (if (volume_test_players "tv_facility_final_rush")
                    (begin
                        (game_save)
                        (sleep 300)
                    )
                )
            )
            false
        )
    )
)

(script dormant void facility_place_01
    (ai_place "sq_facility_allies_01")
    (ai_place "sq_facility_allies_02")
    (sleep 1)
    (ai_place "sq_facility_shade_01")
    (ai_place "sq_facility_intro_grunts")
    (ai_place "sq_facility_intro_jackals")
    (sleep 1)
    (ai_place "sq_facility_cov_01")
    (ai_place "sq_facility_grunt_02")
    (ai_place "sq_facility_plasma_01")
    (ai_place "sq_facility_skirmisher_01")
    (sleep_until (>= g_facility_obj_control 4))
    (if (not (game_is_cooperative))
        (begin
            (ai_player_add_fireteam_squad player0 "sq_facility_allies_01")
            (ai_player_add_fireteam_squad player0 "sq_facility_allies_02")
        )
    )
)

(script dormant void facility_place_02
    (sleep_until (>= g_facility_obj_control 6) 5)
    (ai_place "sq_facility_jackal_02")
    (ai_place "sq_facility_jackal_04")
    (ai_place "sq_facility_cov_leader01")
    (sleep_until (volume_test_players "tv_facility_inner"))
    (if (or (and (= (game_difficulty_get) legendary) (>= (game_coop_player_count) 2)) (and (= (game_difficulty_get) heroic) (>= (game_coop_player_count) 3)) (and (volume_test_players "tv_facility_inner") (any_players_in_vehicle)))
        (ai_place "sq_facility_banshees")
    )
)

(script dormant void facility_place_03
    (sleep_until (>= g_facility_obj_control 13) 5)
    (ai_place "sq_facility_grunt_04")
    (wake facility_zealot)
)

(script dormant void facility_place_04
    (sleep_until (>= g_facility_obj_control 12) 5)
    (ai_place "sq_facility_grunt_01")
    (ai_place "sq_facility_grunt_03")
    (ai_place "sq_cannon_ghost_01")
    (ai_place "sq_cannon_ghost_02")
)

(script dormant void facility_hologram_training
    (sleep_until (or (unit_has_equipment player0 "objects\equipment\hologram\hologram.equipment") (unit_has_equipment player1 "objects\equipment\hologram\hologram.equipment") (unit_has_equipment player2 "objects\equipment\hologram\hologram.equipment") (unit_has_equipment player3 "objects\equipment\hologram\hologram.equipment")) 5)
    (sleep 10)
    (f_hud_training_new_weapon)
)

(script dormant void cannon_shield_training
    (sleep_until (or (unit_has_equipment player0 "objects\equipment\drop_shield\drop_shield.equipment") (unit_has_equipment player1 "objects\equipment\drop_shield\drop_shield.equipment") (unit_has_equipment player2 "objects\equipment\drop_shield\drop_shield.equipment") (unit_has_equipment player3 "objects\equipment\drop_shield\drop_shield.equipment")) 5)
    (sleep 10)
    (f_hud_training_new_weapon)
)

(script dormant void facility_launcher_blip
    (f_blip_weapon "w_plasma_launcher_01" 5 9)
    (wake facility_plasma_training)
)

(script dormant void facility_plasma_training
    (sleep_until (or (unit_has_weapon player0 "objects\weapons\support_high\plasma_launcher\plasma_launcher.weapon") (unit_has_weapon player1 "objects\weapons\support_high\plasma_launcher\plasma_launcher.weapon") (unit_has_weapon player2 "objects\weapons\support_high\plasma_launcher\plasma_launcher.weapon") (unit_has_weapon player3 "objects\weapons\support_high\plasma_launcher\plasma_launcher.weapon")) 5)
    (sleep 10)
    (f_hud_training_new_weapon)
)

(script dormant void facility_bypass
    (sleep_until (volume_test_players "tv_facility_11"))
    (if (<= g_facility_obj_control 10)
        (set g_facility_obj_control 11)
    )
)

(script dormant void facility_zealot
    (ai_place "sq_facility_zealot")
    (set obj_zealot (ai_get_unit "sq_facility_zealot"))
    (f_ai_magically_see_players "sq_facility_zealot")
    (sleep 70)
    (f_callout_ai "sq_facility_zealot" blip_hostile)
    (sleep_until (or (volume_test_players "tv_facility_zealot_03") (<= (ai_living_count (object_get_ai obj_zealot)) 0)))
    (print "zealot escaping")
    (cs_run_command_script (object_get_ai obj_zealot) cs_facility_zealot)
    (sleep_until (<= (ai_living_count (object_get_ai obj_zealot)) 0))
    (if (and (not g_facility_zealot_escaped) (<= (current_zone_set_fully_active) 4))
        (begin
            (print "achievement: zealot killed")
            (wake md_facility_zealot_dead)
            (submit_incident_with_cause_player "zealot_achieve" player0)
            (submit_incident_with_cause_player "zealot_achieve" player1)
            (submit_incident_with_cause_player "zealot_achieve" player2)
            (submit_incident_with_cause_player "zealot_achieve" player3)
        )
    )
)

(script command_script void cs_facility_zealot
    (ai_set_active_camo ai_current_actor true)
    (cs_go_to "ps_facility_zealot/p0")
    (if (not (or (>= g_facility_obj_control 16) (volume_test_players "tv_facility_zealot_04")))
        (begin
            (print "zealot escaped")
            (set g_facility_zealot_escaped true)
            (ai_erase ai_current_actor)
        )
        (begin
            (print "zealot sword fight")
            (unit_add_equipment ai_current_actor "profile_zealot" true true)
            (ai_berserk ai_current_actor true)
            (sleep 10)
            (ai_set_active_camo ai_current_actor false)
        )
    )
)

(script static boolean b_facility_hog_control
    (and (volume_test_objects "tv_facility_hog_control" (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0)) (< (objects_distance_to_object (players) (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0)) 10))
)

(script dormant void facility_wraith_fx
    (sleep_until (>= g_facility_obj_control 11))
    (sleep_until 
        (begin
            (effect_new_random "fx\fx_library\designer_fx\wraith_mortar.effect" "ps_fx_facility_wraith" 1 1)
            (sleep (random_range 30 90))
            (>= g_facility_obj_control 15)
        )
    )
)

(script command_script void cs_facility_banshees
    (cs_vehicle_boost true)
    (sleep (random_range 220 260))
    (cs_enable_looking true)
    (cs_enable_moving true)
    (sleep (random_range 120 160))
    (cs_enable_targeting true)
    (cs_shoot_secondary_trigger true)
    (cs_vehicle_boost false)
    (sleep_forever)
)

(script dormant void enc_cannon
    (wake cannon_place_01)
    (if (= g_bob_number 2)
        (ai_place "sq_cannon_bob")
    )
    (wake cannon_finish)
    (wake cannon_kat_enter_vehicle)
    (wake cannon_01)
    (wake md_cannon_intro)
    (wake md_cannon_end)
    (wake music_cannon)
    (wake flocks_02c_start)
    (wake cannon_ui_bfg_flash)
    (wake cannon_shield_training)
    (wake cannon_waypoints)
    (wake cannon_backtrack_saves)
    (sleep_until (volume_test_players "tv_cannon_01") 1)
    (if debug
        (print "set objective control 1")
    )
    (set g_cannon_obj_control 1)
    (wake cannon_place_02)
    (damage_object "v_cannon_hog" "hull" 400)
    (if (= (game_difficulty_get) legendary)
        (object_create "terminal_m35_13")
    )
    (sleep_until (volume_test_players "tv_cannon_02") 1)
    (if debug
        (print "set objective control 2")
    )
    (set g_cannon_obj_control 2)
    (sleep_until (volume_test_players "tv_cannon_03") 1)
    (if debug
        (print "set objective control 3")
    )
    (set g_cannon_obj_control 3)
    (ai_disposable "gr_facility_cov" true)
    (wake cannon_place_03)
    (game_save)
    (sleep_until (volume_test_players "tv_cannon_04") 1)
    (if debug
        (print "set objective control 4")
    )
    (set g_cannon_obj_control 4)
    (game_save)
    (sleep_until (volume_test_players "tv_cannon_05") 1)
    (if debug
        (print "set objective control 5")
    )
    (set g_cannon_obj_control 5)
    (sleep_until (volume_test_players "tv_cannon_06") 1)
    (if debug
        (print "set objective control 6")
    )
    (set g_cannon_obj_control 6)
    (wake cannon_place_04)
    (game_save)
)

(script dormant void cannon_place_01
    (ai_place "sq_cannon_cov_03")
    (if (>= (game_coop_player_count) 3)
        (begin
            (ai_place "sq_cannon_skirmisher_02")
            (ai_place "sq_cannon_jackal_03")
        )
    )
)

(script dormant void cannon_place_02
    (ai_place "sq_cannon_wraith_01")
    (ai_place "sq_cannon_wraith_02")
    (if (>= (game_coop_player_count) 2)
        (ai_place "sq_cannon_wraith_03")
    )
    (ai_place "sq_cannon_jackal_01")
    (ai_place "sq_cannon_skirmisher_01")
    (ai_place "sq_cannon_cov_01")
    (wake cannon_wraith_saves)
)

(script dormant void cannon_place_03
    (ai_place "sq_cannon_cov_02")
    (ai_place "sq_cannon_hunters")
    (wake cannon_hunter_saves)
)

(script dormant void cannon_place_04
    (if (or (= (game_difficulty_get) legendary) (= (game_difficulty_get) heroic) (game_is_cooperative))
        (ai_place "sq_cannon_bugger_01")
    )
    (if (>= (game_coop_player_count) 3)
        (ai_place "sq_cannon_bugger_02")
    )
)

(script dormant void cannon_finish
    (sleep (* 30 20))
    (sleep_until g_bfg02_core_destroyed)
    (ai_place "sq_cannon_phantom")
    (ai_place "sq_cannon_pelican")
)

(script dormant void cannon_kat_enter_vehicle
    (branch (>= g_cannon_obj_control 1) (branch_kill))
    (sleep_until (any_players_in_vehicle))
    (sleep 20)
    (if (>= (ai_vehicle_count "gr_kat") 1)
        (sleep_forever)
    )
    (print "kat enter vehicle")
    (if (vehicle_test_seat_unit_list "v_cannon_rev" none (players))
        (ai_vehicle_enter "gr_kat" "v_cannon_rev" none)
        (if (not (vehicle_test_seat_unit_list (ai_vehicle_get_from_squad "sq_cannon_ghost_01" 0) none (players)))
            (ai_vehicle_enter "gr_kat" (ai_vehicle_get_from_squad "sq_cannon_ghost_01" 0) none)
            (if (not (vehicle_test_seat_unit_list (ai_vehicle_get_from_squad "sq_cannon_ghost_02" 0) none (players)))
                (ai_vehicle_enter "gr_kat" (ai_vehicle_get_from_squad "sq_cannon_ghost_02" 0) none)
                (if (not (vehicle_test_seat_unit_list "v_cannon_ghost" none (players)))
                    (ai_vehicle_enter "gr_kat" "v_cannon_ghost" none)
                )
            )
        )
    )
)

(script command_script void cs_cannon_ghost_01
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to_vehicle (ai_vehicle_get_from_squad "sq_cannon_ghost_01" 0))
    (cs_enable_targeting false)
    (cs_enable_looking false)
    (cs_enable_moving false)
    (cs_vehicle_boost true)
    (cs_go_to "ps_cannon_ghost/run_01")
)

(script command_script void cs_cannon_ghost_02
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to_vehicle (ai_vehicle_get_from_squad "sq_cannon_ghost_02" 0))
    (cs_enable_targeting false)
    (cs_enable_looking false)
    (cs_enable_moving false)
    (cs_vehicle_boost true)
    (cs_go_to "ps_cannon_ghost/run_01")
    (cs_go_to "ps_cannon_ghost/run_02")
)

(script command_script void cs_cannon_wraith_shoot_01
    (cs_abort_on_damage true)
    (sleep_until 
        (begin
            (begin_random_count
                1
                (cs_shoot_point true "ps_cannon_wraith_01/p0")
                (cs_shoot_point true "ps_cannon_wraith_01/p1")
                (cs_shoot_point true "ps_cannon_wraith_01/p2")
                (cs_shoot_point true "ps_cannon_wraith_01/p3")
                (cs_shoot_point true "ps_cannon_wraith_01/p4")
            )
            (sleep 120)
            false
        )
    )
)

(script command_script void cs_cannon_wraith_shoot_02
    (cs_abort_on_damage true)
    (sleep_until 
        (begin
            (begin_random_count
                1
                (cs_shoot_point true "ps_cannon_wraith_02/p0")
                (cs_shoot_point true "ps_cannon_wraith_02/p1")
                (cs_shoot_point true "ps_cannon_wraith_02/p2")
                (cs_shoot_point true "ps_cannon_wraith_02/p3")
                (cs_shoot_point true "ps_cannon_wraith_02/p4")
            )
            (sleep 120)
            false
        )
    )
)

(script dormant void cannon_backtrack_saves
    (branch g_bfg02_core_destroyed (branch_kill))
    (sleep_until 
        (begin
            (sleep_until (not (volume_test_players "tv_cannon_backtrack")))
            (sleep_until (volume_test_players "tv_cannon_backtrack"))
            (sleep 90)
            (game_save)
            false
        )
    )
)

(script dormant void cannon_wraith_saves
    (sleep_until (<= (ai_living_count "gr_cannon_wraiths") 2))
    (set g_music02 true)
    (game_save)
    (sleep_until (<= (ai_living_count "gr_cannon_wraiths") 0))
    (game_save)
)

(script dormant void cannon_hunter_saves
    (sleep_until (<= (ai_living_count "sq_cannon_hunters") 1))
    (set g_music02 true)
    (game_save)
    (sleep_until (<= (ai_living_count "gr_cannon_wraiths") 0))
    (game_save)
)

(script command_script void cs_cannon_phantom
    (cs_enable_pathfinding_failsafe true)
    (if debug
        (print "cs_cannon_phantom")
    )
    (ai_place "sq_cannon_phantom_cov")
    (if (game_is_cooperative)
        (ai_place "sq_cannon_phantom_cov_coop")
    )
    (ai_vehicle_enter_immediate "sq_cannon_phantom_cov" (ai_vehicle_get ai_current_actor) 40)
    (ai_vehicle_enter_immediate "sq_cannon_phantom_cov_coop" (ai_vehicle_get ai_current_actor) 36)
    (sleep 1)
    (cs_vehicle_boost true)
    (cs_fly_by "ps_cannon_phantom/p0")
    (cs_vehicle_boost false)
    (cs_fly_by "ps_cannon_phantom/p1")
    (unit_open (ai_vehicle_get ai_current_actor))
    (cs_fly_to_and_face "ps_cannon_phantom/p2" "ps_cannon_phantom/p3" 1)
    (f_unload_phantom (ai_vehicle_get ai_current_actor) "dual")
    (unit_close (ai_vehicle_get ai_current_actor))
    (sleep 90)
    (cs_vehicle_speed 1)
    (cs_fly_by "ps_cannon_phantom/p1")
    (cs_fly_by "ps_cannon_phantom/p0")
    (cs_fly_by "ps_cannon_phantom/p4")
    (f_vehicle_scale_destroy (ai_vehicle_get ai_current_actor))
)

(script command_script void cs_cannon_pelican
    (f_load_pelican (ai_vehicle_get ai_current_actor) "dual" "sq_cannon_troopers" "sq_cannon_troopers_02")
    (cs_vehicle_boost true)
    (cs_fly_by "ps_cannon_pelican/flyby01")
    (cs_fly_by "ps_cannon_pelican/flyby02")
    (cs_vehicle_boost false)
    (cs_vehicle_speed 0.5)
    (cs_fly_to_and_face "ps_cannon_pelican/flyby03" "ps_cannon_pelican/face" 1)
    (f_unload_pelican_all (ai_vehicle_get ai_current_actor))
    (sleep 100)
    (unit_close (ai_vehicle_get ai_current_actor))
    (sleep 100)
    (cs_fly_by "ps_cannon_pelican/flyby02")
    (cs_vehicle_speed 1)
    (cs_fly_by "ps_cannon_pelican/flyby04")
    (cs_fly_by "ps_cannon_pelican/flyby05")
    (f_vehicle_scale_destroy (ai_vehicle_get ai_current_actor))
)

(script dormant void cannon_bfg_start
    (sleep_until (= (current_zone_set_fully_active) 5))
    (wake cannon_bfg_target_control)
    (sleep_until (object_model_target_destroyed (ai_vehicle_get_from_squad "sq_cannon_bfg_driver" 0) "target_core"))
    (print "bfg01: core destroyed")
    (set g_bfg02_core_destroyed true)
    (sleep (* 30 15))
    (set g_bfg02_destroyed true)
    (f_hud_obj_complete)
    (set g_music02 true)
    (set g_music03 true)
    (f_blip_flag "fl_falcon_01" blip_defend)
    (game_save)
)

(script dormant void cannon_bfg_target_control
    (ai_place "sq_cannon_bfg_driver")
    (wake cannon_bfg_failsafe)
    (ai_set_targeting_group "sq_cannon_bfg_driver" 2)
    (object_set_persistent (ai_vehicle_get_from_squad "sq_cannon_bfg_driver" 0) true)
    (cs_run_command_script "sq_cannon_bfg_driver" cs_cannon_bfg01_shoot)
    (if (not (game_is_cooperative))
        (wake cannon_falcon_control)
    )
)

(script dormant void cannon_falcon_control
    (sleep_until (>= g_twin_obj_control 3))
    (ai_place "sq_cannon_falcon_01")
    (ai_set_targeting_group "sq_cannon_falcon_01" 2)
    (sleep 150)
    (cs_run_command_script "sq_cannon_bfg_driver" abort_cs)
    (sleep_until (<= (ai_task_count "obj_cannon_allies/gt_falcons") 0))
    (cs_run_command_script "sq_cannon_bfg_driver" cs_cannon_bfg01_shoot)
    (sleep 200)
    (ai_place "sq_cannon_falcon_02")
    (ai_set_targeting_group "sq_cannon_falcon_02" 2)
    (sleep 150)
    (cs_run_command_script "sq_cannon_bfg_driver" abort_cs)
    (sleep_until (<= (ai_task_count "obj_cannon_allies/gt_falcons") 0))
    (cs_run_command_script "sq_cannon_bfg_driver" cs_cannon_bfg01_shoot)
)

(script dormant void cannon_bfg_failsafe
    (sleep_until (< (object_get_health (ai_vehicle_get_from_squad "sq_cannon_bfg_driver" 0)) 0.5))
    (ai_disregard (ai_actors "sq_cannon_bfg_driver") true)
)

(script command_script void cs_cannon_bfg01_shoot
    (sleep_until 
        (begin
            (begin_random
                (cs_shoot_point true "ps_cannon_bfg/p0")
                (cs_shoot_point true "ps_cannon_bfg/p1")
                (cs_shoot_point true "ps_cannon_bfg/p2")
            )
            false
        )
    )
)

(script dormant void cannon_ui_bfg_flash
    (branch g_bfg02_core_destroyed (cannon_ui_bfg_flash_branch))
    (sleep_until (and (volume_test_players "tv_cannon_main") (objects_can_see_object (players) "sc_hud_highlight_bfg02" 30)))
    (print "ui flashing bfg01")
    (f_hud_flash_object "sc_hud_highlight_bfg02")
)

(script static void cannon_ui_bfg_flash_branch
    (print "bfg02 destroyed before ui flash")
)

(script command_script void cs_cannon_falcon_01
    (ai_set_targeting_group ai_current_actor 2)
    (cs_enable_pathfinding_failsafe true)
    (cs_enable_targeting true)
    (begin_random_count
        1
        (object_teleport_to_ai_point (ai_vehicle_get ai_current_actor) "ps_cannon_falcon_01/t1")
        (object_teleport_to_ai_point (ai_vehicle_get ai_current_actor) "ps_cannon_falcon_01/t2")
        (object_teleport_to_ai_point (ai_vehicle_get ai_current_actor) "ps_cannon_falcon_01/t3")
    )
    (object_set_velocity (ai_vehicle_get ai_current_actor) 20 0 10)
    (cs_fly_by "ps_cannon_falcon_01/start")
    (sleep_until 
        (begin
            (cs_fly_by "ps_cannon_falcon_01/p0")
            (cs_fly_by "ps_cannon_falcon_01/p1")
            (cs_fly_by "ps_cannon_falcon_01/p2")
            (cs_fly_by "ps_cannon_falcon_01/p1")
            false
        )
        60
    )
)

(script dormant void cannon_01
    (sleep_until g_bfg02_core_destroyed 1)
    (if debug
        (print "cannon complete")
    )
)

(script dormant void cannon_waypoints
    (branch g_bfg02_core_destroyed (hud_unblip_all))
    (sleep_until (<= (ai_task_count "obj_cannon_cov/gt_cov") 6) 30 b_waypoint_time)
    (if (not (<= (ai_task_count "obj_cannon_cov/gt_cov") 6))
        (begin
            (wake md_cannon_waypoint)
            (f_blip_object "sc_hud_bfg02_core" blip_neutralize)
            (sleep_until g_bfg02_core_destroyed 1)
            (hud_unblip_all)
        )
    )
    (sleep_until (<= (ai_living_count "gr_cannon_wraiths") 2) 30 b_waypoint_time)
    (if (not (<= (ai_living_count "gr_cannon_wraiths") 2))
        (begin
            (wake md_cannon_waypoint)
            (f_blip_object "sc_hud_bfg02_core" blip_neutralize)
            (sleep_until g_bfg02_core_destroyed 1)
            (hud_unblip_all)
        )
    )
    (sleep_until (<= (ai_living_count "gr_cannon_wraiths") 0) 30 b_waypoint_time)
    (if (not (<= (ai_living_count "gr_cannon_wraiths") 2))
        (begin
            (wake md_cannon_waypoint)
            (f_blip_object "sc_hud_bfg02_core" blip_neutralize)
            (sleep_until g_bfg02_core_destroyed 1)
            (hud_unblip_all)
        )
    )
    (sleep_until (>= g_cannon_obj_control 5) 30 b_waypoint_time)
    (if (not (>= g_cannon_obj_control 5))
        (begin
            (wake md_cannon_waypoint)
            (f_blip_object "sc_hud_bfg02_core" blip_neutralize)
            (sleep_until g_bfg02_core_destroyed 1)
            (hud_unblip_all)
        )
    )
    (sleep_until g_bfg02_core_destroyed 30 b_waypoint_time)
    (if (not g_bfg02_core_destroyed)
        (begin
            (wake md_cannon_waypoint)
            (f_blip_object "sc_hud_bfg02_core" blip_neutralize)
            (sleep_until g_bfg02_core_destroyed 1)
            (hud_unblip_all)
        )
    )
)

(script dormant void enc_falcon
    (sleep_until g_bfg02_destroyed)
    (sleep_until (and (<= (ai_living_count (f_ai_get_vehicle_driver "sq_cannon_phantom")) 0) (<= (ai_task_count "obj_cannon_cov/final_retreat_cov") 3) (<= (ai_task_count "obj_cannon_cov/gt_wraith") 0) (<= (ai_living_count "sq_cannon_hunters") 0)) 30 (* 30 420))
    (wake md_falcon_canyon)
    (wake md_falcon_callouts)
    (wake md_falcon_dome_start)
    (wake music_falcon)
    (wake falcon_place)
    (wake falcon_cov_place)
    (kill_volume_disable "kill_falcon_01")
    (kill_volume_disable "kill_falcon_02")
    (add_recycling_volume "tv_sp_cannon_evac" 0 30)
    (wake flocks_03_start)
    (wake falcon_garbage_collect)
    (wake falcon_crash)
    (game_insertion_point_unlock 4)
)

(script dormant void falcon_place
    (f_ai_place_vehicle_deathless_no_emp "sq_falcon_01")
    (ai_cannot_die (f_ai_get_vehicle_driver "sq_falcon_01") true)
    (f_falcon_seat_control "sq_falcon_01")
    (ai_vehicle_reserve_seat (ai_vehicle_get_from_squad "sq_falcon_01" 0) 63 true)
    (ai_vehicle_reserve_seat (ai_vehicle_get_from_squad "sq_falcon_01" 0) 65 true)
    (ai_vehicle_reserve_seat (ai_vehicle_get_from_squad "sq_falcon_01" 0) 67 true)
    (ai_vehicle_reserve_seat (ai_vehicle_get_from_squad "sq_falcon_01" 0) 68 true)
    (ai_vehicle_reserve_seat (ai_vehicle_get_from_squad "sq_falcon_01" 0) 69 true)
    (ai_vehicle_reserve_seat (ai_vehicle_get_from_squad "sq_falcon_01" 0) 70 false)
    (if (coop_players_3)
        (begin
            (print "placing 2nd falcon")
            (f_ai_place_vehicle_deathless_no_emp "sq_falcon_02")
            (ai_cannot_die (f_ai_get_vehicle_driver "sq_falcon_02") true)
            (f_falcon_seat_control "sq_falcon_02")
            (ai_vehicle_reserve_seat (ai_vehicle_get_from_squad "sq_falcon_02" 0) 63 true)
            (ai_vehicle_reserve_seat (ai_vehicle_get_from_squad "sq_falcon_02" 0) 65 true)
            (ai_vehicle_reserve_seat (ai_vehicle_get_from_squad "sq_falcon_02" 0) 67 true)
            (ai_vehicle_reserve_seat (ai_vehicle_get_from_squad "sq_falcon_02" 0) 68 true)
        )
    )
    (wake falcon_start_test)
)

(script static void (f_falcon_seat_control (ai falcon))
    (vehicle_set_player_interaction (ai_vehicle_get_from_squad falcon 0) 71 false false)
    (vehicle_set_player_interaction (ai_vehicle_get_from_squad falcon 0) 63 true false)
    (vehicle_set_player_interaction (ai_vehicle_get_from_squad falcon 0) 65 true false)
    (vehicle_set_player_interaction (ai_vehicle_get_from_squad falcon 0) 67 false false)
    (vehicle_set_player_interaction (ai_vehicle_get_from_squad falcon 0) 72 false false)
    (vehicle_set_player_interaction (ai_vehicle_get_from_squad falcon 0) 69 false false)
)

(script dormant void falcon_cov_place
    (wake falcon_cov_sleep_right)
    (wake falcon_cov_sleep_left)
    (sleep_until (>= g_falcon_obj_control 20) 1)
    (sleep 1)
    (ai_place "sq_falcon_ex_01_right_cov_01")
    (sleep_until (>= g_falcon_obj_control 30) 5)
    (ai_place "sq_falcon_ex_01_left_cov_01")
    (ai_force_low_lod "gr_falcon_exposure_01")
    (sleep 1)
    (print "placing right side shades")
    (ai_place "sq_falcon_ex_02_right_shade_02")
    (sleep 1)
    (print "placing right side wraiths")
    (ai_place "sq_falcon_ex_02_wraith_01_r")
    (sleep 1)
    (sleep 1)
    (ai_place "sq_falcon_ex_02_left_cov_01")
    (ai_place "sq_falcon_ex_02_left_cov_01b")
    (sleep 1)
    (print "placing left side shades")
    (ai_place "sq_falcon_ex_02_left_shade_02")
    (sleep 1)
    (print "placing left side wraiths")
    (ai_place "sq_falcon_ex_02_wraith_01_l")
    (sleep 1)
    (print "placing right side flak")
    (ai_place "sq_falcon_ex_02_right_watch")
    (ai_place "sq_falcon_ex_02_right_cov_01")
    (sleep 1)
    (ai_disregard (ai_actors "sq_falcon_01") true)
    (ai_disregard (ai_actors "sq_falcon_02") true)
    (ai_force_full_lod "gr_falcon_exposure_02_shades")
    (ai_force_low_lod "gr_falcon_exposure_02_inf")
    (f_ai_magically_see_players "obj_falcon_cov")
    (sleep_until (volume_test_players "tv_falcon_01") 5)
    (print "tv_falcon_01")
    (kill_volume_enable "kill_falcon_01")
    (sleep 20)
    (add_recycling_volume "tv_sp_falcon" 0 1)
    (sleep 60)
    (ai_place "sq_falcon_ex_02_right_shade_03")
    (ai_place "sq_falcon_ex_02_left_shade_03")
    (sleep 1)
    (ai_place "sq_falcon_ex_02_right_cov_02")
    (ai_place "sq_falcon_ex_02_right_cov_02b")
    (ai_place "sq_falcon_ex_02_left_cov_02")
    (wake falcon_right_shade_fire_control)
    (wake falcon_left_shade_fire_control)
    (f_ai_magically_see_players "obj_falcon_cov")
    (sleep_until (>= g_falcon_obj_control 40) 5)
    (f_ai_magically_see_players "obj_falcon_cov")
    (print "kill_falcon_02")
    (kill_volume_enable "kill_falcon_02")
    (sleep 20)
    (add_recycling_volume "tv_sp_falcon" 0 0)
    (sleep 100)
    (cs_run_command_script "sq_falcon_ex_02_left_shade_03" cs_sky_shades)
)

(script dormant void falcon_right_shade_fire_control
    (cs_run_command_script "sq_falcon_ex_02_right_shade_03" sleep_cs)
    (sleep_until (or (<= (ai_living_count "sq_falcon_ex_02_right_shade_02") 1) (>= g_falcon_obj_control 40)) 5)
    (cs_run_command_script "sq_falcon_ex_02_right_shade_03" cs_sky_shades)
)

(script dormant void falcon_left_shade_fire_control
    (cs_run_command_script "sq_falcon_ex_02_left_shade_03" sleep_cs)
    (sleep_until (or (<= (ai_living_count "sq_falcon_ex_02_left_shade_02") 1) (>= g_falcon_obj_control 40)) 5)
    (cs_run_command_script "sq_falcon_ex_02_left_shade_03" cs_sky_shades)
)

(script dormant void falcon_cov_sleep_right
    (branch g_falcon_crash (branch_kill))
    (sleep_until 
        (begin
            (sleep_until (not (falcon_has_right_gunners)))
            (cs_run_command_script "sq_falcon_ex_01_right_cov_01" sleep_cs)
            (cs_run_command_script "sq_falcon_ex_02_wraith_01_r" cs_sky_wraiths)
            (cs_run_command_script "sq_falcon_ex_02_right_shade_02" sleep_cs)
            (cs_run_command_script "sq_falcon_ex_02_right_shade_03" sleep_cs)
            (cs_run_command_script "sq_falcon_ex_02_right_watch" sleep_cs)
            (cs_run_command_script "sq_falcon_ex_02_right_cov_01" sleep_cs)
            (cs_run_command_script "sq_falcon_ex_02_right_cov_02" sleep_cs)
            (cs_run_command_script "sq_falcon_ex_02_right_cov_02b" sleep_cs)
            false
        )
    )
)

(script dormant void falcon_cov_sleep_left
    (branch g_falcon_crash (branch_kill))
    (sleep_until 
        (begin
            (sleep_until (not (falcon_has_left_gunners)))
            (cs_run_command_script "sq_falcon_ex_01_left_cov_01" sleep_cs)
            (cs_run_command_script "sq_falcon_ex_02_wraith_01_l" cs_sky_wraiths)
            (cs_run_command_script "sq_falcon_ex_02_left_cov_01" sleep_cs)
            (cs_run_command_script "sq_falcon_ex_02_left_cov_01b" sleep_cs)
            (cs_run_command_script "sq_falcon_ex_02_left_cov_02" sleep_cs)
            (cs_run_command_script "sq_falcon_ex_02_left_shade_02" sleep_cs)
            (cs_run_command_script "sq_falcon_ex_02_left_shade_03" sleep_cs)
            false
        )
    )
)

(script command_script void cs_sky_wraiths
    (sleep (random_range 0 100))
    (sleep_until 
        (begin
            (begin_random
                (cs_shoot_point true "ps_sky_wraiths/p0")
                (cs_shoot_point true "ps_sky_wraiths/p1")
                (cs_shoot_point true "ps_sky_wraiths/p2")
                (cs_shoot_point true "ps_sky_wraiths/p3")
                (cs_shoot_point true "ps_sky_wraiths/p4")
                (cs_shoot_point true "ps_sky_wraiths/p5")
            )
            false
        )
    )
)

(script command_script void cs_sky_shades
    (sleep (random_range 0 100))
    (sleep_until 
        (begin
            (begin_random
                (cs_shoot_point true "ps_sky_shades/p0")
                (cs_shoot_point true "ps_sky_shades/p1")
                (cs_shoot_point true "ps_sky_shades/p2")
                (cs_shoot_point true "ps_sky_shades/p3")
                (cs_shoot_point true "ps_sky_shades/p4")
                (cs_shoot_point true "ps_sky_shades/p5")
            )
            (< (objects_distance_to_object (players) (ai_vehicle_get ai_current_actor)) 50)
        )
    )
    (cs_aim_player true)
    (sleep 30)
    (f_ai_magically_see_players ai_current_actor)
)

(script command_script void cs_sky_shades_flak
    (sleep (random_range 0 100))
    (sleep_until 
        (begin
            (begin_random
                (cs_shoot_point true "ps_sky_shades/p0")
                (cs_shoot_point true "ps_sky_shades/p1")
                (cs_shoot_point true "ps_sky_shades/p2")
                (cs_shoot_point true "ps_sky_shades/p3")
                (cs_shoot_point true "ps_sky_shades/p4")
                (cs_shoot_point true "ps_sky_shades/p5")
            )
            (< (objects_distance_to_object (players) (ai_vehicle_get ai_current_actor)) 30)
        )
    )
    (cs_aim_player true)
    (sleep 30)
    (f_ai_magically_see_players ai_current_actor)
)

(script dormant void falcon_start_test
    (sleep_until (or (player_in_vehicle (ai_vehicle_get "sq_falcon_01/falcon")) (player_in_vehicle (ai_vehicle_get "sq_falcon_02/falcon"))) 1)
    (sleep_until 
        (begin
            (if (= (unit_in_vehicle_type player0 20) false)
                (f_falcon_start_teleport player0)
            )
            (sleep 1)
            (if (= (unit_in_vehicle_type player1 20) false)
                (f_falcon_start_teleport player1)
            )
            (sleep 1)
            (if (= (unit_in_vehicle_type player2 20) false)
                (f_falcon_start_teleport player2)
            )
            (sleep 1)
            (if (= (unit_in_vehicle_type player3 20) false)
                (f_falcon_start_teleport player3)
            )
            (and (or (= (unit_in_vehicle_type player0 20) true) (not (player_is_in_game player0))) (or (= (unit_in_vehicle_type player1 20) true) (not (player_is_in_game player1))) (or (= (unit_in_vehicle_type player2 20) true) (not (player_is_in_game player2))) (or (= (unit_in_vehicle_type player3 20) true) (not (player_is_in_game player3))))
        )
        1
    )
    (game_safe_to_respawn false)
    (cs_run_command_script (f_ai_get_vehicle_driver "sq_falcon_02") cs_falcon_02a)
    (sleep 50)
    (cs_run_command_script (f_ai_get_vehicle_driver "sq_falcon_01") cs_falcon_01a)
    (game_save)
    (soft_ceiling_enable "default" false)
    (soft_ceiling_enable "m35_flight" true)
    (hud_unblip_all)
    (wake frigate_falcon_setup)
    (sleep 90)
    (prepare_to_switch_to_zone_set "set_cannon_02")
    (sleep (* 30 12))
    (switch_zone_set "set_cannon_02")
    (sleep 90)
    (if (not (game_is_cooperative))
        (game_save_immediate)
        (game_save)
    )
    (set g_music01 true)
)

(script static void (f_falcon_start_teleport (unit player_name))
    (if (not (vehicle_test_seat (ai_vehicle_get_from_squad "sq_falcon_01" 0) 65))
        (unit_enter_vehicle_immediate player_name (ai_vehicle_get_from_squad "sq_falcon_01" 0) "falcon_g_r")
        (if (not (vehicle_test_seat (ai_vehicle_get_from_squad "sq_falcon_01" 0) 63))
            (unit_enter_vehicle_immediate player_name (ai_vehicle_get_from_squad "sq_falcon_01" 0) "falcon_g_l")
            (if (not (vehicle_test_seat (ai_vehicle_get_from_squad "sq_falcon_02" 0) 65))
                (unit_enter_vehicle_immediate player_name (ai_vehicle_get_from_squad "sq_falcon_02" 0) "falcon_g_r")
                (if (not (vehicle_test_seat (ai_vehicle_get_from_squad "sq_falcon_02" 0) 63))
                    (unit_enter_vehicle_immediate player_name (ai_vehicle_get_from_squad "sq_falcon_02" 0) "falcon_g_l")
                )
            )
        )
    )
)

(script static boolean all_players_in_falcon
    (and (unit_in_vehicle_type player0 20) (if (>= (game_coop_player_count) 2)
        (unit_in_vehicle_type player1 20)
    ) (if (>= (game_coop_player_count) 3)
        (unit_in_vehicle_type player2 20)
    ) (if (>= (game_coop_player_count) 4)
        (unit_in_vehicle_type player3 20)
    ))
)

(script static boolean falcon_has_right_gunners
    (or (vehicle_test_seat_unit_list (ai_vehicle_get_from_squad "sq_falcon_01" 0) 65 (players)) (vehicle_test_seat_unit_list (ai_vehicle_get_from_squad "sq_falcon_02" 0) 65 (players)))
)

(script static boolean falcon_has_left_gunners
    (or (vehicle_test_seat_unit_list (ai_vehicle_get_from_squad "sq_falcon_01" 0) 63 (players)) (vehicle_test_seat_unit_list (ai_vehicle_get_from_squad "sq_falcon_02" 0) 63 (players)))
)

(script dormant void falcon_garbage_collect
    (sleep_until (>= g_falcon_obj_control 20) 1)
    (print "recycle cannon")
    (add_recycling_volume "tv_sp_cannon" 0 0)
    (object_destroy_folder "cr_cannon")
    (object_destroy_folder "v_cannon")
    (sleep_until (>= g_falcon_obj_control 30) 1)
    (sleep_until (>= g_falcon_obj_control 40) 1)
    (print "recycle 01")
    (add_recycling_volume "tv_sp_falcon_ex_01" 0 0)
    (sleep_until (>= g_falcon_obj_control 100) 1)
    (print "recycle 02")
    (add_recycling_volume "tv_sp_falcon_ex_02" 0 0)
)

(script command_script void cs_falcon_01
    (cs_enable_pathfinding_failsafe true)
    (print "cs_falcon_01")
    (ai_place "sq_jorge/falcon")
    (sleep 1)
    (set obj_jorge (ai_get_unit "gr_jorge"))
    (ai_cannot_die (object_get_ai obj_jorge) true)
    (ai_force_low_lod "sq_jorge")
    (ai_vehicle_enter_immediate "gr_jorge" (ai_vehicle_get ai_current_actor) 70)
    (ai_place "sq_falcon_01_trooper")
    (ai_cannot_die "sq_falcon_01_trooper" true)
    (ai_force_low_lod "sq_falcon_01_trooper")
    (ai_vehicle_enter_immediate "sq_falcon_01_trooper/01" (ai_vehicle_get ai_current_actor) 72)
    (if (not (game_is_cooperative))
        (wake spartan_waypoints_falcon)
    )
    (cs_fly_by "ps_falcon_01/approach_01")
    (cs_fly_by "ps_falcon_01/approach_04")
    (cs_vehicle_speed 0.5)
    (cs_fly_by "ps_falcon_01/approach_05")
    (cs_vehicle_speed 0.1)
    (cs_fly_to_and_face "ps_falcon_01/hover_01" "ps_falcon_01/face_01" 1)
    (wake md_falcon_start)
    (f_unblip_flag "fl_falcon_01")
    (f_blip_object_offset (ai_vehicle_get_from_squad "sq_falcon_01" 0) blip_default 1)
)

(script command_script void cs_falcon_01a
    (cs_enable_pathfinding_failsafe true)
    (print "cs_falcon_01a")
    (if debug
        (print "set objective control 10")
    )
    (set g_falcon_obj_control 10)
    (cs_vehicle_speed 0.25)
    (cs_fly_by "ps_falcon_01/cinematic_01_02" 1)
    (cs_vehicle_speed 0.6)
    (cs_attach_to_spline "spline_falcon_01a")
    (cs_fly_by "ps_falcon_01/exposure_01a_01")
    (print "set objective control 15")
    (if (< g_falcon_obj_control 15)
        (set g_falcon_obj_control 15)
    )
    (sleep 30)
    (print "set objective control 20")
    (if (< g_falcon_obj_control 20)
        (set g_falcon_obj_control 20)
    )
    (cs_vehicle_speed 0.7)
    (cs_fly_by "ps_falcon_01/exposure_01a_02")
    (cs_attach_to_spline "")
    (if debug
        (print "set objective control 30")
    )
    (if (< g_falcon_obj_control 30)
        (set g_falcon_obj_control 30)
    )
    (cs_fly_by "ps_falcon_01/exposure_01a_03")
    (cs_run_command_script ai_current_actor cs_falcon_01b)
)

(script command_script void cs_falcon_01b
    (cs_enable_pathfinding_failsafe true)
    (print "cs_falcon_01b")
    (cs_attach_to_spline "spline_falcon_01b")
    (cs_vehicle_speed 0.4)
    (cs_fly_by "ps_falcon_01/exposure_01b_01")
    (if debug
        (print "set objective control 40")
    )
    (if (< g_falcon_obj_control 40)
        (set g_falcon_obj_control 40)
    )
    (cs_vehicle_speed 0.3)
    (cs_attach_to_spline "")
    (cs_fly_by "ps_falcon_01/exposure_01b_02")
    (cs_face true "ps_falcon_01/face01")
    (cs_vehicle_speed 0.1)
    (wake falcon_wraiths_dead)
    (sleep_until 
        (begin
            (sleep 90)
            (cs_fly_by "ps_falcon_01/exposure_01b_03")
            (sleep 90)
            (cs_fly_by "ps_falcon_01/exposure_01b_02")
            false
        )
    )
)

(script dormant void falcon_wraiths_dead
    (if (falcon_has_left_gunners)
        (begin
            (sleep_until (<= (ai_task_count "obj_falcon_cov/wraith_left_attack") 0) 60 (* 30 10))
        )
    )
    (if (falcon_has_right_gunners)
        (begin
            (sleep_until (<= (ai_task_count "obj_falcon_cov/wraith_right_attack") 0) 60 (* 30 10))
        )
    )
    (cs_run_command_script (f_ai_get_vehicle_driver "sq_falcon_01") cs_falcon_01c)
    (cs_run_command_script (f_ai_get_vehicle_driver "sq_falcon_02") cs_falcon_02c)
)

(script command_script void cs_falcon_01c
    (cs_enable_pathfinding_failsafe true)
    (print "cs_falcon_01c")
    (if debug
        (print "set objective control 40")
    )
    (if (< g_falcon_obj_control 50)
        (set g_falcon_obj_control 50)
    )
    (cs_vehicle_speed 0.5)
    (cs_attach_to_spline "spline_falcon_01c")
    (cs_fly_by "ps_falcon_01/exposure_01c_01")
    (if debug
        (print "set objective control 100")
    )
    (if (< g_falcon_obj_control 100)
        (set g_falcon_obj_control 100)
    )
    (sleep 60)
    (set g_falcon_crash true)
    (cs_fly_by "ps_falcon_01/exposure_01c_02")
    (sleep_forever)
)

(script command_script void cs_falcon_02
    (print "cs_falcon_02")
    (ai_place "sq_falcon_02_trooper")
    (ai_cannot_die "sq_falcon_02_trooper" true)
    (ai_force_low_lod "sq_falcon_02_trooper")
    (ai_vehicle_enter_immediate "sq_falcon_02_trooper/01" (ai_vehicle_get ai_current_actor) 72)
    (ai_vehicle_enter_immediate "sq_falcon_02_trooper/02" (ai_vehicle_get ai_current_actor) 69)
    (cs_fly_by "ps_falcon_02/approach_01")
    (cs_fly_by "ps_falcon_02/approach_04")
    (cs_vehicle_speed 0.5)
    (cs_fly_by "ps_falcon_02/approach_05")
    (cs_vehicle_speed 0.1)
    (cs_fly_to_and_face "ps_falcon_02/hover_01" "ps_falcon_02/face_01" 1)
    (cs_vehicle_speed 0.25)
    (cs_vehicle_speed 0.7)
    (cs_attach_to_spline "spline_falcon_01a")
)

(script command_script void cs_falcon_02a
    (cs_enable_pathfinding_failsafe true)
    (print "cs_falcon_02b")
    (object_cannot_die (ai_vehicle_get ai_current_actor) true)
    (cs_vehicle_speed 0.25)
    (cs_fly_by "ps_falcon_02/cinematic_01_02" 1)
    (cs_vehicle_speed 0.5)
    (cs_attach_to_spline "spline_falcon_02a")
    (cs_fly_by "ps_falcon_02/exposure_01a_01")
    (cs_vehicle_speed 0.7)
    (cs_fly_by "ps_falcon_02/exposure_01a_02")
    (cs_attach_to_spline "")
    (cs_fly_by "ps_falcon_02/exposure_01a_03")
    (cs_run_command_script ai_current_actor cs_falcon_02b)
)

(script command_script void cs_falcon_02b
    (cs_enable_pathfinding_failsafe true)
    (print "cs_falcon_02b")
    (cs_attach_to_spline "spline_falcon_02b")
    (cs_vehicle_speed 0.4)
    (cs_fly_by "ps_falcon_02/exposure_01b_01")
    (cs_vehicle_speed 0.3)
    (cs_attach_to_spline "")
    (cs_fly_by "ps_falcon_02/exposure_01b_02")
    (cs_face true "ps_falcon_02/face01")
    (cs_vehicle_speed 0.7)
    (sleep_until 
        (begin
            (sleep 90)
            (cs_fly_by "ps_falcon_02/exposure_01b_03" 2)
            (sleep 90)
            (cs_fly_by "ps_falcon_02/exposure_01b_02" 2)
            false
        )
        30
        (* 30 20)
    )
)

(script command_script void cs_falcon_02c
    (cs_enable_pathfinding_failsafe true)
    (print "cs_falcon_02c")
    (cs_vehicle_speed 0.5)
    (cs_attach_to_spline "spline_falcon_02c")
    (cs_fly_by "ps_falcon_02/exposure_01c_01")
    (cs_attach_to_spline "")
    (sleep 60)
    (cs_fly_by "ps_falcon_02/exposure_01c_02")
    (sleep_forever)
)

(script dormant void falcon_crash
    (sleep_until g_falcon_crash 1)
    (sleep 100)
    (cinematic_enter "035lb_falconcrash" true)
    (setup_spire_bodies)
    (vehicle_set_player_interaction (ai_vehicle_get_from_squad "sq_falcon_01" 0) 65 false false)
    (unit_exit_vehicle player0)
    (unit_exit_vehicle player1)
    (unit_exit_vehicle player2)
    (unit_exit_vehicle player3)
    (sleep_until (not (any_players_in_vehicle)) 1)
    (object_destroy (ai_vehicle_get_from_squad "sq_falcon_01" 0))
    (object_destroy (ai_vehicle_get_from_squad "sq_falcon_02" 0))
    (ai_cannot_die "sq_falcon_01_trooper" false)
    (ai_cannot_die "sq_falcon_02_trooper" false)
    (sleep 1)
    (object_hide player0 true)
    (object_hide player1 true)
    (object_hide player2 true)
    (object_hide player3 true)
    (ai_erase_all)
    (unit_add_equipment player0 "profile_full_health" true false)
    (if (or editor_cinematics (not (editor_mode)))
        (begin
            (print "cinematic: 035lb_falconcrash")
            (f_play_cinematic_advanced "035lb_falconcrash" "set_falcon" "set_spire")
        )
    )
    (object_create "sc_spire_crashed_falcon_01")
    (object_create "sc_spire_crashed_falcon_02")
    (object_create "sc_falcon_chunk01")
    (object_create "sc_falcon_chunk02")
    (object_create "sc_falcon_chunk03")
    (object_teleport_to_ai_point player0 "ps_teleports/spire00")
    (object_teleport_to_ai_point player1 "ps_teleports/spire01")
    (object_teleport_to_ai_point player2 "ps_teleports/spire02")
    (object_teleport_to_ai_point player3 "ps_teleports/spire03")
    (if (not (game_is_cooperative))
        (begin
            (object_destroy "dm_sky_frigate01b")
            (sleep 1)
            (object_create "dm_sky_frigate01b")
            (simplify_frigate_turrets_02 "dm_sky_frigate01b")
            (frigate01b_load_gunners)
            (cs_run_command_script "sq_sky_frigate01_right_gunners" cs_falcon_frigate_spire)
        )
    )
    (cinematic_exit "035lb_falconcrash" true)
    (sleep 60)
    (game_save_immediate)
)

(script command_script void falcon_banshee
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_boost true)
    (cs_fly_by "ps_falcon_banshee_01/approach_01")
    (cs_fly_by "ps_falcon_banshee_01/approach_02")
    (cs_fly_by "ps_falcon_banshee_01/approach_03")
    (cs_vehicle_boost false)
)

(script command_script void falcon_banshee_attack
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_boost true)
    (cs_fly_by "ps_falcon_banshee_02/approach_01")
    (cs_fly_by "ps_falcon_banshee_02/approach_02")
    (cs_vehicle_boost false)
)

(script command_script void falcon_banshee_retreat
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_boost true)
    (cs_fly_by "ps_falcon_banshee_02/exit_01")
    (cs_fly_by "ps_falcon_banshee_02/exit_02")
    (cs_fly_by "ps_falcon_banshee_02/erase")
    (ai_erase ai_current_squad)
)

(script dormant void enc_spire
    (unit_add_equipment player0 "profile_spire" true false)
    (unit_add_equipment player1 "profile_spire" true false)
    (unit_add_equipment player2 "profile_spire" true false)
    (unit_add_equipment player3 "profile_spire" true false)
    (object_cannot_die player0 false)
    (object_cannot_die player1 false)
    (object_cannot_die player2 false)
    (object_cannot_die player3 false)
    (soft_ceiling_enable "m35_flight" false)
    (wake spire_place_01)
    (wake md_spire_start)
    (wake md_spire_up)
    (wake md_spire_interior)
    (if (>= g_bob_number 3)
        (ai_place "sq_spire_bob")
    )
    (wake spire_place_objects)
    (wake flocks_04_start)
    (ai_lod_full_detail_actors 15)
    (wake spire_waypoints)
    (wake music_spire)
    (wake spire_focus_training)
    (wake spire_grav_base_save)
    (game_safe_to_respawn true)
    (ai_place "sq_jorge/spire")
    (ai_cannot_die "gr_spartans" true)
    (set obj_jorge (ai_get_unit "gr_jorge"))
    (ai_force_full_lod "sq_jorge")
    (ai_set_objective "gr_spartans" "obj_spire_allies")
    (if (not (game_is_cooperative))
        (begin
            (sleep_forever spartan_waypoints_falcon)
            (wake spartan_waypoints_spire)
        )
    )
    (sleep_until (volume_test_players "tv_spire_01") 1)
    (if debug
        (print "set objective control 1")
    )
    (set g_spire_obj_control 1)
    (game_save)
    (sleep_until (volume_test_players "tv_spire_02") 1)
    (if debug
        (print "set objective control 2")
    )
    (set g_spire_obj_control 2)
    (game_save)
    (sleep_until (volume_test_players "tv_spire_03") 1)
    (if debug
        (print "set objective control 3")
    )
    (set g_spire_obj_control 3)
    (wake spire_place_02)
    (wake spire_place_03)
    (game_save)
    (sleep_until (volume_test_players "tv_spire_04") 1)
    (if debug
        (print "set objective control 4")
    )
    (set g_spire_obj_control 4)
    (set g_music03 true)
    (f_ai_magically_see_players "gr_spire_top_cov")
    (sleep_until (volume_test_players "tv_spire_05") 1)
    (if debug
        (print "set objective control 5")
    )
    (set g_spire_obj_control 5)
    (game_save)
    (sleep_until (not (volume_test_objects "tv_spire_top" (ai_get_object "gr_spire_top_cov"))))
    (device_set_power "dc_spire_01" 1)
    (sleep_until (> (device_get_position "dc_spire_01") 0) 1)
    (set g_music04 true)
    (cinematic_enter "035lc_blackship_reveal" true)
    (ai_erase_all)
    (object_destroy "dm_sky_frigate01b")
    (object_destroy "dm_sky_frigate02b")
    (flock_delete "fk_phantoms_04")
    (flock_delete "fk_wraiths_04")
    (flock_delete "fk_ghosts_04")
    (flock_delete "fk_scorpions_04")
    (flock_delete "fk_warthogs_04")
    (flock_delete "fk_banshee_04")
    (flock_delete "fk_falcon_04")
    (f_end_mission "035lc_blackship_reveal" "set_ending")
    (print "m35 done")
    (game_won)
)

(script dormant void spire_place_01
    (ai_place "sq_spire_banshee_01")
    (ai_place "sq_spire_banshee_02")
    (ai_place "sq_spire_jackal_01")
    (sleep 1)
    (ai_place "sq_spire_skirmisher_01")
    (ai_place "sq_spire_skirmisher_02")
    (ai_place "sq_spire_plasma_03")
    (sleep 1)
    (ai_place "sq_spire_grunt_03_left")
    (ai_place "sq_spire_grunt_04_left")
    (sleep 1)
    (ai_place "sq_spire_grunt_03_right")
    (ai_place "sq_spire_grunt_04_right")
    (sleep 1)
    (ai_place "sq_spire_base_shade_01")
    (sleep_until (>= g_spire_obj_control 3))
    (ai_magically_see "gr_spire_base_cov" "gr_jorge")
    (f_ai_magically_see_players "gr_spire_base_cov")
)

(script dormant void spire_place_02
    (ai_place "sq_spire_base_cov_01")
    (ai_place "sq_spire_base_cov_02")
    (sleep 1)
    (ai_place "sq_spire_base_cov_03")
    (ai_place "sq_spire_base_center")
    (sleep 1)
    (ai_place "sq_spire_base_grunts_left")
    (ai_place "sq_spire_base_grunts_right")
    (sleep_until (<= (ai_living_count "gr_spire_base_cov") 0))
    (game_save)
)

(script dormant void spire_place_03
    (sleep_until (volume_test_players "tv_spire_top"))
    (ai_place "sq_spire_elite_01")
    (if (game_is_cooperative)
        (begin
            (ai_place "sq_spire_elite_02")
            (ai_place "sq_spire_elite_03")
        )
        (ai_place "sq_spire_grunt_01")
    )
    (ai_place "sq_spire_grunt_02")
    (if (>= (game_coop_player_count) 3)
        (begin
            (ai_place "sq_spire_engineer")
            (sleep_until (not (volume_test_objects "tv_spire_top" (object_get_ai "gr_spire_top_cov"))))
            (cs_run_command_script "sq_spire_engineer" cs_spire_engineer_exit)
        )
    )
)

(script dormant void spire_place_objects
    (sleep_until (= (current_zone_set_fully_active) 8) 5)
    (object_create "w_spire_focus")
    (object_create "v_spire_pickup_01")
    (object_create "v_spire_pickup_02")
    (wake jorge_in_pickup_save)
    (wake player_in_banshee_save)
)

(script dormant void jorge_in_pickup_save
    (sleep_until (or (vehicle_test_seat_unit "v_spire_pickup_01" 73 (ai_get_unit "sq_jorge")) (vehicle_test_seat_unit "v_spire_pickup_02" 73 (ai_get_unit "sq_jorge"))))
    (print "jorge in pickup: game save")
    (game_save)
)

(script dormant void player_in_banshee_save
    (sleep_until (or (vehicle_test_seat_unit_list (ai_vehicle_get_from_squad "sq_spire_banshee_01" 0) 74 (players)) (vehicle_test_seat_unit_list (ai_vehicle_get_from_squad "sq_spire_banshee_02" 0) 74 (players))))
    (print "player in banshee: game save")
    (game_save)
)

(script command_script void cs_spire_grunt01
    (sleep 5)
    (print "yoo hoo")
    (cs_abort_on_damage true)
    (cs_go_to "ps_spire_grunts/goto01")
    (sleep_until (volume_test_players "tv_spire_top_grunt01") 10)
    (cs_shoot_point true "ps_spire_grunts/goto01_shoot")
    (sleep 90)
    (cs_enable_targeting true)
    (sleep 130)
)

(script command_script void cs_spire_grunt02
    (cs_abort_on_damage true)
    (cs_go_to "ps_spire_grunts/goto02")
    (sleep_until (volume_test_players "tv_spire_top_grunt02") 10)
    (cs_shoot_point true "ps_spire_grunts/goto02_shoot")
    (sleep 90)
    (cs_enable_targeting true)
    (sleep 130)
)

(script command_script void cs_spire_engineer_exit
    (cs_enable_pathfinding_failsafe true)
    (cs_fly_to "ps_spire_engineer/p0")
    (cs_fly_to "ps_spire_engineer/p1")
    (cs_fly_to "ps_spire_engineer/p2")
    (cs_fly_to "ps_spire_engineer/p3")
    (sleep_forever)
)

(script command_script void cs_spire_banshees
    (cs_vehicle_boost true)
    (ai_prefer_target_ai ai_current_actor "gr_spartans" true)
    (sleep 130)
    (cs_enable_moving true)
    (cs_enable_looking true)
    (sleep 200)
)

(script dormant void spire_phantoms
    (ai_place "sq_spire_phantom")
)

(script command_script void cs_spire_phantom
    (effect_new_on_object_marker "fx\fx_library\object_spawn\object_spawn_vehicles.effect" (ai_vehicle_get ai_current_actor) "")
    (cs_vehicle_boost true)
    (cs_fly_by "ps_spire_phantom/p0")
    (begin_random_count
        1
        (cs_fly_by "ps_spire_phantom/p1a")
        (cs_fly_by "ps_spire_phantom/p1b")
        (cs_fly_by "ps_spire_phantom/p1c")
    )
    (f_vehicle_scale_destroy (ai_vehicle_get ai_current_actor))
)

(script dormant void spire_focus_training
    (sleep_until (or (unit_has_weapon player0 "objects\weapons\rifle\focus_rifle\focus_rifle.weapon") (unit_has_weapon player1 "objects\weapons\rifle\focus_rifle\focus_rifle.weapon") (unit_has_weapon player2 "objects\weapons\rifle\focus_rifle\focus_rifle.weapon") (unit_has_weapon player3 "objects\weapons\rifle\focus_rifle\focus_rifle.weapon")) 5)
    (sleep 10)
    (f_hud_training_new_weapon)
)

(script dormant void spire_grav_base_save
    (if (game_is_cooperative)
        (wake spire_grav_base_save_coop)
        (wake spire_grav_base_save_single)
    )
)

(script dormant void spire_grav_base_save_single
    (sleep_until 
        (begin
            (sleep_until (volume_test_players "tv_spire_grav_base"))
            (print "spire base: game save")
            (game_save)
            false
        )
    )
)

(script dormant void spire_grav_base_save_coop
    (sleep_until (volume_test_players_all "tv_spire_base"))
    (print "spire base coop: game save")
    (game_save_no_timeout)
)

(script dormant void spire_coop_respawn
    (sleep_until 
        (begin
            (sleep_until (volume_test_players_all "tv_spire_top") 5)
            (game_safe_to_respawn false)
            (sleep_until (not (volume_test_players_all "tv_spire_top")) 5)
            (game_safe_to_respawn true)
            false
        )
    )
)

(script command_script void cs_spire_shade
    (cs_abort_on_damage true)
    (sleep_until 
        (begin
            (begin_random_count
                1
                (cs_shoot_point true "ps_spire_shade/p0")
                (cs_shoot_point true "ps_spire_shade/p1")
                (cs_shoot_point true "ps_spire_shade/p2")
                (cs_shoot_point true "ps_spire_shade/p3")
                (cs_shoot_point true "ps_spire_shade/p4")
                (cs_shoot_point true "ps_spire_shade/p5")
            )
            (print "done")
            (and (>= g_spire_obj_control 3) (not (volume_test_players "tv_spire_halfway_area")))
        )
        80
    )
)

(script dormant void spire_waypoints
    (branch (>= (device_get_position "dc_spire_01") 1) (hud_unblip_all))
    (sleep_until (>= g_spire_obj_control 2) 30 b_waypoint_time)
    (if (not (>= g_spire_obj_control 2))
        (begin
            (f_blip_object "dc_spire_01" blip_default)
            (sleep_until (>= g_spire_obj_control 4) 5)
            (hud_unblip_all)
        )
    )
    (game_save)
    (sleep_until (>= g_spire_obj_control 4) 30 b_waypoint_time)
    (if (not (>= g_spire_obj_control 4))
        (begin
            (f_blip_object "dc_spire_01" blip_default)
            (sleep_until (>= g_spire_obj_control 4) 5)
            (hud_unblip_all)
        )
    )
    (game_save)
    (sleep_until 
        (begin
            (sleep_until (not (volume_test_players_all "tv_spire_top")))
            (sleep 200)
            (if (not (<= (ai_living_count "gr_spire_top_cov") 0))
                (begin
                    (f_blip_object "dc_spire_01" blip_default)
                    (md_spire_interior_remind)
                    (sleep_until (volume_test_players_all "tv_spire_top") 5)
                    (hud_unblip_all)
                )
            )
            (game_save)
            false
        )
    )
)

(script dormant void garbage_collect
    (sleep_until (>= (current_zone_set) 3) 1)
    (if debug
        (print "recycle")
    )
    (add_recycling_volume "tv_sp_hill" 0 0)
    (ai_erase "gr_hill_cov")
    (ai_erase_inactive "gr_allies" 30)
    (sleep_until g_bfg01_core_destroyed 1)
    (sleep (* 5 30))
    (add_recycling_volume "tv_sp_bfg01" 5 8)
    (sleep (* 8 30))
    (add_recycling_volume "tv_sp_bfg01" 5 2)
    (sleep_until (>= (current_zone_set) 4) 1)
    (if debug
        (print "recycle")
    )
    (object_set_persistent (ai_vehicle_get_from_squad "sq_twin_bfg_driver" 0) false)
    (sleep 1)
    (add_recycling_volume "tv_sp_twin" 0 0)
    (ai_erase "gr_twin_cov")
    (ai_erase_inactive "gr_allies" 30)
    (sleep_until (>= (current_zone_set) 5) 1)
    (if debug
        (print "recycle")
    )
    (add_recycling_volume "tv_sp_facility" 0 0)
    (ai_erase "gr_facility_cov")
    (ai_erase_inactive "gr_allies" 30)
    (sleep_until g_bfg02_core_destroyed 1)
    (if debug
        (print "recycle")
    )
    (add_recycling_volume "tv_sp_cannon" 30 30)
    (sleep_until (>= (current_zone_set) 6) 1)
    (sleep_until (>= g_falcon_obj_control 15) 1)
    (if debug
        (print "recycle")
    )
    (object_set_persistent (ai_vehicle_get_from_squad "sq_cannon_bfg_driver" 0) false)
    (sleep 1)
    (add_recycling_volume "tv_sp_cannon" 0 0)
    (ai_erase "gr_cannon_canyon")
    (ai_erase "gr_cannon_cov")
    (ai_erase "gr_cannon_allies")
    (ai_erase_inactive "gr_allies" 30)
    (sleep_until (>= (current_zone_set) 9) 1)
    (if debug
        (print "recycle")
    )
    (add_recycling_volume "tv_sp_falcon" 0 0)
    (ai_erase "gr_falcon_cov")
    (ai_erase_inactive "gr_allies" 30)
    (sleep_until (>= g_spire_obj_control 1) 1)
    (if debug
        (print "recycle")
    )
    (add_recycling_volume "tv_sp_spire" 30 30)
    (sleep_until (= (device_get_position "dc_spire_01") 1) 1)
    (if debug
        (print "recycle")
    )
    (add_recycling_volume "tv_sp_spire" 0 0)
    (ai_erase "gr_cov")
    (ai_erase_inactive "gr_allies" 30)
)

(script continuous void recycle_all_continuous
    (sleep_until 
        (begin
            (if (volume_test_players "tv_sp_hill")
                (recycle_lite_go "tv_sp_hill")
                (recycle_go "tv_sp_hill")
            )
            (if (volume_test_players "tv_sp_twin")
                (recycle_lite_go "tv_sp_twin")
                (recycle_go "tv_sp_twin")
            )
            (if (volume_test_players "tv_sp_facility")
                (recycle_lite_go "tv_sp_facility")
                (recycle_go "tv_sp_facility")
            )
            (if (volume_test_players "tv_sp_cannon")
                (recycle_lite_go "tv_sp_cannon")
                (recycle_go "tv_sp_cannon")
            )
            (if (volume_test_players "tv_sp_falcon")
                (if (game_is_cooperative)
                    (recycle_falcon_go "tv_sp_falcon")
                    (recycle_medium_go "tv_sp_falcon")
                )
                (recycle_go "tv_sp_falcon")
            )
            (if (volume_test_players "tv_sp_spire")
                (recycle_lite_go "tv_sp_spire")
                (recycle_go "tv_sp_spire")
            )
            false
        )
        400
    )
)

(script static void (recycle_lite_go (trigger_volume vol))
    (add_recycling_volume vol 60 5)
)

(script static void (recycle_medium_go (trigger_volume vol))
    (add_recycling_volume vol 20 5)
)

(script static void (recycle_falcon_go (trigger_volume vol))
    (add_recycling_volume vol 0 5)
)

(script static void (recycle_go (trigger_volume vol))
    (add_recycling_volume vol 0 0)
)

(script static void test_sky
    (wake flocks_01_start)
)

(script dormant void flocks_01_start
    (print "flocks_01")
    (flock_create "fk_banshee_01")
    (flock_create "fk_falcon_01")
    (flock_create "fk_warthogs01")
    (flock_create "fk_ghosts01")
    (sleep_until (>= g_hill_obj_control 4))
    (print "destroying flocks_01 banshees and falcons")
    (flock_destroy "fk_banshee_01")
    (flock_destroy "fk_falcon_01")
    (sleep (* 4 30))
    (wake flocks_02_start)
)

(script dormant void flocks_02_start
    (print "flocks_02")
    (flock_create "fk_scorpions02")
    (flock_create "fk_wraiths02")
    (flock_create "fk_warthogs02")
    (flock_create "fk_ghosts02")
    (flock_create "fk_falcon_02")
    (flock_create "fk_banshee_02")
    (sleep_until g_bfg01_core_destroyed)
    (sleep_until g_bfg02_core_destroyed)
    (wake flocks_02b_start)
)

(script dormant void flocks_02b_start
    (print "flocks_02b_start")
    (flock_create "fk_falcon_twin")
    (flock_create "fk_pelican_twin")
    (sleep 600)
    (flock_stop "fk_falcon_twin")
    (flock_stop "fk_pelican_twin")
    (sleep_until (>= g_facility_obj_control 1))
    (flock_destroy "fk_warthogs01")
    (flock_destroy "fk_ghosts01")
    (print "flocks_02: destroy")
    (flock_destroy "fk_scorpions02")
    (flock_destroy "fk_warthogs02")
    (flock_destroy "fk_ghosts02")
    (flock_destroy "fk_banshee_02")
)

(script dormant void flocks_02c_start
    (print "flocks_02c_start")
    (flock_create "fk_banshee_02c")
    (flock_create "fk_falcon_02c")
    (sleep_until g_bfg02_destroyed)
    (flock_destroy "fk_banshee_02c")
)

(script dormant void flocks_03_start
    (sleep_until (>= g_falcon_obj_control 10))
    (print "flocks_03_start")
    (flock_create "fk_warthogs03")
    (flock_create "fk_ghosts_03")
    (flock_create "fk_scorpions_03")
    (flock_create "fk_wraiths_03")
    (flock_create "fk_phantoms_03")
    (sleep_until (>= g_falcon_obj_control 20) 5)
    (flock_create "fk_banshee_03")
    (sleep_until (>= g_falcon_obj_control 30) 5)
    (sleep 200)
    (flock_create "fk_falcon_03")
    (sleep_until (>= g_falcon_obj_control 50) 5)
    (print "flocks_03: destroy")
    (flock_stop "fk_warthogs03")
    (flock_stop "fk_ghosts_03")
    (flock_stop "fk_scorpions_03")
    (flock_stop "fk_wraiths_03")
    (flock_stop "fk_banshee_03")
    (flock_stop "fk_falcon_03")
    (flock_stop "fk_phantoms_03")
)

(script dormant void flocks_04_start
    (print "flocks_04_start")
    (flock_delete "fk_warthogs03")
    (flock_delete "fk_ghosts_03")
    (flock_delete "fk_scorpions_03")
    (flock_delete "fk_wraiths_03")
    (flock_delete "fk_banshee_03")
    (flock_delete "fk_falcon_03")
    (flock_delete "fk_phantoms_03")
    (sleep 1)
    (flock_create "fk_phantoms_04")
    (flock_create "fk_wraiths_04")
    (flock_create "fk_ghosts_04")
    (flock_create "fk_scorpions_04")
    (flock_create "fk_warthogs_04")
    (flock_create "fk_banshee_04")
    (flock_create "fk_falcon_04")
)

(script dormant void sky_scarab01_start
    (sky_scarab_anim "dm_scarab01")
)

(script dormant void sky_scarab02_start
    (sky_scarab_anim "dm_scarab02")
)

(script dormant void sky_scarab03_start
    (sky_scarab_anim "dm_scarab03")
)

(script static void (sky_scarab_anim (device_name scarab))
    (sleep_until 
        (begin
            (device_set_position_track scarab "stationary_march" 0)
            (device_animate_position scarab 1 (random_range 7 10) 1 1 true)
            (sleep_until (>= (device_get_position scarab) 1) 1)
            (sleep (random_range 0 20))
            false
        )
    )
)

(script dormant void twin_scarab_destruction
    (sleep (random_range 220 250))
    (print "twin_scarab_destruction")
    (begin_random
        (begin
            (sleep_forever sky_scarab01_start)
            (wake sky_scarab01_death)
            (sleep (random_range 20 120))
        )
        (begin
            (sleep_forever sky_scarab02_start)
            (wake sky_scarab02_death)
            (sleep (random_range 20 120))
        )
        (begin
            (sleep_forever sky_scarab03_start)
            (wake sky_scarab03_death)
            (sleep (random_range 20 120))
        )
    )
)

(script dormant void sky_scarab01_death
    (destroy_scarab "dm_scarab01")
)

(script dormant void sky_scarab02_death
    (destroy_scarab "dm_scarab02")
)

(script dormant void sky_scarab03_death
    (destroy_scarab "dm_scarab03")
)

(script static void (destroy_scarab (device_name scarab))
    (sleep_until (or (>= (device_get_position scarab) 1) (<= (device_get_position scarab) 0)))
    (device_set_position_track scarab "device:scarab_death" 0)
    (device_animate_position scarab 1 (random_range 9 12) 1 1 true)
    (sleep_until (>= (device_get_position scarab) 1) 1)
    (object_set_permutation scarab "default" "destroyed")
    (print "scarab dead fx")
    (effect_new_on_object_marker "objects\giants\scarab\fx\destruction\main_explosion.effect" scarab "")
)

(script dormant void twin_longswords_start
    (wake md_twin_longswords)
    (sleep (* 10 30))
    (object_create "dm_longswords")
    (object_create "sc_longsword_01")
    (object_create "sc_longsword_02")
    (object_create "sc_longsword_03")
    (sleep 1)
    (device_set_position_track "dm_longswords" "m35_fp1" 0)
    (objects_attach "dm_longswords" "longsword01" "sc_longsword_01" "")
    (objects_attach "dm_longswords" "longsword02" "sc_longsword_02" "")
    (objects_attach "dm_longswords" "longsword03" "sc_longsword_03" "")
    (device_animate_position "dm_longswords" 1 15 0 0 true)
    (sleep_until (>= (device_get_position "dm_longswords") 0.5) 1)
    (flock_destroy "fk_wraiths02")
    (twin_longsword_fx_start)
    (sleep_until (>= (device_get_position "dm_longswords") 1) 1)
    (object_destroy "dm_longswords")
    (object_destroy "sc_longsword_01")
    (object_destroy "sc_longsword_02")
    (object_destroy "sc_longsword_03")
)

(script static void twin_longsword_fx_start
    (print "longsword fx")
    (effect_new_at_ai_point "fx\fx_library\explosions\human_longsword_bomb\human_longsword_bomb.effect" "ps_twin_longswords/p0")
    (sleep 5)
    (effect_new_at_ai_point "fx\fx_library\explosions\human_longsword_bomb\human_longsword_bomb.effect" "ps_twin_longswords/p1")
    (sleep 5)
    (effect_new_at_ai_point "fx\fx_library\explosions\human_longsword_bomb\human_longsword_bomb.effect" "ps_twin_longswords/p2")
    (sleep 5)
    (effect_new_at_ai_point "fx\fx_library\explosions\human_longsword_bomb\human_longsword_bomb.effect" "ps_twin_longswords/p3")
    (sleep 5)
    (effect_new_at_ai_point "fx\fx_library\explosions\human_longsword_bomb\human_longsword_bomb.effect" "ps_twin_longswords/p4")
    (sleep 5)
    (effect_new_at_ai_point "fx\fx_library\explosions\human_longsword_bomb\human_longsword_bomb.effect" "ps_twin_longswords/p5")
    (sleep 5)
    (effect_new_at_ai_point "fx\fx_library\explosions\human_longsword_bomb\human_longsword_bomb.effect" "ps_twin_longswords/p6")
)

(script static void (f_ls_flyby (device_name d))
    (object_create d)
    (device_set_position_immediate d 0)
    (object_set_scale d 1 10)
    (device_set_position d 1)
    (sleep_until (>= (device_get_position d) 0.9) 1)
    (print "longsword done")
    (object_destroy d)
)

(script command_script void cs_twin_frigate
    (sleep_until 
        (begin
            (begin_random
                (cs_shoot_point true "ps_twin_frigate/p0")
                (cs_shoot_point true "ps_twin_frigate/p1")
                (cs_shoot_point true "ps_twin_frigate/p2")
                (cs_shoot_point true "ps_twin_frigate/p3")
                (cs_shoot_point true "ps_twin_frigate/p4")
            )
            false
        )
        30
    )
)

(script command_script void cs_twin_frigate_sky
    (sleep_until 
        (begin
            (begin_random_count
                1
                (cs_shoot_point true "ps_twin_frigate_sky/p0")
                (cs_shoot_point true "ps_twin_frigate_sky/p1")
                (cs_shoot_point true "ps_twin_frigate_sky/p2")
                (cs_shoot_point true "ps_twin_frigate_sky/p3")
                (cs_shoot_point true "ps_twin_frigate_sky/p4")
            )
            false
        )
        80
    )
)

(script dormant void frigate_setup
    (print "frigate_setup")
    (object_create "dm_sky_frigate01")
    (object_hide "dm_sky_frigate01" true)
    (simplify_frigate_turrets "dm_sky_frigate01")
    (object_create "dm_sky_frigate02")
    (object_hide "dm_sky_frigate02" true)
    (simplify_frigate_turrets_02 "dm_sky_frigate02")
    (wake frigate_move_control_start)
    (sleep 1)
    (frigate01_load_gunners)
    (wake frigate_target_control)
    (sleep 160)
    (wake twin_longswords_start)
)

(script static void test
    (object_create "dm_sky_frigate02")
    (simplify_frigate_turrets_02 "dm_sky_frigate02")
)

(script static void (simplify_frigate_turrets (device_name frigate))
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 2))
    (sleep 1)
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 2))
    (sleep 1)
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 2))
    (sleep 1)
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 2))
    (sleep 1)
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 2))
    (sleep 1)
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 4))
    (sleep 1)
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 4))
    (sleep 1)
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 4))
)

(script static void (simplify_frigate_turrets_02 (device_name frigate))
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 0))
    (sleep 1)
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 0))
    (sleep 1)
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 0))
    (sleep 1)
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 0))
    (sleep 1)
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 0))
    (sleep 1)
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 0))
    (sleep 1)
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 0))
    (sleep 1)
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 2))
    (sleep 1)
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 2))
    (sleep 1)
    (object_destroy (list_get (object_list_children frigate "objects\vehicles\human\turrets\frigate_turret_medium\frigate_turret_medium.vehicle") 2))
)

(script dormant void frigate_move_control_start
    (print "frigate: moving")
    (device_set_position_track "dm_sky_frigate01" "m35_advance0" 0)
    (device_set_position_immediate "dm_sky_frigate01" 0)
    (object_hide "dm_sky_frigate01" false)
    (device_animate_position "dm_sky_frigate01" 0.4 3 0.1 0.5 false)
    (sleep (* 30 3))
    (print "frig")
    (device_animate_position "dm_sky_frigate01" 1 32 0.1 0.1 false)
    (sleep (random_range 200 220))
    (device_set_position_track "dm_sky_frigate02" "m35_advance0" 0)
    (device_set_position_immediate "dm_sky_frigate02" 0)
    (device_animate_position "dm_sky_frigate02" 1 41 0.1 0.1 false)
    (sleep 1)
    (object_hide "dm_sky_frigate02" false)
)

(script dormant void frigate_falcon_setup
    (ai_erase "sq_sky_frigate01_right_gunners")
    (object_destroy "dm_sky_frigate01")
    (object_destroy "dm_sky_frigate02")
    (sleep 1)
    (object_create "dm_sky_frigate01b")
    (simplify_frigate_turrets "dm_sky_frigate01b")
    (if (game_is_cooperative)
        (sleep_forever)
    )
    (object_create "dm_sky_frigate02b")
    (simplify_frigate_turrets_02 "dm_sky_frigate02b")
    (sleep 1)
    (frigate01b_load_gunners)
    (wake falcon_frigate_target_control)
)

(script dormant void frigate_target_control
    (sleep_until (>= (device_get_position "dm_sky_frigate01") 0.5))
    (cs_run_command_script "sq_sky_frigate01_right_gunners" cs_twin_frigate_sky)
    (wake twin_scarab_destruction)
    (if (>= (game_coop_player_count) 3)
        (sleep_forever)
    )
    (sleep_until (>= (device_get_position "dm_sky_frigate01") 0.6))
    (print "frigate01: targeting phantom")
    (cs_run_command_script "sq_sky_frigate01_right_gunners" cs_twin_frigate)
    (sleep 150)
    (cs_run_command_script "sq_sky_frigate01_right_gunners" abort_cs)
    (ai_set_targeting_group "sq_sky_frigate01_right_gunners" 11)
    (ai_set_targeting_group "sq_phantom_03" 11)
    (sleep_until (>= (ai_living_count "sq_phantom_03") 1) 30 (* 30 30))
    (sleep_until (<= (ai_living_count "sq_phantom_03") 0) 30 (* 30 30))
    (sleep_until (<= (ai_task_count "obj_twin_cov/twin_cov_lower_destroyed") 3) 30 (* 30 30))
    (cs_run_command_script "sq_sky_frigate01_right_gunners" cs_twin_frigate_sky)
    (print "frigate01: done helping player")
)

(script static void frigate01_load_gunners
    (if debug
        (print "frigate01: loading gunners")
    )
    (ai_place "sq_sky_frigate01_right_gunners")
    (ai_place "sq_sky_frigate01_left_gunners")
    (ai_cannot_die "sq_sky_frigate01_right_gunners" true)
    (ai_cannot_die "sq_sky_frigate01_left_gunners" true)
    (ai_set_clump "sq_sky_frigate01_right_gunners" 1)
    (ai_set_clump "sq_sky_frigate01_left_gunners" 1)
    (ai_designer_clump_perception_range 600)
    (vehicle_load_magic (object_at_marker "dm_sky_frigate01" "turret_right_bottom01") none (ai_get_object "sq_sky_frigate01_right_gunners/bottom01"))
    (vehicle_load_magic (object_at_marker "dm_sky_frigate01" "turret_right_bottom02") none (ai_get_object "sq_sky_frigate01_right_gunners/bottom02"))
    (vehicle_load_magic (object_at_marker "dm_sky_frigate01" "turret_left_bottom01") none (ai_get_object "sq_sky_frigate01_left_gunners/bottom01"))
    (vehicle_load_magic (object_at_marker "dm_sky_frigate01" "turret_left_bottom02") none (ai_get_object "sq_sky_frigate01_left_gunners/bottom02"))
)

(script static void frigate01b_load_gunners
    (if debug
        (print "frigate01: loading gunners")
    )
    (ai_place "sq_sky_frigate01_right_gunners")
    (ai_cannot_die "sq_sky_frigate01_right_gunners" true)
    (ai_set_clump "sq_sky_frigate01_right_gunners" 1)
    (ai_designer_clump_perception_range 600)
    (vehicle_load_magic (object_at_marker "dm_sky_frigate01b" "turret_right_bottom01") none (ai_get_object "sq_sky_frigate01_right_gunners/bottom01"))
    (vehicle_load_magic (object_at_marker "dm_sky_frigate01b" "turret_right_bottom02") none (ai_get_object "sq_sky_frigate01_right_gunners/bottom02"))
)

(script dormant void falcon_frigate_target_control
    (sleep_until (>= g_falcon_obj_control 40))
    (cs_run_command_script "sq_sky_frigate01_right_gunners" cs_falcon_frigate)
    (sleep_until (>= g_falcon_obj_control 50))
    (cs_run_command_script "sq_sky_frigate01_right_gunners" cs_falcon_frigate_spire)
    (cs_run_command_script "sq_sky_frigate01_left_gunners" cs_falcon_frigate02)
    (cs_run_command_script "sq_sky_frigate02_right_gunners" cs_falcon_frigate_spire)
)

(script command_script void cs_falcon_frigate
    (sleep_until 
        (begin
            (begin_random
                (cs_shoot_point true "ps_falcon_frigate/p0")
                (cs_shoot_point true "ps_falcon_frigate/p1")
                (cs_shoot_point true "ps_falcon_frigate/p2")
                (cs_shoot_point true "ps_falcon_frigate/p3")
                (cs_shoot_point true "ps_falcon_frigate/p4")
            )
            false
        )
    )
)

(script command_script void cs_falcon_frigate02
    (sleep_until 
        (begin
            (begin_random
                (cs_shoot_point true "ps_falcon_frigate02/p0")
                (cs_shoot_point true "ps_falcon_frigate02/p1")
                (cs_shoot_point true "ps_falcon_frigate02/p2")
                (cs_shoot_point true "ps_falcon_frigate02/p3")
                (cs_shoot_point true "ps_falcon_frigate02/p4")
            )
            false
        )
    )
)

(script command_script void cs_falcon_frigate_spire
    (sleep_until 
        (begin
            (begin_random
                (cs_shoot_point true "ps_falcon_frigate_spire/p0")
                (cs_shoot_point true "ps_falcon_frigate_spire/p1")
                (cs_shoot_point true "ps_falcon_frigate_spire/p2")
                (cs_shoot_point true "ps_falcon_frigate_spire/p3")
                (cs_shoot_point true "ps_falcon_frigate_spire/p4")
            )
            false
        )
    )
)

(script static void frigate02_load_gunners
    (if debug
        (print "frigate02: loading gunners")
    )
    (ai_place "sq_sky_frigate02_right_gunners")
    (ai_cannot_die "sq_sky_frigate02_right_gunners" true)
    (vehicle_load_magic (object_at_marker "dm_sky_frigate02" "turret_right_bottom01") none (ai_get_object "sq_sky_frigate02_right_gunners/bottom01"))
    (vehicle_load_magic (object_at_marker "dm_sky_frigate02" "turret_right_bottom02") none (ai_get_object "sq_sky_frigate02_right_gunners/bottom02"))
)

(script static void frigate02b_load_gunners
    (if debug
        (print "frigate02: loading gunners")
    )
    (ai_place "sq_sky_frigate02_right_gunners")
    (ai_cannot_die "sq_sky_frigate02_right_gunners" true)
    (vehicle_load_magic (object_at_marker "dm_sky_frigate02b" "turret_right_bottom01") none (ai_get_object "sq_sky_frigate02_right_gunners/bottom01"))
    (vehicle_load_magic (object_at_marker "dm_sky_frigate02b" "turret_right_bottom02") none (ai_get_object "sq_sky_frigate02_right_gunners/bottom02"))
)

(script dormant void bob_start
    (if (= g_bob_number 0)
        (begin_random_count
            1
            (set g_bob_number 1)
            (set g_bob_number 2)
            (set g_bob_number 3)
            (set g_bob_number 4)
        )
    )
)

(script command_script void cs_bob_elite
    (sleep_until (or (bob_will_run_from_player player0 ai_current_actor) (bob_will_run_from_player player1 ai_current_actor) (bob_will_run_from_player player2 ai_current_actor) (bob_will_run_from_player player3 ai_current_actor)))
    (cs_enable_moving true)
    (cs_enable_targeting true)
    (cs_enable_looking true)
    (cs_enable_dialogue true)
    (print "special elite spotted")
    (sleep (* 30 25))
    (ai_set_active_camo ai_current_actor true)
    (sleep 30)
    (print "special fail")
    (sleep 1)
    (ai_erase ai_current_actor)
)

(script static boolean (bob_will_run_from_player (player player_num, ai bob))
    (and (or (or (> (object_get_recent_shield_damage (ai_get_object bob)) 0) (> (object_get_recent_body_damage (ai_get_object bob)) 0)) (< (objects_distance_to_object player_num bob) 15)) (= (player_is_in_game player_num) true))
)

(script dormant void soft_ceilings
    (soft_ceiling_enable "blocker_01" false)
    (soft_ceiling_enable "blocker_02" true)
    (soft_ceiling_enable "blocker_03" false)
    (soft_ceiling_enable "blocker_05" false)
    (soft_ceiling_enable "m35_flight" false)
    (kill_volume_disable "kill_soft_twin")
    (sleep_until (>= (current_zone_set_fully_active) 2) 1)
    (soft_ceiling_enable "camera_blocker_01" false)
    (soft_ceiling_enable "camera_blocker_02" false)
    (sleep_until (>= (current_zone_set) 3) 1)
    (soft_ceiling_enable "blocker_01" true)
    (sleep_until (>= (current_zone_set_fully_active) 3) 1)
    (soft_ceiling_enable "camera_blocker_03" false)
    (kill_volume_enable "kill_soft_twin")
    (sleep_until g_bfg01_destroyed 1)
    (kill_volume_disable "kill_soft_twin")
    (soft_ceiling_enable "blocker_02" false)
    (sleep_until (>= (current_zone_set) 4) 1)
    (soft_ceiling_enable "blocker_03" true)
    (sleep_until (>= (current_zone_set_fully_active) 4) 1)
    (soft_ceiling_enable "camera_blocker_04" false)
    (sleep_until (>= (current_zone_set) 5) 1)
    (soft_ceiling_enable "camera_blocker_05" false)
    (sleep_until (>= (current_zone_set) 6) 1)
    (soft_ceiling_enable "blocker_05" true)
)

(script dormant void zone_set_control
    (sleep_until (>= (current_zone_set) 0) 1)
    (sleep_until (>= (current_zone_set) 1) 1)
    (sleep_until (>= (current_zone_set_fully_active) 1) 1)
    (sleep_until (>= (current_zone_set) 2) 1)
    (sleep_until (>= (current_zone_set_fully_active) 2) 1)
    (zone_set_trigger_volume_enable "zone_set:set_hill_transition" false)
    (sleep_until (>= (current_zone_set) 3) 1)
    (sleep_until (>= (current_zone_set_fully_active) 3) 1)
    (if debug
        (print "disable set_twin triggers")
    )
    (zone_set_trigger_volume_enable "begin_zone_set:set_twin:*" false)
    (sleep_until (>= (current_zone_set) 4) 1)
    (zone_set_trigger_volume_enable "zone_set:set_twin" false)
    (zone_set_trigger_volume_enable "begin_zone_set:set_twin" false)
    (sleep_until (>= (current_zone_set_fully_active) 4) 1)
    (if debug
        (print "disable set_facility triggers")
    )
    (zone_set_trigger_volume_enable "begin_zone_set:set_facility:*" false)
    (zone_set_trigger_volume_enable "zone_set:set_facility" false)
    (sleep_until (>= (current_zone_set) 5) 1)
    (zone_set_trigger_volume_enable "begin_zone_set:set_facility" false)
    (device_set_position_immediate "dm_facility_door_01" 0)
    (object_create "sc_080_standin_rock")
    (sleep_until (>= (current_zone_set_fully_active) 5) 1)
    (sleep_until (>= (current_zone_set) 6) 1)
    (sleep_until (>= (current_zone_set) 7) 1)
    (sleep_until (>= (current_zone_set) 8) 1)
)

(script dormant void hog_hill_driver
    (branch (volume_test_players "tv_enc_twin") (branch_kill))
    (print "hog_hill_driver")
    (sleep_until 
        (begin
            (sleep_until (>= (ai_living_count (f_ai_get_vehicle_driver (players_vehicle))) 1) 1)
            (set v_hog_control (players_vehicle))
            (print "hog has driver")
            (cs_run_command_script (f_ai_get_vehicle_driver (players_vehicle)) cs_hog_hill)
            (sleep_until (= (ai_living_count (f_ai_get_vehicle_driver (players_vehicle))) 0) 1)
            (sleep_until (not (= (players_vehicle) v_hog_control)))
            (cs_run_command_script (f_ai_get_vehicle_driver v_hog_control) abort_cs)
            (print "hog has no driver")
            false
        )
    )
)

(script static ai players_vehicle
    (ai_player_get_vehicle_squad player0)
)

(script command_script void cs_hog_hill
    (cs_enable_pathfinding_failsafe true)
    (cs_abort_on_vehicle_exit true)
    (cs_go_to "ps_hog_hill02/p0" 3)
    (cs_go_to "ps_hog_hill02/p1" 3)
    (cs_go_to "ps_hog_hill02/p2" 3)
    (cs_go_to "ps_hog_hill02/p3" 3)
    (cs_go_to "ps_hog_hill02/p4" 3)
    (cs_go_to "ps_hog_hill02/p5" 3)
)

(script dormant void hog_twin_driver
    (branch (>= g_twin_obj_control 5) (branch_kill))
    (sleep_until g_bfg01_destroyed)
    (sleep_until (>= (device_get_position "dm_bridge") 1))
    (sleep_until (<= (ai_living_count "sq_twin_wraith_01") 0))
    (sleep_until (not (volume_test_object "tv_twin_bridge_end" (ai_get_object (players_vehicle)))))
    (print "hog_twin_driver")
    (sleep_until 
        (begin
            (sleep_until (>= (ai_living_count (f_ai_get_vehicle_driver (players_vehicle))) 1) 1)
            (set v_hog_control (players_vehicle))
            (print "vehicle has driver")
            (cs_run_command_script (f_ai_get_vehicle_driver (players_vehicle)) cs_hog_twin)
            (sleep_until (= (ai_living_count (f_ai_get_vehicle_driver (players_vehicle))) 0) 1)
            (cs_run_command_script (f_ai_get_vehicle_driver v_hog_control) abort_cs)
            (print "vehicle has no driver")
            false
        )
    )
)

(script command_script void cs_hog_twin
    (cs_abort_on_vehicle_exit true)
    (cs_go_to "ps_hog_twin/twin_bridge01")
    (cs_go_to "ps_hog_twin/twin_bridge02")
    (cs_vehicle_speed 0.9)
    (cs_go_to "ps_hog_twin/twin_bridge03")
    (cs_vehicle_speed 1)
    (cs_go_to "ps_hog_twin/twin_bridge04")
    (cs_go_to "ps_hog_twin/twin_bridge_exit")
)

(script dormant void hog_twin_exit_driver
    (branch (>= g_facility_obj_control 1) (branch_kill))
    (sleep_until (volume_test_object "tv_twin_05" (f_ai_get_vehicle_driver (players_vehicle))))
    (ai_set_objective (f_ai_get_vehicle_driver (players_vehicle)) "obj_facility_allies")
    (print "hog_twin_exit_driver")
    (sleep_until 
        (begin
            (sleep_until (>= (ai_living_count (f_ai_get_vehicle_driver (players_vehicle))) 1) 1)
            (set v_hog_control (players_vehicle))
            (print "vehicle has driver")
            (cs_run_command_script (f_ai_get_vehicle_driver (players_vehicle)) cs_hog_twin_exit)
            (sleep_until (= (ai_living_count (f_ai_get_vehicle_driver (players_vehicle))) 0) 1)
            (cs_run_command_script (f_ai_get_vehicle_driver v_hog_control) abort_cs)
            (print "vehicle has no driver")
            false
        )
    )
)

(script command_script void cs_hog_twin_exit
    (cs_enable_pathfinding_failsafe true)
    (cs_abort_on_vehicle_exit true)
    (cs_go_to "ps_hog_facility/p0")
    (cs_go_to "ps_hog_facility/p1")
)

(script dormant void hog_facility_driver
    (branch (>= g_facility_obj_control 2) (branch_kill))
    (sleep_until (= (current_zone_set_fully_active) 4))
    (sleep_until (not (volume_test_object "zone_set:set_facility" (ai_get_object (players_vehicle)))))
    (print "hog_facility_driver")
    (sleep_until 
        (begin
            (sleep_until (>= (ai_living_count (f_ai_get_vehicle_driver (players_vehicle))) 1) 1)
            (set v_hog_control (players_vehicle))
            (print "vehicle has driver")
            (cs_run_command_script (f_ai_get_vehicle_driver (players_vehicle)) cs_hog_facility)
            (sleep_until (= (ai_living_count (f_ai_get_vehicle_driver (players_vehicle))) 0) 1)
            (cs_run_command_script (f_ai_get_vehicle_driver v_hog_control) abort_cs)
            (print "vehicle has no driver")
            false
        )
    )
)

(script command_script void cs_hog_facility
    (cs_enable_pathfinding_failsafe true)
    (cs_abort_on_vehicle_exit true)
    (cs_go_to "ps_hog_facility/p3")
    (object_set_velocity (ai_vehicle_get ai_current_actor) 8)
)

(script dormant void kat_control
    (sleep_until (>= (current_zone_set) 3))
    (if (<= (ai_living_count (object_get_ai obj_kat)) 0)
        (begin
            (print "kat has been left")
            (wake md_kat_left)
            (sleep_forever)
        )
        (begin
            (print "kat changing objectives")
            (ai_set_objective "obj_hill_allies" "obj_twin_allies")
            (ai_set_objective "sq_hill_kat" "obj_twin_allies")
        )
    )
    (sleep_until (>= (current_zone_set) 4))
    (if (<= (ai_living_count (object_get_ai obj_kat)) 0)
        (begin
            (print "kat has been left")
            (wake md_kat_left)
            (sleep_forever)
        )
        (begin
            (print "kat changing objectives")
            (ai_set_objective "obj_twin_allies" "obj_facility_allies")
            (ai_set_objective "sq_hill_kat" "obj_facility_allies")
            (sleep_until (>= g_facility_obj_control 15))
            (ai_bring_forward "gr_kat" 10)
            (sleep_until (>= g_facility_obj_control 16))
            (ai_bring_forward "gr_kat" 10)
        )
    )
    (sleep_until (>= (current_zone_set) 5))
    (if (<= (ai_living_count (object_get_ai obj_kat)) 0)
        (begin
            (print "kat has been left")
            (wake md_kat_left)
            (sleep_forever)
        )
        (begin
            (print "kat changing objectives")
            (ai_set_objective "obj_facility_allies" "obj_cannon_allies")
            (ai_set_objective "sq_hill_kat" "obj_cannon_allies")
            (sleep_until (>= g_cannon_obj_control 3))
            (ai_bring_forward "gr_kat" 20)
        )
    )
)

(script dormant void object_control
    (if (and (editor_mode) (not editor_object_management))
        (begin
            (print "(sleep_forever object_control)")
            (sleep_forever)
        )
    )
    (print "object_control")
    (objects_destroy_all)
    (if (= (current_zone_set) 0)
        (objects_manage_0)
    )
    (sleep_until (>= (current_zone_set_fully_active) 1) 1)
    (if (= (current_zone_set_fully_active) 1)
        (objects_manage_1)
    )
    (sleep_until (>= (current_zone_set_fully_active) 2) 1)
    (if (= (current_zone_set_fully_active) 2)
        (objects_manage_2)
    )
    (sleep_until (>= (current_zone_set_fully_active) 3) 1)
    (if (= (current_zone_set_fully_active) 3)
        (objects_manage_3)
    )
    (sleep_until (>= (current_zone_set_fully_active) 4) 1)
    (if (= (current_zone_set_fully_active) 4)
        (objects_manage_4)
    )
    (sleep_until (>= (current_zone_set_fully_active) 5) 1)
    (if (= (current_zone_set_fully_active) 5)
        (objects_manage_5)
    )
    (sleep_until (>= (current_zone_set_fully_active) 6) 1)
    (sleep_until (>= g_falcon_obj_control 15) 1)
    (if (= (current_zone_set_fully_active) 6)
        (objects_manage_6)
    )
    (sleep_until (>= (current_zone_set_fully_active) 7) 1)
    (if (= (current_zone_set_fully_active) 7)
        (objects_manage_7)
    )
    (sleep_until (>= (current_zone_set_fully_active) 8) 1)
    (if (= (current_zone_set_fully_active) 8)
        (objects_manage_8)
    )
)

(script static void objects_manage_0
    (object_create_folder "cr_hill")
    (object_create_folder "dc_hill")
    (print "no objects to destroy")
)

(script static void objects_manage_1
    (print "no objects to create")
    (print "no objects to destroy")
)

(script static void objects_manage_2
    (object_create_folder "cr_twin")
    (object_create_folder "dc_twin")
    (object_create_folder "sc_twin")
    (object_create_folder "v_twin")
    (sleep 1)
    (if (game_is_cooperative)
        (begin
            (object_destroy "v_twin_ghost")
            (object_destroy "bi_twin_grunt")
        )
    )
    (print "no objects to destroy")
)

(script static void objects_manage_3
    (print "no objects to create")
    (object_destroy_folder "cr_hill")
    (object_destroy_folder "dc_hill")
)

(script static void objects_manage_4
    (object_destroy_folder "cr_twin")
    (object_destroy_folder "dm_twin")
    (object_destroy_folder "dc_twin")
    (object_destroy_folder "sc_twin")
    (object_destroy_folder "v_twin")
    (sleep 1)
    (object_create_folder "cr_facility")
    (object_create_folder "sc_facility")
    (object_create_folder "v_facility")
    (object_create_folder "dm_facility")
    (object_create_folder "bi_facility")
    (sleep 1)
    (if (game_is_cooperative)
        (object_destroy "cr_facility_hog")
    )
    (setup_facility_bodies)
)

(script static void objects_manage_5
    (object_destroy_folder "cr_facility")
    (object_destroy_folder "sc_facility")
    (object_destroy_folder "v_facility")
    (object_destroy_folder "dm_facility")
    (object_destroy_folder "bi_facility")
    (sleep 1)
    (object_create_folder "cr_cannon")
    (object_create_folder "dc_cannon")
    (object_create_folder "v_cannon")
)

(script static void objects_manage_6
    (object_destroy_folder "cr_cannon")
    (object_destroy_folder "dc_cannon")
    (object_destroy_folder "v_cannon")
    (sleep 1)
    (object_create_folder "dm_falcon")
    (object_create_folder "cr_falcon_07+08")
)

(script static void objects_manage_7
    (print "no objects to create")
    (print "no objects to destroy")
)

(script static void objects_manage_8
    (object_destroy_folder "cr_falcon_07+08")
    (object_destroy_folder "dm_falcon")
    (sleep 1)
    (object_create_folder "cr_spire")
    (object_create_folder "sc_spire")
    (object_create_folder "dc_spire")
)

(script static void objects_destroy_all
    (print "destroying all objects")
    (object_destroy_folder "dc_hill")
    (object_destroy_folder "cr_hill")
    (object_destroy_folder "cr_twin")
    (object_destroy_folder "dc_twin")
    (object_destroy_folder "sc_twin")
    (object_destroy_folder "v_twin")
    (object_destroy_folder "cr_facility")
    (object_destroy_folder "sc_facility")
    (object_destroy_folder "v_facility")
    (object_destroy_folder "dm_facility")
    (object_destroy_folder "bi_facility")
    (object_destroy_folder "cr_cannon")
    (object_destroy_folder "dc_cannon")
    (object_destroy_folder "cr_falcon_07+08")
    (object_destroy_folder "dm_falcon")
    (object_destroy_folder "cr_spire")
    (object_destroy_folder "sc_spire")
    (object_destroy_folder "dc_spire")
)

(script static void setup_facility_bodies
    (print "setup_facility_bodies")
    (scenery_animation_start "sc_facility_deadciv01" "objects\characters\marine\marine" "deadbody_02")
    (scenery_animation_start "sc_facility_deadciv02" "objects\characters\marine\marine" "deadbody_13")
    (scenery_animation_start "sc_facility_deadciv03" "objects\characters\marine\marine" "deadbody_01")
    (scenery_animation_start "sc_facility_deadciv04" "objects\characters\marine\marine" "deadbody_05")
    (scenery_animation_start "sc_facility_deadciv05" "objects\characters\marine\marine" "deadbody_14")
    (scenery_animation_start "sc_facility_deadciv06" "objects\characters\marine\marine" "deadbody_03")
    (scenery_animation_start "sc_facility_deadciv07" "objects\characters\marine\marine" "deadbody_04")
    (scenery_animation_start "sc_facility_deadciv08" "objects\characters\marine\marine" "deadbody_07")
    (scenery_animation_start "sc_facility_deadciv09" "objects\characters\marine\marine" "deadbody_10")
    (scenery_animation_start "sc_facility_deadciv10" "objects\characters\marine\marine" "deadbody_01")
)

(script static void setup_spire_bodies
    (print "setup_spire_bodies")
    (object_create "sc_spire_deadmarine01")
    (object_create "sc_spire_deadmarine02")
    (object_create "sc_spire_deadmarine03")
    (object_create "sc_spire_deadmarine04")
    (object_create "sc_spire_deadmarine05")
    (sleep 1)
    (scenery_animation_start "sc_spire_deadmarine01" "objects\characters\marine\marine" "deadbody_06")
    (scenery_animation_start "sc_spire_deadmarine02" "objects\characters\marine\marine" "deadbody_12")
    (scenery_animation_start "sc_spire_deadmarine03" "objects\characters\marine\marine" "deadbody_14")
    (scenery_animation_start "sc_spire_deadmarine04" "objects\characters\marine\marine" "deadbody_11")
    (scenery_animation_start "sc_spire_deadmarine05" "objects\characters\marine\marine" "deadbody_07")
)

(script static void vig_kat_start
    (performance_play_line "anim")
    (performance_play_line "sleep_until")
)

(script static void vig_spire_jorge
    (sleep 110)
    (performance_play_line "pause")
)

(script static void vig_spire_elite
    (performance_play_line "teleport")
    (cs_stow (performance_get_actor "elite") true)
    (performance_play_line "stow")
    (performance_play_line "anim")
    (sleep_until (branch_spire_elite (performance_get_actor "elite")))
    (performance_play_line "sleep_until")
    (performance_play_line "lines_6")
    (performance_play_line "anim_exit")
)

(script static void 0
    (if (= game_speed 0)
        (set game_speed 1)
        (set game_speed 0)
    )
)

(script static void 1
    (if ai_render_sector_bsps
        (set ai_render_sector_bsps false)
        (set ai_render_sector_bsps true)
    )
)

(script static void 2
    (if ai_render_objectives
        (set ai_render_objectives false)
        (set ai_render_objectives true)
    )
)

(script static void 3
    (if ai_render_decisions
        (set ai_render_decisions false)
        (set ai_render_decisions true)
    )
)

(script static void 4
    (if ai_render_command_scripts
        (set ai_render_command_scripts false)
        (set ai_render_command_scripts true)
    )
)

(script static void 5
    (if debug_performances
        (set debug_performances false)
        (set debug_performances true)
    )
)

(script static void 6
    (if debug_instanced_geometry_cookie_cutters
        (begin
            (set debug_instanced_geometry_cookie_cutters false)
            (set debug_structure_cookie_cutters false)
        )
        (begin
            (set debug_instanced_geometry_cookie_cutters true)
            (set debug_structure_cookie_cutters true)
        )
    )
)

(script static void test_hill_hog
    (ai_place "sq_hill_rockethog_01/no_driver")
    (object_teleport_to_ai_point (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) "ps_hog_hill/tele")
    (ai_place "sq_hill_kat")
    (ai_cannot_die "sq_hill_kat" true)
    (set obj_kat (ai_get_unit "gr_kat"))
    (ai_vehicle_enter_immediate "gr_kat" (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 55)
    (vehicle_load_magic (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 57 player0)
    (wake hog_hill_driver)
)

(script static void test_twin_hog
    (ai_place "sq_hill_rockethog_01/no_driver")
    (object_teleport_to_ai_point (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) "ps_hog_twin/tele02")
    (ai_place "sq_hill_kat/facility")
    (ai_cannot_die "sq_hill_kat" true)
    (set obj_kat (ai_get_unit "gr_kat"))
    (ai_set_objective "gr_allies" "obj_twin_allies")
    (ai_vehicle_enter_immediate "gr_kat" (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 55)
    (vehicle_load_magic (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 57 player0)
    (set g_bfg01_destroyed true)
    (set g_twin_obj_control 4)
    (wake twin_bridge)
    (wake hog_twin_driver)
)

(script static void test_facility_hog
    (ai_place "sq_hill_rockethog_01/no_driver")
    (object_teleport_to_ai_point (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) "ps_hog_facility/p1")
    (ai_place "sq_hill_kat/facility")
    (ai_cannot_die "sq_hill_kat" true)
    (set obj_kat (ai_get_unit "gr_kat"))
    (ai_set_objective "gr_allies" "obj_facility_allies")
    (vehicle_load_magic (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) 57 player0)
    (kill_volume_disable "kill_soft_twin")
    (ai_place "sq_facility_intro_cov")
    (sleep 10)
    (unit_enter_vehicle_immediate (ai_get_unit "gr_kat") (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0) "warthog_d")
    (wake hog_facility_driver)
)

(script static void test_bfg_falcon
    (wake twin_bfg_target_controlx)
    (set g_twin_obj_control 1)
)

(script dormant void twin_bfg_target_controlx
    (ai_place "sq_twin_bfg_driver")
    (ai_set_targeting_group "sq_twin_bfg_driver" 2)
    (object_set_persistent (ai_vehicle_get_from_squad "sq_twin_bfg_driver" 0) true)
    (cs_run_command_script "sq_twin_bfg_driver" cs_twin_bfg_shoot)
    (sleep_until (>= g_twin_obj_control 1))
    (ai_place "sq_twin_falcon_01")
    (ai_set_targeting_group "sq_twin_falcon_01/driver01" 2)
    (sleep 500)
    (ai_place "sq_twin_falcon_02")
    (ai_set_targeting_group "sq_twin_falcon_02/driver01" 2)
    (cs_run_command_script "sq_twin_bfg_driver" abort_cs)
    (sleep_until (<= (ai_task_count "obj_twin_allies/gt_falcons") 0))
)

(script static void test_bfg
    (wake twin_place_02)
    (wake twin_bfg_start)
    (wake flocks_01_start)
)

(script static void test_twin_frigate
    (set g_bfg01_core_destroyed true)
    (set g_bfg01_destroyed true)
    (wake hill_big_battle)
    (wake frigate_setup)
    (wake twin_place_03)
)

(script static void test_falcon_frigate
    (set g_bfg01_destroyed true)
    (wake flocks_04_start)
    (object_create "dm_sky_frigate01b")
    (object_create "dm_sky_frigate02b")
    (sleep 1)
    (frigate01b_load_gunners)
    (frigate02b_load_gunners)
    (wake falcon_frigate_target_control)
)

(script static void test_setpiece_frigate
    (switch_zone_set "setpiece_twin")
    (sleep_until (= (current_zone_set_fully_active) 21) 1)
    (object_teleport_to_ai_point player0 "ps_teleports/twin_longsword")
    (wake frigate_setup)
    (sleep 90)
    (cs_run_command_script "sq_sky_frigate01_right_gunners" cs_friagte_shoot_ground)
)

(script command_script void cs_friagte_shoot_ground
    (sleep_until 
        (begin
            (begin_random
                (cs_shoot_point true "ps_frigate_ground/p0")
                (cs_shoot_point true "ps_frigate_ground/p1")
                (cs_shoot_point true "ps_frigate_ground/p2")
                (cs_shoot_point true "ps_frigate_ground/p3")
                (cs_shoot_point true "ps_frigate_ground/p4")
            )
            false
        )
    )
)

(script static void test_setpiece_twin
    (switch_zone_set "setpiece_twin")
    (sleep_until (= (current_zone_set_fully_active) 23) 1)
    (object_teleport_to_ai_point player0 "ps_teleports/twin_longsword")
    (wake twin_longsword_loop_start)
    (wake flocks_02_start)
    (wake hill_big_battle)
)

(script static void test_scarabs
    (wake sky_scarab01_start)
    (wake sky_scarab02_start)
    (wake sky_scarab03_start)
)

(script static void test_twin_bridge
    (objects_attach "dm_pelican" "" "dm_bridge" "")
    (device_set_position_track "dm_pelican" "m35_device_position" 0)
    (wake twin_place_04)
    (set g_bfg01_destroyed true)
    (sleep 200)
    (print "bridge incoming")
    (wake md_twin_bridge)
    (wake md_twin_bridge_02)
    (device_animate_position "dm_pelican" 1 40 1 1 true)
    (sleep_until (>= (device_get_position "dm_pelican") 0.48) 1)
    (print "drop")
    (objects_detach "dm_pelican" "dm_bridge")
    (device_set_position "dm_bridge" 1)
)

(script dormant void twin_longsword_loop_start
    (sleep_until 
        (begin
            (device_set_position_track "dm_longswords" "m35_fp1" 0)
            (object_create "sc_longsword_01")
            (object_create "sc_longsword_02")
            (object_create "sc_longsword_03")
            (objects_attach "dm_longswords" "longsword01" "sc_longsword_01" "")
            (objects_attach "dm_longswords" "longsword02" "sc_longsword_02" "")
            (objects_attach "dm_longswords" "longsword03" "sc_longsword_03" "")
            (device_animate_position "dm_longswords" 1 15 0 0 true)
            (sleep_until (>= (device_get_position "dm_longswords") 0.5) 1)
            (twin_longsword_fx_start)
            (sleep_until (>= (device_get_position "dm_longswords") 1) 1)
            (object_destroy "dm_longswords")
            (object_destroy "sc_longsword_01")
            (object_destroy "sc_longsword_02")
            (object_destroy "sc_longsword_03")
            (object_create "dm_longswords")
            false
        )
    )
)

(script static void test_zealot
    (ai_place "sq_facility_zealot")
    (unit_add_equipment "sq_facility_zealot" "profile_zealot" true true)
    (ai_berserk "sq_facility_zealot" true)
)

(script static void test_falcon_rail
    (f_ai_place_vehicle_deathless "sq_falcon_02")
    (object_teleport_to_ai_point (ai_vehicle_get_from_squad "sq_falcon_02" 0) "ps_falcon_02/teleport_01b")
    (cs_run_command_script (f_ai_get_vehicle_driver "sq_falcon_02") cs_falcon_02b)
    (f_ai_place_vehicle_deathless "sq_falcon_01")
    (object_teleport_to_ai_point (ai_vehicle_get_from_squad "sq_falcon_01" 0) "ps_falcon_01/teleport_01b")
    (cs_run_command_script (f_ai_get_vehicle_driver "sq_falcon_01") cs_falcon_01b)
    (set g_falcon_obj_control 30)
    (vehicle_load_magic (ai_vehicle_get_from_squad "sq_falcon_01" 0) 65 player0)
    (ai_place "sq_jorge/falcon")
    (ai_vehicle_enter_immediate "gr_jorge" (ai_vehicle_get_from_squad "sq_falcon_01" 0) 69)
    (wake falcon_cov_place)
)

(script static void 035la_bigpush_010_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0) 0 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0) 0)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 0 "fal01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 1 "fal01_falcon_chin_gun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 2 "fal01_falcon_side_gun_left2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 3 "fal01_falcon_side_gun_right3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 4 "fal02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 5 "fal02_falcon_chin_gun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 6 "fal02_falcon_side_gun_left2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 7 "fal02_falcon_side_gun_right3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 8 "fal03_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 9 "fal03_falcon_chin_gun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 10 "fal03_falcon_side_gun_left2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 11 "fal03_falcon_side_gun_right3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 12 "fal04_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 13 "fal04_falcon_chin_gun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 14 "fal04_falcon_side_gun_left2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 15 "fal04_falcon_side_gun_right3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 16 "fal05_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 17 "fal05_falcon_chin_gun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 18 "fal05_falcon_side_gun_left2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 19 "fal05_falcon_side_gun_right3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 20 "lod_hog_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 21 "lod_hog_02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 22 "lod_hog_03_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 23 "lod_hog_04_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 24 "lod_hog_05_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 25 "lod_hog_06_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 26 "lod_hog_07_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 27 "lod_hog_08_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 28 "lod_hog_09_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 29 "lod_hog_10_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 30 "lod_hog_11_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 31 "lod_hog_12_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 32 "lod_hog_13_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 33 "lod_hog_14_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 34 "lod_hog_15_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 35 "lod_hog_16_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 36 "lod_hog_17_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 37 "lod_hog_18_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 38 "lod_hog_19_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 39 "lod_hog_20_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 40 "lod_hog_21_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 41 "lod_hog_22_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 42 "lod_hog_23_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 43 "lod_hog_24_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 44 "lod_hog_25_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 45 "lod_hog_26_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 46 "lod_hog_27_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 47 "lod_hog_28_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 48 "lod_hog_29_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 49 "lod_hog_30_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 50 "lod_hog_31_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 51 "lod_hog_32_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 52 "lod_hog_33_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 53 "lod_hog_34_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 54 "lod_hog_35_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 55 "lod_hog_36_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 56 "lod_hog_37_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 57 "lod_hog_38_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 58 "lod_hog_39_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 59 "lod_hog_40_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 60 "lod_hog_41_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 61 "lod_hog_42_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 62 "lod_hog_43_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 63 "lod_hog_44_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 64 "lod_hog_45_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 65 "lod_hog_46_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 66 "lod_hog_47_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 67 "lod_hog_48_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 68 "lod_hog_49_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 69 "lod_hog_50_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 70 "scorpion_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 71 "scorpion_01_scorpion_anti_infantry2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 72 "scorpion_01_scorpion_cannon1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 73 "scorpion_02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 74 "scorpion_02_scorpion_anti_infantry2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 75 "scorpion_02_scorpion_cannon1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 76 "scorpion_03_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 77 "scorpion_03_scorpion_anti_infantry2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 78 "scorpion_03_scorpion_cannon1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 79 "scorpion_04_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 80 "scorpion_04_scorpion_anti_infantry2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 81 "scorpion_04_scorpion_cannon1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 82 "terrain__square_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (cinematic_scripting_start_effect 0 0 0 (cinematic_object_get "scorpion_03"))
    (cinematic_scripting_start_effect 0 0 1 (cinematic_object_get "scorpion_01"))
    (cinematic_scripting_start_effect 0 0 5 (cinematic_object_get "lod_hog_47"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 16) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 16) "thrust" 1 0)
    (cinematic_scripting_start_effect 0 0 12 (cinematic_object_get "lod_hog_40"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 12) "thrust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 12) "blur" 1 0)
    (cinematic_print "custom script play")
    (begin
        (object_set_model_state_property (cinematic_object_get "fal01") 0 true)
        (object_set_model_state_property (cinematic_object_get "fal02") 0 true)
        (object_set_model_state_property (cinematic_object_get "fal03") 0 true)
        (object_set_model_state_property (cinematic_object_get "fal04") 0 true)
        (object_set_model_state_property (cinematic_object_get "fal05") 0 true)
    )
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 16) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 12) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 8) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 4) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 0) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 16) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 12) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 8) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 4) "driver_seat_power" 1 0)
    (cinematic_scripting_start_effect 0 0 4 (cinematic_object_get "scorpion_04"))
    (cinematic_scripting_start_effect 0 0 11 (cinematic_object_get "lod_hog_32"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 8) "thrust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 8) "blur" 1 0)
    (cinematic_scripting_start_effect 0 0 10 (cinematic_object_get "lod_hog_38"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 4) "thrust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 4) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 0) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 0) "thrust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 16) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 12) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 8) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 4) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 0) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 0) "driver_seat_power" 1 0)
    (cinematic_scripting_start_effect 0 0 2 (cinematic_object_get "scorpion_02"))
    (cinematic_scripting_start_effect 0 0 3 (cinematic_object_get "scorpion_03"))
    (cinematic_scripting_start_effect 0 0 9 (cinematic_object_get "lod_hog_31"))
    (cinematic_scripting_start_effect 0 0 8 (cinematic_object_get "lod_hog_18"))
    (cinematic_scripting_start_effect 0 0 6 (cinematic_object_get "lod_hog_14"))
    (cinematic_scripting_start_effect 0 0 7 (cinematic_object_get "lod_hog_12"))
    (cinematic_scripting_start_music 0 0 1)
    (sleep 5)
    (cinematic_scripting_start_music 0 0 0)
    (sleep 25)
    (cinematic_set_title "035la_cine_timestamp_01")
    (cinematic_print "custom script play")
    (sleep 105)
    (cinematic_set_title "035la_cine_timestamp_02")
    (cinematic_print "custom script play")
    (sleep 52)
    (cinematic_scripting_start_dialogue 0 0 0 none)
    (sleep 58)
    (cinematic_objects_destroy_all)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !035la_bigpush_010_sc
    (cinematic_print "beginning scene 1")
    (cinematic_scripting_create_scene 0)
    (035la_bigpush_010_sc_sh1)
    (cinematic_scripting_destroy_scene 0)
)

(script static void 035la_bigpush_020_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1) 0 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1) 0)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (object_hide (cinematic_scripting_get_object 1 0) true)
    (object_hide (cinematic_scripting_get_object 1 1) true)
    (object_hide (cinematic_scripting_get_object 1 2) true)
    (object_hide (cinematic_scripting_get_object 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "autie_dot_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 "dot_clouds_matte_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dot_led_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 7 "dot_led_02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 8 "dot_led_03_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 9 "dot_led_04_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "dot_led_05_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "dot_led_06_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "dot_led_07_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 13 "dot_led_08_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "dot_briefing_01_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 4) "bg_dim" 0.9 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 4) "camera" 0.5 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 4) "location" 0.4 0)
    (sleep 150)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035la_bigpush_020_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1) 1 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1) 1)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 0 "m35_dot_briefing_02_2" true)
    (object_hide (cinematic_scripting_get_object 1 1) true)
    (object_hide (cinematic_scripting_get_object 1 2) true)
    (object_hide (cinematic_scripting_get_object 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 4 "autie_dot_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 5 "dot_clouds_matte_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 6 "dot_led_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 7 "dot_led_02_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 8 "dot_led_03_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 9 "dot_led_04_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 10 "dot_led_05_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 11 "dot_led_06_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 12 "dot_led_07_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 13 "dot_led_08_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 14 "dot_briefing_01_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 4) "bg_dim" 0.8 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 4) "camera" 0.5 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 4) "location" 0.7 0)
    (sleep 162)
    (cinematic_scripting_start_dialogue 1 1 0 none)
    (sleep 105)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035la_bigpush_020_sc_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1) 2 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1) 2)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (object_hide (cinematic_scripting_get_object 1 0) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 1 "m35_dot_briefing_03_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 2 "m35_dot_briefing_04_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 3 "m35_dot_briefing_06_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 4 "autie_dot_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 5 "dot_clouds_matte_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 6 "dot_led_01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 7 "dot_led_02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 8 "dot_led_03_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 9 "dot_led_04_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 10 "dot_led_05_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 11 "dot_led_06_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 12 "dot_led_07_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 13 "dot_led_08_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 14 "dot_briefing_01_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 4) "bg_dim" 0.8 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 4) "camera" 0 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 4) "location" 0.6 0)
    (sleep 18)
    (cinematic_scripting_start_dialogue 1 2 0 none)
    (sleep 101)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035la_bigpush_020_sc_sh4
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1) 3 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1) 3)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (object_hide (cinematic_scripting_get_object 1 0) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 1 "m35_dot_briefing_03_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 2 "m35_dot_briefing_04_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 3 "m35_dot_briefing_06_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 4 "autie_dot_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 5 "dot_clouds_matte_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 6 "dot_led_01_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 7 "dot_led_02_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 8 "dot_led_03_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 9 "dot_led_04_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 10 "dot_led_05_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 11 "dot_led_06_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 12 "dot_led_07_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 13 "dot_led_08_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 14 "dot_briefing_01_4" true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 4) "bg_dim" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 4) "camera" 0.5 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 4) "location" 0.3 0)
    (sleep 25)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 6) "led_fill" 1 0)
    (sleep 1)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 7) "led_fill" 1 0)
    (sleep 1)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 6) "led_fill" 0 20)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 8) "led_fill" 1 0)
    (sleep 1)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 7) "led_fill" 0 20)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 9) "led_fill" 1 0)
    (sleep 1)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 8) "led_fill" 0 20)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 10) "led_fill" 1 0)
    (sleep 1)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 11) "led_fill" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 9) "led_fill" 0 20)
    (sleep 1)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 10) "led_fill" 0 20)
    (sleep 1)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 12) "led_fill" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 13) "led_fill" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 11) "led_fill" 0 20)
    (sleep 1)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 12) "led_fill" 0 20)
    (sleep 1)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 13) "led_fill" 0 20)
    (sleep 21)
    (cinematic_scripting_start_dialogue 1 3 0 none)
    (sleep 35)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035la_bigpush_020_sc_sh5
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1) 4 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1) 4)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (object_hide (cinematic_scripting_get_object 1 0) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 1 "m35_dot_briefing_03_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 2 "m35_dot_briefing_04_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 3 "m35_dot_briefing_06_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 4 "autie_dot_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 5 "dot_clouds_matte_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 6 "dot_led_01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 7 "dot_led_02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 8 "dot_led_03_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 9 "dot_led_04_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 10 "dot_led_05_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 11 "dot_led_06_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 12 "dot_led_07_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 13 "dot_led_08_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 14 "dot_briefing_01_5" true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 4) "bg_dim" 0.85 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 4) "camera" 0 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 4) "location" 0.6 0)
    (sleep 107)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !035la_bigpush_020_sc
    (cinematic_print "beginning scene 2")
    (cinematic_scripting_create_scene 1)
    (035la_bigpush_020_sc_sh1)
    (035la_bigpush_020_sc_sh2)
    (035la_bigpush_020_sc_sh3)
    (035la_bigpush_020_sc_sh4)
    (035la_bigpush_020_sc_sh5)
    (cinematic_scripting_destroy_scene 1)
)

(script static void 035la_bigpush_030_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2) 0 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2) 0)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 "driver1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 1 "driver2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 2 "driver3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 3 "driver4_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 4 "falcon1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 5 "falcon1_falcon_chin_gun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 6 "falcon1_falcon_side_gun_left2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 7 "falcon1_falcon_side_gun_right3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 8 "gunner1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 9 "gunner3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 10 "gunner4_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 11 "mongoosedriver01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 12 "passenger1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 13 "terrainplate_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 14 "warthog1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 15 "warthog1_warthog_chaingun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 16 "warthog2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 17 "warthog2_warthog_chaingun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 18 "warthog3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 19 "warthog3_warthog_chaingun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 20 "warthog4_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 21 "warthog4_warthog_chaingun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 22 "warthog5_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 23 "warthog5_warthog_chaingun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 24 "hog_lod1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 25 "mongoose_1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 26 "mongoose_2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 27 "mongoosedriver_2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 28 "mongooserider_01_assaultrifle_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 29 "mongooserider_02_assaultrifle_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 30 "mongooserider_1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 31 "mongooserider_2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 32 "cov_army_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 1.2 0)
    (cinematic_scripting_start_effect 2 0 0 (cinematic_object_get "warthog1"))
    (cinematic_scripting_start_effect 2 0 2 (cinematic_object_get "warthog3"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 14) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 18) "driver_seat_power" 1 0)
    (cinematic_print "custom script play")
    (object_set_model_state_property (cinematic_object_get "falcon1") 0 true)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 26) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 4) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 4) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 4) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 20) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 20) "brakelights" 0.25 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 18) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 16) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 18) "brakelights" 0.25 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 16) "headlights" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 16) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 14) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 14) "brakelights" 0.25 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 14) "headlights" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 4) "thrust" 0.35 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 14) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 4) "engine_rpm" 1 0)
    (cinematic_scripting_start_effect 2 0 1 (cinematic_object_get "mongoose_2"))
    (cinematic_scripting_start_effect 2 0 3 (cinematic_object_get "warthog4"))
    (sleep 59)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035la_bigpush_030_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2) 1 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2) 1)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 2 1 0 "driver1_2" true)
    (object_hide (cinematic_scripting_get_object 2 1) true)
    (object_hide (cinematic_scripting_get_object 2 2) true)
    (object_hide (cinematic_scripting_get_object 2 3) true)
    (object_hide (cinematic_scripting_get_object 2 4) true)
    (object_hide (cinematic_scripting_get_object 2 5) true)
    (object_hide (cinematic_scripting_get_object 2 6) true)
    (object_hide (cinematic_scripting_get_object 2 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 1 8 "gunner1_2" true)
    (object_hide (cinematic_scripting_get_object 2 9) true)
    (object_hide (cinematic_scripting_get_object 2 10) true)
    (object_hide (cinematic_scripting_get_object 2 11) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 1 12 "passenger1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 1 13 "terrainplate_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 1 14 "warthog1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 1 15 "warthog1_warthog_chaingun1_2" true)
    (object_hide (cinematic_scripting_get_object 2 16) true)
    (object_hide (cinematic_scripting_get_object 2 17) true)
    (object_hide (cinematic_scripting_get_object 2 18) true)
    (object_hide (cinematic_scripting_get_object 2 19) true)
    (object_hide (cinematic_scripting_get_object 2 20) true)
    (object_hide (cinematic_scripting_get_object 2 21) true)
    (object_hide (cinematic_scripting_get_object 2 22) true)
    (object_hide (cinematic_scripting_get_object 2 23) true)
    (object_hide (cinematic_scripting_get_object 2 24) true)
    (object_hide (cinematic_scripting_get_object 2 25) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 1 26 "mongoose_2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 1 27 "mongoosedriver_2_2" true)
    (object_hide (cinematic_scripting_get_object 2 28) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 1 29 "mongooserider_02_assaultrifle_2" true)
    (object_hide (cinematic_scripting_get_object 2 30) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 1 31 "mongooserider_2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 1 32 "cov_army_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure 1.6 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 14) "engine_rpm" 1 0)
    (sleep 52)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !035la_bigpush_030_sc
    (cinematic_print "beginning scene 3")
    (cinematic_scripting_create_scene 2)
    (035la_bigpush_030_sc_sh1)
    (035la_bigpush_030_sc_sh2)
    (cinematic_scripting_destroy_scene 2)
)

(script static void 035la_bigpush_032_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 3) 0 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 3) 0)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 0 "driver1_1" true)
    (object_hide (cinematic_scripting_get_object 3 1) true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 2 "driver3_1" true)
    (object_hide (cinematic_scripting_get_object 3 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 4 "falcon1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 5 "falcon1_falcon_chin_gun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 6 "falcon1_falcon_side_gun_left2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 7 "falcon1_falcon_side_gun_right3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 8 "falcon_2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 9 "falcon_2_falcon_chin_gun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 10 "falcon_2_falcon_side_gun_left2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 11 "falcon_2_falcon_side_gun_right3_1" true)
    (object_hide (cinematic_scripting_get_object 3 12) true)
    (object_hide (cinematic_scripting_get_object 3 13) true)
    (object_hide (cinematic_scripting_get_object 3 14) true)
    (object_hide (cinematic_scripting_get_object 3 15) true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 16 "gunner1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 17 "gunner3_1" true)
    (object_hide (cinematic_scripting_get_object 3 18) true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 19 "lod_warthog_1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 20 "lod_warthog_2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 21 "mongoose_1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 22 "mongoose_2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 23 "mongoosedriver_1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 24 "mongoosedriver_2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 25 "mongooserider_1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 26 "mongooserider_1_assaultrifle_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 27 "mongooserider_2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 28 "mongooserider_2_assaultrifle_1" true)
    (object_hide (cinematic_scripting_get_object 3 29) true)
    (object_hide (cinematic_scripting_get_object 3 30) true)
    (object_hide (cinematic_scripting_get_object 3 31) true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 32 "terrainplate_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 33 "warthog1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 34 "warthog1_warthog_chaingun1_1" true)
    (object_hide (cinematic_scripting_get_object 3 35) true)
    (object_hide (cinematic_scripting_get_object 3 36) true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 37 "warthog3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 38 "warthog3_warthog_chaingun1_1" true)
    (object_hide (cinematic_scripting_get_object 3 39) true)
    (object_hide (cinematic_scripting_get_object 3 40) true)
    (object_hide (cinematic_scripting_get_object 3 41) true)
    (object_hide (cinematic_scripting_get_object 3 42) true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 43 "fx_dyn_light_hog1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 44 "cov_army_1" true)
    (object_hide (cinematic_scripting_get_object 3 45) true)
    (object_hide (cinematic_scripting_get_object 3 46) true)
    (object_hide (cinematic_scripting_get_object 3 47) true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 48 "scorpion_2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 49 "scorpion_2_scorpion_anti_infantry2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 50 "scorpion_2_scorpion_cannon1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 51 "pelican_1_pelican_chin_gun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 52 "pelican_2_pelican_chin_gun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 53 "pelican_3_pelican_chin_gun1_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 1.2 0)
    (cinematic_scripting_start_effect 3 0 0 (cinematic_object_get "mongoose_1"))
    (cinematic_scripting_start_effect 3 0 2 (cinematic_object_get "warthog2"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 19) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 37) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 12) "driver_seat_power" 1 0)
    (cinematic_print "custom script play")
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 8) "driver_seat_power" 1 0)
    (begin
        (object_set_model_state_property (cinematic_object_get "falcon1") 0 true)
        (object_set_model_state_property (cinematic_object_get "falcon_2") 0 true)
        (object_set_model_state_property (cinematic_object_get "falcon_3") 0 true)
    )
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 4) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 12) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 8) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 12) "thrust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 12) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 8) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 4) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 8) "thrust" 0.5 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 4) "thrust" 0.5 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 8) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 4) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 4) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 37) "brakelights" 0.25 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 33) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 37) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 33) "brakelights" 0.25 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 33) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 33) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 20) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 20) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 21) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 19) "driver_seat_power" 1 0)
    (cinematic_scripting_start_effect 3 0 4 (cinematic_object_get "warthog5"))
    (cinematic_scripting_start_effect 3 0 1 (cinematic_object_get "warthog1"))
    (cinematic_scripting_start_effect 3 0 3 (cinematic_object_get "warthog4"))
    (sleep 96)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035la_bigpush_032_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 3) 1 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 3) 1)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 0 "driver1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 1 "driver2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 2 "driver3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 3 "driver5_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 4 "falcon1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 5 "falcon1_falcon_chin_gun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 6 "falcon1_falcon_side_gun_left2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 7 "falcon1_falcon_side_gun_right3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 8 "falcon_2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 9 "falcon_2_falcon_chin_gun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 10 "falcon_2_falcon_side_gun_left2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 11 "falcon_2_falcon_side_gun_right3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 12 "falcon_3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 13 "falcon_3_falcon_chin_gun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 14 "falcon_3_falcon_side_gun_left2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 15 "falcon_3_falcon_side_gun_right3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 16 "gunner1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 17 "gunner3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 18 "gunner5_2" true)
    (object_hide (cinematic_scripting_get_object 3 19) true)
    (object_hide (cinematic_scripting_get_object 3 20) true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 21 "mongoose_1_2" true)
    (object_hide (cinematic_scripting_get_object 3 22) true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 23 "mongoosedriver_1_2" true)
    (object_hide (cinematic_scripting_get_object 3 24) true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 25 "mongooserider_1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 26 "mongooserider_1_assaultrifle_2" true)
    (object_hide (cinematic_scripting_get_object 3 27) true)
    (object_hide (cinematic_scripting_get_object 3 28) true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 29 "pelican_1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 30 "pelican_2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 31 "pelican_3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 32 "terrainplate_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 33 "warthog1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 34 "warthog1_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 35 "warthog2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 36 "warthog2_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 37 "warthog3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 38 "warthog3_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 39 "warthog4_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 40 "warthog4_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 41 "warthog5_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 42 "warthog5_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 43 "fx_dyn_light_hog1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 44 "cov_army_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 45 "scorpion_1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 46 "scorpion_1_scorpion_anti_infantry2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 47 "scorpion_1_scorpion_cannon1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 48 "scorpion_2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 49 "scorpion_2_scorpion_anti_infantry2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 50 "scorpion_2_scorpion_cannon1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 51 "pelican_1_pelican_chin_gun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 52 "pelican_2_pelican_chin_gun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 3 1 53 "pelican_3_pelican_chin_gun1_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure -0.2 0)
    (cinematic_scripting_start_effect 3 1 0 (cinematic_object_get "warthog4"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 21) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 41) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 8) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 29) "thrusters_down" 0.5 0)
    (cinematic_print "custom script play")
    (begin
        (object_set_model_state_property (cinematic_object_get "falcon1") 0 true)
        (object_set_model_state_property (cinematic_object_get "falcon_2") 0 true)
        (object_set_model_state_property (cinematic_object_get "falcon_3") 0 true)
    )
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 31) "thrusters_down" 0.5 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 12) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 30) "thrusters_down" 0.5 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 8) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 4) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 12) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 8) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 12) "thrust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 12) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 8) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 4) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 8) "thrust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 4) "thrust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 8) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 4) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 4) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 8) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 12) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 4) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 37) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 37) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 35) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 35) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 39) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 41) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 33) "driver_seat_power" 1 0)
    (cinematic_scripting_start_effect 3 1 1 (cinematic_object_get "warthog5"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 3 33) "engine_rpm" 1 0)
    (sleep 88)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !035la_bigpush_032_sc
    (cinematic_print "beginning scene 4")
    (cinematic_scripting_create_scene 3)
    (035la_bigpush_032_sc_sh1)
    (035la_bigpush_032_sc_sh2)
    (cinematic_scripting_destroy_scene 3)
)

(script static void 035la_bigpush_038_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4) 0 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4) 0)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 0 "falcon_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 1 "falcon_01_falcon_chin_gun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 2 "falcon_01_falcon_side_gun_left2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 3 "falcon_01_falcon_side_gun_right3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 4 "falcon_02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 5 "falcon_02_falcon_chin_gun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 6 "falcon_02_falcon_side_gun_left2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 7 "falcon_02_falcon_side_gun_right3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 8 "falcon_gunner_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 9 "lod_hog_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 10 "lod_hog_02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 11 "lod_hog_03_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 12 "lod_hog_04_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 13 "lod_hog_05_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 14 "lod_hog_06_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 15 "lod_hog_07_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 16 "lod_hog_08_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 17 "lod_hog_09_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 18 "lod_hog_10_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 19 "lod_hog_11_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 20 "lod_hog_12_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 21 "lod_hog_13_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 22 "falcon_gunner_02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 23 "falcon_gunner_03_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 24 "mongoose_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 25 "mongoose_driver_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 26 "mongoose_rider_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 27 "mongoose_rider_ar_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 28 "large_terrain_piece_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 29 "cov_army_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 0.4 0)
    (cinematic_scripting_start_effect 4 0 0 (cinematic_object_get "lod_hog_03"))
    (cinematic_scripting_start_effect 4 0 1 (cinematic_object_get "lod_hog_01"))
    (cinematic_scripting_start_effect 4 0 5 (cinematic_object_get "lod_hog_10"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 0) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 15) "brakelights" 0.65 0)
    (cinematic_print "custom script play")
    (begin
        (object_set_model_state_property (cinematic_object_get "falcon_01") 0 true)
        (object_set_model_state_property (cinematic_object_get "falcon_02") 0 true)
    )
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 21) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 21) "brakelights" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 21) "brakelights" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 20) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 20) "brakelights" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 20) "brakelights" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 19) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 19) "brakelights" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 19) "brakelights" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 18) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 18) "brakelights" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 18) "brakelights" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 17) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 17) "brakelights" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 17) "brakelights" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 16) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 16) "brakelights" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 16) "brakelights" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 15) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 14) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 4) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 13) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 13) "brakelights" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 12) "brakelights" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 12) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 11) "brakelights" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 11) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 10) "brakelights" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 10) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 9) "brakelights" 0.65 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 9) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 9) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 0) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 4) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 15) "brakelights" 0.65 0)
    (cinematic_scripting_start_effect 4 0 4 (cinematic_object_get "lod_hog_08"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 4) "thrust" 0.5 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 0) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 0) "thrust" 0.5 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 4) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 0) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 4 4) "driver_seat_power" 1 0)
    (cinematic_scripting_start_effect 4 0 2 (cinematic_object_get "lod_hog_05"))
    (cinematic_scripting_start_effect 4 0 6 (cinematic_object_get "lod_hog_13"))
    (cinematic_scripting_start_effect 4 0 3 (cinematic_object_get "lod_hog_04"))
    (sleep 95)
    (cinematic_scripting_start_dialogue 4 0 0 none)
    (sleep 69)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !035la_bigpush_038_sc
    (cinematic_print "beginning scene 5")
    (cinematic_scripting_create_scene 4)
    (035la_bigpush_038_sc_sh1)
    (begin
        (cinematic_object_destroy "warthog1_warthog_chaingun1")
        (cinematic_object_destroy "warthog2_warthog_chaingun1")
        (cinematic_object_destroy "warthog3_warthog_chaingun1")
        (cinematic_object_destroy "warthog4_warthog_chaingun1")
        (cinematic_object_destroy "warthog5_warthog_chaingun1")
    )
    (cinematic_scripting_destroy_scene 4)
)

(script static void 035la_bigpush_040_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 5) 0 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 5) 0)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (object_hide (cinematic_scripting_get_object 5 0) true)
    (object_hide (cinematic_scripting_get_object 5 1) true)
    (object_hide (cinematic_scripting_get_object 5 2) true)
    (object_hide (cinematic_scripting_get_object 5 3) true)
    (object_hide (cinematic_scripting_get_object 5 4) true)
    (object_hide (cinematic_scripting_get_object 5 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 6 "carter_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 7 "driver5_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 8 "falcon1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 9 "falcon1_falcon_chin_gun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 10 "falcon1_falcon_side_gun_left2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 11 "falcon1_falcon_side_gun_right3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 12 "gunner1_1" true)
    (object_hide (cinematic_scripting_get_object 5 13) true)
    (object_hide (cinematic_scripting_get_object 5 14) true)
    (object_hide (cinematic_scripting_get_object 5 15) true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 16 "gunner5_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 17 "kat_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 18 "lod_warthog_1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 19 "player_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 20 "player_assaultrifle_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 21 "terrainplate_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 22 "warthog1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 23 "warthog1_warthog_chaingun1_1" true)
    (object_hide (cinematic_scripting_get_object 5 24) true)
    (object_hide (cinematic_scripting_get_object 5 25) true)
    (object_hide (cinematic_scripting_get_object 5 26) true)
    (object_hide (cinematic_scripting_get_object 5 27) true)
    (object_hide (cinematic_scripting_get_object 5 28) true)
    (object_hide (cinematic_scripting_get_object 5 29) true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 30 "warthog5_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 31 "warthog5_warthog_chaingun1_1" true)
    (object_hide (cinematic_scripting_get_object 5 32) true)
    (object_hide (cinematic_scripting_get_object 5 33) true)
    (object_hide (cinematic_scripting_get_object 5 34) true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 35 "fx_dyn_light_kathog_1" true)
    (object_hide (cinematic_scripting_get_object 5 36) true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 37 "cov_army_1" true)
    (object_hide (cinematic_scripting_get_object 5 38) true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 39 "stealth_tower_1" true)
    (object_hide (cinematic_scripting_get_object 5 40) true)
    (object_hide (cinematic_scripting_get_object 5 41) true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 42 "fx_wraith_03_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 0 43 "fx_wraith_04_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 0.5 0)
    (cinematic_scripting_start_effect 5 0 0 (cinematic_object_get "warthog1"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 5 22) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 5 22) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 5 30) "dashboard_light" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 5 30) "brakelights" 0.5 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 5 30) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 5 30) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 5 22) "dashboard_light" 1 0)
    (cinematic_scripting_start_effect 5 0 1 (cinematic_object_get "warthog1"))
    (cinematic_scripting_start_effect 5 0 2 (cinematic_object_get "warthog5"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 5 22) "brakelights" 0.5 0)
    (sleep 63)
    (cinematic_scripting_start_dialogue 5 0 0 none)
    (sleep 65)
    (cinematic_scripting_start_dialogue 5 0 1 none)
    (sleep 35)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035la_bigpush_040_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 5) 1 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 5) 1)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 0 "banshee_1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 1 "banshee_2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 2 "banshee_3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 3 "banshee_4_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 4 "banshee_5_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 5 "banshee_6_2" true)
    (object_hide (cinematic_scripting_get_object 5 6) true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 7 "driver5_2" true)
    (object_hide (cinematic_scripting_get_object 5 8) true)
    (object_hide (cinematic_scripting_get_object 5 9) true)
    (object_hide (cinematic_scripting_get_object 5 10) true)
    (object_hide (cinematic_scripting_get_object 5 11) true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 12 "gunner1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 13 "gunner2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 14 "gunner3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 15 "gunner4_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 16 "gunner5_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 17 "kat_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 18 "lod_warthog_1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 19 "player_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 20 "player_assaultrifle_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 21 "terrainplate_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 22 "warthog1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 23 "warthog1_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 24 "warthog2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 25 "warthog2_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 26 "warthog3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 27 "warthog3_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 28 "warthog4_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 29 "warthog4_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 30 "warthog5_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 31 "warthog5_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 32 "lod_warthog_2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 33 "lod_warthog_3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 34 "driver2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 35 "fx_dyn_light_kathog_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 36 "fx_ridge_explosion_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 37 "cov_army_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 38 "remote_detonator_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 39 "stealth_tower_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 40 "fx_wraith_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 41 "fx_wraith_02_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 42 "fx_wraith_03_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 5 1 43 "fx_wraith_04_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure 0.5 0)
    (cinematic_scripting_start_effect 5 1 1 (cinematic_object_get "warthog3"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 5 0) "banshee_speed" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 5 1) "banshee_speed" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 5 2) "banshee_speed" 1 0)
    (cinematic_scripting_start_effect 5 1 2 (cinematic_object_get "warthog4"))
    (cinematic_scripting_start_effect 5 1 3 (cinematic_object_get "lod_warthog_3"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 5 39) "tower_off" 1 0)
    (cinematic_print "custom script play")
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 5 3) "banshee_speed" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 5 5) "banshee_speed" 1 0)
    (object_cinematic_visibility (cinematic_object_get "terrainplate_01") false)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 5 4) "banshee_speed" 1 0)
    (sleep 1)
    (object_cinematic_visibility (cinematic_object_get "terrainplate_01") false)
    (cinematic_print "custom script play")
    (sleep 85)
    (cinematic_scripting_start_dialogue 5 1 0 none)
    (sleep 91)
    (cinematic_scripting_start_effect 5 1 4 (cinematic_object_get "fx_ridge_explosion"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 5 39) "tower_off" 0 0)
    (sleep 23)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_3_weapon") true)
    (cinematic_scripting_start_effect 5 1 7 (cinematic_object_get "fx_wraith_03"))
    (sleep 25)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "warthog5_warthog_chaingun1_weapon") true)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "warthog3_warthog_chaingun1_weapon") true)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "warthog2_warthog_chaingun1_weapon") true)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "warthog1_warthog_chaingun1_weapon") true)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "warthog4_warthog_chaingun1_weapon") true)
    (sleep 2)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_1_weapon") true)
    (sleep 3)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_2_weapon") true)
    (cinematic_print "custom script play")
    (sleep 10)
    (cinematic_scripting_start_effect 5 1 8 (cinematic_object_get "fx_wraith_04"))
    (sleep 3)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_6_weapon") true)
    (sleep 2)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_2_weapon") false)
    (cinematic_print "custom script play")
    (sleep 5)
    (cinematic_scripting_start_effect 5 1 0 (cinematic_object_get "warthog2"))
    (sleep 5)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_6_weapon") false)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_1_weapon") false)
    (sleep 10)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_3_weapon") false)
    (sleep 5)
    (cinematic_scripting_start_effect 5 1 6 (cinematic_object_get "fx_wraith_02"))
    (sleep 5)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_1_weapon") true)
    (sleep 5)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_6_weapon") true)
    (cinematic_print "custom script play")
    (sleep 5)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_2_weapon") true)
    (sleep 5)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_3_weapon") true)
    (cinematic_print "custom script play")
    (sleep 4)
    (cinematic_scripting_start_effect 5 1 5 (cinematic_object_get "fx_wraith_01"))
    (sleep 1)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_1_weapon") false)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_2_weapon") false)
    (sleep 35)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "warthog4_warthog_chaingun1_weapon") false)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_3_weapon") false)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_2_weapon") false)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "warthog4_warthog_chaingun1_weapon") false)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_1_weapon") false)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_6_weapon") false)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !035la_bigpush_040_sc
    (cinematic_print "beginning scene 6")
    (cinematic_scripting_create_scene 5)
    (035la_bigpush_040_sc_sh1)
    (035la_bigpush_040_sc_sh2)
    (begin
        (cinematic_object_destroy "lod_hog_01")
        (cinematic_object_destroy "lod_hog_05")
        (cinematic_object_destroy "lod_hog_06")
        (cinematic_object_destroy "lod_hog_07")
        (cinematic_object_destroy "lod_hog_08")
        (cinematic_object_destroy "lod_hog_11")
        (cinematic_object_destroy "falcon_01_falcon_side_gun_right3")
    )
    (cinematic_scripting_destroy_scene 5)
)

(script static void 035la_bigpush_044_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 6) 0 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 6) 0)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 0 "banshee_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 1 "banshee_02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 2 "banshee_03_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 3 "banshee_04_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 4 "banshee_05_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 5 "banshee_06_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 6 "falcon_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 7 "falcon_01_falcon_chin_gun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 8 "falcon_01_falcon_side_gun_left2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 9 "falcon_01_falcon_side_gun_right3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 10 "hog_explosion_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 11 "lod_hog_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 12 "lod_hog_02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 13 "lod_hog_04_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 14 "lod_hog_05_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 15 "lod_hog_06_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 16 "lod_hog_07_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 17 "lod_hog_08_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 18 "lod_hog_09_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 19 "lod_hog_10_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 20 "lod_hog_11_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 21 "lod_hog_12_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 22 "lod_hog_13_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 23 "driver1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 24 "driver3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 25 "gunner1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 26 "gunner2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 27 "gunner3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 28 "kat_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 29 "player_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 30 "player_ar_1" true)
    (object_hide (cinematic_scripting_get_object 6 31) true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 32 "warthog1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 33 "warthog1_warthog_chaingun1_1" true)
    (object_hide (cinematic_scripting_get_object 6 34) true)
    (object_hide (cinematic_scripting_get_object 6 35) true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 36 "warthog3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 37 "warthog3_warthog_chaingun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 38 "fx_dyn_light_kathog_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 39 "fx_dyn_light_crashhog_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 40 "fx_dyn_light_swervehog_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 41 "terrain_square_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 42 "cov_army_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 43 "fx_wraith_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 44 "fx_wraith_02_1" true)
    (object_hide (cinematic_scripting_get_object 6 45) true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 46 "fx_wraith_03_1" true)
    (object_hide (cinematic_scripting_get_object 6 47) true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 48 "fx_wraith_05_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 0 49 "fx_wraith_06_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 0 0)
    (cinematic_scripting_start_effect 6 0 4 (cinematic_object_get "banshee_01"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 6 6) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 6 6) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 6 6) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 6 6) "thrust" 1 0)
    (cinematic_print "custom script play")
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 6 6) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 6 3) "banshee_speed" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 6 5) "banshee_speed" 1 0)
    (object_set_model_state_property (cinematic_object_get "falcon_01") 0 true)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 6 4) "banshee_speed" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 6 0) "banshee_speed" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 6 1) "banshee_speed" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 6 2) "banshee_speed" 1 0)
    (sleep 1)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "warthog1_warthog_chaingun1_weapon") true)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_01_weapon") true)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_06_weapon") true)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_05_weapon") true)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "falcon_01_falcon_side_gun_right3_weapon") true)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_04_weapon") true)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_05_weapon") true)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_11_weapon") true)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_03_weapon") true)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_06_weapon") true)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_02_weapon") true)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_07_weapon") true)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_01_weapon") true)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "warthog3_warthog_chaingun1_weapon") true)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "warthog2_warthog_chaingun1_weapon") true)
    (sleep 7)
    (cinematic_scripting_start_effect 6 0 2 (cinematic_object_get "fx_wraith_02"))
    (sleep 2)
    (cinematic_scripting_start_effect 6 0 5 (cinematic_object_get "banshee_02"))
    (sleep 4)
    (cinematic_scripting_start_effect 6 0 6 (cinematic_object_get "banshee_03"))
    (sleep 2)
    (cinematic_scripting_start_effect 6 0 1 (cinematic_object_get "fx_wraith_01"))
    (sleep 4)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "falcon_01_falcon_side_gun_right3_weapon") false)
    (sleep 8)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "falcon_01_falcon_side_gun_right3_weapon") true)
    (cinematic_print "custom script play")
    (sleep 1)
    (cinematic_scripting_start_effect 6 0 7 (cinematic_object_get "banshee_04"))
    (sleep 1)
    (cinematic_print "custom script play")
    (damage_object (cinematic_object_get "warthog1") "hull_front" 1)
    (cinematic_scripting_start_effect 6 0 8 (cinematic_object_get "banshee_06"))
    (sleep 1)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "falcon_01_falcon_side_gun_right3_weapon") false)
    (sleep 4)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "warthog1_warthog_chaingun1_weapon") false)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_06_weapon") false)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "falcon_01_falcon_side_gun_right3_weapon") true)
    (cinematic_scripting_start_effect 6 0 0 (cinematic_object_get "warthog1"))
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_05_weapon") false)
    (cinematic_print "custom script play")
    (sleep 5)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "falcon_01_falcon_side_gun_right3_weapon") false)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_04_weapon") false)
    (sleep 3)
    (cinematic_scripting_start_effect 6 0 9 (cinematic_object_get "banshee_05"))
    (sleep 7)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "falcon_01_falcon_side_gun_right3_weapon") true)
    (cinematic_scripting_start_effect 6 0 3 (cinematic_object_get "fx_wraith_03"))
    (sleep 9)
    (cinematic_scripting_start_effect 6 0 10 (cinematic_object_get "banshee_04"))
    (sleep 3)
    (damage_object (cinematic_object_get "warthog1") "fender_front_left" 150)
    (cinematic_print "custom script play")
    (sleep 11)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_01_weapon") false)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_06_weapon") false)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_07_weapon") false)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "falcon_01_falcon_side_gun_right3_weapon") false)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_05_weapon") false)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "warthog3_warthog_chaingun1_weapon") false)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_06_weapon") false)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_03_weapon") false)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_05_weapon") false)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_02_weapon") false)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee_04_weapon") false)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "warthog2_warthog_chaingun1_weapon") false)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_01_weapon") false)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_11_weapon") false)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035la_bigpush_044_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 6) 1 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 6) 1)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 0 "banshee_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 1 "banshee_02_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 2 "banshee_03_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 3 "banshee_04_2" true)
    (object_hide (cinematic_scripting_get_object 6 4) true)
    (object_hide (cinematic_scripting_get_object 6 5) true)
    (object_hide (cinematic_scripting_get_object 6 6) true)
    (object_hide (cinematic_scripting_get_object 6 7) true)
    (object_hide (cinematic_scripting_get_object 6 8) true)
    (object_hide (cinematic_scripting_get_object 6 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 10 "hog_explosion_01_2" true)
    (object_hide (cinematic_scripting_get_object 6 11) true)
    (object_hide (cinematic_scripting_get_object 6 12) true)
    (object_hide (cinematic_scripting_get_object 6 13) true)
    (object_hide (cinematic_scripting_get_object 6 14) true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 15 "lod_hog_06_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 16 "lod_hog_07_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 17 "lod_hog_08_2" true)
    (object_hide (cinematic_scripting_get_object 6 18) true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 19 "lod_hog_10_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 20 "lod_hog_11_2" true)
    (object_hide (cinematic_scripting_get_object 6 21) true)
    (object_hide (cinematic_scripting_get_object 6 22) true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 23 "driver1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 24 "driver3_2" true)
    (object_hide (cinematic_scripting_get_object 6 25) true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 26 "gunner2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 27 "gunner3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 28 "kat_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 29 "player_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 30 "player_ar_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 31 "terrainplate_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 32 "warthog1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 33 "warthog1_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 34 "warthog2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 35 "warthog2_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 36 "warthog3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 37 "warthog3_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 38 "fx_dyn_light_kathog_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 39 "fx_dyn_light_crashhog_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 40 "fx_dyn_light_swervehog_2" true)
    (object_hide (cinematic_scripting_get_object 6 41) true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 42 "cov_army_2" true)
    (object_hide (cinematic_scripting_get_object 6 43) true)
    (object_hide (cinematic_scripting_get_object 6 44) true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 45 "pelican_flock_01_2" true)
    (object_hide (cinematic_scripting_get_object 6 46) true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 47 "fx_wraith_04_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 48 "fx_wraith_05_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 6 1 49 "fx_wraith_06_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure 0.5 0)
    (cinematic_scripting_start_effect 6 1 0 (cinematic_object_get "warthog1"))
    (cinematic_scripting_start_effect 6 1 5 (cinematic_object_get "warthog3"))
    (cinematic_scripting_start_effect 6 1 6 (cinematic_object_get "lod_hog_06"))
    (cinematic_print "custom script play")
    (damage_object (cinematic_object_get "warthog1") "fender_front_right" 100)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 6 36) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 6 34) "engine_rpm" 1 0)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_07_weapon") true)
    (cinematic_print "custom script play")
    (cinematic_scripting_start_effect 6 1 4 (cinematic_object_get "warthog2"))
    (cinematic_scripting_start_effect 6 1 9 (cinematic_object_get "lod_hog_10"))
    (cinematic_scripting_start_effect 6 1 10 (cinematic_object_get "lod_hog_11"))
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_11_weapon") true)
    (cinematic_scripting_start_effect 6 1 7 (cinematic_object_get "lod_hog_07"))
    (cinematic_scripting_start_effect 6 1 8 (cinematic_object_get "lod_hog_08"))
    (sleep 1)
    (cinematic_scripting_start_effect 6 1 1 (cinematic_object_get "fx_wraith_04"))
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_08_weapon") true)
    (sleep 20)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_08_weapon") false)
    (sleep 17)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "warthog2_warthog_chaingun1_weapon") true)
    (cinematic_print "custom script play")
    (sleep 1)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_11_weapon") false)
    (sleep 2)
    (cinematic_scripting_start_effect 6 1 2 (cinematic_object_get "fx_wraith_05"))
    (sleep 9)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_08_weapon") true)
    (sleep 10)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_11_weapon") true)
    (sleep 4)
    (cinematic_scripting_start_effect 6 1 3 (cinematic_object_get "fx_wraith_06"))
    (sleep 11)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_07_weapon") false)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_11_weapon") false)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "lod_hog_08_weapon") false)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "warthog2_warthog_chaingun1_weapon") false)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !035la_bigpush_044_sc
    (cinematic_print "beginning scene 7")
    (cinematic_scripting_create_scene 6)
    (035la_bigpush_044_sc_sh1)
    (035la_bigpush_044_sc_sh2)
    (cinematic_object_destroy "player_assaultrifle")
    (cinematic_scripting_destroy_scene 6)
)

(script static void 035la_bigpush_048_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 7) 0 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 7) 0)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 0 "banshee1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 1 "banshee2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 2 "banshee3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 3 "banshee4_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 4 "banshee5_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 5 "banshee6_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 6 "gunner1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 7 "kat_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 8 "player_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 9 "player_assaultrifle_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 10 "warthog1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 11 "warthog1_warthog_chaingun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 12 "fx_dyn_light_hog_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 7 0 13 "logo_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 2 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 7 13) "camera" 0.5 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 7 13) "location" 0.3 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 7 13) "camera" 0.75 0)
    (cinematic_scripting_start_screen_effect 7 0 0)
    (sleep 1)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee5_weapon") true)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee1_weapon") true)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "warthog1_warthog_chaingun1_weapon") true)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee4_weapon") true)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "player_assaultrifle_weapon") true)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee3_weapon") true)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee2_weapon") true)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee6_weapon") true)
    (cinematic_print "custom script play")
    (sleep 8)
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "player_assaultrifle_weapon") false)
    (sleep 17)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee1_weapon") false)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee3_weapon") false)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee2_weapon") false)
    (cinematic_print "custom script play")
    (sleep 11)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee5_weapon") false)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee6_weapon") false)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "banshee4_weapon") false)
    (sleep 6)
    (weapon_set_primary_barrel_firing (cinematic_weapon_get "warthog1_warthog_chaingun1_weapon") false)
    (cinematic_print "custom script play")
    (sleep 35)
    (cinematic_scripting_stop_screen_effect 7 0 0)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !035la_bigpush_048_sc
    (cinematic_print "beginning scene 8")
    (cinematic_scripting_create_scene 7)
    (035la_bigpush_048_sc_sh1)
    (cinematic_scripting_destroy_scene 7)
)

(script static void 035la_bigpush_050_sc_sh1
    (fade_in 1 1 1 0)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 8) 0 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 8) 0)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 0 "kat_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 1 "player_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 2 "warthog1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 3 "warthog1_warthog_chaingun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 4 "warthog2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 5 "warthog2_warthog_chaingun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 6 "warthog3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 7 "warthog3_warthog_chaingun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 8 "warthog4_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 9 "warthog4_warthog_chaingun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 10 "warthog3_5_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 11 "warthog3_5_warthog_chaingun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 12 "hardleft_gunner_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 13 "splodin_gunner_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 14 "hardleft_driver_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 15 "hardleft_passenger_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 16 "player_assaultrifle_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 17 "splodin_driver_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 18 "splodin_passenger_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 19 "fx_dyn_light_cockpit_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 20 "fx_bridge_explosion_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 21 "fx_bomb_projectile_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 0 22 "fx_bomb_miss_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 1.5 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 8 8) "driver_seat_power" 1 0)
    (sleep 85)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035la_bigpush_050_sc_sh2
    (fade_in 1 1 1 0)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 8) 1 "035la_bigpush_050_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 8) 1)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_050_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 0 "kat_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 1 "player_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 2 "warthog1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 3 "warthog1_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 4 "warthog2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 5 "warthog2_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 6 "warthog3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 7 "warthog3_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 8 "warthog4_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 9 "warthog4_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 10 "warthog3_5_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 11 "warthog3_5_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 12 "hardleft_gunner_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 13 "splodin_gunner_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 14 "hardleft_driver_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 15 "hardleft_passenger_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 16 "player_assaultrifle_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 17 "splodin_driver_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 18 "splodin_passenger_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 19 "fx_dyn_light_cockpit_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 20 "fx_bridge_explosion_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 21 "fx_bomb_projectile_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 8 1 22 "fx_bomb_miss_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure 1.5 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 8 8) "driver_seat_power" 1 0)
    (object_set_permutation "m35_bridge_intro" "default" "default")
    (cinematic_print "custom script play")
    (sleep 2)
    (cinematic_scripting_start_effect 8 1 2 (cinematic_object_get "fx_bomb_miss"))
    (sleep 13)
    (cinematic_scripting_start_dialogue 8 1 1 none)
    (sleep 7)
    (cinematic_scripting_start_effect 8 1 1 (cinematic_object_get "fx_bomb_projectile"))
    (sleep 23)
    (cinematic_scripting_start_effect 8 1 0 (cinematic_object_get "fx_bridge_explosion"))
    (sleep 4)
    (cinematic_print "custom script play")
    (damage_object (cinematic_object_get "warthog3") "hull_front" 200)
    (sleep 2)
    (cinematic_print "custom script play")
    (object_set_permutation "m35_bridge_intro" "default" "destroyed_gp")
    (sleep 16)
    (cinematic_scripting_start_dialogue 8 1 0 none)
    (sleep 18)
    (damage_object (cinematic_object_get "warthog3") "hull_front" 300)
    (cinematic_print "custom script play")
    (sleep 85)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 8 8) "driver_seat_power" 0 0)
    (cinematic_print "custom script play")
    (cinematic_scripting_start_effect 8 1 3 (cinematic_object_get "warthog4"))
    (damage_object (cinematic_object_get "warthog4") "hull_front" 100)
    (sleep 52)
    (cinematic_print "custom script play")
    (damage_object (cinematic_object_get "warthog4") "hull_front" 210)
    (sleep 4)
    (cinematic_print "custom script play")
    (fade_out 1 1 1 8)
    (sleep 7)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !035la_bigpush_050_sc
    (cinematic_print "beginning scene 9")
    (cinematic_scripting_create_scene 8)
    (035la_bigpush_050_sc_sh1)
    (035la_bigpush_050_sc_sh2)
    (cinematic_scripting_destroy_scene 8)
)

(script static void 035la_bigpush_060_sc_sh1
    (begin
        (fade_out 1 1 1 0)
        (sound_class_set_gain "vehicle_engine" 1 60)
    )
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 9) 0 "035la_bigpush_060_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 9) 0)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_060_anchor")
    (object_hide (cinematic_scripting_get_object 9 0) true)
    (object_hide (cinematic_scripting_get_object 9 1) true)
    (object_hide (cinematic_scripting_get_object 9 2) true)
    (object_hide (cinematic_scripting_get_object 9 3) true)
    (object_hide (cinematic_scripting_get_object 9 4) true)
    (cinematic_scripting_create_and_animate_cinematic_object 9 0 5 "player_fp_1" true)
    (object_hide (cinematic_scripting_get_object 9 6) true)
    (object_hide (cinematic_scripting_get_object 9 7) true)
    (object_hide (cinematic_scripting_get_object 9 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 9 0 9 "warthog3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 9 0 10 "warthog3_warthog_chaingun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 9 0 11 "player_grenade_launcher_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 1 0)
    (object_set_permutation "m35_bridge_intro" "default" "destroyed_gp")
    (cinematic_show_letterbox_immediate false)
    (cinematic_print "custom script play")
    (cinematic_print "custom script play")
    (sleep 60)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035la_bigpush_060_sc_sh2
    (fade_in 1 1 1 60)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 9) 1 "035la_bigpush_060_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 9) 1)
    (cinematic_object_create_cinematic_anchor "035la_bigpush_060_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 9 1 0 "driver_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 9 1 1 "gunner_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 9 1 2 "kat_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 9 1 3 "kat_rifle_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 9 1 4 "passenger_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 9 1 5 "player_fp_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 9 1 6 "tuningfork01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 9 1 7 "warthog1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 9 1 8 "warthog1_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 9 1 9 "warthog3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 9 1 10 "warthog3_warthog_chaingun1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 9 1 11 "player_grenade_launcher_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (cinematic_scripting_start_music 9 1 0)
    (object_set_permutation "m35_bridge_intro" "default" "destroyed_gp")
    (cinematic_print "custom script play")
    (sleep 58)
    (cinematic_scripting_start_dialogue 9 1 0 none)
    (sleep 123)
    (cinematic_scripting_start_dialogue 9 1 1 none)
    (cinematic_scripting_start_dialogue 9 1 2 none)
    (cinematic_scripting_start_music 9 1 1)
    (sleep 33)
    (cinematic_scripting_start_effect 9 1 1 "warthog_impact")
    (cinematic_scripting_start_effect 9 1 0 "warthog_impact")
    (sleep 39)
    (cinematic_scripting_start_dialogue 9 1 3 none)
    (sleep 106)
    (cinematic_scripting_start_dialogue 9 1 4 none)
    (sleep 36)
    (cinematic_scripting_start_dialogue 9 1 5 none)
    (sleep 200)
    (sleep (cinematic_tag_fade_out_from_cinematic "035la_bigpush"))
    (sleep 4)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !035la_bigpush_060_sc
    (cinematic_print "beginning scene 10")
    (cinematic_scripting_create_scene 9)
    (035la_bigpush_060_sc_sh1)
    (035la_bigpush_060_sc_sh2)
    (cinematic_scripting_destroy_scene 9)
)

(script static void 035la_bigpush_cleanup
    (cinematic_scripting_clean_up 0)
)

(script static void begin_035la_bigpush_debug
    (cinematic_zone_activate_for_debugging 0)
    (sleep 2)
    (camera_control true)
    (cinematic_start)
    (set cinematic_letterbox_style 0)
    (cinematic_show_letterbox_immediate true)
    (camera_set_cinematic)
    (cinematic_set_debug_mode true)
    (cinematic_set (cinematic_tag_reference_get_cinematic 0))
)

(script static void end_035la_bigpush_debug
    (cinematic_destroy)
    (cinematic_stop)
    (camera_control false)
    (render_exposure_fade_out 0)
    (cinematic_zone_deactivate 0)
    (fade_in 0 0 0 0)
)

(script static void 035la_bigpush_debug
    (begin_035la_bigpush_debug)
    (sleep (cinematic_tag_fade_in_to_cinematic "035la_bigpush"))
    (!035la_bigpush_010_sc)
    (!035la_bigpush_020_sc)
    (!035la_bigpush_030_sc)
    (!035la_bigpush_032_sc)
    (!035la_bigpush_038_sc)
    (!035la_bigpush_040_sc)
    (!035la_bigpush_044_sc)
    (!035la_bigpush_048_sc)
    (!035la_bigpush_050_sc)
    (!035la_bigpush_060_sc)
    (end_035la_bigpush_debug)
)

(script static void begin_035la_bigpush
    (cinematic_zone_activate 0)
    (sleep 2)
    (camera_set_cinematic)
    (cinematic_set_debug_mode false)
    (cinematic_set (cinematic_tag_reference_get_cinematic 0))
)

(script static void end_035la_bigpush
    (cinematic_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035la_bigpush
    (begin_035la_bigpush)
    (sleep (cinematic_tag_fade_in_to_cinematic "035la_bigpush"))
    (!035la_bigpush_010_sc)
    (!035la_bigpush_020_sc)
    (!035la_bigpush_030_sc)
    (!035la_bigpush_032_sc)
    (!035la_bigpush_038_sc)
    (!035la_bigpush_040_sc)
    (!035la_bigpush_044_sc)
    (!035la_bigpush_048_sc)
    (!035la_bigpush_050_sc)
    (!035la_bigpush_060_sc)
    (end_035la_bigpush)
)

(script static void 035lc_blackshi_reveal_010_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0) 0 "035lc_blackship_reveal_010_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0) 0)
    (cinematic_object_create_cinematic_anchor "035lc_blackship_reveal_010_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 0 "carter_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 1 "falcon_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 2 "jorge_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 3 "jorge_gun_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 4 "player_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 5 "player_ar_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 6 "fx_light_marker_1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 7 "fx_light_marker_2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 8 "fx_light_marker_3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 9 "m35_spire_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 10 "m35_spire_shield_down_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 11 "falcon_falcon_chin_gun1_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 0.2 0)
    (cinematic_scripting_start_music 0 0 0)
    (cinematic_scripting_start_music 0 0 1)
    (sleep 70)
    (cinematic_print "custom script play")
    (interpolator_start "dome_power")
    (sleep 48)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035lc_blackshi_reveal_010_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0) 1 "035lc_blackship_reveal_010_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0) 1)
    (cinematic_object_create_cinematic_anchor "035lc_blackship_reveal_010_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 0 "carter_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 1 "falcon_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 2 "jorge_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 3 "jorge_gun_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 "player_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 5 "player_ar_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 6 "fx_light_marker_1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 7 "fx_light_marker_2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 8 "fx_light_marker_3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 9 "m35_spire_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 10 "m35_spire_shield_down_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 11 "falcon_falcon_chin_gun1_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure 1.2 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "engine_exhaust" 1 0)
    (object_set_model_state_property (cinematic_object_get "falcon") 0 true)
    (cinematic_print "custom script play")
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "thrust" 0.1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "driver_seat_power" 1 0)
    (sleep 100)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035lc_blackshi_reveal_010_sc_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0) 2 "035lc_blackship_reveal_010_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0) 2)
    (cinematic_object_create_cinematic_anchor "035lc_blackship_reveal_010_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 0 "carter_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 1 "falcon_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 2 "jorge_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 3 "jorge_gun_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 4 "player_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 5 "player_ar_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 6 "fx_light_marker_1_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 7 "fx_light_marker_2_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 8 "fx_light_marker_3_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 9 "m35_spire_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 10 "m35_spire_shield_down_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 11 "falcon_falcon_chin_gun1_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (render_exposure 0.5 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "engine_exhaust" 1 0)
    (object_set_model_state_property (cinematic_object_get "falcon") 0 true)
    (cinematic_print "custom script play")
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "thrust" 0.1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "driver_seat_power" 1 0)
    (sleep 25)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035lc_blackshi_reveal_010_sc_sh4
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0) 3 "035lc_blackship_reveal_010_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0) 3)
    (cinematic_object_create_cinematic_anchor "035lc_blackship_reveal_010_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 0 "carter_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 1 "falcon_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 2 "jorge_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 3 "jorge_gun_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 4 "player_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 5 "player_ar_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 6 "fx_light_marker_1_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 7 "fx_light_marker_2_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 8 "fx_light_marker_3_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 9 "m35_spire_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 10 "m35_spire_shield_down_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 3 11 "falcon_falcon_chin_gun1_4" true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (render_exposure 1.5 0)
    (cinematic_scripting_stop_music 0 3 0)
    (cinematic_scripting_stop_music 0 3 1)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "thrust" 0.1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "engine_rpm" 1 0)
    (sleep 49)
    (cinematic_scripting_start_dialogue 0 3 0 (cinematic_scripting_get_object 0 2))
    (sleep 30)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035lc_blackshi_reveal_010_sc_sh5
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0) 4 "035lc_blackship_reveal_010_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0) 4)
    (cinematic_object_create_cinematic_anchor "035lc_blackship_reveal_010_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 0 "carter_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 1 "falcon_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 2 "jorge_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 3 "jorge_gun_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 4 "player_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 5 "player_ar_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 6 "fx_light_marker_1_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 7 "fx_light_marker_2_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 8 "fx_light_marker_3_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 9 "m35_spire_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 10 "m35_spire_shield_down_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 4 11 "falcon_falcon_chin_gun1_5" true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (render_exposure 1.5 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "thrust" 0.1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 1) "engine_exhaust" 1 0)
    (sleep 62)
    (cinematic_scripting_start_dialogue 0 4 0 (cinematic_scripting_get_object 0 0))
    (sleep 36)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !035lc_blackshi_reveal_010_sc
    (cinematic_print "beginning scene 1")
    (cinematic_scripting_create_scene 0)
    (035lc_blackshi_reveal_010_sc_sh1)
    (035lc_blackshi_reveal_010_sc_sh2)
    (035lc_blackshi_reveal_010_sc_sh3)
    (035lc_blackshi_reveal_010_sc_sh4)
    (035lc_blackshi_reveal_010_sc_sh5)
    (cinematic_scripting_destroy_scene 0)
)

(script static void 035lc_blackshi_reveal_020_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1) 0 "035lc_blackship_reveal_020_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1) 0)
    (cinematic_object_create_cinematic_anchor "035lc_blackship_reveal_020_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "carter_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "cov_carrier_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 2 "falcon_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "frigate_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "jorge_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 "jorge_backpack_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "jorge_gun_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 7 "player_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 8 "player_ar_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 9 "frigate_destroyed_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "fx_center_of_nose_explosion_bro_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "fx_targeting_beam_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "fx_light_marker_1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 13 "fx_light_marker_2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "fx_light_marker_3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "m35_spire_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 16 "falcon_falcon_chin_gun1_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 0.5 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "engine_rpm" 1 0)
    (object_set_model_state_property (cinematic_object_get "falcon") 0 true)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "thrust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "engine_exhaust" 1 0)
    (cinematic_print "custom script play")
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "driver_seat_power" 1 0)
    (sleep 29)
    (cinematic_scripting_start_dialogue 1 0 0 none)
    (sleep 24)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035lc_blackshi_reveal_020_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1) 1 "035lc_blackship_reveal_020_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1) 1)
    (cinematic_object_create_cinematic_anchor "035lc_blackship_reveal_020_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 0 "carter_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 1 "cov_carrier_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 2 "falcon_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 3 "frigate_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 4 "jorge_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 5 "jorge_backpack_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 6 "jorge_gun_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 7 "player_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 8 "player_ar_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 9 "frigate_destroyed_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 10 "fx_center_of_nose_explosion_bro_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 11 "fx_targeting_beam_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 12 "fx_light_marker_1_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 13 "fx_light_marker_2_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 14 "fx_light_marker_3_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 15 "m35_spire_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 16 "falcon_falcon_chin_gun1_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "engine_rpm" 1 0)
    (object_set_model_state_property (cinematic_object_get "falcon") 0 true)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "thrust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "engine_exhaust" 1 0)
    (cinematic_print "custom script play")
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "driver_seat_power" 1 0)
    (sleep 124)
    (cinematic_scripting_start_dialogue 1 1 0 none)
    (sleep 15)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035lc_blackshi_reveal_020_sc_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1) 2 "035lc_blackship_reveal_020_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1) 2)
    (cinematic_object_create_cinematic_anchor "035lc_blackship_reveal_020_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 0 "carter_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 1 "cov_carrier_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 2 "falcon_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 3 "frigate_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 4 "jorge_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 5 "jorge_backpack_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 6 "jorge_gun_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 7 "player_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 8 "player_ar_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 9 "frigate_destroyed_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 10 "fx_center_of_nose_explosion_bro_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 11 "fx_targeting_beam_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 12 "fx_light_marker_1_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 13 "fx_light_marker_2_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 14 "fx_light_marker_3_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 15 "m35_spire_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 16 "falcon_falcon_chin_gun1_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (render_exposure 0.5 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "thrust" 1 0)
    (cinematic_print "custom script play")
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "engine_exhaust" 1 0)
    (object_set_model_state_property (cinematic_object_get "falcon") 0 true)
    (sleep 26)
    (cinematic_scripting_start_dialogue 1 2 1 none)
    (sleep 259)
    (cinematic_scripting_start_dialogue 1 2 0 none)
    (sleep 25)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035lc_blackshi_reveal_020_sc_sh4
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1) 3 "035lc_blackship_reveal_020_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1) 3)
    (cinematic_object_create_cinematic_anchor "035lc_blackship_reveal_020_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 0 "carter_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 1 "cov_carrier_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 2 "falcon_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 3 "frigate_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 4 "jorge_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 5 "jorge_backpack_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 6 "jorge_gun_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 7 "player_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 8 "player_ar_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 9 "frigate_destroyed_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 10 "fx_center_of_nose_explosion_bro_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 11 "fx_targeting_beam_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 12 "fx_light_marker_1_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 13 "fx_light_marker_2_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 14 "fx_light_marker_3_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 15 "m35_spire_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 3 16 "falcon_falcon_chin_gun1_4" true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (render_exposure 2 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "engine_exhaust" 1 0)
    (object_set_model_state_property (cinematic_object_get "falcon") 0 true)
    (cinematic_print "custom script play")
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "thrust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "driver_seat_power" 1 0)
    (sleep 48)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035lc_blackshi_reveal_020_sc_sh5
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1) 4 "035lc_blackship_reveal_020_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1) 4)
    (cinematic_object_create_cinematic_anchor "035lc_blackship_reveal_020_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 0 "carter_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 1 "cov_carrier_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 2 "falcon_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 3 "frigate_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 4 "jorge_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 5 "jorge_backpack_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 6 "jorge_gun_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 7 "player_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 8 "player_ar_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 9 "frigate_destroyed_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 10 "fx_center_of_nose_explosion_bro_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 11 "fx_targeting_beam_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 12 "fx_light_marker_1_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 13 "fx_light_marker_2_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 14 "fx_light_marker_3_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 15 "m35_spire_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 4 16 "falcon_falcon_chin_gun1_5" true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (render_exposure 2 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "engine_rpm" 1 0)
    (object_set_model_state_property (cinematic_object_get "falcon") 0 true)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "thrust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "engine_exhaust" 1 0)
    (cinematic_print "custom script play")
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "driver_seat_power" 1 0)
    (sleep 6)
    (cinematic_scripting_start_dialogue 1 4 0 none)
    (sleep 244)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035lc_blackshi_reveal_020_sc_sh6
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1) 5 "035lc_blackship_reveal_020_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1) 5)
    (cinematic_object_create_cinematic_anchor "035lc_blackship_reveal_020_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 1 5 0 "carter_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 5 1 "cov_carrier_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 5 2 "falcon_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 5 3 "frigate_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 5 4 "jorge_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 5 5 "jorge_backpack_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 5 6 "jorge_gun_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 5 7 "player_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 5 8 "player_ar_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 5 9 "frigate_destroyed_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 5 10 "fx_center_of_nose_explosion_bro_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 5 11 "fx_targeting_beam_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 5 12 "fx_light_marker_1_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 5 13 "fx_light_marker_2_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 5 14 "fx_light_marker_3_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 5 15 "m35_spire_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 5 16 "falcon_falcon_chin_gun1_6" true)
    (cinematic_lights_initialize_for_shot 5)
    (cinematic_clips_initialize_for_shot 5)
    (cinematic_scripting_start_effect 1 5 3 (cinematic_object_get "frigate_destroyed"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "thrust" 1 0)
    (cinematic_print "custom script play")
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 15) "spire_beam_control" 0 0)
    (object_set_model_state_property (cinematic_object_get "falcon") 0 true)
    (sleep 60)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 15) "spire_beam_control" 1 0)
    (cinematic_scripting_start_effect 1 5 0 (cinematic_object_get "frigate"))
    (sleep 15)
    (cinematic_scripting_start_effect 1 5 4 (cinematic_object_get "m35_spire"))
    (sleep 105)
    (cinematic_scripting_start_effect 1 5 8 (cinematic_object_get "fx_targeting_beam"))
    (cinematic_scripting_start_effect 1 5 7 (cinematic_object_get "m35_spire"))
    (sleep 40)
    (cinematic_scripting_start_effect 1 5 1 (cinematic_object_get "fx_targeting_beam"))
    (sleep 20)
    (cinematic_scripting_start_effect 1 5 5 (cinematic_object_get "frigate_destroyed"))
    (sleep 14)
    (cinematic_scripting_start_effect 1 5 6 (cinematic_object_get "fx_center_of_nose_explosion_bro"))
    (sleep 8)
    (cinematic_scripting_start_dialogue 1 5 0 none)
    (sleep 8)
    (cinematic_scripting_start_effect 1 5 2 (cinematic_object_get "frigate_destroyed"))
    (sleep 47)
    (cinematic_scripting_start_dialogue 1 5 1 none)
    (sleep 118)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035lc_blackshi_reveal_020_sc_sh7
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1) 6 "035lc_blackship_reveal_020_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1) 6)
    (cinematic_object_create_cinematic_anchor "035lc_blackship_reveal_020_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 1 6 0 "carter_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 6 1 "cov_carrier_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 6 2 "falcon_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 6 3 "frigate_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 6 4 "jorge_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 6 5 "jorge_backpack_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 6 6 "jorge_gun_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 6 7 "player_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 6 8 "player_ar_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 6 9 "frigate_destroyed_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 6 10 "fx_center_of_nose_explosion_bro_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 6 11 "fx_targeting_beam_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 6 12 "fx_light_marker_1_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 6 13 "fx_light_marker_2_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 6 14 "fx_light_marker_3_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 6 15 "m35_spire_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 6 16 "falcon_falcon_chin_gun1_7" true)
    (cinematic_lights_initialize_for_shot 6)
    (cinematic_clips_initialize_for_shot 6)
    (render_exposure 2 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "blur" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "thrust" 1 0)
    (cinematic_print "custom script play")
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "engine_rpm" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 1 2) "engine_exhaust" 1 0)
    (object_set_model_state_property (cinematic_object_get "falcon") 0 true)
    (sleep 10)
    (cinematic_scripting_start_dialogue 1 6 1 none)
    (sleep 73)
    (cinematic_scripting_start_dialogue 1 6 0 none)
    (sleep 18)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !035lc_blackshi_reveal_020_sc
    (cinematic_print "beginning scene 2")
    (cinematic_scripting_create_scene 1)
    (035lc_blackshi_reveal_020_sc_sh1)
    (035lc_blackshi_reveal_020_sc_sh2)
    (035lc_blackshi_reveal_020_sc_sh3)
    (035lc_blackshi_reveal_020_sc_sh4)
    (035lc_blackshi_reveal_020_sc_sh5)
    (035lc_blackshi_reveal_020_sc_sh6)
    (035lc_blackshi_reveal_020_sc_sh7)
    (cinematic_scripting_destroy_scene 1)
)

(script static void 035lc_blackshi_reveal_030_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2) 0 "035lc_blackship_anchor_030")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2) 0)
    (cinematic_object_create_cinematic_anchor "035lc_blackship_anchor_030")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 "falcon_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 1 "destroyed_frigate_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 2 "fx_light_marker_1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 3 "fx_light_marker_2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 4 "fx_light_marker_3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 5 "lnos_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 6 "falcon_falcon_chin_gun1_1" true)
    (object_hide (cinematic_scripting_get_object 2 7) true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (cinematic_scripting_start_effect 2 0 0 (cinematic_object_get "destroyed_frigate"))
    (cinematic_scripting_start_effect 2 0 1 (cinematic_object_get "destroyed_frigate"))
    (cinematic_print "custom script play")
    (cinematic_scripting_start_effect 2 0 4 (cinematic_object_get "destroyed_frigate"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 0) "thrust" 1 0)
    (object_set_model_state_property (cinematic_object_get "falcon") 0 true)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 0) "driver_seat_power" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 0) "engine_exhaust" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 0) "engine_rpm" 1 0)
    (cinematic_scripting_start_effect 2 0 2 "fx_frigate_crash")
    (cinematic_scripting_start_effect 2 0 3 (cinematic_object_get "destroyed_frigate"))
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 2 0) "blur" 1 0)
    (sleep 100)
    (cinematic_scripting_start_effect 2 0 5 (cinematic_object_get "lnos"))
    (sleep 385)
    (sleep (cinematic_tag_fade_out_from_cinematic "035lc_blackship_reveal"))
    (sleep 14)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !035lc_blackshi_reveal_030_sc
    (cinematic_print "beginning scene 3")
    (cinematic_scripting_create_scene 2)
    (035lc_blackshi_reveal_030_sc_sh1)
    (cinematic_scripting_destroy_scene 2)
)

(script static void 035lc_blackship_reveal_cleanup
    (cinematic_scripting_clean_up 1)
)

(script static void begin_035lc_blackship_reveal_debug
    (cinematic_zone_activate_for_debugging 1)
    (sleep 2)
    (camera_control true)
    (cinematic_start)
    (set cinematic_letterbox_style 0)
    (cinematic_show_letterbox_immediate true)
    (camera_set_cinematic)
    (cinematic_set_debug_mode true)
    (cinematic_set (cinematic_tag_reference_get_cinematic 1))
)

(script static void end_035lc_blackship_reveal_debug
    (cinematic_destroy)
    (cinematic_stop)
    (camera_control false)
    (render_exposure_fade_out 0)
    (cinematic_zone_deactivate 1)
    (fade_in 0 0 0 0)
)

(script static void 035lc_blackship_reveal_debug
    (begin_035lc_blackship_reveal_debug)
    (sleep (cinematic_tag_fade_in_to_cinematic "035lc_blackship_reveal"))
    (cinematic_outro_start)
    (!035lc_blackshi_reveal_010_sc)
    (!035lc_blackshi_reveal_020_sc)
    (!035lc_blackshi_reveal_030_sc)
    (end_035lc_blackship_reveal_debug)
)

(script static void begin_035lc_blackship_reveal
    (cinematic_zone_activate 1)
    (sleep 2)
    (camera_set_cinematic)
    (cinematic_set_debug_mode false)
    (cinematic_set (cinematic_tag_reference_get_cinematic 1))
)

(script static void end_035lc_blackship_reveal
    (cinematic_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035lc_blackship_reveal
    (begin_035lc_blackship_reveal)
    (sleep (cinematic_tag_fade_in_to_cinematic "035lc_blackship_reveal"))
    (cinematic_outro_start)
    (!035lc_blackshi_reveal_010_sc)
    (!035lc_blackshi_reveal_020_sc)
    (!035lc_blackshi_reveal_030_sc)
    (end_035lc_blackship_reveal)
)

(script static void 035lb_falconcrash_010_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0) 0 "035lb_falconcrash_010_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0) 0)
    (cinematic_object_create_cinematic_anchor "035lb_falconcrash_010_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 0 "falcon_normal_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 1 "falcon_normal_falcon_chin_gun1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 2 "falcon_normal_falcon_side_gun_left2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 3 "jorge_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 4 "jorge_backpack_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 5 "jorge_gun_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 6 "player_ar_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 7 "crashed_falcon_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 8 "falcon_bit_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 9 "falcon_chunk_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 10 "falcon_piece_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 11 "falcon_rotor_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 12 "fx_light_marker_1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 13 "fx_light_marker_2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 14 "fx_light_marker_3_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 15 "falcon_side_grenade_right_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 16 "player_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 17 "fx_bro_baggage_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 18 "bro_smoke_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 19 "bro_tailcrach_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 20 "bro_ejection_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (cinematic_scripting_start_music 0 0 1)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 6) "primary_ammunition_tens" 0.3 0)
    (cinematic_print "custom script play")
    (cinematic_show_letterbox_immediate false)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 6) "primary_ammunition_ones" 0.2 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 0) "engine_exhaust" 0.2 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 7) "smoke_off" 0 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 0) "headlights" 0 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 0) "jet_wash" 1 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 0) "driver_seat_power" 0 0)
    (object_set_cinematic_function_variable (cinematic_scripting_get_object 0 0) "thrust" 0.05 0)
    (sleep 26)
    (cinematic_scripting_start_dialogue 0 0 2 none)
    (sleep 7)
    (cinematic_scripting_start_effect 0 0 1 (cinematic_object_get "falcon_side_grenade_right"))
    (cinematic_scripting_start_effect 0 0 0 (cinematic_object_get "falcon_normal"))
    (sleep 33)
    (cinematic_scripting_start_dialogue 0 0 3 none)
    (sleep 38)
    (cinematic_scripting_start_dialogue 0 0 0 (cinematic_scripting_get_object 0 3))
    (sleep 80)
    (cinematic_scripting_start_dialogue 0 0 4 none)
    (sleep 51)
    (cinematic_scripting_start_effect 0 0 2 (cinematic_object_get "player"))
    (sleep 125)
    (cinematic_scripting_start_effect 0 0 3 (cinematic_object_get "fx_bro_baggage"))
    (sleep 20)
    (cinematic_scripting_start_effect 0 0 4 (cinematic_object_get "bro_smoke"))
    (sleep 72)
    (cinematic_scripting_start_dialogue 0 0 1 (cinematic_scripting_get_object 0 3))
    (sleep 40)
    (cinematic_scripting_start_music 0 0 0)
    (sleep 498)
    (cinematic_scripting_start_dialogue 0 0 5 none)
    (sleep 60)
    (sleep (cinematic_tag_fade_out_from_cinematic "035lb_falconcrash"))
    (sleep 4)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !035lb_falconcrash_010_sc
    (cinematic_print "beginning scene 1")
    (cinematic_scripting_create_scene 0)
    (035lb_falconcrash_010_sc_sh1)
    (cinematic_scripting_destroy_scene 0)
)

(script static void 035lb_falconcrash_cleanup
    (cinematic_scripting_clean_up 2)
)

(script static void begin_035lb_falconcrash_debug
    (cinematic_zone_activate_for_debugging 2)
    (sleep 2)
    (camera_control true)
    (cinematic_start)
    (set cinematic_letterbox_style 0)
    (cinematic_show_letterbox_immediate true)
    (camera_set_cinematic)
    (cinematic_set_debug_mode true)
    (cinematic_set (cinematic_tag_reference_get_cinematic 2))
)

(script static void end_035lb_falconcrash_debug
    (cinematic_destroy)
    (cinematic_stop)
    (camera_control false)
    (render_exposure_fade_out 0)
    (cinematic_zone_deactivate 2)
    (fade_in 0 0 0 0)
)

(script static void 035lb_falconcrash_debug
    (begin_035lb_falconcrash_debug)
    (sleep (cinematic_tag_fade_in_to_cinematic "035lb_falconcrash"))
    (!035lb_falconcrash_010_sc)
    (end_035lb_falconcrash_debug)
)

(script static void begin_035lb_falconcrash
    (cinematic_zone_activate 2)
    (sleep 2)
    (camera_set_cinematic)
    (cinematic_set_debug_mode false)
    (cinematic_set (cinematic_tag_reference_get_cinematic 2))
)

(script static void end_035lb_falconcrash
    (cinematic_destroy)
    (render_exposure_fade_out 0)
)

(script static void 035lb_falconcrash
    (begin_035lb_falconcrash)
    (sleep (cinematic_tag_fade_in_to_cinematic "035lb_falconcrash"))
    (!035lb_falconcrash_010_sc)
    (end_035lb_falconcrash)
)

(script static void md_hill_hog_to_f_md_abort
    (player_in_vehicle (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0))
    (f_md_abort)
)

(script static void md_twin_intro_02_to_f_md_abort
    g_bfg01_core_destroyed
    (f_md_abort)
)

(script static void md_twin_gun_in_range_to_f_md_abort
    g_bfg01_core_destroyed
    (f_md_abort)
)

(script static void md_twin_gun_info_02_to_f_md_abort
    g_bfg01_core_destroyed
    (f_md_abort)
)

(script static void md_twin_gun_info_03_to_f_md_abort
    g_bfg01_core_destroyed
    (f_md_abort)
)

(script static void md_twin_bridge_02_to_f_md_abort
    (>= g_facility_obj_control 1)
    (f_md_abort)
)

(script static void md_facility_end_to_f_md_abort
    (volume_test_players "tv_enc_cannon")
    (f_md_abort)
)

(script static void md_cannon_waypoint_to_f_md_abort
    g_bfg02_destroyed
    (f_md_abort)
)

(script static void md_spire_button_to_f_md_abort
    (>= (device_get_position "dc_spire_01") 1)
    (f_md_abort)
)

(script static void hill_grenade_launcher_training_to_branch_kill_launcher_training
    (unit_action_test_rotate_weapons player0)
    (branch_kill_launcher_training)
)

(script static void hill_hog_setup_to_branch_kill
    (<= (object_get_health (ai_vehicle_get_from_squad "sq_hill_rockethog_01" 0)) 0)
    (branch_kill)
)

(script static void twin_save_to_branch_kill
    (>= g_twin_obj_control 3)
    (branch_kill)
)

(script static void twin_waypoints_to_hud_unblip_all
    (>= g_twin_obj_control 5)
    (hud_unblip_all)
)

(script static void cannon_kat_enter_vehicle_to_branch_kill
    (>= g_cannon_obj_control 1)
    (branch_kill)
)

(script static void cannon_backtrack_saves_to_branch_kill
    g_bfg02_core_destroyed
    (branch_kill)
)

(script static void cannon_ui_bfg_flash_to_cannon_ui_bfg_flash_branch
    g_bfg02_core_destroyed
    (cannon_ui_bfg_flash_branch)
)

(script static void cannon_waypoints_to_hud_unblip_all
    g_bfg02_core_destroyed
    (hud_unblip_all)
)

(script static void falcon_cov_sleep_right_to_branch_kill
    g_falcon_crash
    (branch_kill)
)

(script static void falcon_cov_sleep_left_to_branch_kill
    g_falcon_crash
    (branch_kill)
)

(script static void spire_waypoints_to_hud_unblip_all
    (>= (device_get_position "dc_spire_01") 1)
    (hud_unblip_all)
)

(script static void hog_hill_driver_to_branch_kill
    (volume_test_players "tv_enc_twin")
    (branch_kill)
)

(script static void hog_twin_driver_to_branch_kill
    (>= g_twin_obj_control 5)
    (branch_kill)
)

(script static void hog_twin_exit_driver_to_branch_kill
    (>= g_facility_obj_control 1)
    (branch_kill)
)

(script static void hog_facility_driver_to_branch_kill
    (>= g_facility_obj_control 2)
    (branch_kill)
)

; Decompilation finished in ~0.1761688s
