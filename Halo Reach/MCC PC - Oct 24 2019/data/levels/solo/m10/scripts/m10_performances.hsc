(script static void (vig_outpost_trooper)
	(performance_play_line "tele")
	(cs_stow (performance_get_actor trooper) TRUE)
	(performance_play_line "cs_stow")
	(performance_play_line "anim")
	(sleep_forever)
	(performance_play_line "sleep_forever")
)

(script static void (vig_outpost_fallback)
	(performance_play_line "emile_init")
	(performance_play_line "carter_goto")
	(cs_enable_targeting  (performance_get_actor carter) TRUE)
	(performance_play_line "carter_targeting")
	(performance_play_line "emile_goto")
	(cs_enable_targeting  (performance_get_actor emile) TRUE)
	(performance_play_line "emile_targeting")
	(performance_play_line "jorge_goto")
	(cs_enable_targeting  (performance_get_actor jorge) TRUE)
	(performance_play_line "jorge_targeting")
	(sleep_until (>= g_outpost_ext_obj_control 40))
	(performance_play_line "sleep_until_door_closed")
)

(script static void (carter_falcon_intro)
	(ai_vehicle_enter_immediate (performance_get_actor carter) (ai_vehicle_get_from_squad intro_falcon_01 0) "falcon_p_bench_wpn")
	(performance_play_line "load_into_falcon_01")
	(performance_play_line "look_at_outpost")
	(sleep_until (= g_1stbowl_obj_control 5))
	(performance_play_line "sleep_until_anim_mission_troopers")
	(performance_play_line "talk_anim01")
	(performance_play_line "look_at_beacon")
	(sleep_until (= g_1stbowl_obj_control 7))
	(performance_play_line "sleep_until_anim_put_us_down")
	(performance_play_line "point_anim")
	(sleep_until (= g_1stbowl_obj_control 8))
	(performance_play_line "sleep_until_anim_jun")
	(performance_play_line "talk_anim02")
	(performance_play_line "block_until_all_done")
	(sleep_until (>= (device_get_position dm_falcon01_start) .9) 1)
	(performance_play_line "sleep_until_its_time_to_unload")
	(vehicle_unload (ai_vehicle_get_from_squad intro_falcon_01 0) "falcon_p_bench_wpn")
	(performance_play_line "unload_from_falcon")
	(sleep 90)
	(performance_play_line "sleep_for_anim_length")
	(performance_play_line "land_anim")
	(performance_play_line "face_beacon")
	(sleep_until (not (vehicle_test_seat (ai_vehicle_get_from_squad intro_falcon_01 0) "falcon_p_l1")) 1)
	(performance_play_line "sleep_until_player_seat_is_empty")
	(performance_play_line "commands_anim")
	(performance_play_line "block_all")
)

(script static void (vig_outpost_hack)
	(performance_play_line "kat_tele01")
	(performance_play_line "sleep_30")
	(performance_play_line "stance_alert")
	(cs_stow (performance_get_actor kat) TRUE)
	(performance_play_line "cs_stow")
	(performance_play_line "kat_sync_idle")
	(sleep_until (volume_test_players tv_outpost_ext_control))
	(performance_play_line "sleep_until_player_in_tv")
	(performance_play_line "kat_sync_idle2")
	(sleep_until (>= g_outpost_ext_obj_control 20))
	(performance_play_line "sleep_until_obj_control_20")
	(performance_play_line "kat_sync_shutting")
	(sleep_until (>= g_outpost_ext_obj_control 40))
	(performance_play_line "sleep_until_obj_control")
	(performance_play_line "kat_sync_exit")
	(cs_stow (performance_get_actor kat) FALSE)
	(performance_play_line "cs_stow_false")
	(sleep 30)
	(performance_play_line "sleep30")
	(performance_play_line "all_done")
)

(script static void (vig_outpost_hack_carter)
	(performance_play_line "carter_goto01")
	(sleep_until (>= g_outpost_ext_obj_control 12))
	(performance_play_line "sleep_until_hold_off")
)

(script static void (vig_barn_bodies)
	(branch (volume_test_players vol_barn_courtyard) (branch_kill_vignette))
	(performance_play_line "branch")
	(wake md_barn_dead_troopers)
	(performance_play_line "dialog")
	(performance_play_line "goto_align")
	(performance_play_line "anim")
	(performance_play_line "lookat")
)

(script static void (vig_1stbowl_rock)
	(performance_play_line "dialog")
	(wake md_1stbowl_rock_look02)
	(performance_play_line "sync_action")
	(performance_play_line "anim_exit")
	(performance_play_line "lines_6")
)

(script static void (vig_beacon)
	(wake md_1stbowl_beacon_found)
	(performance_play_line "dialog")
	(performance_play_line "kat_goto")
	(performance_play_line "emile_goto")
	(performance_play_line "sync_action")
)

(script static void (vig_1stbowl_investigate)
	(branch warthog_done (branch_kill_vignette))
	(performance_play_line "branch")
	(performance_play_line "goby")
	(performance_play_line "animate")
)

(script static void (vig_1stbowl_investigate02)
	(branch warthog_done (branch_kill_vignette))
	(performance_play_line "branch")
	(performance_play_line "goby")
	(wake md_1stbowl_blood)
	(performance_play_line "dialog")
	(performance_play_line "animate")
)

(script static void (vig_taceval)
	(performance_play_line "carter_goto01")
	(performance_play_line "carter_animate")
	(wake md_1stbowl_ex_residue)
	(performance_play_line "dialog")
	(performance_play_line "kat_goto01")
	(performance_play_line "kat_face_carter")
	(performance_play_line "sleep")
)

(script static void (vig_barn_skirm_init)
	(performance_play_line "tele01")
	(performance_play_line "tele02")
	(performance_play_line "anim01")
	(performance_play_line "anim02")
	(sleep_forever)
	(performance_play_line "sleep_forever")
)

(script static void (vig_outpost_rally)
	(print "vig:vig_outpost_rally")
	(performance_play_line "print_start")
	(wake md_outpost_rally)
	(performance_play_line "play_dialog")
	(performance_play_line "jorge_goto01")
	(performance_play_line "emile_goto01")
	(performance_play_line "carter_goto01")
	(set g_outpost_ext_obj_control 45)
	(performance_play_line "play_dialog_45")
	(sleep_until (>= g_outpost_ext_obj_control 47) 5 200)
	(performance_play_line "sleep_dialog_47")
	(performance_play_line "carter_animate")
	(performance_play_line "carter_goto02")
	(performance_play_line "carter_aimat_door")
	(sleep 60)
	(performance_play_line "carter_sleep_60")
	(sleep_until (>= g_outpost_ext_obj_control 50) 5 200)
	(performance_play_line "carter_sleep_lookat_door")
)

(script static void (vig_outpost_kat_control)
	(performance_play_line "goto")
	(performance_play_line "face_body")
	(sleep 80)
	(performance_play_line "sleep_80")
)

(script static void (vig_outpost_jorge_control)
	(performance_play_line "goto")
	(performance_play_line "face_body")
	(sleep_forever)
	(performance_play_line "sleep_80")
)

(script static void (vig_outpost_flare)
	(performance_play_line "sync")
	(vig_glowstick02)
	(performance_play_line "flare")
	(performance_play_line "block_done")
)

(script static void (vig_outpost_elite_intro)
	(performance_play_line "lines_0")
	(performance_play_line "lines_1")
)

(script static void (vig_kiva02_meet)
	(performance_play_line "carter_goto")
	(performance_play_line "trooper_goto")
	(performance_play_line "carter_face")
	(sleep_until (not b_is_dialogue_playing) 5)
	(performance_play_line "not_dialog")
	(performance_play_line "trooper_dialog")
	(performance_play_line "carter_dialog")
)

(script static void (vig_kiva03_meet)
	(performance_play_line "carter_goto")
	(performance_play_line "trooper_goto")
	(performance_play_line "carter_face")
	(sleep_until (not b_is_dialogue_playing) 5)
	(performance_play_line "not_dialog")
	(performance_play_line "trooper_dialog")
	(performance_play_line "carter_dialog")
)

(script static void (thes_witnesses)
	(performance_play_line "tele_male01")
	(performance_play_line "tele_male02")
	(performance_play_line "tele_mom")
	(performance_play_line "tele_daughter")
	(performance_play_line "open_door")
	(performance_play_line "jorge_enter")
	(performance_play_line "male01_enter")
	(sleep_until (object_running_sync_action (ai_get_object (performance_get_actor male01)) "witnesses_enter") 1)
	(performance_play_line "sleep")
	(device_set_position dm_kiva01_door .42)
	(performance_play_line "device_open")
	(performance_play_line "male02_enter")
	(performance_play_line "jorge_dialogue")
	(performance_play_line "male01_dialogue")
	(performance_play_line "male01_idle2")
	(performance_play_line "male02_idle")
	(performance_play_line "male02_hands_down")
	(performance_play_line "mom_enter")
	(performance_play_line "daughter_enter_anim")
	(performance_play_line "mother_anim_loop")
	(performance_play_line "daughter_anim_loop")
	(performance_play_line "jorge_exit")
	(performance_play_line "male01_goto")
	(sleep_until (or (>= g_1stbowl_obj_control 30) (not (thespian_performance_is_blocked))) 1)
	(performance_play_line "cond_exit")
	(performance_play_line "mom_exit")
	(performance_play_line "daughter_exit")
	(performance_play_line "male02_exit")
	(performance_play_line "male01_exit")
	(device_set_position dm_kiva01_door 0)
	(performance_play_line "device_close")
	(performance_play_line "block_until_done01")
)

(script static void (vig_barn_investigate01)
	(performance_play_line "goby")
	(performance_play_line "animate")
)

(script static void (vig_outpost_elite_leader)
	(performance_play_line "teleport")
	(cs_stow (performance_get_actor elite) TRUE)
	(performance_play_line "stow")
	(performance_play_line "anim")
	(sleep_until (branch_outpost_elite_leader (performance_get_actor elite)))
	(performance_play_line "sleep_forever")
	(performance_play_line "anim_exit")
)

(script static void (kat_falcon_intro)
	(ai_vehicle_enter_immediate (performance_get_actor kat) (ai_vehicle_get_from_squad intro_falcon_02 0) "falcon_p_bench_wpn")
	(performance_play_line "load_into_falcon_02")
	(sleep_until (>= (device_get_position dm_falcon02_start) .65) 1)
	(performance_play_line "sleep_until_its_time_to_communicate")
	(performance_play_line "communication_anim")
	(sleep_until (>= (device_get_position dm_falcon02_start) .86) 1)
	(performance_play_line "sleep_until_its_time_to_unload")
	(vehicle_unload (ai_vehicle_get_from_squad intro_falcon_02 0) "falcon_p_bench_wpn")
	(performance_play_line "unload_from_falcon")
	(sleep 30)
	(performance_play_line "sleep_until_time_to_land")
	(performance_play_line "land")
	(performance_play_line "sleep")
	(cs_lower_weapon (performance_get_actor kat) TRUE)
	(performance_play_line "lower_weapon")
	(performance_play_line "goto_and_align")
	(performance_play_line "anim")
	(performance_play_line "alert")
	(sleep_until (not (vehicle_test_seat (ai_vehicle_get_from_squad intro_falcon_01 0) "falcon_p_l1")) 1)
	(performance_play_line_by_id 12)
	(performance_play_line "block_all")
)

(script static void (emile_falcon_intro)
	(ai_vehicle_enter_immediate (performance_get_actor emile) (ai_vehicle_get_from_squad intro_falcon_02 0) "falcon_p_r1_wpn")
	(performance_play_line "load_into_falcon_02")
	(sleep_until (>= (device_get_position dm_falcon02_start) .8333333) 1)
	(performance_play_line "sleep_until_its_time_to_unload")
	(vehicle_unload (ai_vehicle_get_from_squad intro_falcon_02 0) "falcon_p_r1_wpn")
	(performance_play_line "unload_from_falcon")
	(sleep 33)
	(performance_play_line "sleep")
	(performance_play_line "land")
	(performance_play_line "goto")
	(performance_play_line "block_all")
)

(script static void (vig_barn_callx)
	(performance_play_line "lines_2")
)

(script static void (vig_barn_call)
	(performance_play_line "lines_2")
)

