; Decompiled with Assembly
; 
; Source file: sc150.hsc
; Start time: 2018-02-05 12:37:56 PM
; 
; Remember that all script code is property of Bungie/343 Industries.
; You have no rights. Play nice.

; Globals
(global short player_00 0)
(global short player_01 1)
(global short player_02 2)
(global short player_03 3)
(global string data_mine_mission_segment "")
(global short s_waypoint_index 0)
(global short s_waypoint_timer (* 30 10))
(global short g_pda_breadcrumb_fade (* 30 45))
(global short g_pda_breadcrumb_timer (* 30 1.5))
(global sound sfx_a_button "sound\game_sfx\ui\hud_ui\b_button")
(global sound sfx_b_button "sound\game_sfx\ui\hud_ui\a_button")
(global sound sfx_hud_in "sound\game_sfx\ui\hud_ui\hud_in")
(global sound sfx_hud_out "sound\game_sfx\ui\hud_ui\hud_out")
(global sound sfx_objective "sound\game_sfx\ui\hud_ui\mission_objective")
(global short s_sc110_01 0)
(global short s_sc110_02 0)
(global short s_sc110_03 0)
(global short s_sc110_04 0)
(global short s_sc110_05 0)
(global short s_sc110_06 0)
(global short s_sc120_01 0)
(global short s_sc120_02 0)
(global short s_sc120_03 0)
(global short s_sc120_04 0)
(global short s_sc120_05 0)
(global short s_sc120_06 0)
(global short s_sc130_01 0)
(global short s_sc130_02 0)
(global short s_sc130_03 0)
(global short s_sc130_04 0)
(global short s_sc130_05 0)
(global short s_sc130_06 0)
(global short s_sc140_01 0)
(global short s_sc140_02 0)
(global short s_sc140_03 0)
(global short s_sc140_04 0)
(global short s_sc140_05 0)
(global short s_sc140_06 0)
(global short s_sc150_01 0)
(global short s_sc150_02 0)
(global short s_sc150_03 0)
(global short s_sc150_04 0)
(global short s_sc150_05 0)
(global short s_l200_01 0)
(global boolean g_sc150_music01 false)
(global boolean g_sc150_music02 false)
(global boolean g_sc150_music03 false)
(global boolean g_sc150_music03_alt false)
(global boolean g_sc150_music04 false)
(global boolean g_sc150_music05 false)
(global boolean g_sc150_music06 false)
(global boolean g_sc150_music07 false)
(global boolean g_sc150_music08 false)
(global boolean g_sc150_music09 false)
(global boolean g_sc150_music10 false)
(global boolean g_sc150_music10_alt false)
(global short g_set_all 24)
(global boolean editor false)
(global boolean g_play_cinematics true)
(global boolean g_player_training true)
(global boolean debug true)
(global boolean dialogue true)
(global boolean g_music true)
(global short g_insertion_index 0)
(global short g_player_start_pitch 65526)
(global boolean g_null false)
(global real g_nav_offset 0.55)
(global short g_1a_obj_control 0)
(global short g_1b_obj_control 0)
(global short g_2a_obj_control 0)
(global short g_2b_obj_control 0)
(global short g_3a_obj_control 0)
(global short g_3b_obj_control 0)
(global short g_sc150_respawn_control 0)
(global boolean g_dutch_romeo_aboard false)
(global boolean g_phantom_in_place false)
(global boolean g_dutch_fires false)
(global boolean g_mickey_leave false)
(global vehicle g_1a_banshee none)
(global vehicle v_1a_phantom_shade_01 none)
(global vehicle v_1b_phantom_wraith_01 none)
(global vehicle v_2a_phantom_wraith_01 none)
(global boolean g_2b_final_follow false)
(global ai ai_buck none)
(global ai ai_dutch none)
(global ai ai_mickey none)
(global ai ai_romeo none)
(global boolean g_buck_first_line false)
(global boolean g_mickey_in_phantom false)
(global boolean g_phantom_driver_dead false)
(global boolean g_3a_second_scarab false)
(global boolean g_talking_active false)
(global boolean g_mickey_ready_to_enter false)
(global boolean g_banshee_exit false)
(global boolean g_tunnel_prompts_done false)
(global boolean g_door_locked false)
(global boolean g_door_unlocked false)

; Scripts
(script static void (f_load_phantom (vehicle phantom, string load_side, ai load_squad_01, ai load_squad_02, ai load_squad_03, ai load_squad_04))
    (ai_place load_squad_01)
    (ai_place load_squad_02)
    (ai_place load_squad_03)
    (ai_place load_squad_04)
    (sleep 1)
    (if (= load_side "left")
        (begin
            (if debug
                (print "load phantom left...")
            )
            (ai_vehicle_enter_immediate load_squad_01 phantom 0)
            (ai_vehicle_enter_immediate load_squad_02 phantom 2)
            (ai_vehicle_enter_immediate load_squad_03 phantom 4)
            (ai_vehicle_enter_immediate load_squad_04 phantom 6)
        )
        (if (= load_side "right")
            (begin
                (if debug
                    (print "load phantom right...")
                )
                (ai_vehicle_enter_immediate load_squad_01 phantom 8)
                (ai_vehicle_enter_immediate load_squad_02 phantom 10)
                (ai_vehicle_enter_immediate load_squad_03 phantom 12)
                (ai_vehicle_enter_immediate load_squad_04 phantom 14)
            )
            (if (= load_side "dual")
                (begin
                    (if debug
                        (print "load phantom dual...")
                    )
                    (ai_vehicle_enter_immediate load_squad_01 phantom 2)
                    (ai_vehicle_enter_immediate load_squad_02 phantom 10)
                    (ai_vehicle_enter_immediate load_squad_03 phantom 0)
                    (ai_vehicle_enter_immediate load_squad_04 phantom 8)
                )
                (if (= load_side "chute")
                    (begin
                        (if debug
                            (print "load phantom chute...")
                        )
                        (ai_vehicle_enter_immediate load_squad_01 phantom 16)
                        (ai_vehicle_enter_immediate load_squad_02 phantom 18)
                        (ai_vehicle_enter_immediate load_squad_03 phantom 20)
                        (ai_vehicle_enter_immediate load_squad_04 phantom 22)
                    )
                )
            )
        )
    )
)

(script static void (f_load_phantom_cargo (vehicle phantom, string load_number, ai load_squad_01, ai load_squad_02))
    (if (= load_number "single")
        (begin
            (ai_place load_squad_01)
            (sleep 1)
            (vehicle_load_magic phantom 24 (ai_vehicle_get_from_squad load_squad_01 0))
        )
        (if (= load_number "double")
            (begin
                (ai_place load_squad_01)
                (ai_place load_squad_02)
                (sleep 1)
                (vehicle_load_magic phantom 26 (ai_vehicle_get_from_squad load_squad_01 0))
                (vehicle_load_magic phantom 28 (ai_vehicle_get_from_squad load_squad_02 0))
            )
        )
    )
)

(script static void (f_unload_phantom (vehicle phantom, string drop_side))
    (if (= drop_side "left")
        (begin
            (f_unload_ph_left phantom)
            (sleep 45)
            (f_unload_ph_mid_left phantom)
            (sleep 75)
        )
        (if (= drop_side "right")
            (begin
                (f_unload_ph_right phantom)
                (sleep 45)
                (f_unload_ph_mid_right phantom)
                (sleep 75)
            )
            (if (= drop_side "dual")
                (begin
                    (f_unload_ph_left phantom)
                    (f_unload_ph_right phantom)
                    (sleep 75)
                )
                (if (= drop_side "chute")
                    (begin
                        (f_unload_ph_chute phantom)
                        (sleep 75)
                    )
                )
            )
        )
    )
)

(script static void (f_unload_ph_left (vehicle phantom))
    (begin_random
        (begin
            (vehicle_unload phantom 2)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload phantom 0)
            (sleep (random_range 0 10))
        )
    )
)

(script static void (f_unload_ph_right (vehicle phantom))
    (begin_random
        (begin
            (vehicle_unload phantom 10)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload phantom 8)
            (sleep (random_range 0 10))
        )
    )
)

(script static void (f_unload_ph_mid_left (vehicle phantom))
    (begin_random
        (begin
            (vehicle_unload phantom 4)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload phantom 6)
            (sleep (random_range 0 10))
        )
    )
)

(script static void (f_unload_ph_mid_right (vehicle phantom))
    (begin_random
        (begin
            (vehicle_unload phantom 12)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload phantom 14)
            (sleep (random_range 0 10))
        )
    )
)

(script static void (f_unload_ph_chute (vehicle phantom))
    (object_set_phantom_power phantom true)
    (if (vehicle_test_seat phantom 16)
        (begin
            (vehicle_unload phantom 16)
            (sleep 120)
        )
    )
    (if (vehicle_test_seat phantom 18)
        (begin
            (vehicle_unload phantom 18)
            (sleep 120)
        )
    )
    (if (vehicle_test_seat phantom 20)
        (begin
            (vehicle_unload phantom 20)
            (sleep 120)
        )
    )
    (if (vehicle_test_seat phantom 22)
        (begin
            (vehicle_unload phantom 22)
            (sleep 120)
        )
    )
    (object_set_phantom_power phantom false)
)

(script static void (f_unload_phantom_cargo (vehicle phantom, string load_number))
    (if (= load_number "single")
        (vehicle_unload phantom 24)
        (if (= load_number "double")
            (begin_random
                (begin
                    (vehicle_unload phantom 26)
                    (sleep (random_range 15 30))
                )
                (begin
                    (vehicle_unload phantom 28)
                    (sleep (random_range 15 30))
                )
            )
        )
    )
)

(script static unit player0
    (player_get 0)
)

(script static unit player1
    (player_get 1)
)

(script static unit player2
    (player_get 2)
)

(script static unit player3
    (player_get 3)
)

(script static short player_count
    (list_count (players))
)

(script static void print_difficulty
    (if (= (game_difficulty_get_real) easy)
        (print "easy")
        (if (= (game_difficulty_get_real) normal)
            (print "normal")
            (if (= (game_difficulty_get_real) heroic)
                (print "heroic")
                (if (= (game_difficulty_get_real) legendary)
                    (print "legendary")
                )
            )
        )
    )
)

(script static boolean difficulty_legendary
    (= (game_difficulty_get_real) legendary)
)

(script static boolean difficulty_heroic
    (= (game_difficulty_get_real) heroic)
)

(script static boolean difficulty_normal
    (<= (game_difficulty_get_real) normal)
)

(script static void replenish_players
    (if debug
        (print "replenish player health...")
    )
    (unit_set_current_vitality (player0) 80 80)
    (unit_set_current_vitality (player1) 80 80)
    (unit_set_current_vitality (player2) 80 80)
    (unit_set_current_vitality (player3) 80 80)
)

(script static boolean coop_players_2
    (>= (game_coop_player_count) 2)
)

(script static boolean coop_players_3
    (>= (game_coop_player_count) 3)
)

(script static boolean coop_players_4
    (>= (game_coop_player_count) 4)
)

(script dormant void player0_award_tourist
    (f_award_tourist player_00)
)

(script dormant void player1_award_tourist
    (f_award_tourist player_01)
)

(script dormant void player2_award_tourist
    (f_award_tourist player_02)
)

(script dormant void player3_award_tourist
    (f_award_tourist player_03)
)

(script static void (f_award_tourist (short player_short))
    (sleep_until (pda_is_active_deterministic (player_get player_short)) 45)
    (sleep 30)
    (achievement_grant_to_player (player_get player_short) "_achievement_tourist")
)

(script static void (f_sleep_until_activate_waypoint (short player_short))
    (sleep 3)
    (unit_action_test_reset (player_get player_short))
    (sleep 3)
    (sleep_until (and (> (object_get_health (player_get player_short)) 0) (or (unit_action_test_dpad_up (player_get player_short)) (unit_action_test_dpad_down (player_get player_short)))) 1)
    (f_sfx_a_button player_short)
    (sleep 3)
)

(script static void (f_sleep_deactivate_waypoint (short player_short))
    (sleep 3)
    (unit_action_test_reset (player_get player_short))
    (sleep 3)
    (sleep_until (or (<= (unit_get_health (player_get player_short)) 0) (unit_action_test_dpad_up (player_get player_short)) (unit_action_test_dpad_down (player_get player_short))) 1 s_waypoint_timer)
    (if (or (unit_action_test_dpad_up (player_get player_short)) (unit_action_test_dpad_down (player_get player_short)))
        (f_sfx_a_button player_short)
    )
    (sleep 3)
)

(script static void (f_waypoint_message (short player_short, cutscene_flag waypoint_01, cutscene_title display_title, cutscene_title blank_title))
    (unit_action_test_reset (player_get player_short))
    (if (not (pda_is_active_deterministic (player_get player_short)))
        (begin
            (chud_show_cinematic_title (player_get player_short) display_title)
            (sleep 15)
            (f_sleep_deactivate_waypoint player_short)
            (chud_show_cinematic_title (player_get player_short) blank_title)
        )
        (sleep 5)
    )
)

(script static void (f_waypoint_activate_1 (short player_short, cutscene_flag waypoint_01))
    (unit_action_test_reset (player_get player_short))
    (if (not (pda_is_active_deterministic (player_get player_short)))
        (chud_show_navpoint (player_get player_short) waypoint_01 0.55 true)
    )
    (sleep 15)
    (f_sleep_deactivate_waypoint player_short)
    (chud_show_navpoint (player_get player_short) waypoint_01 0 false)
)

(script static void (f_waypoint_activate_2 (short player_short, cutscene_flag waypoint_01, cutscene_flag waypoint_02))
    (unit_action_test_reset (player_get player_short))
    (if (not (pda_is_active_deterministic (player_get player_short)))
        (begin
            (chud_show_navpoint (player_get player_short) waypoint_01 0.55 true)
            (chud_show_navpoint (player_get player_short) waypoint_02 0.55 true)
        )
    )
    (sleep 15)
    (f_sleep_deactivate_waypoint player_short)
    (chud_show_navpoint (player_get player_short) waypoint_01 0 false)
    (chud_show_navpoint (player_get player_short) waypoint_02 0 false)
)

(script static void (f_waypoint_activate_3 (short player_short, cutscene_flag waypoint_01, cutscene_flag waypoint_02, cutscene_flag waypoint_03))
    (unit_action_test_reset (player_get player_short))
    (if (not (pda_is_active_deterministic (player_get player_short)))
        (begin
            (chud_show_navpoint (player_get player_short) waypoint_01 0.55 true)
            (chud_show_navpoint (player_get player_short) waypoint_02 0.55 true)
            (chud_show_navpoint (player_get player_short) waypoint_03 0.55 true)
        )
    )
    (sleep 15)
    (f_sleep_deactivate_waypoint player_short)
    (chud_show_navpoint (player_get player_short) waypoint_01 0 false)
    (chud_show_navpoint (player_get player_short) waypoint_02 0 false)
    (chud_show_navpoint (player_get player_short) waypoint_03 0 false)
)

(script static void (f_waypoint_activate_4 (short player_short, cutscene_flag waypoint_01, cutscene_flag waypoint_02, cutscene_flag waypoint_03, cutscene_flag waypoint_04))
    (unit_action_test_reset (player_get player_short))
    (if (not (pda_is_active_deterministic (player_get player_short)))
        (begin
            (chud_show_navpoint (player_get player_short) waypoint_01 0.55 true)
            (chud_show_navpoint (player_get player_short) waypoint_02 0.55 true)
            (chud_show_navpoint (player_get player_short) waypoint_03 0.55 true)
            (chud_show_navpoint (player_get player_short) waypoint_04 0.55 true)
        )
    )
    (sleep 15)
    (f_sleep_deactivate_waypoint player_short)
    (chud_show_navpoint (player_get player_short) waypoint_01 0 false)
    (chud_show_navpoint (player_get player_short) waypoint_02 0 false)
    (chud_show_navpoint (player_get player_short) waypoint_03 0 false)
    (chud_show_navpoint (player_get player_short) waypoint_04 0 false)
)

(script static void (f_coop_resume_unlocked (cutscene_title resume_title, short insertion_point))
    (if (game_is_cooperative)
        (begin
            (sound_impulse_start sfx_hud_in none 1)
            (cinematic_set_chud_objective resume_title)
            (game_insertion_point_unlock insertion_point)
        )
    )
)

(script static void (f_new_intel (cutscene_title new_intel, cutscene_title intel_chapter, long objective_number, cutscene_flag minimap_flag))
    (sound_impulse_start sfx_objective none 1)
    (chud_display_pda_objectives_message "pda_activate_intel" 0)
    (cinematic_set_chud_objective new_intel)
    (objectives_show objective_number)
    (sleep 60)
    (sound_impulse_start sfx_hud_in none 1)
    (cinematic_set_chud_objective intel_chapter)
    (sleep (* 30 3))
    (sound_impulse_start sfx_hud_out none 1)
    (chud_display_pda_minimap_message "" minimap_flag)
)

(script static boolean cinematic_skip_start
    (cinematic_skip_start_internal)
    (game_save_cinematic_skip)
    (sleep_until (not (game_saving)) 1)
    (not (game_reverted))
)

(script static void cinematic_skip_stop
    (cinematic_skip_stop_internal)
    (if (not (game_reverted))
        (game_revert)
    )
)

(script static void cinematic_skip_stop_terminal
    (cinematic_skip_stop_internal)
    (if (not (game_reverted))
        (begin
            (game_revert)
            (if debug
                (print "sleeping forever...")
            )
            (sleep_forever)
        )
    )
)

(script static void cinematic_snap_to_black
    (fade_out 0 0 0 0)
    (cinematic_preparation)
)

(script static void cinematic_snap_to_white
    (fade_out 1 1 1 0)
    (cinematic_preparation)
)

(script static void cinematic_preparation
    (ai_disregard (players) true)
    (object_cannot_take_damage (players))
    (player_control_fade_out_all_input 0)
    (object_hide (player0) true)
    (object_hide (player1) true)
    (object_hide (player2) true)
    (object_hide (player3) true)
    (unit_enable_vision_mode (player0) false)
    (unit_enable_vision_mode (player1) false)
    (unit_enable_vision_mode (player2) false)
    (unit_enable_vision_mode (player3) false)
    (player_close_pda (player0))
    (player_close_pda (player1))
    (player_close_pda (player2))
    (player_close_pda (player3))
    (replenish_players)
    (pda_stop_arg_sound (player0))
    (pda_stop_arg_sound (player1))
    (pda_stop_arg_sound (player2))
    (pda_stop_arg_sound (player3))
    (chud_cinematic_fade 0 0)
    (chud_show_messages false)
    (campaign_metagame_time_pause true)
    (player_enable_input false)
    (player_disable_movement false)
    (sleep 1)
    (cinematic_start)
    (camera_control true)
)

(script static void cinematic_snap_from_black
    (cinematic_snap_from_pre)
    (sleep 5)
    (fade_in 0 0 0 5)
    (cinematic_snap_from_post)
)

(script static void cinematic_snap_from_white
    (cinematic_snap_from_pre)
    (sleep 5)
    (fade_in 1 1 1 5)
    (cinematic_snap_from_post)
)

(script static void cinematic_snap_from_pre
    (cinematic_stop)
    (camera_control false)
    (cinematic_show_letterbox_immediate false)
    (cinematic_hud_off)
    (sleep 1)
    (chud_cinematic_fade 1 0)
    (object_hide (player0) false)
    (object_hide (player1) false)
    (object_hide (player2) false)
    (object_hide (player3) false)
)

(script static void cinematic_snap_from_post
    (unit_enable_vision_mode (player0) true)
    (unit_enable_vision_mode (player1) true)
    (unit_enable_vision_mode (player2) true)
    (unit_enable_vision_mode (player3) true)
    (player_enable_input true)
    (player_control_fade_in_all_input 1)
    (campaign_metagame_time_pause false)
    (ai_disregard (players) false)
    (object_can_take_damage (players))
    (player_disable_movement false)
    (chud_show_messages true)
    (if (not (campaign_survival_enabled))
        (game_save)
    )
)

(script static void cinematic_fade_to_black
    (ai_disregard (players) true)
    (object_cannot_take_damage (players))
    (player_control_fade_out_all_input 1)
    (campaign_metagame_time_pause true)
    (sleep 10)
    (chud_cinematic_fade 0 0.5)
    (cinematic_show_letterbox true)
    (sleep 5)
    (fade_out 0 0 0 30)
    (sleep 30)
    (object_hide (player0) true)
    (object_hide (player1) true)
    (object_hide (player2) true)
    (object_hide (player3) true)
    (unit_enable_vision_mode (player0) false)
    (unit_enable_vision_mode (player1) false)
    (unit_enable_vision_mode (player2) false)
    (unit_enable_vision_mode (player3) false)
    (player_close_pda (player0))
    (player_close_pda (player1))
    (player_close_pda (player2))
    (player_close_pda (player3))
    (cinematic_start)
    (camera_control true)
    (player_enable_input false)
    (player_disable_movement false)
    (sleep 1)
    (cinematic_show_letterbox_immediate true)
)

(script static void cinematic_fade_to_gameplay
    (cinematic_stop)
    (camera_control false)
    (cinematic_show_letterbox_immediate true)
    (object_hide (player0) false)
    (object_hide (player1) false)
    (object_hide (player2) false)
    (object_hide (player3) false)
    (player_control_unlock_gaze (player0))
    (player_control_unlock_gaze (player1))
    (player_control_unlock_gaze (player2))
    (player_control_unlock_gaze (player3))
    (sleep 1)
    (sleep 1)
    (fade_in 0 0 0 15)
    (sleep 15)
    (cinematic_show_letterbox false)
    (sleep 15)
    (chud_cinematic_fade 1 1)
    (unit_raise_weapon (player0) 30)
    (unit_raise_weapon (player1) 30)
    (unit_raise_weapon (player2) 30)
    (unit_raise_weapon (player3) 30)
    (sleep 10)
    (player_enable_input true)
    (player_control_fade_in_all_input 1)
    (campaign_metagame_time_pause false)
    (ai_disregard (players) false)
    (object_can_take_damage (players))
    (player_disable_movement false)
)

(script static void cinematic_hud_on
    (chud_cinematic_fade 1 0)
    (chud_show_compass false)
    (chud_show_crosshair false)
)

(script static void cinematic_hud_off
    (chud_cinematic_fade 0 0)
    (chud_show_compass true)
    (chud_show_crosshair true)
)

(script dormant void pda_breadcrumbs
    (pda_set_footprint_dead_zone 5)
    (sleep_until 
        (begin
            (player_add_footprint (player0) g_pda_breadcrumb_fade)
            (player_add_footprint (player1) g_pda_breadcrumb_fade)
            (player_add_footprint (player2) g_pda_breadcrumb_fade)
            (player_add_footprint (player3) g_pda_breadcrumb_fade)
            false
        )
        g_pda_breadcrumb_timer
    )
)

(script static void end_mission
    (if global_playtest_mode
        (begin
            (data_mine_set_mission_segment "questionaire")
            (cinematic_fade_to_gameplay)
            (sleep 1)
            (print "end mission!")
            (sleep 15)
            (hud_show_training_text true)
            (sleep 90)
            (player_action_test_reset)
            (sleep_until 
                (begin
                    (sleep_until (player_action_test_accept) 1 90)
                    (player_action_test_accept)
                )
                1
            )
            (hud_show_training_text false)
            (print "loading next mission...")
            (sleep 15)
        )
        (begin
            (fade_out 0 0 0 0)
            (cinematic_stop)
            (camera_control false)
        )
    )
    (game_won)
)

(script static void (f_end_scene (script cinematic_outro, zone_set cinematic_zone_set, string_id scene_boolean, string_id scene_name, string snap_color))
    (if (= snap_color "black")
        (cinematic_snap_to_black)
        (if (= snap_color "white")
            (cinematic_snap_to_white)
        )
    )
    (sleep 1)
    (game_award_level_complete_achievements)
    (game_level_prepare scene_name)
    (ai_erase_all)
    (switch_zone_set cinematic_zone_set)
    (sound_suppress_ambience_update_on_revert)
    (sleep 1)
    (if (= g_play_cinematics true)
        (begin
            (if (cinematic_skip_start)
                (begin
                    (if debug
                        (print "play outro cinematic...")
                    )
                    (cinematic_show_letterbox true)
                    (sleep 30)
                    (evaluate cinematic_outro)
                    (sound_class_set_gain "" 0 0)
                )
            )
            (cinematic_skip_stop_internal)
        )
    )
    (sound_class_set_gain "" 0 0)
    (sound_class_set_gain "ui" 1 0)
    (cinematic_snap_to_black)
    (gp_boolean_set scene_boolean true)
    (gp_boolean_set "gp_l100_complete" true)
    (if debug
        (print "switch to scene...")
    )
    (game_level_advance scene_name)
)

(script startup void beginning_mission_segment
    (data_mine_set_mission_segment "mission_start")
)

(script static void (f_sfx_a_button (short player_short))
    (sound_impulse_start sfx_a_button (player_get player_short) 1)
)

(script static void (f_sfx_b_button (short player_short))
    (sound_impulse_start sfx_b_button (player_get player_short) 1)
)

(script static void (f_sfx_hud_in (short player_short))
    (sound_impulse_start sfx_hud_in (player_get player_short) 1)
)

(script static void (f_sfx_hud_out (short player_short))
    (sound_impulse_start sfx_hud_out (player_get player_short) 1)
)

(script static void (f_display_message (short player_short, cutscene_title display_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
)

(script static void (f_display_message_accept (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (unit_confirm_message (player_get player_short))
    (sleep_until (unit_action_test_accept (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_cancel (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (unit_confirm_cancel_message (player_get player_short))
    (sleep_until (unit_action_test_cancel (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_confirm (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (unit_confirm_message (player_get player_short))
    (unit_confirm_cancel_message (player_get player_short))
    (sleep_until (or (unit_action_test_accept (player_get player_short)) (unit_action_test_cancel (player_get player_short))) 1)
    (if (unit_action_test_accept (player_get player_short))
        (f_sfx_a_button player_short)
        (if (unit_action_test_cancel (player_get player_short))
            (f_sfx_b_button player_short)
        )
    )
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_repeat_training (short player_short, cutscene_title display_title, cutscene_title blank_title, trigger_volume volume_01, trigger_volume volume_02))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (unit_confirm_y_button (player_get player_short))
    (unit_confirm_cancel_message (player_get player_short))
    (sleep_until (or (unit_action_test_y (player_get player_short)) (unit_action_test_cancel (player_get player_short)) (and (not (volume_test_object volume_01 (player_get player_short))) (not (volume_test_object volume_02 (player_get player_short))))) 1)
    (if (or (volume_test_object volume_01 (player_get player_short)) (volume_test_object volume_02 (player_get player_short)))
        (begin
            (if (unit_action_test_y (player_get player_short))
                (f_sfx_a_button player_short)
                (if (unit_action_test_cancel (player_get player_short))
                    (f_sfx_b_button player_short)
                )
            )
            (chud_show_cinematic_title (player_get player_short) blank_title)
            (sleep 5)
        )
    )
)

(script static void (f_display_message_vision (short player_short, cutscene_title display_title, cutscene_title blank_title, trigger_volume volume_01, trigger_volume volume_02))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (or (unit_action_test_vision_trigger (player_get player_short)) (and (not (volume_test_object volume_01 (player_get player_short))) (not (volume_test_object volume_02 (player_get player_short))))) 1)
    (if (or (volume_test_object volume_01 (player_get player_short)) (volume_test_object volume_02 (player_get player_short)))
        (begin
            (f_sfx_a_button player_short)
            (chud_show_cinematic_title (player_get player_short) blank_title)
            (sleep 5)
        )
    )
)

(script static void (f_display_message_accept_volume (short player_short, cutscene_title display_title, cutscene_title blank_title, trigger_volume volume_01, trigger_volume volume_02))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (unit_confirm_message (player_get player_short))
    (sleep_until (or (unit_action_test_accept (player_get player_short)) (and (not (volume_test_object volume_01 (player_get player_short))) (not (volume_test_object volume_02 (player_get player_short))))) 1)
    (if (or (volume_test_object volume_01 (player_get player_short)) (volume_test_object volume_02 (player_get player_short)))
        (begin
            (f_sfx_a_button player_short)
            (chud_show_cinematic_title (player_get player_short) blank_title)
            (sleep 5)
        )
    )
)

(script static void (f_display_message_a (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_accept (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_b (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_cancel (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_x (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_x (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_y (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_y (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_back (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_back (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_back_b (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (or (unit_action_test_back (player_get player_short)) (unit_action_test_cancel (player_get player_short))) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_left_bumper (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_left_shoulder (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_right_bumper (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_right_shoulder (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_bumpers (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (or (unit_action_test_left_shoulder (player_get player_short)) (unit_action_test_right_shoulder (player_get player_short))) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_rotate_gren (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_rotate_grenades (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_action (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_action (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_dpad_up (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_dpad_up (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_dpad_up_down (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (or (unit_action_test_dpad_up (player_get player_short)) (unit_action_test_dpad_down (player_get player_short))) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_move_stick (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_move_relative_all_directions (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (sleep 150)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_look_stick (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (or (unit_action_test_look_relative_up (player_get player_short)) (unit_action_test_look_relative_down (player_get player_short)) (unit_action_test_look_relative_left (player_get player_short)) (unit_action_test_look_relative_right (player_get player_short))) 1)
    (f_sfx_a_button player_short)
    (sleep 150)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static short h100_arg_completed_short
    (h100_reset_arg_shorts)
    (sleep 1)
    (h100_set_arg_shorts)
    (sleep 1)
    (+ s_sc110_01 s_sc110_02 s_sc110_03 s_sc110_04 s_sc110_05 s_sc110_06 s_sc120_01 s_sc120_02 s_sc120_03 s_sc120_04 s_sc120_05 s_sc120_06 s_sc130_01 s_sc130_02 s_sc130_03 s_sc130_04 s_sc130_05 s_sc130_06 s_sc140_01 s_sc140_02 s_sc140_03 s_sc140_04 s_sc140_05 s_sc140_06 s_sc150_01 s_sc150_02 s_sc150_03 s_sc150_04 s_sc150_05 s_l200_01)
)

(script static void h100_set_arg_shorts
    (if (gp_boolean_get "gp_sc110_terminal_01_complete")
        (set s_sc110_01 1)
    )
    (if (gp_boolean_get "gp_sc110_terminal_02_complete")
        (set s_sc110_02 1)
    )
    (if (gp_boolean_get "gp_sc110_terminal_03_complete")
        (set s_sc110_03 1)
    )
    (if (gp_boolean_get "gp_sc110_terminal_04_complete")
        (set s_sc110_04 1)
    )
    (if (gp_boolean_get "gp_sc110_terminal_05_complete")
        (set s_sc110_05 1)
    )
    (if (gp_boolean_get "gp_sc110_terminal_06_complete")
        (set s_sc110_06 1)
    )
    (if (gp_boolean_get "gp_sc120_terminal_01_complete")
        (set s_sc120_01 1)
    )
    (if (gp_boolean_get "gp_sc120_terminal_02_complete")
        (set s_sc120_02 1)
    )
    (if (gp_boolean_get "gp_sc120_terminal_03_complete")
        (set s_sc120_03 1)
    )
    (if (gp_boolean_get "gp_sc120_terminal_04_complete")
        (set s_sc120_04 1)
    )
    (if (gp_boolean_get "gp_sc120_terminal_05_complete")
        (set s_sc120_05 1)
    )
    (if (gp_boolean_get "gp_sc120_terminal_06_complete")
        (set s_sc120_06 1)
    )
    (if (gp_boolean_get "gp_sc130_terminal_01_complete")
        (set s_sc130_01 1)
    )
    (if (gp_boolean_get "gp_sc130_terminal_02_complete")
        (set s_sc130_02 1)
    )
    (if (gp_boolean_get "gp_sc130_terminal_03_complete")
        (set s_sc130_03 1)
    )
    (if (gp_boolean_get "gp_sc130_terminal_04_complete")
        (set s_sc130_04 1)
    )
    (if (gp_boolean_get "gp_sc130_terminal_05_complete")
        (set s_sc130_05 1)
    )
    (if (gp_boolean_get "gp_sc130_terminal_06_complete")
        (set s_sc130_06 1)
    )
    (if (gp_boolean_get "gp_sc140_terminal_01_complete")
        (set s_sc140_01 1)
    )
    (if (gp_boolean_get "gp_sc140_terminal_02_complete")
        (set s_sc140_02 1)
    )
    (if (gp_boolean_get "gp_sc140_terminal_03_complete")
        (set s_sc140_03 1)
    )
    (if (gp_boolean_get "gp_sc140_terminal_04_complete")
        (set s_sc140_04 1)
    )
    (if (gp_boolean_get "gp_sc140_terminal_05_complete")
        (set s_sc140_05 1)
    )
    (if (gp_boolean_get "gp_sc140_terminal_06_complete")
        (set s_sc140_06 1)
    )
    (if (gp_boolean_get "gp_sc150_terminal_01_complete")
        (set s_sc150_01 1)
    )
    (if (gp_boolean_get "gp_sc150_terminal_02_complete")
        (set s_sc150_02 1)
    )
    (if (gp_boolean_get "gp_sc150_terminal_03_complete")
        (set s_sc150_03 1)
    )
    (if (gp_boolean_get "gp_sc150_terminal_04_complete")
        (set s_sc150_04 1)
    )
    (if (gp_boolean_get "gp_sc150_terminal_05_complete")
        (set s_sc150_05 1)
    )
    (if (gp_boolean_get "gp_l200_terminal_01_complete")
        (set s_l200_01 1)
    )
)

(script static void h100_reset_arg_shorts
    (set s_sc110_01 0)
    (set s_sc110_02 0)
    (set s_sc110_03 0)
    (set s_sc110_04 0)
    (set s_sc110_05 0)
    (set s_sc110_06 0)
    (set s_sc120_01 0)
    (set s_sc120_02 0)
    (set s_sc120_03 0)
    (set s_sc120_04 0)
    (set s_sc120_05 0)
    (set s_sc120_06 0)
    (set s_sc130_01 0)
    (set s_sc130_02 0)
    (set s_sc130_03 0)
    (set s_sc130_04 0)
    (set s_sc130_05 0)
    (set s_sc130_06 0)
    (set s_sc140_01 0)
    (set s_sc140_02 0)
    (set s_sc140_03 0)
    (set s_sc140_04 0)
    (set s_sc140_05 0)
    (set s_sc140_06 0)
    (set s_sc150_01 0)
    (set s_sc150_02 0)
    (set s_sc150_03 0)
    (set s_sc150_04 0)
    (set s_sc150_05 0)
    (set s_l200_01 0)
)

(script startup void sc150_ambient_stub
    (if debug
        (print "sc150 ambient script")
    )
    (sleep 5)
    (object_set_always_active "cruiser01" true)
    (object_set_always_active "cruiser02" true)
    (object_set_always_active "cruiser03" true)
    (object_set_custom_animation_speed "cruiser01" 0.5)
    (object_set_custom_animation_speed "cruiser02" 0.4)
    (object_set_custom_animation_speed "cruiser03" 0.3)
    (scenery_animation_start_loop "cruiser01" "objects\vehicles\cov_cruiser\cov_cruiser_cheap\cov_cruiser_cheap" "idle")
    (scenery_animation_start_loop "cruiser02" "objects\vehicles\cov_cruiser\cov_cruiser_cheap\cov_cruiser_cheap" "idle2")
    (scenery_animation_start_loop "cruiser03" "objects\vehicles\cov_cruiser\cov_cruiser_cheap\cov_cruiser_cheap" "idle3")
)

(script dormant void s_sc150_music01
    (sleep_until (= g_sc150_music01 true) 1)
    (if debug
        (print "start sc150_music01")
    )
    (sound_looping_start "levels\atlas\sc150\music\sc150_music01" none 1)
    (sleep_until (= g_sc150_music01 false) 1)
    (if debug
        (print "stop sc150_music01")
    )
    (sound_looping_stop "levels\atlas\sc150\music\sc150_music01")
)

(script dormant void s_sc150_music02
    (sleep_until (= g_sc150_music02 true) 1)
    (if debug
        (print "start sc150_music02")
    )
    (sound_looping_start "levels\atlas\sc150\music\sc150_music02" none 1)
    (sleep_until (= g_sc150_music02 false) 1)
    (if debug
        (print "stop sc150_music02")
    )
    (sound_looping_stop "levels\atlas\sc150\music\sc150_music02")
)

(script dormant void s_sc150_music03
    (sleep_until (= g_sc150_music03 true) 1)
    (if debug
        (print "start sc150_music03")
    )
    (sound_looping_start "levels\atlas\sc150\music\sc150_music03" none 1)
    (sleep_until (= g_sc150_music03 false) 1)
    (if debug
        (print "stop sc150_music03")
    )
    (sound_looping_stop "levels\atlas\sc150\music\sc150_music03")
)

(script dormant void s_sc150_music03_alt
    (sleep_until (= g_sc150_music03_alt true) 1)
    (if debug
        (print "start sc150_music03_alt")
    )
    (sound_looping_set_alternate "levels\atlas\sc150\music\sc150_music03" true)
)

(script dormant void s_sc150_music04
    (sleep_until (= g_sc150_music04 true) 1)
    (if debug
        (print "start sc150_music04")
    )
    (sound_looping_start "levels\atlas\sc150\music\sc150_music04" none 1)
    (sleep_until (= g_sc150_music04 false) 1)
    (if debug
        (print "stop sc150_music04")
    )
    (sound_looping_stop "levels\atlas\sc150\music\sc150_music04")
)

(script dormant void s_sc150_music05
    (sleep_until (= g_sc150_music05 true) 1)
    (if debug
        (print "start sc150_music05")
    )
    (sound_looping_start "levels\atlas\sc150\music\sc150_music05" none 1)
    (sleep_until (= g_sc150_music05 false) 1)
    (if debug
        (print "stop sc150_music05")
    )
    (sound_looping_stop "levels\atlas\sc150\music\sc150_music05")
)

(script dormant void s_sc150_music06
    (sleep_until (= g_sc150_music06 true) 1)
    (if debug
        (print "start sc150_music06")
    )
    (sound_looping_start "levels\atlas\sc150\music\sc150_music06" none 1)
    (sleep_until (= g_sc150_music06 false) 1)
    (if debug
        (print "stop sc150_music06")
    )
    (sound_looping_stop "levels\atlas\sc150\music\sc150_music06")
)

(script dormant void s_sc150_music07
    (sleep_until (= g_sc150_music07 true) 1)
    (if debug
        (print "start sc150_music07")
    )
    (sound_looping_start "levels\atlas\sc150\music\sc150_music07" none 1)
    (sleep_until (= g_sc150_music07 false) 1)
    (if debug
        (print "stop sc150_music07")
    )
    (sound_looping_stop "levels\atlas\sc150\music\sc150_music07")
)

(script dormant void s_sc150_music08
    (sleep_until (= g_sc150_music08 true) 1)
    (if debug
        (print "start sc150_music08")
    )
    (sound_looping_start "levels\atlas\sc150\music\sc150_music08" none 1)
    (sleep_until (= g_sc150_music08 false) 1)
    (if debug
        (print "stop sc150_music08")
    )
    (sound_looping_stop "levels\atlas\sc150\music\sc150_music08")
)

(script dormant void s_sc150_music09
    (sleep_until (= g_sc150_music09 true) 1)
    (if debug
        (print "start sc150_music09")
    )
    (sound_looping_start "levels\atlas\sc150\music\sc150_music09" none 1)
    (sleep_until (= g_sc150_music09 false) 1)
    (if debug
        (print "stop sc150_music09")
    )
    (sound_looping_stop "levels\atlas\sc150\music\sc150_music09")
)

(script dormant void s_sc150_music10
    (sleep_until (= g_sc150_music10 true) 1)
    (if debug
        (print "start sc150_music10")
    )
    (sound_looping_start "levels\atlas\sc150\music\sc150_music10" none 1)
    (sleep_until (= g_sc150_music10 false) 1)
    (if debug
        (print "stop sc150_music10")
    )
    (sound_looping_stop "levels\atlas\sc150\music\sc150_music10")
)

(script dormant void s_sc150_music10_alt
    (sleep_until (= g_sc150_music10_alt true) 1)
    (if debug
        (print "start sc150_music10_alt")
    )
    (sound_looping_set_alternate "levels\atlas\sc150\music\sc150_music10" true)
)

(script static boolean ai_ba1a_mi_0_3
    (= g_buck_first_line true)
)

(script static boolean ai_ba1a_gr_0_9
    (>= g_1a_obj_control 70)
)

(script static boolean ai_ba1a_gr_0_10
    (>= g_1a_obj_control 50)
)

(script static boolean ai_ba1a_mi_0_14
    (= (ai_living_count "gr_1a_cov_01") 0)
)

(script static boolean ai_ba1a_mi_0_25
    (volume_test_players "tv_1a_combat_low")
)

(script static boolean ai_ba1a_mi_0_26
    (volume_test_players "tv_1a_combat_high")
)

(script static boolean ai_ba1a_gr_0_29
    (<= (ai_living_count "gr_1a_grunts_03") 2)
)

(script static boolean ai_ba1a_co_0_30
    (<= (ai_living_count "gr_1a_cov_02") 2)
)

(script static boolean ai_ba1a_mi_0_31
    (= g_mickey_ready_to_enter true)
)

(script static boolean ai_ba1a_fr_1_1
    (volume_test_object "tv_friendly_phantom_01" (ai_get_object "sq_1a_mickey_phantom_01"))
)

(script static boolean ai_ba1a_fr_1_7
    (= g_phantom_driver_dead true)
)

(script static boolean ai_ba2b_ch_6_17
    (and (<= (ai_living_count "gr_2b_cov_01") 2) (<= (ai_living_count "gr_2b_cov_02") 2))
)

(script static boolean ai_bafinal_6_25
    (= g_2b_final_follow true)
)

(script static boolean ai_bafinal_6_26
    (= g_2b_final_follow true)
)

(script static void ins_basin_1a
    (print "insertion point : basin 1a")
    (if (!= (current_zone_set) g_set_all)
        (begin
            (print "switching zone sets...")
            (switch_zone_set "set_intro")
        )
    )
    (sleep 1)
    (if (= g_play_cinematics true)
        (begin
            (prepare_to_switch_to_zone_set "set_intro_transition")
            (if (cinematic_skip_start)
                (begin
                    (sound_class_set_gain "" 0 0)
                    (sound_class_set_gain "mus" 1 0)
                    (cinematic_snap_to_black)
                    (if debug
                        (print "sc150_int_sc_a")
                    )
                    (sleep 60)
                    (sound_impulse_start "sound\cinematics\atlas\sc150\music\sc150m_int_sc_title" none 1)
                    (cinematic_set_title "title_1")
                    (sound_impulse_start "sound\cinematics\atlas\sc150\foley\sc150_int_fade_in_11_sec" none 1)
                    (sleep 60)
                    (cinematic_set_title "title_2")
                    (sleep 60)
                    (cinematic_set_title "title_3")
                    (sleep (* 30 5))
                    (sc150_int_sc_a)
                    (sound_looping_stop "sound\music\amb\perc\1m_perc\1m_perc")
                    (switch_zone_set "set_basin_1a")
                    (if (cinematic_skip_start)
                        (begin
                            (cinematic_snap_to_black)
                            (if debug
                                (print "sc150_int_sc_b")
                            )
                            (sc150_int_sc_b)
                        )
                    )
                )
            )
            (cinematic_skip_stop)
        )
    )
    (switch_zone_set "set_basin_1a")
    (sleep 1)
    (sc150_int_sc_a_cleanup)
    (sc150_int_sc_b_cleanup)
    (object_destroy_folder "sc_hub")
    (object_destroy_folder "cr_cinematics")
    (object_create "sc_1a_subway_gate")
    (object_teleport (player0) "player0_1a_start")
    (object_teleport (player1) "player1_1a_start")
    (object_teleport (player2) "player2_1a_start")
    (object_teleport (player3) "player3_1a_start")
    (sleep 1)
    (player0_set_pitch g_player_start_pitch 0)
    (player1_set_pitch g_player_start_pitch 0)
    (player2_set_pitch g_player_start_pitch 0)
    (player3_set_pitch g_player_start_pitch 0)
    (sleep 15)
    (set g_insertion_index 1)
    (wake pda_breadcrumbs)
    (pda_set_active_pda_definition "sc150_000_010")
    (cinematic_snap_from_black)
    (game_save_immediate)
)

(script static void ins_basin_1b
    (print "insertion point : basin 1b")
    (if (!= (current_zone_set) g_set_all)
        (begin
            (print "switching zone sets...")
            (switch_zone_set "set_basin_1b")
            (sleep 1)
        )
    )
    (set g_insertion_index 2)
    (set g_1a_obj_control 1000)
    (object_create "v_1b_banshee_01")
    (object_create "v_1b_banshee_02")
    (object_create "v_1b_banshee_03")
    (object_create "v_1b_banshee_04")
    (sleep 5)
    (print "teleporting players...")
    (object_teleport (player0) "player0_1b_start")
    (object_teleport (player1) "player1_1b_start")
    (object_teleport (player2) "player2_1b_start")
    (object_teleport (player3) "player3_1b_start")
    (sleep 1)
    (set s_waypoint_index 3)
    (player_disable_movement false)
    (print "placing allies...")
    (ai_place "sq_1b_mickey_phantom_01")
    (ai_cannot_die "sq_1b_mickey_phantom_01/pilot" true)
    (object_cannot_take_damage (ai_vehicle_get_from_starting_location "sq_1b_mickey_phantom_01/pilot"))
    (object_cannot_take_damage (ai_get_object "sq_1b_mickey_phantom_01/dutch"))
    (object_cannot_take_damage (ai_get_object "sq_1b_mickey_phantom_01/romeo"))
    (chud_show_object_navpoint (ai_get_object "sq_1b_mickey_phantom_01/pilot") "mickey" true 1.5)
    (chud_show_object_navpoint (ai_get_object "sq_1b_mickey_phantom_01/dutch") "dutch" true 0.1)
    (chud_show_object_navpoint (ai_get_object "sq_1b_mickey_phantom_01/romeo") "romeo" true 0.1)
    (ai_force_active "gr_friendly_phantom" true)
    (sleep 15)
    (device_set_position_immediate "dm_1a_large_door_01" 1)
    (device_set_position_immediate "dm_1a_large_door_02" 1)
    (device_set_power "dm_1a_large_door_01" 0)
    (device_set_power "dm_1a_large_door_02" 0)
    (sleep 10)
    (wake pda_breadcrumbs)
    (pda_set_active_pda_definition "sc150_000_010")
    (soft_ceiling_enable "camera01" false)
    (campaign_metagame_time_pause false)
    (wake s_sc150_music01)
    (wake s_sc150_music02)
    (wake s_sc150_music03)
    (wake s_sc150_music03_alt)
    (wake s_sc150_music04)
    (wake s_sc150_music05)
    (wake s_sc150_music06)
    (sleep 5)
    (set g_sc150_music01 true)
    (set g_sc150_music02 true)
    (set g_sc150_music03 true)
    (set g_sc150_music03_alt true)
    (set g_sc150_music04 true)
    (set g_sc150_music05 true)
    (set g_sc150_music06 true)
    (objectives_finish_up_to 0)
    (wake obj_escort_phantom_set)
    (cinematic_snap_from_black)
    (game_save_immediate)
)

(script static void ins_basin_2a
    (print "insertion point : basin 2a")
    (if (!= (current_zone_set) g_set_all)
        (begin
            (print "switching zone sets...")
            (switch_zone_set "set_basin_2a")
            (sleep 1)
        )
    )
    (set g_insertion_index 3)
    (set g_1a_obj_control 1000)
    (set g_1b_obj_control 1000)
    (object_create "v_2a_banshee_01")
    (object_create "v_2a_banshee_02")
    (object_create "v_2a_banshee_03")
    (object_create "v_2a_banshee_04")
    (sleep 5)
    (print "teleporting players...")
    (object_teleport (player0) "player0_2a_start")
    (object_teleport (player1) "player1_2a_start")
    (object_teleport (player2) "player2_2a_start")
    (object_teleport (player3) "player3_2a_start")
    (sleep 1)
    (set s_waypoint_index 4)
    (player_disable_movement false)
    (print "placing allies...")
    (ai_place "sq_2a_mickey_phantom_01")
    (ai_cannot_die "sq_2a_mickey_phantom_01/pilot" true)
    (object_cannot_take_damage (ai_vehicle_get_from_starting_location "sq_2a_mickey_phantom_01/pilot"))
    (object_cannot_take_damage (ai_get_object "sq_2a_mickey_phantom_01/dutch"))
    (object_cannot_take_damage (ai_get_object "sq_2a_mickey_phantom_01/romeo"))
    (chud_show_object_navpoint (ai_get_object "sq_2a_mickey_phantom_01/pilot") "mickey" true 1.5)
    (chud_show_object_navpoint (ai_get_object "sq_2a_mickey_phantom_01/dutch") "dutch" true 0.1)
    (chud_show_object_navpoint (ai_get_object "sq_2a_mickey_phantom_01/romeo") "romeo" true 0.1)
    (ai_force_active "gr_friendly_phantom" true)
    (sleep 15)
    (ai_place "sq_2a_recharge_01")
    (device_set_position_immediate "dm_1b_large_door_01" 1)
    (device_set_position_immediate "dm_1b_large_door_02" 1)
    (device_set_power "dm_1b_large_door_01" 0)
    (device_set_power "dm_1b_large_door_02" 0)
    (sleep 10)
    (wake pda_breadcrumbs)
    (pda_set_active_pda_definition "sc150_010_020")
    (soft_ceiling_enable "camera01" false)
    (sleep 1)
    (campaign_metagame_time_pause false)
    (wake s_sc150_music01)
    (sleep 1)
    (set g_sc150_music01 true)
    (objectives_finish_up_to 1)
    (wake obj_open_doors_set)
    (cinematic_snap_from_black)
    (game_save_immediate)
)

(script static void ins_basin_2b
    (print "insertion point : basin 2b")
    (if (!= (current_zone_set) g_set_all)
        (begin
            (print "switching zone sets...")
            (switch_zone_set "set_basin_2b")
            (sleep 1)
        )
    )
    (set g_insertion_index 4)
    (set g_1a_obj_control 1000)
    (set g_1b_obj_control 1000)
    (set g_2a_obj_control 1000)
    (sleep 5)
    (print "teleporting players...")
    (object_teleport (player0) "player0_2b_start")
    (object_teleport (player1) "player1_2b_start")
    (object_teleport (player2) "player2_2b_start")
    (object_teleport (player3) "player3_2b_start")
    (sleep 1)
    (set s_waypoint_index 5)
    (player_disable_movement false)
    (print "placing allies...")
    (ai_place "sq_2b_mickey_phantom_01")
    (ai_cannot_die "sq_2b_mickey_phantom_01/pilot" true)
    (object_cannot_take_damage (ai_vehicle_get_from_starting_location "sq_2b_mickey_phantom_01/pilot"))
    (object_cannot_take_damage (ai_get_object "sq_2b_mickey_phantom_01/dutch"))
    (object_cannot_take_damage (ai_get_object "sq_2b_mickey_phantom_01/romeo"))
    (chud_show_object_navpoint (ai_get_object "sq_2b_mickey_phantom_01/pilot") "mickey" true 1.5)
    (chud_show_object_navpoint (ai_get_object "sq_2b_mickey_phantom_01/dutch") "dutch" true 0.1)
    (chud_show_object_navpoint (ai_get_object "sq_2b_mickey_phantom_01/romeo") "romeo" true 0.1)
    (ai_force_active "gr_friendly_phantom" true)
    (sleep 15)
    (device_set_power "dm_1b_large_door_02" 1)
    (sleep 1)
    (device_set_position_immediate "dm_1b_large_door_02" 0)
    (sleep 1)
    (device_set_power "dm_1b_large_door_02" 0)
    (sleep 1)
    (device_set_power "dm_2a_large_door_01" 1)
    (sleep 1)
    (device_set_position_immediate "dm_2a_large_door_01" 0.1)
    (sleep 1)
    (device_set_power "dm_2a_large_door_01" 0)
    (sleep 5)
    (wake sc_2a_busted_door_ins)
    (wake pda_breadcrumbs)
    (pda_set_active_pda_definition "sc150_020_030")
    (sleep 1)
    (soft_ceiling_enable "camera01" false)
    (wake md_020_second_door_open)
    (wake md_020_second_switch_prompts)
    (set g_door_locked true)
    (wake s_sc150_music07)
    (wake s_sc150_music08)
    (wake s_sc150_music09)
    (wake sc_2b_chieftain_music_check)
    (set g_sc150_music07 true)
    (campaign_metagame_time_pause false)
    (objectives_finish_up_to 1)
    (wake obj_open_doors_set)
    (cinematic_snap_from_black)
    (game_save_immediate)
)

(script startup void su_sc150_startup
    (fade_out 0 0 0 0)
    (wake sc150_fp_dialog_check)
    (wake sc_sc150_coop_resume)
    (wake sc_scarab_check)
    (if (and (not editor) (> (player_count) 0))
        (start)
        (begin
            (fade_in 0 0 0 0)
        )
    )
)

(script static void start
    (fade_out 0 0 0 0)
    (if (not (campaign_survival_enabled))
        (wake sc150_mission)
    )
    (if (= (game_insertion_point_get) 0)
        (ins_basin_1a)
        (if (= (game_insertion_point_get) 1)
            (ins_basin_1b)
            (if (= (game_insertion_point_get) 2)
                (ins_basin_2a)
                (if (= (game_insertion_point_get) 3)
                    (ins_basin_2b)
                )
            )
        )
    )
)

(script dormant void sc150_mission
    (if debug
        (print "banshee train. all aboard!")
    )
    (gp_integer_set "gp_current_scene" 150)
    (ai_allegiance human player)
    (ai_allegiance player human)
    (ai_allegiance covenant prophet)
    (ai_allegiance prophet covenant)
    (ai_allegiance sentinel prophet)
    (ai_allegiance prophet sentinel)
    (sleep 1)
    (wake player0_sc150_waypoints)
    (wake player1_sc150_waypoints)
    (wake player2_sc150_waypoints)
    (wake player3_sc150_waypoints)
    (set s_waypoint_index 1)
    (sleep 1)
    (wake player0_award_tourist)
    (if (coop_players_2)
        (wake player1_award_tourist)
    )
    (if (coop_players_3)
        (wake player2_award_tourist)
    )
    (if (coop_players_4)
        (wake player3_award_tourist)
    )
    (sleep 1)
    (wake sc_sc150_pda_check)
    (player_set_fourth_wall_enabled (player0) false)
    (player_set_fourth_wall_enabled (player1) false)
    (player_set_fourth_wall_enabled (player2) false)
    (player_set_fourth_wall_enabled (player3) false)
    (sleep_until (>= g_insertion_index 1) 1)
    (if (<= g_insertion_index 1)
        (wake enc_basin_1a)
    )
    (sleep_until (or (volume_test_players "tv_enc_basin_1b") (>= g_insertion_index 2)) 1)
    (if (<= g_insertion_index 2)
        (wake enc_basin_1b)
    )
    (sleep_until (or (volume_test_players "tv_enc_basin_2a") (>= g_insertion_index 3)) 1)
    (if (<= g_insertion_index 3)
        (wake enc_basin_2a)
    )
    (sleep_until (or (volume_test_players "tv_enc_basin_2b") (>= g_insertion_index 4)) 1)
    (if (<= g_insertion_index 4)
        (wake enc_basin_2b)
    )
)

(script dormant void enc_basin_1a
    (data_mine_set_mission_segment "sc150_basin_1a")
    (wake s_sc150_music01)
    (wake s_sc150_music02)
    (wake s_sc150_music03)
    (wake s_sc150_music03_alt)
    (wake s_sc150_music04)
    (wake s_sc150_music05)
    (wake s_sc150_music06)
    (wake sc_1a_zone_check)
    (wake sc_basin_1a_remove_my_nuts)
    (wake gs_recycle_volumes)
    (ai_place "sq_1a_mickey_phantom_01")
    (ai_cannot_die "sq_1a_mickey_phantom_01" true)
    (object_cannot_take_damage (ai_vehicle_get_from_starting_location "sq_1a_mickey_phantom_01/pilot"))
    (ai_force_active "gr_friendly_phantom" true)
    (ai_place "sq_1a_banshee_01")
    (ai_place "sq_1a_phantom_shade_01")
    (sleep 1)
    (ai_place "sq_1a_engineer_01")
    (ai_dont_do_avoidance "sq_1a_engineer_01" true)
    (ai_place "sq_1a_cov_01")
    (sleep 1)
    (ai_place "sq_1a_shade_01")
    (ai_place "sq_1a_shade_02")
    (ai_place "sq_1a_shade_03")
    (sleep 1)
    (ai_place "sq_1a_shade_04")
    (ai_place "sq_1a_cov_02")
    (ai_place "sq_1a_grunt_03")
    (ai_place "sq_1a_dutch")
    (ai_cannot_die "gr_dutch_01" true)
    (chud_show_ai_navpoint "gr_dutch_01" "dutch" true 0.1)
    (sleep 1)
    (ai_place "sq_1a_mickey")
    (ai_cannot_die "gr_mickey_01" true)
    (chud_show_ai_navpoint "gr_mickey_01" "mickey" true 0.1)
    (sleep 1)
    (ai_place "sq_1a_romeo")
    (ai_cannot_die "gr_romeo_01" true)
    (chud_show_ai_navpoint "gr_romeo_01" "romeo" true 0.1)
    (sleep 1)
    (wake md_010_buck_points_at_phantom)
    (wake md_010_romeo_dutch_prompts)
    (wake md_010_mickey_engineer_intro)
    (wake md_010_mickey_enter_lift)
    (wake md_010_mickey_in_phantom)
    (wake md_010_get_in_banshee_prompts)
    (wake md_010_everyone_in_phantom)
    (wake md_010_banshee_inbound)
    (wake md_010_enter_first_tunnel)
    (wake md_010_see_crater)
    (wake obj_capture_phantom_set)
    (sleep_until (volume_test_players "tv_1a_01") 1)
    (set g_1a_obj_control 10)
    (print "g_1a_obj_control set to 10")
    (ai_place "sq_1a_phantom_02")
    (wake sc_1a_first_save_check)
    (wake sc_1a_kill_engineer_check)
    (game_save)
    (sleep_until (volume_test_players "tv_1a_02") 1)
    (set g_1a_obj_control 20)
    (print "g_1a_obj_control set to 20")
    (sleep_until (volume_test_players "tv_1a_03") 1)
    (set g_1a_obj_control 30)
    (print "g_1a_obj_control set to 30")
    (ai_place "sq_1a_phantom_03")
    (wake sc_1a_spawn_balconies)
    (sleep_until (volume_test_players "tv_1a_04") 1)
    (set g_1a_obj_control 40)
    (print "g_1a_obj_control set to 40")
    (soft_ceiling_enable "camera01" false)
    (sleep_until (volume_test_players "tv_1a_05") 1)
    (set g_1a_obj_control 50)
    (print "g_1a_obj_control set to 50")
    (wake sc_1a_banshee_control)
    (set s_waypoint_index 2)
    (wake basin_1b_tower_turrets)
    (sleep_until (volume_test_players "tv_1a_06") 1)
    (set g_1a_obj_control 60)
    (print "g_1a_obj_control set to 60")
    (sleep 1)
    (if debug
        (print "turning off respawning...")
    )
    (game_safe_to_respawn false)
    (sleep_until (volume_test_players "tv_1a_07") 1)
    (set g_1a_obj_control 70)
    (print "g_1a_obj_control set to 70")
    (game_save)
    (sleep_until (volume_test_players "tv_1a_08") 1)
    (set g_1a_obj_control 80)
    (print "g_1a_obj_control set to 80")
    (game_save)
    (sleep_until (volume_test_players "tv_1a_09") 1)
    (set g_1a_obj_control 90)
    (print "g_1a_obj_control set to 90")
    (ai_place "sq_1a_phantom_04")
    (sleep 1)
    (ai_place "sq_1b_cov_01")
    (ai_place "sq_1b_grunt_flak_02")
    (game_save)
)

(script dormant void sc_1a_zone_check
    (sleep_until (= (current_zone_set) 2) 1)
    (ai_disposable "gr_1a_all" true)
)

(script dormant void sc_1a_first_save_check
    (sleep_until (= (ai_living_count "gr_1a_cov_01") 0) 1)
    (if debug
        (print "attempting to save...")
    )
    (game_save)
    (sleep 1)
    (sleep_until (and (= (ai_living_count "gr_1a_cov_02") 0) (= (ai_living_count "gr_1a_grunts_03") 0) (volume_test_players "tv_1a_banshee_check")) 1)
    (if debug
        (print "attempting to save...")
    )
    (game_save)
)

(script dormant void sc_1a_kill_engineer_check
    (sleep_until (not (volume_test_object "tv_md_010_get_in_banshee_prompts" (ai_get_object "sq_1a_engineer_01"))) 10)
    (ai_kill "sq_1a_engineer_01")
)

(script dormant void sc_1a_banshee_control
    (sleep_until (and (>= g_1a_obj_control 60) (<= (ai_living_count "gr_1a_grunts_01") 2) (<= (ai_living_count "gr_1a_balconies") 2) (= g_dutch_romeo_aboard true) (volume_test_object "tv_md_010_enter_first_tunnel" (ai_get_object "gr_friendly_phantom"))))
    (game_save)
    (ai_place "sq_1a_banshee_02")
    (sleep_until (>= (device_get_position "dm_1a_large_door_01") 1) 5)
    (set g_sc150_music03_alt true)
)

(script command_script void cs_1a_banshee_02
    (cs_enable_pathfinding_failsafe true)
    (device_set_power "dm_1a_large_door_01" 1)
    (device_set_position "dm_1a_large_door_01" 1)
    (cs_fly_to "ps_1a_banshee_02/p0")
    (cs_fly_to "ps_1a_banshee_02/p1")
    (cs_fly_to "ps_1a_banshee_02/p2")
)

(script dormant void sc_1a_spawn_balconies
    (sleep_until (or (>= g_1a_obj_control 40) (= g_dutch_romeo_aboard true)))
    (ai_place "sq_1a_grunt_06")
    (ai_place "sq_1a_cov_03")
    (ai_place "sq_1a_cov_04")
    (sleep 1)
    (if (= (random_range 0 2) 1)
        (ai_place "sq_1a_grunt_04")
        (ai_place "sq_1a_grunt_05")
    )
    (sleep 1)
    (if (= (random_range 0 2) 1)
        (ai_place "sq_1a_brute_03")
        (ai_place "sq_1a_brute_04")
    )
    (sleep 1)
    (if (= (random_range 0 2) 1)
        (ai_place "sq_1a_jackal_01")
        (ai_place "sq_1a_jackal_02")
    )
)

(script command_script void cs_1a_mickey_phantom_fly
    (cs_enable_pathfinding_failsafe true)
    (cs_enable_looking false)
    (cs_enable_targeting false)
    (sleep_until (= g_phantom_driver_dead true) 1)
    (sleep 30)
    (cs_fly_to "ps_1a_mickey_phantom_01/p0")
    (cs_fly_to "ps_1a_mickey_phantom_01/p1")
    (cs_vehicle_speed 0.5)
    (cs_fly_to_and_face "ps_1a_mickey_phantom_01/p2" "ps_1a_mickey_phantom_01/p4" 0.5)
    (cs_vehicle_speed 0.3)
    (cs_fly_to_and_face "ps_1a_mickey_phantom_01/p15" "ps_1a_mickey_phantom_01/p4" 0.5)
    (cs_vehicle_speed 0.2)
    (cs_fly_to_and_face "ps_1a_mickey_phantom_01/p3" "ps_1a_mickey_phantom_01/p4" 0.1)
    (set g_phantom_in_place true)
    (sleep 60)
    (vehicle_hover "sq_1a_mickey_phantom_01" true)
    (sleep_until (= g_dutch_romeo_aboard true) 1)
    (ai_cannot_die "gr_dutch_01" true)
    (ai_cannot_die "gr_romeo_01" true)
    (vehicle_hover "sq_1a_mickey_phantom_01" false)
    (cs_enable_looking true)
    (cs_enable_targeting true)
    (cs_vehicle_speed 1)
    (if (= (random_range 0 2) 1)
        (begin
            (cs_fly_to "ps_1a_mickey_phantom_01/p1")
            (unit_close (ai_vehicle_get ai_current_actor))
            (cs_fly_to_and_face "ps_1a_mickey_phantom_01/p5" "ps_1a_mickey_phantom_01/p8")
            (sleep_until (or (>= g_1a_obj_control 70) (= (ai_living_count "sq_1a_grunt_06") 0)))
            (cs_fly_to_and_face "ps_1a_mickey_phantom_01/p6" "ps_1a_mickey_phantom_01/p12")
        )
        (begin
            (cs_fly_to "ps_1a_mickey_phantom_01/p7")
            (unit_close (ai_vehicle_get ai_current_actor))
            (cs_fly_to_and_face "ps_1a_mickey_phantom_01/p8" "ps_1a_mickey_phantom_01/p5")
            (sleep_until (or (>= g_1a_obj_control 60) (= (ai_living_count "sq_1a_grunt_06") 0)))
            (cs_fly_to_and_face "ps_1a_mickey_phantom_01/p6" "ps_1a_mickey_phantom_01/p13")
        )
    )
    (sleep_until (<= (ai_living_count "gr_1a_balconies") 3) 1)
    (cs_fly_to_and_face "ps_1a_mickey_phantom_01/p14" "ps_1a_mickey_phantom_01/p16")
)

(script command_script void cs_1a_phantom_shade_01
    (set v_1a_phantom_shade_01 (ai_vehicle_get_from_starting_location "sq_1a_phantom_shade_01/phantom"))
    (f_load_phantom v_1a_phantom_shade_01 "right" "sq_1a_grunt_01" "sq_1a_brute_02" "sq_1a_grunt_02" none)
    (vehicle_hover "sq_1a_phantom_shade_01" true)
    (sleep 30)
    (sleep_until (or (<= (ai_living_count "gr_1a_cov_02") 2) (<= (ai_living_count "gr_1a_grunts_03") 2) (>= g_1a_obj_control 40) (unit_in_vehicle (player0))) 1)
    (if debug
        (print "opening hatch...")
    )
    (unit_open (ai_vehicle_get ai_current_actor))
    (sleep (random_range 30 60))
    (f_unload_phantom v_1a_phantom_shade_01 "right")
    (vehicle_hover "sq_1a_phantom_shade_01" false)
    (sleep (random_range 15 60))
    (if debug
        (print "closing hatch...")
    )
    (unit_close (ai_vehicle_get ai_current_actor))
    (sleep (random_range 30 90))
    (cs_fly_to "ps_1a_phantom_shade_01/p5")
    (cs_fly_to "ps_1a_phantom_shade_01/p6")
    (cs_fly_to "ps_1a_phantom_shade_01/p7")
    (cs_fly_to "ps_1a_phantom_shade_01/p8")
    (ai_erase "sq_1a_phantom_shade_01")
)

(script command_script void cs_1a_phantom_02
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 1)
    (cs_fly_to "ps_1a_phantom_02/p0")
    (cs_fly_to "ps_1a_phantom_02/p1")
    (cs_fly_to "ps_1a_phantom_02/p2")
    (cs_fly_to "ps_1a_phantom_02/p3")
    (ai_erase "sq_1a_phantom_02")
)

(script command_script void cs_1a_phantom_03
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 1)
    (cs_fly_to "ps_1a_phantom_03/p0")
    (cs_fly_to "ps_1a_phantom_03/p1")
    (cs_fly_to "ps_1a_phantom_03/p2")
    (cs_fly_to "ps_1a_phantom_03/p3")
    (ai_erase "sq_1a_phantom_03")
)

(script command_script void cs_1a_phantom_04
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 1)
    (cs_fly_to "ps_1a_phantom_04/p0")
    (cs_fly_to "ps_1a_phantom_04/p1")
    (cs_fly_to "ps_1a_phantom_04/p2")
    (cs_fly_to "ps_1a_phantom_04/p3")
    (cs_fly_to "ps_1a_phantom_04/p4")
    (ai_erase "sq_1a_phantom_04")
)

(script command_script void cs_1a_banshee_01
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 1)
    (cs_fly_to "ps_1a_banshee_01/p0" 0.5)
    (cs_vehicle_boost true)
    (cs_fly_to "ps_1a_banshee_01/p1")
    (cs_fly_to "ps_1a_banshee_01/p2" 0.5)
    (cs_vehicle_boost false)
    (cs_fly_to "ps_1a_banshee_01/p3" 1)
    (unit_exit_vehicle (ai_get_unit "sq_1a_banshee_01/pilot") 3)
)

(script dormant void sc_basin_1a_remove_my_nuts
    (if (coop_players_4)
        (sleep_until (or (unit_in_vehicle (player0)) (unit_in_vehicle (player1)) (unit_in_vehicle (player2)) (unit_in_vehicle (player3))))
        (if (coop_players_3)
            (sleep_until (or (unit_in_vehicle (player0)) (unit_in_vehicle (player1)) (unit_in_vehicle (player2))))
            (if (coop_players_2)
                (sleep_until (or (unit_in_vehicle (player0)) (unit_in_vehicle (player1))))
                (if true
                    (sleep_until (unit_in_vehicle (player0)))
                )
            )
        )
    )
    (object_destroy "sc_basin_1a_nut_01")
    (object_destroy "sc_basin_1a_nut_02")
    (object_destroy "sc_basin_1a_nut_03")
)

(script dormant void enc_basin_1b
    (data_mine_set_mission_segment "sc150_basin_1b")
    (wake sc_1b_zone_check)
    (ai_place "sq_1b_engineer_01")
    (ai_dont_do_avoidance "sq_1b_engineer_01" true)
    (ai_place "sq_1b_wraith_02")
    (ai_vehicle_reserve_seat (ai_vehicle_get_from_starting_location "sq_1b_wraith_02/gunner") 30 true)
    (sleep 1)
    (ai_place "sq_1b_recharge_01")
    (ai_place "sq_1b_phantom_leaving_01")
    (cs_run_command_script "gr_friendly_phantom" cs_1b_mickey_phantom_01)
    (ai_cannot_die "gr_friendly_phantom" true)
    (wake md_010_go_forward_prompts)
    (wake md_010_shouts_of_joy)
    (wake md_010_new_banshee_prompts)
    (wake md_010_next_bowl_prompts)
    (wake md_020_first_engineer_hut)
    (wake md_020_buck_clearing_path)
    (set s_waypoint_index 3)
    (if debug
        (print "turning on respawning...")
    )
    (game_safe_to_respawn true)
    (game_save)
    (sleep_until (volume_test_players "tv_1b_01") 1)
    (set g_1b_obj_control 10)
    (print "g_1b_obj_control set to 10")
    (ai_place "sq_1b_phantom_01")
    (ai_place "sq_1b_banshee_03")
    (ai_place "sq_1b_brute_01")
    (sleep 1)
    (device_set_power "dm_1a_large_door_02" 1)
    (device_set_position "dm_1a_large_door_02" 1)
    (game_save)
    (sleep_until (volume_test_players "tv_1b_02") 1)
    (set g_1b_obj_control 20)
    (print "g_1b_obj_control set to 20")
    (ai_place "sq_1b_engineer_02")
    (ai_dont_do_avoidance "sq_1b_engineer_02" true)
    (ai_place "sq_1b_engineer_03")
    (ai_dont_do_avoidance "sq_1b_engineer_03" true)
    (ai_place "sq_1b_engineer_04")
    (ai_dont_do_avoidance "sq_1b_engineer_04" true)
    (cs_run_command_script "sq_1b_brute_01" cs_1b_brute_banshee_enter_01)
    (sleep 1)
    (game_save)
    (sleep_until (volume_test_players "tv_1b_03") 1)
    (set g_1b_obj_control 30)
    (print "g_1b_obj_control set to 30")
    (if debug
        (print "turning off respawning...")
    )
    (game_safe_to_respawn false)
    (game_save)
    (sleep_until (volume_test_players "tv_1b_04") 1)
    (set g_1b_obj_control 40)
    (print "g_1b_obj_control set to 40")
    (ai_place "sq_1b_phantom_02")
    (game_save)
    (sleep_until (volume_test_players "tv_1b_05") 1)
    (set g_1b_obj_control 50)
    (print "g_1b_obj_control set to 50")
    (game_save)
    (sleep_until (volume_test_players "tv_1b_06") 1)
    (set g_1b_obj_control 60)
    (print "g_1b_obj_control set to 60")
    (game_save)
    (sleep_until (volume_test_players "tv_1b_07") 1)
    (set g_1b_obj_control 70)
    (print "g_1b_obj_control set to 70")
    (ai_place "sq_1b_phantom_03")
    (game_save)
    (sleep_until (volume_test_players "tv_1b_08") 1)
    (set g_1b_obj_control 80)
    (print "g_1b_obj_control set to 80")
    (game_save)
    (sleep_until (volume_test_players "tv_1b_09") 1)
    (set g_1b_obj_control 90)
    (print "g_1b_obj_control set to 90")
    (game_save)
    (sleep_until (volume_test_players "tv_1b_10") 1)
    (set g_1b_obj_control 100)
    (print "g_1b_obj_control set to 100")
    (ai_place "sq_2a_recharge_01")
    (ai_place "sq_2a_phantom_04")
    (sleep 1)
    (ai_place "sq_2a_cov_01")
    (ai_place "sq_2a_cov_02")
    (sleep 1)
    (ai_place "sq_2a_banshee_empty_01")
    (ai_place "sq_2a_banshee_empty_02")
    (game_save)
)

(script dormant void sc_1b_zone_check
    (sleep_until (= (current_zone_set) 3) 1)
    (ai_disposable "gr_1b_all" true)
)

(script command_script void cs_1b_mickey_phantom_01
    (cs_enable_pathfinding_failsafe true)
    (cs_enable_looking false)
    (cs_enable_targeting true)
    (cs_vehicle_speed 0.6)
    (cs_fly_to "ps_1b_mickey_phantom_01/p0")
    (vehicle_hover "gr_friendly_phantom" true)
    (sleep_until (>= g_1b_obj_control 0) 1)
    (vehicle_hover "gr_friendly_phantom" false)
    (cs_fly_to_and_face "ps_1b_mickey_phantom_01/p1" "ps_1b_mickey_phantom_01/p2")
    (cs_fly_to_and_face "ps_1b_mickey_phantom_01/p2" "ps_1b_mickey_phantom_01/p3")
    (cs_fly_to_and_face "ps_1b_mickey_phantom_01/p3" "ps_1b_mickey_phantom_01/p4")
    (cs_fly_to_and_face "ps_1b_mickey_phantom_01/p4" "ps_1b_mickey_phantom_01/p5")
    (sleep 60)
    (vehicle_hover "gr_friendly_phantom" true)
    (sleep_until (>= (device_get_position "dm_1a_large_door_02") 1))
    (vehicle_hover "gr_friendly_phantom" false)
    (cs_fly_to_and_face "ps_1b_mickey_phantom_01/p5" "ps_1b_mickey_phantom_01/p6")
    (cs_enable_looking true)
    (cs_vehicle_speed 1)
    (cs_fly_to_and_face "ps_1b_mickey_phantom_01/p6" "ps_1b_mickey_phantom_01/p7")
    (if (= (random_range 0 2) 1)
        (begin
            (cs_fly_to "ps_1b_mickey_phantom_01/p7")
            (cs_fly_to_and_face "ps_1b_mickey_phantom_01/p8" "ps_1b_mickey_phantom_01/p14")
            (if (>= (ai_living_count "sq_1b_recharge_01") 1)
                (begin
                    (sleep (random_range 30 90))
                    (cs_shoot_point true "ps_1b_mickey_phantom_01/p15")
                    (sleep (random_range 150 250))
                    (cs_shoot_point false "ps_1b_mickey_phantom_01/p15")
                    (sleep (random_range 30 90))
                )
            )
            (sleep_until (or (>= g_1b_obj_control 70) (= (ai_living_count "sq_1b_recharge_01") 0)) 1)
            (sleep (random_range 15 30))
            (cs_fly_to "ps_1b_mickey_phantom_01/p13")
        )
        (begin
            (cs_fly_to "ps_1b_mickey_phantom_01/p7")
            (cs_fly_to "ps_1b_mickey_phantom_01/p9")
            (cs_fly_to_and_face "ps_1b_mickey_phantom_01/p10" "ps_1b_mickey_phantom_01/p11")
            (if (>= (ai_living_count "sq_1b_recharge_01") 1)
                (begin
                    (sleep (random_range 30 90))
                    (cs_shoot_point true "ps_1b_mickey_phantom_01/p16")
                    (sleep (random_range 60 90))
                    (cs_shoot_point false "ps_1b_mickey_phantom_01/p16")
                    (sleep (random_range 30 90))
                )
            )
            (sleep_until (or (>= g_1b_obj_control 70) (= (ai_living_count "sq_1b_recharge_01") 0)) 1)
            (sleep (random_range 30 90))
        )
    )
    (cs_fly_to "ps_1b_mickey_phantom_01/p13")
)

(script dormant void basin_1b_tower_turrets
    (sleep_until (> (device_get_position "dm_1a_large_door_01") 0))
    (ai_place "sq_1b_grunts_02")
    (sleep 5)
    (ai_vehicle_enter_immediate "sq_1b_grunts_02/grunt_1" (object_get_turret "cr_1b_watchtower_top_01" 0))
    (cs_run_command_script "sq_1b_grunts_02/grunt_1" cs_stay_in_turret)
    (ai_vehicle_enter_immediate "sq_1b_grunts_02/grunt_2" (object_get_turret "cr_1b_watchtower_top_01" 1))
    (cs_run_command_script "sq_1b_grunts_02/grunt_2" cs_stay_in_turret)
    (ai_vehicle_enter_immediate "sq_1b_grunts_02/grunt_3" (object_get_turret "cr_1b_watchtower_top_01" 2))
    (cs_run_command_script "sq_1b_grunts_02/grunt_3" cs_stay_in_turret)
)

(script command_script void cs_1b_brute_banshee_enter_01
    (cs_enable_pathfinding_failsafe true)
    (ai_vehicle_enter "sq_1b_brute_01" (ai_vehicle_get_from_starting_location "sq_1b_banshee_03/banshee"))
    (wake sc_1b_brute_in_banshee)
)

(script dormant void sc_1b_brute_in_banshee
    (sleep_until (or (= (ai_in_vehicle_count "sq_1b_brute_01") 1) (= (ai_living_count "sq_1b_brute_01") 0)))
    (ai_set_objective "sq_1b_brute_01" "ai_basin_1b_sky")
    (sleep_until (or (= (ai_living_count "sq_1b_brute_01") 0) (= (ai_living_count "sq_1b_recharge_01") 0)))
    (sleep (random_range 30 90))
    (ai_place "sq_1b_phantom_wraith_01")
    (ai_place "sq_1b_banshee_01")
    (ai_place "sq_1b_banshee_02")
)

(script command_script void cs_1b_banshee_protect_01
    (cs_enable_pathfinding_failsafe true)
    (cs_abort_on_damage true)
    (cs_vehicle_boost true)
    (cs_fly_to "ps_1b_banshee_protect_01/p0")
    (cs_vehicle_boost false)
    (cs_fly_to "ps_1b_banshee_protect_01/p1")
    (cs_fly_to "ps_1b_banshee_protect_01/p2")
)

(script command_script void cs_1b_banshee_protect_02
    (cs_enable_pathfinding_failsafe true)
    (cs_abort_on_damage true)
    (cs_vehicle_boost true)
    (cs_fly_to "ps_1b_banshee_protect_02/p0")
    (cs_vehicle_boost false)
    (cs_fly_to "ps_1b_banshee_protect_02/p1")
    (cs_fly_to "ps_1b_banshee_protect_02/p2")
)

(script command_script void cs_1b_phantom_leaving_01
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 1)
    (sleep_until (or (>= g_1b_obj_control 20) (= (ai_living_count "sq_1b_recharge_01") 0)))
    (sleep (random_range 30 90))
    (cs_fly_to "ps_1b_phantom_leaving_01/p0")
    (cs_vehicle_boost true)
    (cs_fly_to "ps_1b_phantom_leaving_01/p1")
    (cs_fly_to "ps_1b_phantom_leaving_01/p2")
    (cs_fly_to "ps_1b_phantom_leaving_01/p3")
    (ai_erase "sq_1b_phantom_leaving_01")
)

(script command_script void cs_1b_phantom_01
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 1)
    (cs_fly_to "ps_1b_phantom_01/p0")
    (cs_fly_to "ps_1b_phantom_01/p1")
    (cs_fly_to "ps_1b_phantom_01/p2")
    (cs_fly_to "ps_1b_phantom_01/p3")
    (ai_erase "sq_1b_phantom_01")
)

(script command_script void cs_1b_phantom_02
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 1)
    (cs_fly_to "ps_1b_phantom_02/p0")
    (cs_fly_to "ps_1b_phantom_02/p1")
    (cs_fly_to "ps_1b_phantom_02/p2")
    (cs_fly_to "ps_1b_phantom_02/p3")
    (ai_erase "sq_1b_phantom_02")
)

(script command_script void cs_1b_phantom_03
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 1)
    (cs_fly_to "ps_1b_phantom_03/p0")
    (cs_fly_to "ps_1b_phantom_03/p1")
    (cs_fly_to "ps_1b_phantom_03/p2")
    (cs_fly_to "ps_1b_phantom_03/p3")
    (ai_erase "sq_1b_phantom_03")
)

(script command_script void cs_1b_phantom_wraith_01
    (set v_1b_phantom_wraith_01 (ai_vehicle_get_from_starting_location "sq_1b_phantom_wraith_01/pilot"))
    (cs_fly_to "ps_1b_phantom_wraith_01/p0")
    (cs_vehicle_speed 0.75)
    (cs_fly_to "ps_1b_phantom_wraith_01/p1")
    (cs_fly_to "ps_1b_phantom_wraith_01/p2")
    (sleep (random_range 30 90))
    (cs_fly_to "ps_1b_phantom_wraith_01/p3")
    (cs_vehicle_speed 1)
    (cs_fly_to "ps_1b_phantom_wraith_01/p4")
    (cs_fly_to "ps_1b_phantom_wraith_01/p5")
    (ai_erase "sq_1b_phantom_wraith_01")
)

(script dormant void enc_basin_2a
    (if debug
        (print "turning on ai fast and dumb...")
    )
    (ai_fast_and_dumb true)
    (wake sc_2a_perf_control)
    (wake sc_2a_recycle_perf)
    (data_mine_set_mission_segment "sc150_basin_2a")
    (wake s_sc150_music07)
    (wake s_sc150_music08)
    (wake s_sc150_music09)
    (wake sc_2a_zone_check)
    (wake sc_hu_civ_mar)
    (print "placing first spawns")
    (ai_place "sq_2a_ghost_01")
    (ai_place "sq_2a_engineer_01")
    (ai_dont_do_avoidance "sq_2a_engineer_01" true)
    (sleep 1)
    (ai_place "sq_2a_phantom_wraith_01")
    (sleep 1)
    (ai_place "sq_2a_recharge_02")
    (ai_place "sq_2a_recharge_03")
    (ai_place "sq_2a_recharge_04")
    (sleep 1)
    (ai_place "sq_2a_recharge_05")
    (sleep 1)
    (ai_place "sq_2a_phantom_01")
    (ai_place "sq_2a_phantom_03")
    (wake sc_2a_command_control)
    (ai_cannot_die "gr_friendly_phantom" true)
    (wake sc_2a_spawn_balconies)
    (wake md_020_second_door_switch)
    (wake md_020_second_door_jammed)
    (wake md_020_second_switch_prompts)
    (wake md_020_second_door_open)
    (wake sc_2a_busted_door)
    (if debug
        (print "turning on respawning...")
    )
    (game_safe_to_respawn true)
    (set s_waypoint_index 4)
    (game_save)
    (sleep_until (volume_test_players "tv_2a_01") 1)
    (set g_2a_obj_control 10)
    (print "g_2a_obj_control set to 10")
    (ai_place "sq_2a_anti_wraith_01")
    (ai_place "sq_2a_anti_wraith_03")
    (wake sc_2a_recycle_perf_check)
    (game_save)
    (sleep_until (volume_test_players "tv_2a_02") 1)
    (set g_2a_obj_control 20)
    (print "g_2a_obj_control set to 20")
    (if debug
        (print "turning off respawning...")
    )
    (game_safe_to_respawn false)
    (sleep_forever md_020_buck_clearing_path)
    (sleep 1)
    (set g_talking_active false)
    (set g_sc150_music01 false)
    (game_save)
    (sleep_until (volume_test_players "tv_2a_03") 1)
    (set g_2a_obj_control 30)
    (print "g_2a_obj_control set to 30")
    (game_save)
    (sleep_until (volume_test_players "tv_2a_04") 1)
    (set g_2a_obj_control 40)
    (print "g_2a_obj_control set to 40")
    (game_save)
    (sleep_until (volume_test_players "tv_2a_05") 1)
    (set g_2a_obj_control 50)
    (print "g_2a_obj_control set to 50")
    (game_save)
    (sleep_until (volume_test_players "tv_2a_06") 1)
    (set g_2a_obj_control 60)
    (print "g_2a_obj_control set to 60")
    (game_save)
    (sleep_until (volume_test_players "tv_2a_07") 1)
    (set g_2a_obj_control 70)
    (print "g_2a_obj_control set to 70")
    (game_save)
    (sleep_until (volume_test_players "tv_2a_08") 1)
    (set g_2a_obj_control 80)
    (print "g_2a_obj_control set to 80")
    (game_save)
    (sleep_until (volume_test_players "tv_2a_09") 1)
    (set g_2a_obj_control 90)
    (print "g_2a_obj_control set to 90")
    (ai_place "sq_2b_recharge_01")
    (ai_place "sq_2b_recharge_15")
    (game_save)
    (sleep_until (volume_test_players "tv_2a_10") 1)
    (set g_2a_obj_control 100)
    (print "g_2a_obj_control set to 100")
    (game_save)
)

(script dormant void sc_2a_zone_check
    (sleep_until (= (current_zone_set) 4) 1)
    (ai_disposable "gr_2a_all" true)
)

(script dormant void sc_2a_command_control
    (sleep_until (and (>= g_2a_obj_control 10) (volume_test_object "tv_cs_enter_2a" (ai_get_object "gr_friendly_phantom"))) 1)
    (cs_run_command_script "gr_friendly_phantom" cs_2a_mickey_phantom_01)
    (device_set_position "dm_1b_large_door_02" 1)
)

(script dormant void sc_2a_perf_control
    (sleep_until (or (not (volume_test_players_all "tv_perf_2a_hack")) (>= g_2a_obj_control 50)))
    (if debug
        (print "turning off ai fast and dumb...")
    )
    (ai_fast_and_dumb false)
)

(script dormant void sc_2a_recycle_perf
    (sleep_until 
        (begin
            (add_recycling_volume "tv_rec_2a" 15 10)
            (sleep 300)
            false
        )
        1
    )
)

(script dormant void sc_2a_recycle_perf_check
    (sleep_until (and (= (ai_living_count "sq_2a_anti_wraith_01") 0) (= (ai_living_count "sq_2a_anti_wraith_03") 0)))
    (sleep_forever sc_2a_recycle_perf)
)

(script dormant void sc_2a_spawn_balconies
    (sleep_until (>= g_2a_obj_control 40))
    (sleep 1)
    (if (= (random_range 0 2) 1)
        (ai_place "sq_2a_grunts_01")
        (ai_place "sq_2a_grunts_02")
    )
    (sleep 1)
    (if (= (random_range 0 2) 1)
        (ai_place "sq_2a_brute_01")
        (ai_place "sq_2a_brute_02")
    )
    (sleep 1)
    (if (= (random_range 0 2) 1)
        (ai_place "sq_2a_jackal_01")
        (ai_place "sq_2a_jackal_02")
    )
)

(script dormant void sc_2a_busted_door
    (sleep_until (>= (device_get_position "dm_2a_large_door_01") 0.1) 1)
    (sound_impulse_start "sound\device_machines\atlas\door_security_sc_150\jammed" none 1)
    (sound_impulse_start "sound\device_machines\atlas\door_security_sc_150\jammed_surround" none 1)
    (device_set_position_immediate "dm_2a_large_door_01" 0.1)
    (device_set_power "dm_2a_large_door_01" 0)
    (sleep 1)
    (set g_door_locked true)
    (sleep 1)
    (sleep_until (>= (device_get_position "dm_2a_large_door_02") 0.1))
    (sleep 1)
    (device_group_change_only_once_more_set "switch_basin_2a" true)
    (sleep 1)
    (device_set_power "dm_2a_large_door_01" 1)
    (sleep 1)
    (device_set_position "dm_2a_large_door_01" 1)
    (sleep 1)
    (set g_door_unlocked true)
)

(script dormant void sc_2a_busted_door_ins
    (sleep_until (>= (device_get_position "dm_2a_large_door_02") 0.1))
    (sleep 10)
    (device_group_change_only_once_more_set "switch_basin_2a" true)
    (sleep 1)
    (device_set_power "dm_2a_large_door_01" 1)
    (sleep 1)
    (device_set_position "dm_2a_large_door_01" 1)
    (sleep 1)
    (set g_door_unlocked true)
)

(script command_script void cs_2a_mickey_phantom_01
    (cs_enable_pathfinding_failsafe true)
    (cs_enable_looking false)
    (cs_enable_targeting true)
    (cs_vehicle_speed 0.6)
    (cs_fly_to "ps_2a_mickey_phantom_01/p0")
    (sleep_until (>= g_2a_obj_control 10) 1)
    (cs_fly_to_and_face "ps_2a_mickey_phantom_01/p1" "ps_2a_mickey_phantom_01/p2")
    (cs_fly_to_and_face "ps_2a_mickey_phantom_01/p2" "ps_2a_mickey_phantom_01/p3")
    (cs_fly_to_and_face "ps_2a_mickey_phantom_01/p3" "ps_2a_mickey_phantom_01/p4")
    (sleep_until (or (= (ai_living_count "sq_2a_ghost_01") 0) (>= g_2a_obj_control 20)) 1)
    (cs_fly_to_and_face "ps_2a_mickey_phantom_01/p4" "ps_2a_mickey_phantom_01/p5")
    (cs_fly_to_and_face "ps_2a_mickey_phantom_01/p5" "ps_2a_mickey_phantom_01/p6")
    (cs_enable_looking true)
    (if (= (random_range 0 2) 1)
        (begin
            (cs_fly_to_and_face "ps_2a_mickey_phantom_01/p6" "ps_2a_mickey_phantom_01/p7")
            (cs_fly_to "ps_2a_mickey_phantom_01/p7")
            (sleep_until (or (= (ai_living_count "sq_2a_recharge_02") 0) (>= g_2a_obj_control 80)))
            (cs_fly_to_and_face "ps_2a_mickey_phantom_01/p8" "ps_2a_mickey_phantom_01/p9")
            (cs_fly_to "ps_2a_mickey_phantom_01/p9")
            (sleep_until (or (= (ai_living_count "sq_2a_anti_wraith_02") 0) (>= g_2a_obj_control 80)) 1)
            (cs_fly_to_and_face "ps_2a_mickey_phantom_01/p10" "ps_2a_mickey_phantom_01/p11")
            (sleep_until (or (= (ai_living_count "sq_2a_recharge_04") 0) (>= g_2a_obj_control 90)))
            (cs_fly_to "ps_2a_mickey_phantom_01/p11")
            (sleep_until (or (= (ai_living_count "sq_2a_anti_wraith_02") 0) (>= g_2a_obj_control 90)))
            (cs_fly_to "ps_2a_mickey_phantom_01/p12")
        )
        (begin
            (cs_fly_to "ps_2a_mickey_phantom_01/p15")
            (cs_fly_to "ps_2a_mickey_phantom_01/p16")
            (sleep_until (or (= (ai_living_count "sq_2a_anti_wraith_03") 0) (>= g_2a_obj_control 80)))
            (cs_fly_to_and_face "ps_2a_mickey_phantom_01/p17" "ps_2a_mickey_phantom_01/p18")
            (cs_fly_to "ps_2a_mickey_phantom_01/p18")
            (cs_fly_to "ps_2a_mickey_phantom_01/p19")
            (sleep_until (or (= (ai_living_count "sq_2a_anti_wraith_02") 0) (>= g_2a_obj_control 80)) 1)
            (cs_fly_to_and_face "ps_2a_mickey_phantom_01/p20" "ps_2a_mickey_phantom_01/p11")
            (sleep_until (or (= (ai_living_count "sq_2a_recharge_04") 0) (>= g_2a_obj_control 90)))
            (cs_fly_to "ps_2a_mickey_phantom_01/p11")
            (sleep_until (or (= (ai_living_count "sq_2a_anti_wraith_02") 0) (>= g_2a_obj_control 90)))
            (cs_fly_to "ps_2a_mickey_phantom_01/p12")
        )
    )
    (sleep_until (>= g_2a_obj_control 90) 1)
    (cs_fly_to_and_face "ps_2a_mickey_phantom_01/p21" "ps_2a_mickey_phantom_01/p22")
    (sleep_until (or (>= g_2b_obj_control 10) (<= (ai_living_count "gr_2a_grunts_01") 2)) 1)
    (cs_fly_to_and_face "ps_2a_mickey_phantom_01/p13" "ps_2a_mickey_phantom_01/p14")
    (cs_fly_to "ps_2a_mickey_phantom_01/p14")
    (sleep 60)
    (vehicle_hover "gr_friendly_phantom" true)
)

(script command_script void cs_2a_phantom_wraith_01
    (set v_2a_phantom_wraith_01 (ai_vehicle_get_from_starting_location "sq_2a_phantom_wraith_01/pilot"))
    (f_load_phantom_cargo v_2a_phantom_wraith_01 "single" "sq_2a_anti_wraith_02" none)
    (cs_vehicle_speed 1)
    (cs_fly_to "ps_2a_phantom_wraith_01/p0")
    (cs_fly_to "ps_2a_phantom_wraith_01/p1")
    (cs_fly_to "ps_2a_phantom_wraith_01/p2")
    (cs_fly_to "ps_2a_phantom_wraith_01/p5")
    (cs_vehicle_speed 0.5)
    (sleep 90)
    (cs_fly_to "ps_2a_phantom_wraith_01/p7")
    (cs_fly_to_and_face "ps_2a_phantom_wraith_01/p8" "ps_2a_phantom_wraith_01/p9" 0.5)
    (sleep 30)
    (f_unload_phantom_cargo v_2a_phantom_wraith_01 "single")
    (sleep 85)
    (cs_vehicle_speed 1)
    (cs_fly_to "ps_2a_phantom_wraith_01/p9")
    (cs_fly_to "ps_2a_phantom_wraith_01/p10")
    (cs_fly_to "ps_2a_phantom_wraith_01/p11")
    (cs_fly_to "ps_2a_phantom_wraith_01/p12")
    (cs_fly_to "ps_2a_phantom_wraith_01/p13")
    (ai_erase "sq_2a_phantom_wraith_01")
)

(script command_script void cs_2a_phantom_01
    (cs_enable_pathfinding_failsafe true)
    (vehicle_hover "sq_2a_phantom_01" true)
    (cs_vehicle_speed 1)
    (sleep_until (or (>= g_2a_obj_control 10) (= (ai_living_count "sq_2a_recharge_02") 0)))
    (sleep (random_range 30 90))
    (vehicle_hover "sq_2a_phantom_01" false)
    (cs_fly_to "ps_2a_phantom_01/p0")
    (cs_fly_to "ps_2a_phantom_01/p1")
    (cs_fly_to "ps_2a_phantom_01/p2")
    (cs_fly_to "ps_2a_phantom_01/p3")
    (ai_erase "sq_2a_phantom_01")
)

(script command_script void cs_2a_phantom_02
    (cs_enable_pathfinding_failsafe true)
    (vehicle_hover "sq_2a_phantom_02" true)
    (cs_vehicle_speed 1)
    (sleep_until (or (>= g_2a_obj_control 20) (= (ai_living_count "sq_2a_recharge_03") 0)))
    (sleep (random_range 30 90))
    (vehicle_hover "sq_2a_phantom_02" false)
    (cs_fly_to "ps_2a_phantom_02/p0")
    (cs_fly_to "ps_2a_phantom_02/p1")
    (cs_fly_to "ps_2a_phantom_02/p2")
    (cs_fly_to "ps_2a_phantom_02/p3")
    (ai_erase "sq_2a_phantom_02")
)

(script command_script void cs_2a_phantom_03
    (cs_enable_pathfinding_failsafe true)
    (vehicle_hover "sq_2a_phantom_03" true)
    (cs_vehicle_speed 1)
    (sleep_until (or (>= g_2a_obj_control 20) (= (ai_living_count "sq_2a_recharge_04") 0)))
    (sleep (random_range 30 90))
    (vehicle_hover "sq_2a_phantom_03" false)
    (cs_fly_to "ps_2a_phantom_03/p0")
    (cs_fly_to "ps_2a_phantom_03/p1")
    (cs_fly_to "ps_2a_phantom_03/p2")
    (cs_fly_to "ps_2a_phantom_03/p3")
    (ai_erase "sq_2a_phantom_03")
)

(script command_script void cs_2a_phantom_04
    (cs_enable_pathfinding_failsafe true)
    (vehicle_hover "sq_2a_phantom_04" true)
    (cs_vehicle_speed 1)
    (sleep_until (or (> g_2a_obj_control 0) (= (ai_living_count "sq_2a_recharge_01") 0)))
    (sleep (random_range 15 60))
    (vehicle_hover "sq_2a_phantom_04" false)
    (cs_fly_to "ps_2a_phantom_04/p0")
    (cs_fly_to "ps_2a_phantom_04/p1")
    (cs_fly_to "ps_2a_phantom_04/p2")
    (cs_fly_to "ps_2a_phantom_04/p3")
    (ai_erase "sq_2a_phantom_04")
)

(script dormant void sc_hu_civ_mar
    (if (difficulty_legendary)
        (sleep_until 
            (begin
                (sleep_until (volume_test_players "tv_hu_civ_mar"))
                (sleep 60)
                (if (volume_test_players "tv_hu_civ_mar")
                    (object_create_anew "hu_civ_mar")
                )
                false
            )
        )
    )
)

(script dormant void enc_basin_2b
    (data_mine_set_mission_segment "sc150_basin_2b")
    (wake s_sc150_music10)
    (wake s_sc150_music10_alt)
    (wake sc_2b_command_control)
    (ai_place "sq_2b_cov_01")
    (ai_place "sq_2b_cov_02")
    (ai_place "sq_2b_cov_03")
    (sleep 1)
    (ai_place "sq_2b_chieftain_01")
    (ai_place "sq_2b_stealth_01")
    (wake basin_2b_tower_turrets)
    (wake md_030_another_scarab)
    (wake md_030_scarab_hints)
    (wake md_030_get_out_of_here)
    (wake md_030_open_exit_door)
    (wake sc_2b_scarab_spawn_01)
    (set s_waypoint_index 5)
    (if debug
        (print "turning on respawning...")
    )
    (game_safe_to_respawn true)
    (game_save)
    (sleep_until (volume_test_players "tv_2b_01") 1)
    (set g_2b_obj_control 10)
    (print "g_2b_obj_control set to 10")
    (ai_place "sq_2b_recharge_02")
    (ai_place "sq_2b_recharge_03")
    (ai_place "sq_2b_recharge_04")
    (sleep 1)
    (ai_place "sq_2b_recharge_05")
    (ai_place "sq_2b_engineer_02")
    (ai_dont_do_avoidance "sq_2b_engineer_02" true)
    (sleep 1)
    (ai_place "sq_2b_engineer_03")
    (ai_dont_do_avoidance "sq_2b_engineer_03" true)
    (ai_place "sq_2b_phantom_01")
    (ai_place "sq_2b_phantom_02")
    (sleep 1)
    (wake sc_2b_game_save_control_01)
    (game_save)
    (sleep_until (volume_test_players "tv_2b_02") 1)
    (set g_2b_obj_control 20)
    (print "g_2b_obj_control set to 20")
    (ai_place "sq_2b_banshee_02")
    (sleep 1)
    (wake sc_2b_follow_check)
    (sleep 1)
    (game_save)
    (sleep_until (volume_test_players "tv_2b_03") 1)
    (set g_2b_obj_control 30)
    (print "g_2b_obj_control set to 30")
    (game_save)
    (sleep_until (volume_test_players "tv_2b_04") 1)
    (set g_2b_obj_control 40)
    (print "g_2b_obj_control set to 40")
    (if debug
        (print "turning off respawning...")
    )
    (game_safe_to_respawn false)
    (game_save)
    (sleep_until (volume_test_players "tv_2b_05") 1)
    (set g_2b_obj_control 50)
    (print "g_2b_obj_control set to 50")
    (sleep_until (volume_test_players "tv_2b_06") 1)
    (set g_2b_obj_control 60)
    (print "g_2b_obj_control set to 60")
    (ai_place "sq_2b_recharge_06")
    (ai_place "sq_2b_recharge_07")
    (sleep 1)
    (ai_place "sq_2b_recharge_08")
    (ai_place "sq_2b_recharge_09")
    (ai_place "sq_2b_recharge_10")
    (sleep 1)
    (ai_place "sq_2b_recharge_11")
    (ai_place "sq_2b_recharge_12")
    (ai_place "sq_2b_recharge_13")
    (sleep 1)
    (ai_place "sq_2b_recharge_14")
    (ai_place "sq_2b_phantom_03")
    (sleep_until (volume_test_players "tv_2b_07") 1)
    (set g_2b_obj_control 70)
    (print "g_2b_obj_control set to 70")
    (ai_place "sq_2b_banshee_01")
    (sleep_until (volume_test_players "tv_2b_08") 1)
    (set g_2b_obj_control 80)
    (print "g_2b_obj_control set to 80")
    (ai_place "sq_2b_phantom_04")
    (wake sc_2b_mickey_shimmy_stop)
    (set g_sc150_music07 false)
    (sleep 1)
    (set g_sc150_music08 false)
    (sleep 1)
    (set g_sc150_music09 false)
    (sleep_until (volume_test_players "tv_2b_09") 1)
    (set g_2b_obj_control 90)
    (print "g_2b_obj_control set to 90")
    (wake leaving_sc150)
    (game_save)
    (sleep_until (volume_test_players "tv_2b_10") 1)
    (set g_2b_obj_control 100)
    (print "g_2b_obj_control set to 100")
    (game_save)
    (sleep_until (volume_test_players "tv_2b_11") 1)
    (set g_2b_obj_control 110)
    (print "g_2b_obj_control set to 110")
    (game_save)
    (sleep_until (volume_test_players "tv_2b_12") 1)
    (set g_2b_obj_control 120)
    (print "g_2b_obj_control set to 120")
    (if debug
        (print "turning on respawning...")
    )
    (game_safe_to_respawn true)
    (wake obj_destroy_scarab_clear)
    (wake obj_escape_tunnel_set)
    (sleep 1)
    (set s_waypoint_index 7)
    (game_save)
)

(script dormant void sc_2b_follow_check
    (if (<= (ai_living_count "gr_2b_cov_all") 3)
        (begin
            (sleep 1)
            (ai_disposable "gr_2b_cov_01" true)
            (ai_disposable "gr_2b_cov_02" true)
            (sleep 1)
            (ai_place "sq_2b_cov_04")
            (ai_place "sq_2b_cov_05")
            (ai_place "sq_2b_cov_06")
        )
        (begin
            (sleep 10)
            (set g_2b_final_follow true)
        )
    )
)

(script dormant void sc_2b_command_control
    (sleep_until (and (>= g_2b_obj_control 10) (volume_test_object "tv_cs_enter_2b" (ai_get_object "gr_friendly_phantom"))) 1)
    (cs_run_command_script "gr_friendly_phantom" cs_2b_mickey_phantom_01)
)

(script dormant void sc_2b_game_save_control_01
    (sleep_until (>= (device_get_position "dm_2a_large_door_02") 0.1) 1)
    (set s_waypoint_index 6)
    (game_save)
    (sleep_until (unit_in_vehicle (player0)) 5)
    (game_save)
)

(script dormant void sc_2b_scarab_spawn_01
    (sleep_until (and (>= g_2b_obj_control 10) (>= (device_get_position "dm_2a_large_door_02") 0.1)) 1)
    (ai_place "sq_2b_scarab_01")
    (sleep 1)
    (ai_place "sq_2b_scarab_riders")
)

(script command_script void cs_2b_mickey_phantom_01
    (cs_enable_pathfinding_failsafe true)
    (cs_enable_looking false)
    (cs_enable_targeting true)
    (cs_vehicle_speed 0.6)
    (cs_fly_to "ps_2b_mickey_phantom_01/p0")
    (sleep_until (>= (device_get_position "dm_2a_large_door_01") 0.5) 10)
    (sleep 10)
    (vehicle_hover "gr_friendly_phantom" false)
    (sleep 5)
    (vehicle_hover "gr_friendly_phantom" false)
    (sleep 5)
    (vehicle_hover "gr_friendly_phantom" false)
    (sleep 5)
    (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p1" "ps_2b_mickey_phantom_01/p2")
    (sleep_until (>= g_2b_obj_control 10) 1)
    (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p2" "ps_2b_mickey_phantom_01/p3")
    (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p3" "ps_2b_mickey_phantom_01/p4")
    (sleep_until (>= g_2b_obj_control 20) 1)
    (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p4" "ps_2b_mickey_phantom_01/p5")
    (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p5" "ps_2b_mickey_phantom_01/p6")
    (cs_enable_looking true)
    (cs_vehicle_speed 1)
    (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p6" "ps_2b_mickey_phantom_01/p7")
    (cs_fly_to "ps_2b_mickey_phantom_01/p7")
    (cs_fly_to "ps_2b_mickey_phantom_01/p8")
    (sleep_until (>= g_2b_obj_control 80))
    (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p9" "ps_2b_mickey_phantom_01/p10")
    (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p10" "ps_2b_mickey_phantom_01/p11")
    (sleep_until 
        (begin
            (if (= g_mickey_leave true)
                (begin
                    (if debug
                        (print "let's get out of here...")
                    )
                    (sleep 1)
                    (cs_run_command_script "gr_friendly_phantom" cs_2b_mickey_phantom_02)
                )
                (begin
                    (if (= (random_range 0 2) 1)
                        (begin
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p22" "ps_2b_mickey_phantom_01/p24")
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p16" "ps_2b_mickey_phantom_01/p24")
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p27" "ps_2b_mickey_phantom_01/p24")
                            (sleep (random_range 15 60))
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p19" "ps_2b_mickey_phantom_01/p24")
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p18" "ps_2b_mickey_phantom_01/p24")
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p26" "ps_2b_mickey_phantom_01/p24")
                            (sleep (random_range 15 60))
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p17" "ps_2b_mickey_phantom_01/p24")
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p16" "ps_2b_mickey_phantom_01/p24")
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p28" "ps_2b_mickey_phantom_01/p24")
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p23" "ps_2b_mickey_phantom_01/p24")
                            (sleep (random_range 15 60))
                        )
                        (begin
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p28" "ps_2b_mickey_phantom_01/p24")
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p16" "ps_2b_mickey_phantom_01/p24")
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p17" "ps_2b_mickey_phantom_01/p24")
                            (sleep (random_range 15 60))
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p26" "ps_2b_mickey_phantom_01/p24")
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p18" "ps_2b_mickey_phantom_01/p24")
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p19" "ps_2b_mickey_phantom_01/p24")
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p27" "ps_2b_mickey_phantom_01/p24")
                            (sleep (random_range 15 60))
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p16" "ps_2b_mickey_phantom_01/p24")
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p22" "ps_2b_mickey_phantom_01/p24")
                            (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p23" "ps_2b_mickey_phantom_01/p24")
                            (sleep (random_range 15 60))
                        )
                    )
                )
            )
            false
        )
        60
    )
)

(script command_script void cs_2b_mickey_phantom_02
    (cs_enable_pathfinding_failsafe true)
    (cs_enable_looking true)
    (cs_enable_targeting true)
    (cs_vehicle_speed 0.6)
    (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p11" "ps_2b_mickey_phantom_01/p12")
    (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p12" "ps_2b_mickey_phantom_01/p13")
    (sleep 60)
    (vehicle_hover "gr_friendly_phantom" true)
    (sleep_until (>= (device_get_position "dm_2b_large_door_02") 1) 5)
    (vehicle_hover "gr_friendly_phantom" false)
    (cs_vehicle_speed 0.6)
    (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p13" "ps_2b_mickey_phantom_01/p25")
    (sleep 60)
    (vehicle_hover "gr_friendly_phantom" true)
    (sleep_until (= g_dutch_fires true))
    (vehicle_hover "gr_friendly_phantom" false)
    (sleep 10)
    (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p14" "ps_2b_mickey_phantom_01/p15")
    (sleep 10)
    (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p15" "ps_2b_mickey_phantom_01/p20")
    (cs_fly_to_and_face "ps_2b_mickey_phantom_01/p20" "ps_2b_mickey_phantom_01/p29")
)

(script dormant void sc_2b_mickey_shimmy_stop
    (sleep_until (or (= (ai_living_count "sq_2b_scarab_01") 0) (>= (device_get_position "dm_2b_large_door_02") 0.5)))
    (sleep 1)
    (set g_mickey_leave true)
)

(script command_script void cs_2b_phantom_01
    (cs_enable_pathfinding_failsafe true)
    (vehicle_hover "sq_2b_phantom_01" true)
    (cs_vehicle_speed 1)
    (sleep_until (or (>= g_2b_obj_control 20) (= (ai_living_count "sq_2b_recharge_02") 0)))
    (sleep (random_range 15 60))
    (vehicle_hover "sq_2b_phantom_01" false)
    (cs_fly_to "ps_2b_phantom_01/p0")
    (cs_fly_to "ps_2b_phantom_01/p1")
    (cs_fly_to "ps_2b_phantom_01/p2")
    (cs_fly_to "ps_2b_phantom_01/p3")
    (ai_erase "sq_2b_phantom_01")
)

(script command_script void cs_2b_phantom_02
    (cs_enable_pathfinding_failsafe true)
    (vehicle_hover "sq_2b_phantom_02" true)
    (cs_vehicle_speed 1)
    (sleep_until (or (>= g_2b_obj_control 20) (= (ai_living_count "sq_2b_recharge_05") 0)))
    (sleep (random_range 30 90))
    (vehicle_hover "sq_2b_phantom_02" false)
    (cs_fly_to "ps_2b_phantom_02/p0")
    (cs_fly_to "ps_2b_phantom_02/p1")
    (cs_fly_to "ps_2b_phantom_02/p2")
    (cs_fly_to "ps_2b_phantom_02/p3")
    (ai_erase "sq_2b_phantom_02")
)

(script command_script void cs_2b_phantom_03
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 1)
    (cs_fly_to "ps_2b_phantom_03/p0")
    (cs_fly_to "ps_2b_phantom_03/p1")
    (cs_fly_to "ps_2b_phantom_03/p2")
    (cs_fly_to "ps_2b_phantom_03/p3")
    (ai_erase "sq_2b_phantom_03")
)

(script command_script void cs_2b_phantom_04
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 1)
    (cs_fly_to "ps_2b_phantom_04/p0")
    (cs_fly_to "ps_2b_phantom_04/p1")
    (cs_fly_to "ps_2b_phantom_04/p2")
    (cs_fly_to "ps_2b_phantom_04/p3")
    (ai_erase "sq_2b_phantom_04")
)

(script command_script void cs_stay_in_turret
    (cs_shoot true)
    (cs_enable_targeting true)
    (cs_enable_looking true)
    (cs_abort_on_damage true)
    (cs_abort_on_alert false)
    (sleep_forever)
)

(script dormant void basin_2b_tower_turrets
    (ai_place "sq_2b_grunts_01")
    (sleep 5)
    (ai_vehicle_enter_immediate "sq_2b_grunts_01/grunt_1" (object_get_turret "cr_2b_watchtower_top_01" 0))
    (cs_run_command_script "sq_2b_grunts_01/grunt_1" cs_stay_in_turret)
    (ai_vehicle_enter_immediate "sq_2b_grunts_01/grunt_2" (object_get_turret "cr_2b_watchtower_top_01" 1))
    (cs_run_command_script "sq_2b_grunts_01/grunt_2" cs_stay_in_turret)
    (ai_vehicle_enter_immediate "sq_2b_grunts_01/grunt_3" (object_get_turret "cr_2b_watchtower_top_01" 2))
    (cs_run_command_script "sq_2b_grunts_01/grunt_3" cs_stay_in_turret)
)

(script command_script void cs_2b_scarab_shoot
    (cs_abort_on_damage true)
    (cs_enable_pathfinding_failsafe true)
    (begin
        (sleep (random_range 180 300))
        (cs_shoot_point true "ps_2b_scarab_shoot/p0")
        (sleep 100)
    )
    (sleep_forever)
)

(script dormant void leaving_sc150
    (sleep_until (or (= (ai_living_count "sq_2b_recharge_06") 0) (= (ai_living_count "sq_2b_recharge_07") 0) (= (ai_living_count "sq_2b_recharge_08") 0) (= (ai_living_count "sq_2b_recharge_09") 0) (= (ai_living_count "sq_2b_recharge_10") 0) (= (ai_living_count "sq_2b_recharge_11") 0) (= (ai_living_count "sq_2b_recharge_12") 0) (= (ai_living_count "sq_2b_recharge_13") 0) (= (ai_living_count "sq_2b_recharge_14") 0)) 1)
    (wake sc_2b_fireworks)
    (sleep 1)
    (sleep_forever md_010_new_banshee_prompts)
    (sleep_forever md_030_scarab_hints)
    (sleep_forever md_030_open_exit_door)
    (sleep_forever md_030_get_out_of_here)
    (sleep 90)
    (sleep_until (> (player_count) 0) 1)
    (sleep_forever obj_escape_tunnel_set)
    (ai_erase "sq_2b_phantom_03")
    (ai_erase "sq_2b_phantom_04")
    (sound_impulse_start "sound\cinematics\atlas\sc150\foley\sc150out_glue_cine_start" none 1)
    (f_end_scene sc150_out_sc "set_basin_2b" "gp_sc150_complete" "h100" "white")
    (sound_class_set_gain "" 0 0)
)

(script dormant void sc_2b_fireworks
    (sleep 30)
    (ai_kill "sq_2b_recharge_08")
    (sleep (random_range 5 15))
    (ai_kill "sq_2b_recharge_09")
    (sleep (random_range 5 15))
    (ai_kill "sq_2b_recharge_06")
    (sleep (random_range 5 15))
    (ai_kill "sq_2b_recharge_07")
    (sleep (random_range 5 15))
    (ai_kill "sq_2b_recharge_10")
    (sleep (random_range 5 15))
    (ai_kill "sq_2b_recharge_11")
    (sleep (random_range 5 15))
    (ai_kill "sq_2b_recharge_12")
    (sleep (random_range 5 15))
    (ai_kill "sq_2b_recharge_13")
    (sleep (random_range 5 15))
    (ai_kill "sq_2b_recharge_14")
)

(script dormant void obj_capture_phantom_set
    (sleep 300)
    (if debug
        (print "new objective set:")
    )
    (if debug
        (print "capture phantom drop-ship.")
    )
    (f_new_intel "obj_new" "obj_1" 0 "training01_navpoint")
)

(script dormant void obj_capture_phantom_clear
    (sleep 30)
    (if debug
        (print "objective complete:")
    )
    (if debug
        (print "capture phantom drop-ship.")
    )
    (objectives_finish_up_to 0)
)

(script dormant void obj_escort_phantom_set
    (sleep 300)
    (if debug
        (print "new objective set:")
    )
    (if debug
        (print "escort phantom in a banshee.")
    )
    (f_new_intel "obj_new" "obj_2" 1 "training01_navpoint")
)

(script dormant void obj_escort_phantom_clear
    (sleep 30)
    (if debug
        (print "objective complete:")
    )
    (if debug
        (print "escort phantom in a banshee.")
    )
    (objectives_finish_up_to 1)
)

(script dormant void obj_open_doors_set
    (sleep 300)
    (if debug
        (print "new objective set:")
    )
    (if debug
        (print "open all blocking doors.")
    )
    (f_new_intel "obj_new" "obj_3" 2 "training01_navpoint")
)

(script dormant void obj_open_doors_clear
    (sleep 30)
    (if debug
        (print "objective complete:")
    )
    (if debug
        (print "open all blocking doors.")
    )
    (objectives_finish_up_to 2)
)

(script dormant void obj_destroy_scarab_set
    (sleep 60)
    (if debug
        (print "new objective set:")
    )
    (if debug
        (print "evade or destroy scarab.")
    )
    (f_new_intel "obj_new" "obj_4" 3 "training01_navpoint")
)

(script dormant void obj_destroy_scarab_clear
    (sleep 30)
    (if debug
        (print "objective complete:")
    )
    (if debug
        (print "evade or destroy scarab.")
    )
    (objectives_finish_up_to 3)
)

(script dormant void obj_escape_tunnel_set
    (sleep 30)
    (if debug
        (print "new objective set:")
    )
    (if debug
        (print "escape through final tunnel.")
    )
    (f_new_intel "obj_new" "obj_5" 4 "training01_navpoint")
)

(script dormant void obj_escape_tunnel_clear
    (sleep 30)
    (if debug
        (print "objective complete:")
    )
    (if debug
        (print "escape through final tunnel.")
    )
    (objectives_finish_up_to 4)
)

(script dormant void player0_sc150_waypoints
    (f_sc150_waypoints player_00)
)

(script dormant void player1_sc150_waypoints
    (f_sc150_waypoints player_01)
)

(script dormant void player2_sc150_waypoints
    (f_sc150_waypoints player_02)
)

(script dormant void player3_sc150_waypoints
    (f_sc150_waypoints player_03)
)

(script static void (f_sc150_waypoints (short player_name))
    (sleep_until 
        (begin
            (f_sleep_until_activate_waypoint player_name)
            (if (= s_waypoint_index 1)
                (f_waypoint_activate_1 player_name "training01_navpoint")
                (if (= s_waypoint_index 2)
                    (f_waypoint_activate_1 player_name "training02_navpoint")
                    (if (= s_waypoint_index 3)
                        (f_waypoint_activate_1 player_name "training03_navpoint")
                        (if (= s_waypoint_index 4)
                            (f_waypoint_activate_1 player_name "training04_navpoint")
                            (if (= s_waypoint_index 5)
                                (f_waypoint_activate_1 player_name "training05_navpoint")
                                (if (= s_waypoint_index 6)
                                    (f_waypoint_activate_1 player_name "training06_navpoint")
                                    (if (= s_waypoint_index 7)
                                        (f_waypoint_activate_1 player_name "training07_navpoint")
                                    )
                                )
                            )
                        )
                    )
                )
            )
            false
        )
        1
    )
)

(script dormant void sc_sc150_respawn_control
    (sleep_until (volume_test_players "tv_unsafe_respawn_1a") 1)
    (if debug
        (print "turning off respawning...")
    )
    (game_safe_to_respawn false)
    (sleep_until (volume_test_players "tv_safe_respawn_1b") 1)
    (if debug
        (print "turning on respawning...")
    )
    (game_safe_to_respawn true)
    (sleep_until (volume_test_players "tv_unsafe_respawn_1b") 1)
    (if debug
        (print "turning off respawning...")
    )
    (game_safe_to_respawn false)
    (sleep_until (volume_test_players "tv_safe_respawn_2a") 1)
    (if debug
        (print "turning on respawning...")
    )
    (game_safe_to_respawn true)
    (sleep_until (volume_test_players "tv_unsafe_respawn_2a") 1)
    (if debug
        (print "turning off respawning...")
    )
    (game_safe_to_respawn false)
    (sleep_until (volume_test_players "tv_safe_respawn_2b") 1)
    (print "turning on respawning...")
    (game_safe_to_respawn true)
    (sleep_until (volume_test_players "tv_unsafe_respawn_2b") 1)
    (print "turning off respawning...")
    (game_safe_to_respawn false)
    (sleep_until (volume_test_players "tv_safe_respawn_end") 1)
    (print "turning on respawning...")
    (game_safe_to_respawn true)
)

(script dormant void gs_recycle_volumes
    (sleep_until (> g_1b_obj_control 0))
    (add_recycling_volume "tv_rec_1a" 10 10)
    (sleep_until (> g_2a_obj_control 0))
    (add_recycling_volume "tv_rec_1a" 0 10)
    (add_recycling_volume "tv_rec_1b" 10 10)
    (sleep_until (> g_2b_obj_control 0))
    (add_recycling_volume "tv_rec_1b" 0 10)
    (add_recycling_volume "tv_rec_2a" 10 10)
)

(script dormant void sc_sc150_pda_check
    (sleep_until (= (current_zone_set) 1))
    (print "moving out pda...")
    (pda_set_active_pda_definition "sc150_000_010")
    (sleep_until (= (current_zone_set) 3))
    (print "moving out pda...")
    (pda_set_active_pda_definition "sc150_010_020")
    (sleep_until (= (current_zone_set) 4))
    (print "moving out pda...")
    (pda_set_active_pda_definition "sc150_020_030")
)

(script dormant void sc_scarab_check
    (sleep_until (= (current_zone_set) 4))
    (sleep 1)
    (if debug
        (print "closing up the door behind the players...")
    )
    (device_set_power "dm_1b_large_door_02" 1)
    (sleep 1)
    (device_set_position_immediate "dm_1b_large_door_02" 0)
    (sleep 1)
    (device_set_power "dm_1b_large_door_02" 0)
)

(script dormant void sc_sc150_coop_resume
    (sleep_until (>= g_1b_obj_control 10) 1)
    (if (< g_1b_obj_control 60)
        (begin
            (if debug
                (print "coop resume checkpoint 1")
            )
            (f_coop_resume_unlocked "coop_resume" 1)
        )
    )
    (sleep_until (>= g_2a_obj_control 10) 1)
    (if (< g_2a_obj_control 60)
        (begin
            (if debug
                (print "coop resume checkpoint 2")
            )
            (f_coop_resume_unlocked "coop_resume" 2)
        )
    )
    (sleep_until (>= g_2b_obj_control 10) 1)
    (if (< g_2b_obj_control 60)
        (begin
            (if debug
                (print "coop resume checkpoint 3")
            )
            (f_coop_resume_unlocked "coop_resume" 3)
        )
    )
)

(script startup void sc150_dialog_stub
    (if debug
        (print "sc150 dialog script")
    )
)

(script dormant void md_010_buck_points_at_phantom
    (sleep 60)
    (if debug
        (print "mission dialogue:010:buck:points:at:phantom")
    )
    (ai_player_dialogue_enable false)
    (ai_dialogue_enable false)
    (vs_cast "gr_mickey_01" true 10 "sc150_0020")
    (set ai_mickey (vs_role 1))
    (vs_enable_pathfinding_failsafe "gr_mickey_01" true)
    (vs_enable_looking "gr_mickey_01" true)
    (vs_enable_targeting "gr_mickey_01" true)
    (vs_enable_moving "gr_mickey_01" true)
    (sleep 1)
    (if dialogue
        (print "mickey: gunny, i can fly a pelican, but a phantomï¿½ it's been years since i even ran a simulation!")
    )
    (sleep (ai_play_line ai_mickey sc150_0020))
    (sleep 10)
    (if dialogue
        (print "buck: well let's see what you remember, trooper! move!")
    )
    (sound_impulse_start "sound\dialog\atlas\sc150\mission\sc150_0030_buc" none 1)
    (sleep (sound_impulse_language_time "sound\dialog\atlas\sc150\mission\sc150_0030_buc"))
    (sleep 1)
    (set g_sc150_music01 true)
    (vs_release_all)
    (set g_buck_first_line true)
    (ai_player_dialogue_enable true)
    (ai_dialogue_enable true)
)

(script dormant void md_010_romeo_dutch_prompts
    (sleep_until (and (volume_test_players "tv_md_010_romeo_dutch_prompts") (= g_buck_first_line true) (= g_mickey_in_phantom false) (<= g_1a_obj_control 10) (= g_talking_active false)))
    (set g_talking_active true)
    (sleep 15)
    (if debug
        (print "mission dialogue:010:romeo:dutch:prompts")
    )
    (vs_cast "gr_romeo_01" true 10 "sc150_0040")
    (set ai_romeo (vs_role 1))
    (vs_cast "gr_dutch_01" true 10 "sc150_0050")
    (set ai_dutch (vs_role 1))
    (vs_enable_pathfinding_failsafe "gr_romeo_01" true)
    (vs_enable_looking "gr_romeo_01" true)
    (vs_enable_targeting "gr_romeo_01" true)
    (vs_enable_moving "gr_romeo_01" true)
    (vs_enable_pathfinding_failsafe "gr_dutch_01" true)
    (vs_enable_looking "gr_dutch_01" true)
    (vs_enable_targeting "gr_dutch_01" true)
    (vs_enable_moving "gr_dutch_01" true)
    (sleep 1)
    (ai_dialogue_enable false)
    (if dialogue
        (print "romeo: sure, what's the hurry, right? i'll just sit hereï¿½ bleeding through my foamï¿½")
    )
    (sleep (ai_play_line ai_romeo sc150_0040))
    (sleep 10)
    (if dialogue
        (print "dutch: better get going, gunny. sooner we get him out of here the better!")
    )
    (sleep (ai_play_line ai_dutch sc150_0050))
    (sleep 10)
    (ai_dialogue_enable true)
    (set g_talking_active false)
    (vs_release_all)
)

(script dormant void md_010_mickey_engineer_intro
    (sleep_until (and (>= g_1a_obj_control 10) (volume_test_object "tv_md_010_mickey_engineer_intro" (ai_get_object "gr_mickey_01")) (>= (ai_living_count "sq_1a_engineer_01") 1) (= g_talking_active false)))
    (ai_player_dialogue_enable false)
    (ai_dialogue_enable false)
    (sleep 1)
    (set g_talking_active true)
    (if debug
        (print "mission dialogue:010:mickey:engineer:intro")
    )
    (vs_cast "gr_mickey_01" true 10 "sc150_0060")
    (set ai_mickey (vs_role 1))
    (vs_enable_pathfinding_failsafe "gr_mickey_01" true)
    (vs_enable_looking "gr_mickey_01" true)
    (vs_enable_targeting "gr_mickey_01" true)
    (vs_enable_moving "gr_mickey_01" true)
    (sleep 1)
    (if dialogue
        (print "mickey: gunny! more of those floating squids! should we smoke 'em?")
    )
    (sleep (ai_play_line ai_mickey sc150_0060))
    (sleep 10)
    (if dialogue
        (print "buck: theyï¿½re between us and that phantom. what do you think?")
    )
    (sound_impulse_start "sound\dialog\atlas\sc150\mission\sc150_0070_buc" none 1)
    (sleep (sound_impulse_language_time "sound\dialog\atlas\sc150\mission\sc150_0070_buc"))
    (vs_release_all)
    (ai_player_dialogue_enable true)
    (ai_dialogue_enable true)
    (set g_talking_active false)
)

(script dormant void md_010_mickey_enter_lift
    (sleep_until (or (and (>= g_1a_obj_control 20) (<= (ai_living_count "sq_1a_cov_01") 1) (= (ai_living_count "sq_1a_banshee_01") 0) (<= (ai_living_count "sq_1a_cov_02") 1) (<= (ai_living_count "sq_1a_grunt_03") 1) (= g_talking_active false)) (and (>= g_1a_obj_control 60) (= g_talking_active false))))
    (set g_talking_active true)
    (wake sc_1a_mickey_over_check)
    (wake sc_1a_mickey_nuclear)
    (set g_mickey_ready_to_enter true)
    (sleep 90)
    (ai_player_dialogue_enable false)
    (if debug
        (print "mission dialogue:010:mickey:enter:lift")
    )
    (vs_cast "gr_mickey_01" true 11 "sc150_0100")
    (set ai_mickey (vs_role 1))
    (vs_enable_pathfinding_failsafe "gr_mickey_01" true)
    (vs_enable_looking "gr_mickey_01" false)
    (vs_enable_targeting "gr_mickey_01" false)
    (vs_enable_moving "gr_mickey_01" true)
    (sleep 1)
    (if dialogue
        (print "buck: go, mickey! up the lift! kill the pilots!")
    )
    (sound_impulse_start "sound\dialog\atlas\sc150\mission\sc150_0090_buc" none 1)
    (sleep (sound_impulse_language_time "sound\dialog\atlas\sc150\mission\sc150_0090_buc"))
    (ai_player_dialogue_enable true)
    (ai_dialogue_enable false)
    (if dialogue
        (print "mickey: here goes nothing!")
    )
    (sleep (ai_play_line ai_mickey sc150_0100))
    (sleep 10)
    (set g_talking_active false)
    (set g_sc150_music02 true)
    (object_cannot_take_damage (ai_get_object "gr_mickey_01"))
    (sleep 1)
    (vs_go_to ai_mickey false "ps_1a_mickey_01/mickey_stand")
    (sleep 90)
    (vs_go_to ai_mickey true "ps_1a_mickey_01/mickey_stand" 0.1)
    (wake sc_1a_phantom_effects)
    (vs_walk ai_mickey true)
    (vs_face ai_mickey true "ps_1a_mickey_01/mickey_face")
    (sleep 60)
    (vs_go_to ai_mickey true "ps_1a_mickey_01/mickey_face" 0.1)
    (vs_face ai_mickey true "ps_1a_mickey_01/mickey_face_2")
    (sleep 10)
    (vs_custom_animation ai_mickey true "objects\characters\marine\marine" "combat:rifle:phantom_pc_enter" true)
    (vs_release ai_mickey)
    (ai_allegiance sentinel player)
    (ai_allegiance player sentinel)
    (ai_allegiance sentinel human)
    (ai_allegiance human sentinel)
    (ai_allegiance_remove sentinel prophet)
    (ai_allegiance_remove prophet sentinel)
    (chud_show_ai_navpoint "gr_mickey_01" "mickey" false 0.1)
    (ai_vehicle_enter_immediate ai_mickey (ai_vehicle_get_from_starting_location "sq_1a_mickey_phantom_01/pilot") 4)
    (vehicle_unload (ai_vehicle_get_from_starting_location "sq_1a_mickey_phantom_01/pilot") 4)
    (sleep 56)
    (ai_erase ai_mickey)
    (chud_show_object_navpoint (ai_get_object "sq_1a_mickey_phantom_01/pilot") "mickey" true 1.5)
    (ai_cannot_die "sq_1a_mickey_phantom_01" true)
    (ai_set_objective "sq_1a_mickey_phantom_01" "ai_basin_1a_sky")
    (set g_mickey_in_phantom true)
    (ai_erase ai_mickey)
    (ai_dialogue_enable true)
    (vs_release_all)
)

(script dormant void sc_1a_mickey_nuclear
    (sleep 1800)
    (if (= g_mickey_in_phantom true)
        (begin
            (if debug
                (print "don't do anything to help mickey...")
            )
            (sleep 1)
        )
        (begin
            (sleep 1)
            (if debug
                (print "let's give mickey a little push...")
            )
            (ai_allegiance sentinel player)
            (ai_allegiance player sentinel)
            (ai_allegiance sentinel human)
            (ai_allegiance human sentinel)
            (ai_allegiance_remove sentinel prophet)
            (ai_allegiance_remove prophet sentinel)
            (sleep 1)
            (chud_show_ai_navpoint "gr_mickey_01" "mickey" false 0.1)
            (ai_erase ai_mickey)
            (chud_show_object_navpoint (ai_get_object "sq_1a_mickey_phantom_01/pilot") "mickey" true 1.5)
            (ai_cannot_die "sq_1a_mickey_phantom_01" true)
            (ai_set_objective "sq_1a_mickey_phantom_01" "ai_basin_1a_sky")
            (set g_mickey_in_phantom true)
            (sleep 1)
            (ai_dialogue_enable true)
            (sleep 1)
            (set g_talking_active false)
        )
    )
)

(script dormant void sc_1a_mickey_over_check
    (sleep_until 
        (begin
            (sleep_until (not (volume_test_objects "tv_md_010_get_in_banshee_prompts" (ai_get_object "gr_mickey_01"))) 1)
            (begin_random
                (ai_teleport "gr_mickey_01" "ps_1a_mickey_teleport/p0")
                (ai_teleport "gr_mickey_01" "ps_1a_mickey_teleport/p1")
            )
            false
        )
        60
    )
)

(script dormant void sc_1a_phantom_effects
    (if debug
        (print "turning on the phantom effects for mickey...")
    )
    (object_set_function_variable (ai_vehicle_get_from_starting_location "sq_1a_mickey_phantom_01/pilot") "phantom_power" 1 5)
    (sleep_until (= g_mickey_in_phantom true))
    (if debug
        (print "turning off the phantom effects for mickey...")
    )
    (object_set_function_variable (ai_vehicle_get_from_starting_location "sq_1a_mickey_phantom_01/pilot") "phantom_power" 0 5)
    (sleep 30)
    (sleep_until (= g_phantom_in_place true))
    (if debug
        (print "turning on the phantom effects for romeo and dutch...")
    )
    (object_set_function_variable (ai_vehicle_get_from_starting_location "sq_1a_mickey_phantom_01/pilot") "phantom_power" 1 5)
    (sleep_until (= g_dutch_romeo_aboard true))
    (if debug
        (print "turning off the phantom effects for romeo and dutch...")
    )
    (object_set_function_variable (ai_vehicle_get_from_starting_location "sq_1a_mickey_phantom_01/pilot") "phantom_power" 0 5)
    (sleep 30)
    (object_clear_function_variable (ai_vehicle_get_from_starting_location "sq_1a_mickey_phantom_01/pilot") "phantom_power")
)

(script dormant void md_010_mickey_in_phantom
    (sleep_until (and (>= g_1a_obj_control 20) (= g_mickey_in_phantom true) (= g_talking_active false)))
    (mickey_killing_brute)
    (sleep 90)
    (if debug
        (print "mission dialogue:010:mickey:in:phantom")
    )
    (sleep_until (= g_talking_active false) 5)
    (ai_dialogue_enable false)
    (sleep 1)
    (ai_player_dialogue_enable false)
    (sleep 1)
    (set g_talking_active true)
    (sleep 1)
    (if dialogue
        (print "mickey (radio): cabin secure! ")
    )
    (sleep (ai_play_line_on_object none sc150_0110))
    (sleep 10)
    (if dialogue
        (print "mickey (radio): flight controls read green across the board. wellï¿½ purple. but she's good to go!... i think.")
    )
    (sleep (ai_play_line_on_object none sc150_0115))
    (set g_phantom_driver_dead true)
    (sleep 10)
    (if (not (unit_in_vehicle (player0)))
        (begin
            (if dialogue
                (print "buck (radio): ok, i'll grab a banshee, you go get dutch and romeo!")
            )
            (sound_impulse_start "sound\dialog\atlas\sc150\mission\sc150_0120_buc" none 1)
            (sleep (sound_impulse_language_time "sound\dialog\atlas\sc150\mission\sc150_0120_buc"))
        )
    )
    (ai_player_dialogue_enable true)
    (if dialogue
        (print "mickey (radio): on my way!")
    )
    (sleep (ai_play_line_on_object none sc150_0130))
    (sleep 10)
    (set g_sc150_music03 true)
    (wake obj_capture_phantom_clear)
    (wake obj_escort_phantom_set)
    (ai_dialogue_enable true)
    (sleep 1)
    (set g_talking_active false)
    (vs_release_all)
)

(script static void mickey_killing_brute
    (sleep 1)
    (sound_impulse_start "sound\weapons\smg\smg_recon" (ai_get_object "sq_1a_mickey_phantom_01") 1)
    (sleep (random_range 3 7))
    (sound_impulse_start "sound\weapons\smg\smg_recon" (ai_get_object "sq_1a_mickey_phantom_01") 1)
    (sleep (random_range 3 7))
    (sound_impulse_start "sound\weapons\smg\smg_recon" (ai_get_object "sq_1a_mickey_phantom_01") 1)
    (sleep (random_range 3 7))
    (sound_impulse_start "sound\weapons\smg\smg_recon" (ai_get_object "sq_1a_mickey_phantom_01") 1)
    (sleep (random_range 3 7))
    (sound_impulse_start "sound\weapons\smg\smg_recon" (ai_get_object "sq_1a_mickey_phantom_01") 1)
    (sleep (random_range 10 15))
    (sound_impulse_start "sound\dialog\combat\brute2\20_cry\dth" (ai_get_object "sq_1a_mickey_phantom_01") 1)
    (sleep (random_range 10 15))
    (sound_impulse_start "sound\weapons\smg\smg_recon" (ai_get_object "sq_1a_mickey_phantom_01") 1)
    (sleep (random_range 3 7))
    (sound_impulse_start "sound\weapons\smg\smg_recon" (ai_get_object "sq_1a_mickey_phantom_01") 1)
    (sleep (random_range 3 7))
    (sound_impulse_start "sound\weapons\smg\smg_recon" (ai_get_object "sq_1a_mickey_phantom_01") 1)
    (sleep (random_range 10 15))
    (sound_impulse_start "sound\dialog\combat\brute2\20_cry\dth" (ai_get_object "sq_1a_mickey_phantom_01") 1)
)

(script dormant void md_010_get_in_banshee_prompts
    (if (not (game_is_cooperative))
        (begin
            (sleep_until (and (>= g_1a_obj_control 30) (= g_phantom_driver_dead true) (volume_test_players "tv_md_010_get_in_banshee_prompts") (not (unit_in_vehicle (player0))) (= g_dutch_romeo_aboard true) (= g_talking_active false)))
            (sleep 1)
            (if debug
                (print "mission dialogue:010:get:in:banshee:prompts")
            )
            (sleep 1)
            (set g_talking_active true)
            (sleep 1)
            (ai_dialogue_enable false)
            (if dialogue
                (print "mickey (radio): gunny! i need a wing-man! find a banshee!")
            )
            (sleep (ai_play_line_on_object none sc150_0140))
            (sleep 1)
            (set g_talking_active false)
            (sleep 1)
            (ai_dialogue_enable true)
            (sleep 600)
            (sleep_until (and (volume_test_players "tv_md_010_get_in_banshee_prompts") (not (unit_in_vehicle (player0))) (= g_talking_active false)))
            (set g_talking_active true)
            (sleep 1)
            (ai_dialogue_enable false)
            (sleep 1)
            (if dialogue
                (print "mickey (radio): get in one of those banshees, gunny! i need an escort!")
            )
            (sleep (ai_play_line_on_object none sc150_0150))
            (sleep 10)
            (set g_talking_active false)
            (sleep 1)
            (ai_dialogue_enable true)
            (hud_activate_team_nav_point_flag player "training01_navpoint" 0.55)
            (wake sc_checking_banshee_nav)
            (vs_release_all)
            (set g_talking_active false)
        )
    )
    (set g_talking_active false)
)

(script dormant void sc_checking_banshee_nav
    (sleep_until (or (vehicle_test_seat "v_1a_banshee_01" none) (vehicle_test_seat "v_1a_banshee_02" none) (vehicle_test_seat "v_1a_banshee_03" none) (vehicle_test_seat "v_1a_banshee_04" none) (vehicle_test_seat (ai_vehicle_get_from_starting_location "sq_1a_banshee_01/pilot") none)))
    (hud_deactivate_team_nav_point_flag player "training01_navpoint")
)

(script dormant void md_010_everyone_in_phantom
    (sleep_until (and (>= g_1a_obj_control 30) (volume_test_object "tv_md_010_everyone_in_phantom" (ai_get_object "gr_friendly_phantom")) (= g_talking_active false)))
    (wake sc_1a_romeo_nuclear)
    (sleep 1)
    (set g_talking_active true)
    (if debug
        (print "mission dialogue:010:everyone:in:phantom")
    )
    (vs_reserve "gr_dutch_01" 0)
    (vs_reserve "gr_romeo_01" 0)
    (vs_go_to "gr_romeo_01" false "ps_1a_vignette/romeo_stand")
    (sleep 90)
    (vs_go_to "gr_romeo_01" true "ps_1a_vignette/romeo_stand" 0.1)
    (vs_walk "gr_romeo_01" true)
    (vs_face "gr_romeo_01" true "ps_1a_vignette/romeo_face")
    (sleep 60)
    (vs_go_to "gr_romeo_01" true "ps_1a_vignette/romeo_face" 0.1)
    (vs_go_to "gr_dutch_01" false "ps_1a_vignette/romeo_stand")
    (vs_face "gr_romeo_01" true "ps_1a_vignette/romeo_face_2")
    (sleep 10)
    (vs_custom_animation "gr_romeo_01" true "objects\characters\marine\marine" "combat:rifle:phantom_pc_enter" true)
    (vs_release "gr_romeo_01")
    (ai_vehicle_enter_immediate "gr_romeo_01" (ai_vehicle_get_from_starting_location "sq_1a_mickey_phantom_01/pilot") 14)
    (vehicle_unload (ai_vehicle_get_from_starting_location "sq_1a_mickey_phantom_01/pilot") 14)
    (sleep 49)
    (ai_vehicle_enter_immediate "gr_romeo_01" (ai_vehicle_get_from_starting_location "sq_1a_mickey_phantom_01/pilot") 32)
    (object_cannot_take_damage (ai_get_object "gr_romeo_01"))
    (vs_go_to "gr_dutch_01" true "ps_1a_vignette/romeo_stand" 0.1)
    (vs_walk "gr_dutch_01" true)
    (vs_face "gr_dutch_01" true "ps_1a_vignette/romeo_face")
    (vs_go_to "gr_dutch_01" true "ps_1a_vignette/romeo_face" 0.1)
    (vs_face "gr_dutch_01" true "ps_1a_vignette/romeo_face_2")
    (sleep 10)
    (vs_custom_animation "gr_dutch_01" true "objects\characters\marine\marine" "combat:rifle:phantom_pc_enter" true)
    (vs_release "gr_dutch_01")
    (ai_vehicle_enter_immediate "gr_dutch_01" (ai_vehicle_get_from_starting_location "sq_1a_mickey_phantom_01/pilot") 6)
    (vehicle_unload (ai_vehicle_get_from_starting_location "sq_1a_mickey_phantom_01/pilot") 6)
    (sleep 49)
    (ai_vehicle_enter_immediate "gr_dutch_01" (ai_vehicle_get_from_starting_location "sq_1a_mickey_phantom_01/pilot") 32)
    (object_cannot_take_damage (ai_get_object "gr_dutch_01"))
    (sleep 90)
    (set g_dutch_romeo_aboard true)
    (ai_dialogue_enable false)
    (if dialogue
        (print "mickey (radio): all set back there?")
    )
    (sleep (ai_play_line_on_object none sc150_0170))
    (sleep 10)
    (if dialogue
        (print "dutch (radio): affirmative! romeo, let's man these turrets!")
    )
    (sleep (ai_play_line_on_object none sc150_0180))
    (sleep 10)
    (set g_talking_active false)
    (ai_dialogue_enable true)
    (vs_release_all)
)

(script dormant void sc_1a_romeo_nuclear
    (sleep 1800)
    (if (= g_dutch_romeo_aboard true)
        (begin
            (if debug
                (print "don't do anything to help romeo or dutch...")
            )
            (sleep 1)
        )
        (begin
            (sleep 5)
            (sleep_forever md_010_everyone_in_phantom)
            (sleep 5)
            (vs_release "gr_romeo_01")
            (vs_release "gr_dutch_01")
            (print "let's help out romeo...")
            (ai_erase "sq_1a_romeo")
            (sleep 10)
            (ai_place "sq_1a_romeo_02")
            (ai_cannot_die "gr_romeo_01" true)
            (chud_show_ai_navpoint "gr_romeo_01" "romeo" true 0.1)
            (sleep 1)
            (ai_vehicle_enter_immediate "gr_romeo_01" (ai_vehicle_get_from_starting_location "sq_1a_mickey_phantom_01/pilot") 32)
            (object_cannot_take_damage (ai_get_object "gr_romeo_01"))
            (sleep 5)
            (print "let's help out dutch...")
            (ai_erase "sq_1a_dutch")
            (sleep 10)
            (ai_place "sq_1a_dutch_02")
            (ai_cannot_die "gr_dutch_01" true)
            (chud_show_ai_navpoint "gr_dutch_01" "dutch" true 0.1)
            (sleep 1)
            (ai_vehicle_enter_immediate "gr_dutch_01" (ai_vehicle_get_from_starting_location "sq_1a_mickey_phantom_01/pilot") 32)
            (object_cannot_take_damage (ai_get_object "gr_dutch_01"))
            (sleep 5)
            (set g_dutch_romeo_aboard true)
            (sleep 1)
            (ai_dialogue_enable false)
            (sleep 1)
            (if dialogue
                (print "mickey (radio): all set back there?")
            )
            (sleep (ai_play_line_on_object none sc150_0170))
            (sleep 10)
            (if dialogue
                (print "dutch (radio): affirmative! romeo, let's man these turrets!")
            )
            (sleep (ai_play_line_on_object none sc150_0180))
            (sleep 10)
            (set g_talking_active false)
            (sleep 1)
            (ai_dialogue_enable true)
        )
    )
)

(script dormant void md_010_banshee_inbound
    (sleep_until (and (>= g_1a_obj_control 60) (>= (device_get_position "dm_1a_large_door_01") 0.8) (= g_talking_active false)) 1)
    (set g_talking_active true)
    (sleep 15)
    (ai_player_dialogue_enable false)
    (if debug
        (print "mission dialogue:010:banshee:inbound")
    )
    (sleep 1)
    (ai_dialogue_enable false)
    (if dialogue
        (print "romeo (radio): banshees! coming through the tunnel!")
    )
    (sleep (ai_play_line_on_object none sc150_0190))
    (sleep 10)
    (ai_dialogue_enable true)
    (if dialogue
        (print "buck (radio): that's the way we're headed! take 'em out!")
    )
    (sound_impulse_start "sound\dialog\atlas\sc150\mission\sc150_0200_buc" none 1)
    (sleep (sound_impulse_language_time "sound\dialog\atlas\sc150\mission\sc150_0200_buc"))
    (set g_banshee_exit true)
    (set g_talking_active false)
    (vs_release_all)
    (ai_player_dialogue_enable true)
)

(script dormant void md_010_enter_first_tunnel
    (sleep_until (and (>= g_1a_obj_control 60) (= g_tunnel_prompts_done true) (volume_test_object "tv_md_010_enter_first_tunnel" (ai_get_object "gr_friendly_phantom")) (= g_talking_active false)))
    (set g_talking_active true)
    (sleep 15)
    (if debug
        (print "mission dialogue:010:enter:first:tunnel")
    )
    (sleep 1)
    (ai_dialogue_enable false)
    (if dialogue
        (print "mickey (radio): everyone watch their elbows. gonna be a tight squeezeï¿½")
    )
    (sleep (ai_play_line_on_object none sc150_0210))
    (sleep 10)
    (set g_talking_active false)
    (ai_dialogue_enable true)
    (vs_release_all)
)

(script dormant void md_010_go_forward_prompts
    (sleep_until (and (>= g_1a_obj_control 90) (volume_test_players "tv_md_010_enter_first_tunnel") (= (ai_living_count "sq_1a_banshee_02") 0) (= g_banshee_exit true) (= g_talking_active false)))
    (set g_talking_active true)
    (sleep 30)
    (if debug
        (print "mission dialogue:010:go:forward:prompts")
    )
    (sleep 1)
    (ai_dialogue_enable false)
    (if dialogue
        (print "mickey (radio): head through the tunnel, gunny!")
    )
    (sleep (ai_play_line_on_object none sc150_0220))
    (sleep 10)
    (set g_sc150_music04 true)
    (set g_sc150_music05 true)
    (set g_sc150_music06 true)
    (sleep 1)
    (ai_dialogue_enable true)
    (sleep 60)
    (ai_dialogue_enable false)
    (if dialogue
        (print "mickey (radio): go on, gunny! take the lead!")
    )
    (sleep (ai_play_line_on_object none sc150_0230))
    (sleep 10)
    (set g_tunnel_prompts_done true)
    (set g_talking_active false)
    (ai_dialogue_enable true)
    (vs_release_all)
)

(script dormant void md_010_shouts_of_joy
    (sleep_until (and (>= g_1b_obj_control 20) (= (ai_living_count "sq_1b_recharge_01") 0) (= g_talking_active false) (<= g_2a_obj_control 10)))
    (set g_talking_active true)
    (if debug
        (print "mission dialogue:010:shouts:of:joy")
    )
    (sleep 1)
    (ai_dialogue_enable false)
    (if dialogue
        (print "romeo (radio): that's right, you damn aliens... doesn't feel so good does it?")
    )
    (sleep (ai_play_line_on_object none sc150_0240))
    (sleep 10)
    (if dialogue
        (print "dutch (radio): like the good book says: payback's a bitch.")
    )
    (sleep (ai_play_line_on_object none sc150_0250))
    (sleep 10)
    (if dialogue
        (print "mickey (radio): i don't think it actually says that, dutch.")
    )
    (sleep (ai_play_line_on_object none sc150_0260))
    (sleep 10)
    (if dialogue
        (print "dutch (radio): i'm paraphrasing, you heathen!")
    )
    (sleep (ai_play_line_on_object none sc150_0270))
    (sleep 10)
    (set g_talking_active false)
    (ai_dialogue_enable true)
    (vs_release_all)
)

(script dormant void md_010_see_crater
    (sleep_until (and (>= g_1a_obj_control 40) (volume_test_players "tv_md_010_see_crater") (= g_talking_active false)))
    (set g_talking_active true)
    (sleep 30)
    (ai_player_dialogue_enable false)
    (if debug
        (print "mission dialogue:010:see:crater")
    )
    (sleep 1)
    (ai_dialogue_enable false)
    (if dialogue
        (print "mickey (radio): what do you see, gunny?")
    )
    (sleep (ai_play_line_on_object none sc150_0280))
    (sleep 10)
    (if dialogue
        (print "buck (radio): a whole lot of covenant, gathered around the crater from that slip-space rupture. i wonder what they're looking forï¿½")
    )
    (sound_impulse_start "sound\dialog\atlas\sc150\mission\sc150_0290_buc" none 1)
    (sleep (sound_impulse_language_time "sound\dialog\atlas\sc150\mission\sc150_0290_buc"))
    (if dialogue
        (print "romeo (radio): i bet the captain would have known.")
    )
    (sleep (ai_play_line_on_object none sc150_0300))
    (sleep 10)
    (if dialogue
        (print "buck (radio): yeah, i bet you're rightï¿½")
    )
    (sound_impulse_start "sound\dialog\atlas\sc150\mission\sc150_0310_buc" none 1)
    (sleep (sound_impulse_language_time "sound\dialog\atlas\sc150\mission\sc150_0310_buc"))
    (set g_talking_active false)
    (ai_dialogue_enable true)
    (vs_release_all)
    (ai_player_dialogue_enable true)
)

(script dormant void md_010_new_banshee_prompts
    (if (not (game_is_cooperative))
        (begin
            (sleep_until (and (>= g_1b_obj_control 40) (<= (object_get_health (object_get_parent (player0))) 0.1) (unit_in_vehicle_type (player0) 24) (= g_talking_active false)))
            (set g_talking_active true)
            (if debug
                (print "mission dialogue:010:new:banshee:prompts")
            )
            (sleep 1)
            (ai_dialogue_enable false)
            (if dialogue
                (print "mickey (radio): your banshee's pretty beat-up, gunny! might want to grab a new one!")
            )
            (sleep (ai_play_line_on_object none sc150_0320))
            (sleep 10)
            (set g_talking_active false)
            (ai_dialogue_enable true)
            (sleep_until (>= (object_get_health (object_get_parent (player0))) 1))
            (sleep_until (and (>= g_2a_obj_control 40) (<= (object_get_health (object_get_parent (player0))) 0.1) (unit_in_vehicle_type (player0) 24) (= g_talking_active false)))
            (set g_talking_active true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "dutch (radio): gunny! i'd switch banshees! yours doesn't look so good!")
            )
            (sleep (ai_play_line_on_object none sc150_0330))
            (sleep 10)
            (set g_talking_active false)
            (ai_dialogue_enable true)
        )
    )
    (set g_talking_active false)
    (vs_release_all)
)

(script dormant void md_010_next_bowl_prompts
    (wake sc_1b_music_stop_check)
    (sleep_until (or (and (>= g_1b_obj_control 90) (= g_talking_active false)) (and (= (ai_living_count "sq_1b_banshee_03") 0) (= g_talking_active false) (>= g_1b_obj_control 70))))
    (sleep 1)
    (wake obj_escort_phantom_clear)
    (wake obj_open_doors_set)
    (sleep 1)
    (if debug
        (print "mission dialogue:010:next:bowl:prompts")
    )
    (sleep 1)
    (ai_dialogue_enable false)
    (if (and (= (device_get_position "dm_1b_large_door_01") 0) (= g_talking_active false))
        (begin
            (set g_talking_active true)
            (sleep 1)
            (if dialogue
                (print "mickey (radio): damn! covenant must have locked the door to the next area!")
            )
            (sleep (ai_play_line_on_object none sc150_0340))
            (sleep 10)
            (set g_talking_active false)
        )
    )
    (if (and (= g_talking_active false) (= (device_get_position "dm_1b_large_door_01") 0))
        (begin
            (set g_talking_active true)
            (sleep 1)
            (if dialogue
                (print "mickey (radio): i see an override switch, gunny! hang on, i'll set a beacon!")
            )
            (sleep (ai_play_line_on_object none sc150_0350))
            (ai_dialogue_enable true)
            (sleep 10)
            (set g_talking_active false)
            (hud_activate_team_nav_point_flag player "training03_navpoint" 0.55)
            (wake sc_1b_switch_beacon_check)
            (sleep 900)
            (if (and (= g_talking_active false) (not (>= (device_get_position "dm_1b_large_door_01") 0.1)))
                (begin
                    (set g_talking_active true)
                    (ai_dialogue_enable false)
                    (if dialogue
                        (print "mickey (radio): we're stuck here until you open that door, gunny!")
                    )
                    (sleep (ai_play_line_on_object none sc150_0355))
                    (sleep 10)
                    (ai_dialogue_enable true)
                    (set g_talking_active false)
                    (sleep 900)
                    (if (and (unit_in_vehicle (player0)) (not (>= (device_get_position "dm_1b_large_door_01") 0.1)) (= g_talking_active false))
                        (begin
                            (set g_talking_active true)
                            (ai_dialogue_enable false)
                            (if dialogue
                                (print "dutch (radio): gunny! get out of your banshee and hit the switch!")
                            )
                            (sleep (ai_play_line_on_object none sc150_0356))
                            (sleep 10)
                            (set g_talking_active false)
                            (ai_dialogue_enable true)
                        )
                    )
                    (set g_talking_active false)
                )
            )
        )
    )
    (set g_talking_active false)
    (vs_release_all)
)

(script dormant void sc_1b_switch_beacon_check
    (sleep_until (>= (device_get_position "dm_1b_large_door_01") 0.1))
    (sleep 10)
    (hud_deactivate_team_nav_point_flag player "training03_navpoint")
    (sleep 10)
    (sleep_forever md_010_next_bowl_prompts)
    (sleep 10)
    (set g_talking_active false)
)

(script dormant void sc_1b_music_stop_check
    (sleep_until (>= (device_get_position "dm_1b_large_door_01") 0.1) 5)
    (set g_sc150_music02 false)
    (sleep 1)
    (set g_sc150_music03 false)
    (sleep 1)
    (set g_sc150_music04 false)
    (sleep 1)
    (set g_sc150_music05 false)
    (sleep 1)
    (set g_sc150_music06 false)
)

(script dormant void md_020_buck_clearing_path
    (sleep_until (and (>= g_1b_obj_control 90) (>= (device_get_position "dm_1b_large_door_01") 0.5) (= g_talking_active false)))
    (set g_talking_active true)
    (ai_player_dialogue_enable false)
    (if debug
        (print "mission dialogue:020:buck:clearing:path")
    )
    (sleep 1)
    (if dialogue
        (print "buck (radio): door's open! i'll go first!")
    )
    (sound_impulse_start "sound\dialog\atlas\sc150\mission\sc150_0360_buc" none 1)
    (sleep (sound_impulse_language_time "sound\dialog\atlas\sc150\mission\sc150_0360_buc"))
    (ai_player_dialogue_enable true)
    (ai_dialogue_enable false)
    (sleep 1)
    (if dialogue
        (print "mickey (radio): roger that! we'll follow your lead!")
    )
    (sleep (ai_play_line_on_object none sc150_0370))
    (set g_talking_active false)
    (ai_dialogue_enable true)
    (sleep 900)
    (if (and (not (unit_in_vehicle (player0))) (= g_talking_active false))
        (begin
            (set g_talking_active true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "dutch (radio): uhï¿½ gunny? unless you plan to walk on water, you're gonna need a banshee!")
            )
            (sleep (ai_play_line_on_object none sc150_0380))
            (set g_talking_active false)
            (ai_dialogue_enable true)
        )
    )
    (sleep 900)
    (if (and (not (unit_in_vehicle (player0))) (= g_talking_active false))
        (begin
            (set g_talking_active true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "dutch (radio): head back to your banshee, gunny! we need to keep flying!")
            )
            (sleep (ai_play_line_on_object none sc150_0381))
            (sleep 10)
            (set g_talking_active false)
            (ai_dialogue_enable true)
        )
    )
    (set g_talking_active false)
    (vs_release_all)
)

(script dormant void md_020_first_engineer_hut
    (sleep_until (and (>= g_1b_obj_control 10) (volume_test_object "tv_md_020_first_engineer_hut" (ai_get_object "gr_friendly_phantom")) (not (= (ai_living_count "sq_1b_recharge_01") 0)) (<= g_2a_obj_control 10) (= g_talking_active false)))
    (set g_talking_active true)
    (ai_dialogue_enable false)
    (if debug
        (print "mission dialogue:020:first:engineer:hut")
    )
    (sleep 1)
    (if dialogue
        (print "dutch (radio): well look at that! i think we found us a squid house!")
    )
    (sleep (ai_play_line_on_object none sc150_0390))
    (sleep 10)
    (if dialogue
        (print "romeo (radio): give me an angleï¿½ i'm gonna burn it to the groundï¿½")
    )
    (sleep (ai_play_line_on_object none sc150_0400))
    (sleep 10)
    (set g_talking_active false)
    (ai_dialogue_enable true)
    (vs_release_all)
)

(script dormant void md_020_second_door_switch
    (sleep_until (and (>= g_2a_obj_control 40) (volume_test_players "tv_md_020_second_door_switch") (= (ai_living_count "sq_2a_anti_wraith_02") 0) (= g_talking_active false)))
    (set g_talking_active true)
    (if debug
        (print "mission dialogue:020:second:door:switch")
    )
    (sleep 1)
    (ai_dialogue_enable false)
    (if dialogue
        (print "mickey (radio): gunny! another locked door! hit the override!")
    )
    (sleep (ai_play_line_on_object none sc150_0430))
    (set g_talking_active false)
    (ai_dialogue_enable true)
    (sleep 900)
    (if (and (unit_in_vehicle (player0)) (= g_talking_active false) (= (device_get_position "dm_2a_large_door_01") 0))
        (begin
            (set g_talking_active true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "mickey (radio): same as last time, gunny! jump out and get the switch!")
            )
            (sleep (ai_play_line_on_object none sc150_0440))
            (sleep 10)
            (set g_talking_active false)
            (sleep 1)
            (ai_dialogue_enable true)
            (sleep 1)
            (hud_activate_team_nav_point_flag player "training04_navpoint" 0.55)
            (sleep 1)
            (wake sc_2a_switch_beacon_check)
        )
    )
    (set g_talking_active false)
    (vs_release_all)
)

(script dormant void sc_2a_switch_beacon_check
    (sleep_until (>= (device_get_position "dm_2a_large_door_01") 0.1))
    (sleep 10)
    (hud_deactivate_team_nav_point_flag player "training04_navpoint")
)

(script dormant void md_020_second_door_jammed
    (sleep_until (and (>= g_2a_obj_control 20) (volume_test_players "tv_md_020_second_door_jammed") (>= (device_get_position "dm_2a_large_door_01") 0.1) (= g_talking_active false)))
    (wake sc_2b_chieftain_music_check)
    (sleep 1)
    (set g_talking_active true)
    (ai_player_dialogue_enable false)
    (if debug
        (print "mission dialogue:020:second:door:jammed")
    )
    (sleep 45)
    (ai_dialogue_enable false)
    (if dialogue
        (print "mickey (radio): damn! door's jammed! must have lost power!")
    )
    (sleep (ai_play_line_on_object none sc150_0460))
    (sleep 10)
    (if dialogue
        (print "buck (radio): iï¿½ll head through on foot, see if i can find a workaround inside the tunnel!")
    )
    (sound_impulse_start "sound\dialog\atlas\sc150\mission\sc150_0470_buc" none 1)
    (sleep (sound_impulse_language_time "sound\dialog\atlas\sc150\mission\sc150_0470_buc"))
    (set g_sc150_music07 true)
    (set g_talking_active false)
    (ai_player_dialogue_enable true)
    (ai_dialogue_enable true)
    (vs_release_all)
)

(script dormant void sc_2b_chieftain_music_check
    (sleep_until (or (>= (ai_combat_status "sq_2b_chieftain_01") 7) (>= (device_get_position "dm_2a_large_door_02") 0.1) (volume_test_players "tv_music_09")) 10)
    (set g_sc150_music08 true)
    (sleep_until (or (and (= (ai_living_count "sq_2b_chieftain_01") 0) (= (ai_living_count "sq_2b_stealth_01") 0) (= (ai_living_count "sq_2b_cov_04") 0) (= (ai_living_count "sq_2b_cov_05") 0) (= (ai_living_count "sq_2b_cov_06") 0)) (volume_test_players "tv_music_09") (>= (device_get_position "dm_2a_large_door_02") 0.1)) 5)
    (set g_sc150_music09 true)
)

(script dormant void md_020_second_switch_prompts
    (sleep_until (and (>= g_2a_obj_control 80) (= g_door_locked true) (= g_talking_active false)))
    (sleep 300)
    (if debug
        (print "mission dialogue:020:second:switch:prompts")
    )
    (sleep 1)
    (if (and (= g_talking_active false) (volume_test_players "tv_cs_enter_2b"))
        (begin
            (set g_talking_active true)
            (sleep 1)
            (ai_dialogue_enable false)
            (sleep 1)
            (if dialogue
                (print "dutch (radio): go on in, gunny! we'll cover the door -- make sure no one gets in behind you!")
            )
            (sleep (ai_play_line_on_object none sc150_0480))
            (sleep 1)
            (set g_talking_active false)
            (sleep 1)
            (ai_dialogue_enable true)
        )
    )
    (sleep 60)
    (sleep_until (and (= g_talking_active false) (>= g_2b_obj_control 10) (= (device_get_position "dm_2a_large_door_02") 0) (= (ai_living_count "gr_2b_cov_01") 0) (= (ai_living_count "gr_2b_cov_02") 0)))
    (sleep (random_range 30 90))
    (set g_talking_active true)
    (sleep 1)
    (ai_dialogue_enable false)
    (sleep 1)
    (if dialogue
        (print "mickey (radio): gunny, check the far end of the tunnel. might be a backup generator!")
    )
    (sleep (ai_play_line_on_object none sc150_0490))
    (sleep 10)
    (set g_talking_active false)
    (sleep 1)
    (ai_dialogue_enable true)
    (sleep 900)
    (sleep_until (and (= g_talking_active false) (>= g_2b_obj_control 10) (= (device_get_position "dm_2a_large_door_02") 0) (= (ai_living_count "gr_2b_cov_01") 0) (= (ai_living_count "gr_2b_cov_02") 0)))
    (sleep (random_range 30 90))
    (set g_talking_active true)
    (sleep 1)
    (ai_dialogue_enable false)
    (sleep 1)
    (if dialogue
        (print "mickey (radio): i'll bet there's a generator right here, let me place a beacon!")
    )
    (sleep (ai_play_line_on_object none sc150_0500))
    (sleep 10)
    (set g_talking_active false)
    (sleep 1)
    (ai_dialogue_enable true)
    (hud_activate_team_nav_point_flag player "training05_navpoint" 0.55)
    (wake sc_2b_switch_beacon_check)
    (set g_talking_active false)
    (vs_release_all)
)

(script dormant void sc_2b_switch_beacon_check
    (sleep_until (>= (device_get_position "dm_2a_large_door_02") 0.1))
    (sleep 5)
    (hud_deactivate_team_nav_point_flag player "training05_navpoint")
)

(script dormant void md_020_second_door_open
    (sleep_until (and (>= g_2a_obj_control 90) (= g_door_unlocked true) (= g_talking_active false)))
    (sleep 30)
    (set g_talking_active true)
    (if debug
        (print "mission dialogue:020:second:door:open")
    )
    (sleep 1)
    (ai_dialogue_enable false)
    (if dialogue
        (print "mickey (radio): that did it! door's open!")
    )
    (sleep (ai_play_line_on_object none sc150_0505))
    (sleep 10)
    (set g_talking_active false)
    (ai_dialogue_enable true)
    (vs_release_all)
)

(script dormant void md_030_another_scarab
    (sleep_until (and (>= g_2b_obj_control 20) (volume_test_players "tv_md_030_another_scarab") (= g_talking_active false)))
    (set g_talking_active true)
    (ai_player_dialogue_enable false)
    (ai_dialogue_enable false)
    (if debug
        (print "mission dialogue:030:another:scarab")
    )
    (sleep 1)
    (if dialogue
        (print "buck (radio): troopers, i got bad newsï¿½")
    )
    (sound_impulse_start "sound\dialog\atlas\sc150\mission\sc150_0510_buc" none 1)
    (sleep (sound_impulse_language_time "sound\dialog\atlas\sc150\mission\sc150_0510_buc"))
    (if dialogue
        (print "romeo (radio): you really are gonna make us walk out of this city?")
    )
    (sleep (ai_play_line_on_object none sc150_0520))
    (sleep 10)
    (if dialogue
        (print "buck (radio): we got a scarabï¿½right by our exit!")
    )
    (sound_impulse_start "sound\dialog\atlas\sc150\mission\sc150_0521_buc" none 1)
    (sleep (sound_impulse_language_time "sound\dialog\atlas\sc150\mission\sc150_0521_buc"))
    (if dialogue
        (print "romeo (radio): this is the best mission ever.")
    )
    (sleep (ai_play_line_on_object none sc150_0522))
    (sleep 10)
    (set g_sc150_music07 false)
    (sleep 1)
    (set g_sc150_music08 false)
    (sleep 1)
    (set g_sc150_music09 false)
    (set g_talking_active false)
    (ai_player_dialogue_enable true)
    (ai_dialogue_enable true)
    (wake obj_open_doors_clear)
    (wake obj_destroy_scarab_set)
    (set g_3a_second_scarab true)
    (wake sc_2b_music_10_check)
    (vs_release_all)
)

(script dormant void sc_2b_music_10_check
    (sleep_until (or (unit_in_vehicle (player0)) (unit_in_vehicle (player1)) (unit_in_vehicle (player2)) (unit_in_vehicle (player3))) 5)
    (set g_sc150_music10 true)
    (sleep 1)
    (sleep_until (or (>= g_2b_obj_control 80) (and (= (ai_living_count "sq_2b_recharge_03") 0) (= (ai_living_count "sq_2b_recharge_04") 0) (= (ai_living_count "sq_2b_recharge_05") 0))))
    (set g_sc150_music10_alt true)
)

(script dormant void md_030_scarab_hints
    (sleep_until (and (>= g_2b_obj_control 60) (= g_3a_second_scarab true)))
    (sleep 300)
    (sleep_until (= g_talking_active false))
    (sleep 1)
    (if debug
        (print "mission dialogue:030:scarab:hints")
    )
    (sleep 1)
    (if (and (= g_talking_active false) (> (object_get_health (ai_get_object "sq_2b_scarab_01/scarab")) 0))
        (begin
            (set g_talking_active true)
            (ai_dialogue_enable false)
            (sleep 1)
            (if dialogue
                (print "dutch (radio): knock out its legs, and it'll stop moving, gunny!")
            )
            (sleep (ai_play_line_on_object none sc150_0530))
            (set g_talking_active false)
            (ai_dialogue_enable true)
        )
    )
    (sleep 900)
    (if (and (= g_talking_active false) (> (object_get_health (ai_get_object "sq_2b_scarab_01/scarab")) 0))
        (begin
            (set g_talking_active true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "romeo (radio): get behind it! shoot it in the ass!")
            )
            (sleep (ai_play_line_on_object none sc150_0540))
            (sleep 10)
            (set g_talking_active false)
            (ai_dialogue_enable true)
        )
    )
    (sleep 900)
    (if (and (= g_talking_active false) (> (object_get_health (ai_get_object "sq_2b_scarab_01/scarab")) 0) (or (= (ai_living_count "sq_2b_recharge_03") 1) (= (ai_living_count "sq_2b_recharge_04") 1) (= (ai_living_count "sq_2b_recharge_05") 1)))
        (begin
            (set g_talking_active true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "mickey (radio): hit those squid houses, gunny! that'll make it hurt!")
            )
            (sleep (ai_play_line_on_object none sc150_0550))
            (sleep 10)
            (set g_talking_active false)
            (ai_dialogue_enable true)
        )
    )
    (set g_talking_active false)
    (vs_release_all)
)

(script dormant void md_030_get_out_of_here
    (sleep_until (and (>= g_2b_obj_control 30) (= (ai_living_count "sq_2b_scarab_01") 0) (= g_talking_active false)))
    (set g_talking_active true)
    (ai_dialogue_enable false)
    (if debug
        (print "mission dialogue:030:get:out:of:here")
    )
    (sleep 1)
    (if dialogue
        (print "dutch (radio): ooh-rah, gunny! let it burn!")
    )
    (sleep (ai_play_line_on_object none sc150_0555))
    (sleep 10)
    (if dialogue
        (print "mickey (radio): head into the tunnel -- before another one shows up!")
    )
    (sleep (ai_play_line_on_object none sc150_0560))
    (set g_talking_active false)
    (ai_dialogue_enable true)
    (sleep_until (and (= g_talking_active false) (volume_test_object "tv_2b_12" (ai_get_object "gr_friendly_phantom"))))
    (if (<= g_2b_obj_control 110)
        (begin
            (set g_talking_active true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "mickey (radio): come on, gunny! this way! let's get out of here!")
            )
            (sleep (ai_play_line_on_object none sc150_0570))
            (sleep 10)
            (set g_talking_active false)
            (ai_dialogue_enable true)
        )
    )
    (vs_release_all)
)

(script dormant void md_030_open_exit_door
    (sleep_until (and (>= g_2b_obj_control 30) (volume_test_object "tv_md_030_open_exit_door" (ai_get_object "gr_friendly_phantom")) (volume_test_players "tv_md_030_open_exit_door") (= g_talking_active false)))
    (set g_talking_active true)
    (ai_player_dialogue_enable false)
    (ai_dialogue_enable false)
    (if debug
        (print "mission dialogue:030:open:exit:door")
    )
    (sleep 1)
    (if dialogue
        (print "romeo (radio): damnï¿½ we hit the squid jackpot!")
    )
    (sleep (ai_play_line_on_object none sc150_0580))
    (sleep 10)
    (if dialogue
        (print "dutch (radio): take 'em out, gunny -- so we can get through!")
    )
    (sleep (ai_play_line_on_object none sc150_0585))
    (sleep 10)
    (ai_dialogue_enable true)
    (sleep_until (>= g_2b_obj_control 120))
    (ai_player_dialogue_enable false)
    (if dialogue
        (print "buck (radio): stay clear! this is gonna be one hell of a chain reactionï¿½")
    )
    (sound_impulse_start "sound\dialog\atlas\sc150\mission\sc150_0600_buc" none 1)
    (sleep (sound_impulse_language_time "sound\dialog\atlas\sc150\mission\sc150_0600_buc"))
    (ai_player_dialogue_enable true)
    (sleep 1)
    (set g_talking_active false)
    (sleep 1800)
    (sleep_until (= g_talking_active false))
    (set g_talking_active true)
    (sleep 1)
    (ai_dialogue_enable false)
    (sleep 1)
    (set g_dutch_fires true)
    (sleep 1)
    (if dialogue
        (print "dutch (radio): i'll do it! gunny, move back!")
    )
    (sleep (ai_play_line_on_object none sc150_0590))
    (sleep 30)
    (set g_talking_active false)
    (ai_dialogue_enable true)
    (vs_shoot_point "gr_friendly_phantom" true "ps_2b_mickey_phantom_01/p21")
    (vs_release_all)
)

(script dormant void sc150_fp_dialog_check
    (sleep_until (and (<= (object_get_health (player0)) 0) (<= (object_get_health (player1)) 0) (<= (object_get_health (player2)) 0) (<= (object_get_health (player3)) 0)) 5)
    (sound_impulse_stop "sound\dialog\atlas\sc150\mission\sc150_0030_buc")
    (sound_impulse_stop "sound\dialog\atlas\sc150\mission\sc150_0070_buc")
    (sound_impulse_stop "sound\dialog\atlas\sc150\mission\sc150_0090_buc")
    (sound_impulse_stop "sound\dialog\atlas\sc150\mission\sc150_0120_buc")
    (sound_impulse_stop "sound\dialog\atlas\sc150\mission\sc150_0200_buc")
    (sound_impulse_stop "sound\dialog\atlas\sc150\mission\sc150_0290_buc")
    (sound_impulse_stop "sound\dialog\atlas\sc150\mission\sc150_0310_buc")
    (sound_impulse_stop "sound\dialog\atlas\sc150\mission\sc150_0360_buc")
    (sound_impulse_stop "sound\dialog\atlas\sc150\mission\sc150_0470_buc")
    (sound_impulse_stop "sound\dialog\atlas\sc150\mission\sc150_0510_buc")
    (sound_impulse_stop "sound\dialog\atlas\sc150\mission\sc150_0521_buc")
    (sound_impulse_stop "sound\dialog\atlas\sc150\mission\sc150_0600_buc")
)

(script static void sc150_out_sc_01_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 0) 0 "sc150_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 0) 0)
    (cinematic_object_create_cinematic_anchor "sc150_out_sc_anchor" "sc150_out_sc_anchor")
    (object_hide (cinematic_scripting_get_object 0 0 0) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 1 "banshee_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 2 "phantom_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 3 "sc150_plamsaturret_starboard_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 4 "door_explosion_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 5 "sun_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 6 "dutch_01_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (cinematic_scripting_start_effect 0 0 0 0 (cinematic_object_get "fx_door_explosion"))
    (cinematic_scripting_start_effect 0 0 0 2 (cinematic_object_get "banshee1"))
    (object_set_function_variable (cinematic_scripting_get_object 0 0 1) "banshee_trails" 1 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 0 1) "banshee_power" 1 0)
    (cinematic_scripting_start_effect 0 0 0 1 (cinematic_object_get "phantom"))
    (sleep 3)
    (cinematic_scripting_start_music 0 0 0 0)
    (sleep 30)
    (cinematic_scripting_start_music 0 0 0 1)
    (sleep 17)
    (object_set_function_variable (cinematic_scripting_get_object 0 0 1) "banshee_trails" 0 75)
    (sleep 110)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_out_sc_01_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 0) 1 "sc150_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 0) 1)
    (cinematic_object_create_cinematic_anchor "sc150_out_sc_anchor" "sc150_out_sc_anchor")
    (object_hide (cinematic_scripting_get_object 0 0 0) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 1 "banshee_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 2 "phantom_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 3 "sc150_plamsaturret_starboard_01_2" true)
    (object_hide (cinematic_scripting_get_object 0 0 4) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 5 "sun_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 6 "dutch_01_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (object_set_function_variable (cinematic_scripting_get_object 0 0 1) "banshee_power" 0.1 0)
    (sleep 35)
    (object_set_function_variable (cinematic_scripting_get_object 0 0 1) "banshee_power" 0.25 25)
    (object_set_function_variable (cinematic_scripting_get_object 0 0 1) "banshee_trails" 0.25 25)
    (sleep 92)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_out_sc_01_sc_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 0) 2 "sc150_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 0) 2)
    (cinematic_object_create_cinematic_anchor "sc150_out_sc_anchor" "sc150_out_sc_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 0 "buck_01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 1 "banshee_01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 2 "phantom_01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 3 "sc150_plamsaturret_starboard_01_3" true)
    (object_hide (cinematic_scripting_get_object 0 0 4) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 5 "sun_01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 6 "dutch_01_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (object_set_function_variable (cinematic_scripting_get_object 0 0 1) "banshee_trails" 0.25 0)
    (sleep 14)
    (cinematic_scripting_start_effect 0 0 2 0 (cinematic_object_get "phantom"))
    (sleep 1)
    (object_set_function_variable (cinematic_scripting_get_object 0 0 1) "banshee_trails" 0 20)
    (sleep 30)
    (object_set_function_variable (cinematic_scripting_get_object 0 0 1) "banshee_power" 0 0)
    (sleep 120)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !sc150_out_sc_01_sc
    (cinematic_print "beginning scene 1")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 0) 0)
    (sc150_out_sc_01_sc_sh1)
    (sc150_out_sc_01_sc_sh2)
    (sc150_out_sc_01_sc_sh3)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 0 0 0)
    (cinematic_scripting_destroy_object 0 0 1)
    (cinematic_scripting_destroy_object 0 0 2)
    (cinematic_scripting_destroy_object 0 0 3)
    (cinematic_scripting_destroy_object 0 0 4)
    (cinematic_scripting_destroy_object 0 0 5)
    (cinematic_scripting_destroy_object 0 0 6)
)

(script static void sc150_out_sc_02_sc_sh1
    (begin
        (player_effect_start 1 0)
        (player_effect_set_max_rotation 0 0 0)
        (player_effect_set_max_rumble 0.05 0.05)
    )
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 0 "sc150_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 0)
    (cinematic_object_create_cinematic_anchor "sc150_out_sc_anchor" "sc150_out_sc_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 0 "buck_02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 1 "phantom_02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 2 "light_marker_02_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (cinematic_scripting_start_effect 0 1 0 0 (cinematic_object_get "phantom"))
    (sleep 82)
    (cinematic_scripting_stop_music 0 1 0 0)
    (sleep 35)
    (player_effect_stop 0)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !sc150_out_sc_02_sc
    (cinematic_print "beginning scene 2")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 0)
    (sc150_out_sc_02_sc_sh1)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 0 1 0)
    (cinematic_scripting_destroy_object 0 1 1)
    (cinematic_scripting_destroy_object 0 1 2)
)

(script static void sc150_out_sc_03_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 2) 0 "sc150_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 0)
    (cinematic_object_create_cinematic_anchor "sc150_out_sc_anchor" "sc150_out_sc_anchor")
    (object_hide (cinematic_scripting_get_object 0 2 0) true)
    (object_hide (cinematic_scripting_get_object 0 2 1) true)
    (object_hide (cinematic_scripting_get_object 0 2 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 3 "phantom_03_1" true)
    (object_hide (cinematic_scripting_get_object 0 2 4) true)
    (object_hide (cinematic_scripting_get_object 0 2 5) true)
    (object_hide (cinematic_scripting_get_object 0 2 6) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 7 "banshee_03_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 8 "banshee_splash_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 9 "light_marker_03_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 10 "big_sun_03_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (sleep 39)
    (cinematic_scripting_start_effect 0 2 0 0 (cinematic_object_get "fx_banshee_splash"))
    (sleep 88)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_out_sc_03_sc_sh2
    (begin
        (player_effect_start 1 0)
        (player_effect_set_max_rotation 0 0 0)
        (player_effect_set_max_rumble 0.02 0.02)
    )
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 2) 1 "sc150_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 1)
    (cinematic_object_create_cinematic_anchor "sc150_out_sc_anchor" "sc150_out_sc_anchor")
    (object_hide (cinematic_scripting_get_object 0 2 0) true)
    (object_hide (cinematic_scripting_get_object 0 2 1) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 2 "buck_helmet_03_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 3 "phantom_03_2" true)
    (object_hide (cinematic_scripting_get_object 0 2 4) true)
    (object_hide (cinematic_scripting_get_object 0 2 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 6 "buck_03_2" true)
    (object_hide (cinematic_scripting_get_object 0 2 7) true)
    (object_hide (cinematic_scripting_get_object 0 2 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 9 "light_marker_03_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 10 "big_sun_03_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (sleep 8)
    (cinematic_scripting_start_dialogue 0 2 1 0 (cinematic_scripting_get_object 0 2 6))
    (sleep 89)
    (player_effect_stop 0)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_out_sc_03_sc_sh3
    (begin
        (player_effect_start 1 0)
        (player_effect_set_max_rotation 0 0 0)
        (player_effect_set_max_rumble 0.02 0.02)
    )
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 2) 2 "sc150_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 2)
    (cinematic_object_create_cinematic_anchor "sc150_out_sc_anchor" "sc150_out_sc_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 0 "dutch_03_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 1 "romeo_03_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 2 "buck_helmet_03_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 3 "phantom_03_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 4 "sc150_plamsaturret_port_03_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 5 "sc150_plamsaturret_starboard_03_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 6 "buck_03_3" true)
    (object_hide (cinematic_scripting_get_object 0 2 7) true)
    (object_hide (cinematic_scripting_get_object 0 2 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 9 "light_marker_03_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 10 "big_sun_03_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (sleep 17)
    (cinematic_scripting_start_dialogue 0 2 2 0 (cinematic_scripting_get_object 0 2 1))
    (sleep 75)
    (player_effect_stop 0)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_out_sc_03_sc_sh4
    (begin
        (player_effect_start 1 0)
        (player_effect_set_max_rotation 0 0 0)
        (player_effect_set_max_rumble 0.02 0.02)
    )
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 2) 3 "sc150_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 3)
    (cinematic_object_create_cinematic_anchor "sc150_out_sc_anchor" "sc150_out_sc_anchor")
    (object_hide (cinematic_scripting_get_object 0 2 0) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 1 "romeo_03_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 2 "buck_helmet_03_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 3 "phantom_03_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 4 "sc150_plamsaturret_port_03_4" true)
    (object_hide (cinematic_scripting_get_object 0 2 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 6 "buck_03_4" true)
    (object_hide (cinematic_scripting_get_object 0 2 7) true)
    (object_hide (cinematic_scripting_get_object 0 2 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 9 "light_marker_03_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 10 "big_sun_03_4" true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (sleep 23)
    (cinematic_scripting_start_dialogue 0 2 3 0 (cinematic_scripting_get_object 0 2 1))
    (sleep 30)
    (player_effect_stop 0)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_out_sc_03_sc_sh5
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 2) 4 "sc150_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 4)
    (cinematic_object_create_cinematic_anchor "sc150_out_sc_anchor" "sc150_out_sc_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 0 "dutch_03_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 1 "romeo_03_5" true)
    (object_hide (cinematic_scripting_get_object 0 2 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 3 "phantom_03_5" true)
    (object_hide (cinematic_scripting_get_object 0 2 4) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 5 "sc150_plamsaturret_starboard_03_5" true)
    (object_hide (cinematic_scripting_get_object 0 2 6) true)
    (object_hide (cinematic_scripting_get_object 0 2 7) true)
    (object_hide (cinematic_scripting_get_object 0 2 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 9 "light_marker_03_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 10 "big_sun_03_5" true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (sleep 125)
    (player_effect_stop 0)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_out_sc_03_sc_sh6
    (begin
        (player_effect_start 1 0)
        (player_effect_set_max_rotation 0 0 0)
        (player_effect_set_max_rumble 0.02 0.02)
    )
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 2) 5 "sc150_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 5)
    (cinematic_object_create_cinematic_anchor "sc150_out_sc_anchor" "sc150_out_sc_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 0 "dutch_03_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 1 "romeo_03_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 2 "buck_helmet_03_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 3 "phantom_03_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 4 "sc150_plamsaturret_port_03_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 5 "sc150_plamsaturret_starboard_03_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 6 "buck_03_6" true)
    (object_hide (cinematic_scripting_get_object 0 2 7) true)
    (object_hide (cinematic_scripting_get_object 0 2 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 9 "light_marker_03_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 10 "big_sun_03_6" true)
    (cinematic_lights_initialize_for_shot 5)
    (cinematic_clips_initialize_for_shot 5)
    (sleep 31)
    (cinematic_scripting_start_dialogue 0 2 5 0 (cinematic_scripting_get_object 0 2 1))
    (sleep 85)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_out_sc_03_sc_sh7
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 2) 6 "sc150_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 6)
    (cinematic_object_create_cinematic_anchor "sc150_out_sc_anchor" "sc150_out_sc_anchor")
    (object_hide (cinematic_scripting_get_object 0 2 0) true)
    (object_hide (cinematic_scripting_get_object 0 2 1) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 2 "buck_helmet_03_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 3 "phantom_03_7" true)
    (object_hide (cinematic_scripting_get_object 0 2 4) true)
    (object_hide (cinematic_scripting_get_object 0 2 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 6 "buck_03_7" true)
    (object_hide (cinematic_scripting_get_object 0 2 7) true)
    (object_hide (cinematic_scripting_get_object 0 2 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 9 "light_marker_03_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 10 "big_sun_03_7" true)
    (cinematic_lights_initialize_for_shot 6)
    (cinematic_clips_initialize_for_shot 6)
    (object_set_function_variable (cinematic_scripting_get_object 0 2 2) "polarize" 1 0)
    (sleep 14)
    (cinematic_scripting_start_dialogue 0 2 6 0 none)
    (sleep 99)
    (cinematic_scripting_start_dialogue 0 2 6 1 none)
    (sleep 130)
    (cinematic_scripting_start_dialogue 0 2 6 2 (cinematic_scripting_get_object 0 2 6))
    (sleep 31)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_out_sc_03_sc_sh8
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 2) 7 "sc150_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 7)
    (cinematic_object_create_cinematic_anchor "sc150_out_sc_anchor" "sc150_out_sc_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 0 "dutch_03_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 1 "romeo_03_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 2 "buck_helmet_03_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 3 "phantom_03_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 4 "sc150_plamsaturret_port_03_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 5 "sc150_plamsaturret_starboard_03_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 6 "buck_03_8" true)
    (object_hide (cinematic_scripting_get_object 0 2 7) true)
    (object_hide (cinematic_scripting_get_object 0 2 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 9 "light_marker_03_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 10 "big_sun_03_8" true)
    (cinematic_lights_initialize_for_shot 7)
    (cinematic_clips_initialize_for_shot 7)
    (object_set_function_variable (cinematic_scripting_get_object 0 2 2) "polarize" 1 0)
    (sleep 54)
    (cinematic_scripting_start_dialogue 0 2 7 0 none)
    (sleep 53)
    (cinematic_scripting_start_dialogue 0 2 7 1 (cinematic_scripting_get_object 0 2 6))
    (sleep 36)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_out_sc_03_sc_sh9
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 2) 8 "sc150_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 8)
    (cinematic_object_create_cinematic_anchor "sc150_out_sc_anchor" "sc150_out_sc_anchor")
    (object_hide (cinematic_scripting_get_object 0 2 0) true)
    (object_hide (cinematic_scripting_get_object 0 2 1) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 2 "buck_helmet_03_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 3 "phantom_03_9" true)
    (object_hide (cinematic_scripting_get_object 0 2 4) true)
    (object_hide (cinematic_scripting_get_object 0 2 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 6 "buck_03_9" true)
    (object_hide (cinematic_scripting_get_object 0 2 7) true)
    (object_hide (cinematic_scripting_get_object 0 2 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 9 "light_marker_03_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 10 "big_sun_03_9" true)
    (cinematic_lights_initialize_for_shot 8)
    (cinematic_clips_initialize_for_shot 8)
    (object_set_function_variable (cinematic_scripting_get_object 0 2 2) "polarize" 1 0)
    (sleep 55)
    (object_set_function_variable (cinematic_scripting_get_object 0 2 2) "polarize" 0 30)
    (sleep 34)
    (player_effect_stop 0)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_out_sc_03_sc_sh10
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 2) 9 "sc150_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 9)
    (cinematic_object_create_cinematic_anchor "sc150_out_sc_anchor" "sc150_out_sc_anchor")
    (object_hide (cinematic_scripting_get_object 0 2 0) true)
    (object_hide (cinematic_scripting_get_object 0 2 1) true)
    (object_hide (cinematic_scripting_get_object 0 2 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 3 "phantom_03_10" true)
    (object_hide (cinematic_scripting_get_object 0 2 4) true)
    (object_hide (cinematic_scripting_get_object 0 2 5) true)
    (object_hide (cinematic_scripting_get_object 0 2 6) true)
    (object_hide (cinematic_scripting_get_object 0 2 7) true)
    (object_hide (cinematic_scripting_get_object 0 2 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 9 "light_marker_03_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 10 "big_sun_03_10" true)
    (cinematic_lights_initialize_for_shot 9)
    (cinematic_clips_initialize_for_shot 9)
    (sleep 99)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_out_sc_03_sc_sh11
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 2) 10 "sc150_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 10)
    (cinematic_object_create_cinematic_anchor "sc150_out_sc_anchor" "sc150_out_sc_anchor")
    (object_hide (cinematic_scripting_get_object 0 2 0) true)
    (object_hide (cinematic_scripting_get_object 0 2 1) true)
    (object_hide (cinematic_scripting_get_object 0 2 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 3 "phantom_03_11" true)
    (object_hide (cinematic_scripting_get_object 0 2 4) true)
    (object_hide (cinematic_scripting_get_object 0 2 5) true)
    (object_hide (cinematic_scripting_get_object 0 2 6) true)
    (object_hide (cinematic_scripting_get_object 0 2 7) true)
    (object_hide (cinematic_scripting_get_object 0 2 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 9 "light_marker_03_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 2 10 "big_sun_03_11" true)
    (cinematic_lights_initialize_for_shot 10)
    (cinematic_clips_initialize_for_shot 10)
    (sleep 125)
    (cinematic_scripting_fade_out 0 0 0 60)
    (sleep 60)
    (sleep 40)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !sc150_out_sc_03_sc
    (cinematic_print "beginning scene 3")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 2) 0)
    (sc150_out_sc_03_sc_sh1)
    (sc150_out_sc_03_sc_sh2)
    (sc150_out_sc_03_sc_sh3)
    (sc150_out_sc_03_sc_sh4)
    (sc150_out_sc_03_sc_sh5)
    (sc150_out_sc_03_sc_sh6)
    (sc150_out_sc_03_sc_sh7)
    (sc150_out_sc_03_sc_sh8)
    (sc150_out_sc_03_sc_sh9)
    (sc150_out_sc_03_sc_sh10)
    (sc150_out_sc_03_sc_sh11)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 0 2 0)
    (cinematic_scripting_destroy_object 0 2 1)
    (cinematic_scripting_destroy_object 0 2 2)
    (cinematic_scripting_destroy_object 0 2 3)
    (cinematic_scripting_destroy_object 0 2 4)
    (cinematic_scripting_destroy_object 0 2 5)
    (cinematic_scripting_destroy_object 0 2 6)
    (cinematic_scripting_destroy_object 0 2 7)
    (cinematic_scripting_destroy_object 0 2 8)
    (cinematic_scripting_destroy_object 0 2 9)
    (cinematic_scripting_destroy_object 0 2 10)
)

(script static void sc150_out_sc_cleanup
    (cinematic_scripting_clean_up 0)
)

(script static void begin_sc150_out_sc_debug
    (cinematic_zone_activate_for_debugging 0)
    (sleep 2)
    (camera_control true)
    (cinematic_start)
    (set cinematic_letterbox_style 2)
    (cinematic_show_letterbox_immediate true)
    (chud_cinematic_fade 0 0)
    (camera_set_cinematic)
    (cinematic_set_debug_mode true)
    (cinematic_set (cinematic_tag_reference_get_cinematic 0))
)

(script static void end_sc150_out_sc_debug
    (cinematic_destroy)
    (chud_cinematic_fade 1 0)
    (cinematic_stop)
    (cinematic_show_letterbox_immediate false)
    (camera_control false)
    (render_exposure_fade_out 0)
    (cinematic_zone_deactivate 0)
    (fade_in 0 0 0 0)
)

(script static void sc150_out_sc_debug
    (begin_sc150_out_sc_debug)
    (fade_in 1 1 1 5)
    (begin
        (sound_class_set_gain "" 0 0)
        (sound_class_set_gain "amb" 1 0)
        (sound_class_set_gain "amb" 0 60)
        (sound_class_set_gain "scripted" 1 0)
        (sound_class_set_gain "dialog" 1 0)
        (sound_class_set_gain "mus" 1 0)
    )
    (!sc150_out_sc_01_sc)
    (!sc150_out_sc_02_sc)
    (!sc150_out_sc_03_sc)
    (sound_class_set_gain "" 0 0)
    (end_sc150_out_sc_debug)
)

(script static void begin_sc150_out_sc
    (cinematic_zone_activate 0)
    (sleep 2)
    (camera_set_cinematic)
    (cinematic_set_debug_mode false)
    (cinematic_set (cinematic_tag_reference_get_cinematic 0))
)

(script static void end_sc150_out_sc
    (cinematic_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_out_sc
    (begin_sc150_out_sc)
    (fade_in 1 1 1 5)
    (begin
        (sound_class_set_gain "" 0 0)
        (sound_class_set_gain "amb" 1 0)
        (sound_class_set_gain "amb" 0 60)
        (sound_class_set_gain "scripted" 1 0)
        (sound_class_set_gain "dialog" 1 0)
        (sound_class_set_gain "mus" 1 0)
    )
    (!sc150_out_sc_01_sc)
    (!sc150_out_sc_02_sc)
    (!sc150_out_sc_03_sc)
    (sound_class_set_gain "" 0 0)
    (end_sc150_out_sc)
)

(script static void sc150_int_sc_01_sc_sh1
    (cinematic_show_letterbox_immediate true)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 0 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 0)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "dutch_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 2 "mickey_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_1" true)
    (object_hide (cinematic_scripting_get_object 1 0 4) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 "buck_ar_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dutch_smg_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 7 "mickey_smg_01_1" true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (object_hide (cinematic_scripting_get_object 1 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_1" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (sleep 3)
    (cinematic_scripting_start_music 1 0 0 0)
    (sleep 163)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 1 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 1)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "dutch_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 2 "mickey_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_2" true)
    (object_hide (cinematic_scripting_get_object 1 0 4) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 "buck_ar_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dutch_smg_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 7 "mickey_smg_01_2" true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (object_hide (cinematic_scripting_get_object 1 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_2" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (sleep 5)
    (cinematic_scripting_start_dialogue 1 0 1 1 (cinematic_scripting_get_object 1 0 0))
    (sleep 4)
    (cinematic_scripting_start_dialogue 1 0 1 0 (cinematic_scripting_get_object 1 0 3))
    (sleep 214)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 2 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 2)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "dutch_01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 2 "mickey_01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_3" true)
    (object_hide (cinematic_scripting_get_object 1 0 4) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 "buck_ar_01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dutch_smg_01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 7 "mickey_smg_01_3" true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (object_hide (cinematic_scripting_get_object 1 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_3" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (sleep 22)
    (cinematic_scripting_start_dialogue 1 0 2 1 (cinematic_scripting_get_object 1 0 0))
    (sleep 50)
    (cinematic_scripting_start_dialogue 1 0 2 0 (cinematic_scripting_get_object 1 0 3))
    (sleep 23)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh4
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 3 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 3)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "dutch_01_4" true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_4" true)
    (object_hide (cinematic_scripting_get_object 1 0 4) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 "buck_ar_01_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dutch_smg_01_4" true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (object_hide (cinematic_scripting_get_object 1 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_4" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_4" true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (sleep 107)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh5
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 4 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 4)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "dutch_01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 2 "mickey_01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 "buck_ar_01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dutch_smg_01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 7 "mickey_smg_01_5" true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (object_hide (cinematic_scripting_get_object 1 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_5" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_5" true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (sleep 25)
    (cinematic_scripting_start_dialogue 1 0 4 0 (cinematic_scripting_get_object 1 0 1))
    (sleep 35)
    (cinematic_scripting_start_dialogue 1 0 4 1 (cinematic_scripting_get_object 1 0 0))
    (sleep 88)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh6
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 5 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 5)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_6" true)
    (object_hide (cinematic_scripting_get_object 1 0 1) true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_6" true)
    (object_hide (cinematic_scripting_get_object 1 0 5) true)
    (object_hide (cinematic_scripting_get_object 1 0 6) true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (object_hide (cinematic_scripting_get_object 1 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_6" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_6" true)
    (cinematic_lights_initialize_for_shot 5)
    (cinematic_clips_initialize_for_shot 5)
    (sleep 105)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh7
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 6 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 6)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_7" true)
    (object_hide (cinematic_scripting_get_object 1 0 1) true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_7" true)
    (object_hide (cinematic_scripting_get_object 1 0 5) true)
    (object_hide (cinematic_scripting_get_object 1 0 6) true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (object_hide (cinematic_scripting_get_object 1 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_7" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_7" true)
    (cinematic_lights_initialize_for_shot 6)
    (cinematic_clips_initialize_for_shot 6)
    (sleep 45)
    (cinematic_scripting_start_effect 1 0 6 0 (cinematic_object_get "biofoam"))
    (sleep 11)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh8
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 7 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 7)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_8" true)
    (object_hide (cinematic_scripting_get_object 1 0 1) true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_8" true)
    (object_hide (cinematic_scripting_get_object 1 0 5) true)
    (object_hide (cinematic_scripting_get_object 1 0 6) true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (object_hide (cinematic_scripting_get_object 1 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_8" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_8" true)
    (cinematic_lights_initialize_for_shot 7)
    (cinematic_clips_initialize_for_shot 7)
    (sleep 13)
    (cinematic_scripting_start_effect 1 0 7 0 (cinematic_object_get "romeo1"))
    (sleep 21)
    (cinematic_scripting_start_dialogue 1 0 7 0 (cinematic_scripting_get_object 1 0 3))
    (sleep 15)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh9
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 8 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 8)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "dutch_01_9" true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 "buck_ar_01_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dutch_smg_01_9" true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (object_hide (cinematic_scripting_get_object 1 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_9" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_9" true)
    (cinematic_lights_initialize_for_shot 8)
    (cinematic_clips_initialize_for_shot 8)
    (cinematic_scripting_start_effect 1 0 8 0 (cinematic_object_get "romeo1"))
    (object_set_function_variable (cinematic_scripting_get_object 1 0 14) "polarize" 0 0)
    (sleep 70)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 14) "polarize" 1 25)
    (sleep 10)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh10
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 9 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 9)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_10" true)
    (object_hide (cinematic_scripting_get_object 1 0 1) true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_10" true)
    (object_hide (cinematic_scripting_get_object 1 0 5) true)
    (object_hide (cinematic_scripting_get_object 1 0 6) true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (object_hide (cinematic_scripting_get_object 1 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_10" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_10" true)
    (cinematic_lights_initialize_for_shot 9)
    (cinematic_clips_initialize_for_shot 9)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 15) "polarize" 0 0)
    (sleep 5)
    (cinematic_scripting_start_dialogue 1 0 9 0 (cinematic_scripting_get_object 1 0 0))
    (sleep 27)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 15) "polarize" 1 40)
    (sleep 6)
    (cinematic_scripting_start_dialogue 1 0 9 1 (cinematic_scripting_get_object 1 0 3))
    (sleep 7)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh11
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 10 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 10)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_11" true)
    (object_hide (cinematic_scripting_get_object 1 0 1) true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_11" true)
    (object_hide (cinematic_scripting_get_object 1 0 5) true)
    (object_hide (cinematic_scripting_get_object 1 0 6) true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (object_hide (cinematic_scripting_get_object 1 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_11" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_11" true)
    (cinematic_lights_initialize_for_shot 10)
    (cinematic_clips_initialize_for_shot 10)
    (sleep 71)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh12
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 11 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 11)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "dutch_01_12" true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 "buck_ar_01_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dutch_smg_01_12" true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (object_hide (cinematic_scripting_get_object 1 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_12" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_12" true)
    (cinematic_lights_initialize_for_shot 11)
    (cinematic_clips_initialize_for_shot 11)
    (sleep 4)
    (cinematic_scripting_start_dialogue 1 0 11 0 (cinematic_scripting_get_object 1 0 0))
    (sleep 157)
    (cinematic_scripting_start_dialogue 1 0 11 1 (cinematic_scripting_get_object 1 0 3))
    (sleep 6)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh13
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 12 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 12)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_13" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "dutch_01_13" true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_13" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_13" true)
    (object_hide (cinematic_scripting_get_object 1 0 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dutch_smg_01_13" true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (object_hide (cinematic_scripting_get_object 1 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_13" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_13" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_13" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_13" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_13" true)
    (cinematic_lights_initialize_for_shot 12)
    (cinematic_clips_initialize_for_shot 12)
    (sleep 106)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh14
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 13 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 13)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_14" true)
    (object_hide (cinematic_scripting_get_object 1 0 1) true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_14" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_14" true)
    (object_hide (cinematic_scripting_get_object 1 0 5) true)
    (object_hide (cinematic_scripting_get_object 1 0 6) true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (object_hide (cinematic_scripting_get_object 1 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_14" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_14" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_14" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_14" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_14" true)
    (cinematic_lights_initialize_for_shot 13)
    (cinematic_clips_initialize_for_shot 13)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 14) "polarize" 1 0)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 15) "polarize" 1 0)
    (sleep 6)
    (cinematic_scripting_start_dialogue 1 0 13 0 (cinematic_scripting_get_object 1 0 0))
    (sleep 92)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 14) "polarize" 0 20)
    (sleep 4)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 15) "polarize" 0 25)
    (sleep 14)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh15
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 14 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 14)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (object_hide (cinematic_scripting_get_object 1 0 0) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "dutch_01_15" true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (object_hide (cinematic_scripting_get_object 1 0 3) true)
    (object_hide (cinematic_scripting_get_object 1 0 4) true)
    (object_hide (cinematic_scripting_get_object 1 0 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dutch_smg_01_15" true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 8 "phantom_01_15" true)
    (object_hide (cinematic_scripting_get_object 1 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_15" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_15" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_15" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_15" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_15" true)
    (cinematic_lights_initialize_for_shot 14)
    (cinematic_clips_initialize_for_shot 14)
    (sleep 69)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh16
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 15 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 15)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_16" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "dutch_01_16" true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_16" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_16" true)
    (object_hide (cinematic_scripting_get_object 1 0 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dutch_smg_01_16" true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (object_hide (cinematic_scripting_get_object 1 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_16" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_16" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_16" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_16" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_16" true)
    (cinematic_lights_initialize_for_shot 15)
    (cinematic_clips_initialize_for_shot 15)
    (sleep 1)
    (cinematic_scripting_start_dialogue 1 0 15 0 (cinematic_scripting_get_object 1 0 0))
    (sleep 52)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh17
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 16 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 16)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_17" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "dutch_01_17" true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (object_hide (cinematic_scripting_get_object 1 0 3) true)
    (object_hide (cinematic_scripting_get_object 1 0 4) true)
    (object_hide (cinematic_scripting_get_object 1 0 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dutch_smg_01_17" true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (object_hide (cinematic_scripting_get_object 1 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_17" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_17" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_17" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_17" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_17" true)
    (cinematic_lights_initialize_for_shot 16)
    (cinematic_clips_initialize_for_shot 16)
    (sleep 52)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh18
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 17 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 17)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_18" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "dutch_01_18" true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_18" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_18" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 "buck_ar_01_18" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dutch_smg_01_18" true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 9 "gate_01_18" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_18" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_18" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_18" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_18" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_18" true)
    (cinematic_lights_initialize_for_shot 17)
    (cinematic_clips_initialize_for_shot 17)
    (sleep 59)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh19
    (fade_in 1 1 1 5)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 18 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 18)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_19" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "dutch_01_19" true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_19" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_19" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 "buck_ar_01_19" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dutch_smg_01_19" true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 8 "phantom_01_19" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 9 "gate_01_19" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_19" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_19" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_19" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 13 "super_sc01_19" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_19" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_19" true)
    (cinematic_lights_initialize_for_shot 18)
    (cinematic_clips_initialize_for_shot 18)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 13) "location" 0.8 0)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 13) "eyes" 0 0)
    (cinematic_scripting_start_screen_effect 1 0 18 0)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 13) "status" 0.8 0)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 13) "timestamp" 0.3 0)
    (cinematic_scripting_start_screen_effect 1 0 18 1)
    (sleep 30)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 13) "eyes" 0.7 0)
    (sleep 2)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 13) "eyes" 0.1 0)
    (sleep 2)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 13) "eyes" 0.7 0)
    (sleep 2)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 13) "eyes" 0 0)
    (sleep 34)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 13) "status" 0.4 0)
    (sleep 30)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 13) "status" 0.65 0)
    (sleep 30)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 13) "eyes" 0.7 0)
    (sleep 2)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 13) "eyes" 0.1 0)
    (sleep 2)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 13) "eyes" 0.7 0)
    (sleep 2)
    (object_set_function_variable (cinematic_scripting_get_object 1 0 13) "eyes" 0.2 0)
    (sleep 15)
    (fade_in 1 1 1 5)
    (cinematic_print "custom script play")
    (sleep 1)
    (cinematic_scripting_stop_screen_effect 1 0 18 0)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh20
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 19 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 19)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_20" true)
    (object_hide (cinematic_scripting_get_object 1 0 1) true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_20" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_20" true)
    (object_hide (cinematic_scripting_get_object 1 0 5) true)
    (object_hide (cinematic_scripting_get_object 1 0 6) true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 9 "gate_01_20" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_20" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_20" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_20" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_20" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_20" true)
    (cinematic_lights_initialize_for_shot 19)
    (cinematic_clips_initialize_for_shot 19)
    (sleep 137)
    (cinematic_scripting_start_dialogue 1 0 19 0 none)
    (sleep 73)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh21
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 20 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 20)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_21" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "dutch_01_21" true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_21" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_21" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 "buck_ar_01_21" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dutch_smg_01_21" true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 9 "gate_01_21" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_21" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_21" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_21" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_21" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_21" true)
    (cinematic_lights_initialize_for_shot 20)
    (cinematic_clips_initialize_for_shot 20)
    (sleep 58)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh22
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 21 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 21)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_22" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "dutch_01_22" true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_22" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_22" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 "buck_ar_01_22" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dutch_smg_01_22" true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 9 "gate_01_22" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_22" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_22" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_22" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_22" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_22" true)
    (cinematic_lights_initialize_for_shot 21)
    (cinematic_clips_initialize_for_shot 21)
    (sleep 34)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh23
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 22 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 22)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (object_hide (cinematic_scripting_get_object 1 0 0) true)
    (object_hide (cinematic_scripting_get_object 1 0 1) true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (object_hide (cinematic_scripting_get_object 1 0 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_23" true)
    (object_hide (cinematic_scripting_get_object 1 0 5) true)
    (object_hide (cinematic_scripting_get_object 1 0 6) true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 9 "gate_01_23" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_23" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_23" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_23" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_23" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_23" true)
    (cinematic_lights_initialize_for_shot 22)
    (cinematic_clips_initialize_for_shot 22)
    (sleep 23)
    (cinematic_scripting_start_dialogue 1 0 22 0 none)
    (sleep 24)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh24
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 23 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 23)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_24" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "dutch_01_24" true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_24" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_24" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 "buck_ar_01_24" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dutch_smg_01_24" true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 9 "gate_01_24" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_24" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_24" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_24" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_24" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_24" true)
    (cinematic_lights_initialize_for_shot 23)
    (cinematic_clips_initialize_for_shot 23)
    (sleep 241)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_01_sc_sh25
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 24 "sc150_int_sc_anchor_a")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 24)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_a" "sc150_int_sc_anchor_a")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "buck_01_25" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "dutch_01_25" true)
    (object_hide (cinematic_scripting_get_object 1 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "romeo_01_25" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "biofoam_01_25" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 "buck_ar_01_25" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "dutch_smg_01_25" true)
    (object_hide (cinematic_scripting_get_object 1 0 7) true)
    (object_hide (cinematic_scripting_get_object 1 0 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 9 "gate_01_25" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 10 "main_01_25" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 11 "toolbooth_01_25" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 12 "blinky_01_25" true)
    (object_hide (cinematic_scripting_get_object 1 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 14 "helmet_buck01_25" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 15 "helmet_romeo01_25" true)
    (cinematic_lights_initialize_for_shot 24)
    (cinematic_clips_initialize_for_shot 24)
    (sleep 121)
    (cinematic_scripting_fade_out 0 0 0 60)
    (fade_out 0 0 0 60)
    (cinematic_print "custom script play")
    (sleep 60)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !sc150_int_sc_01_sc
    (cinematic_print "beginning scene 1")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 0)
    (sc150_int_sc_01_sc_sh1)
    (sc150_int_sc_01_sc_sh2)
    (sc150_int_sc_01_sc_sh3)
    (sc150_int_sc_01_sc_sh4)
    (sc150_int_sc_01_sc_sh5)
    (sc150_int_sc_01_sc_sh6)
    (sc150_int_sc_01_sc_sh7)
    (sc150_int_sc_01_sc_sh8)
    (sc150_int_sc_01_sc_sh9)
    (sc150_int_sc_01_sc_sh10)
    (sc150_int_sc_01_sc_sh11)
    (sc150_int_sc_01_sc_sh12)
    (sc150_int_sc_01_sc_sh13)
    (sc150_int_sc_01_sc_sh14)
    (sc150_int_sc_01_sc_sh15)
    (sc150_int_sc_01_sc_sh16)
    (sc150_int_sc_01_sc_sh17)
    (sc150_int_sc_01_sc_sh18)
    (sc150_int_sc_01_sc_sh19)
    (sc150_int_sc_01_sc_sh20)
    (sc150_int_sc_01_sc_sh21)
    (sc150_int_sc_01_sc_sh22)
    (sc150_int_sc_01_sc_sh23)
    (sc150_int_sc_01_sc_sh24)
    (sc150_int_sc_01_sc_sh25)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 1 0 0)
    (cinematic_scripting_destroy_object 1 0 1)
    (cinematic_scripting_destroy_object 1 0 2)
    (cinematic_scripting_destroy_object 1 0 3)
    (cinematic_scripting_destroy_object 1 0 4)
    (cinematic_scripting_destroy_object 1 0 5)
    (cinematic_scripting_destroy_object 1 0 6)
    (cinematic_scripting_destroy_object 1 0 7)
    (cinematic_scripting_destroy_object 1 0 8)
    (cinematic_scripting_destroy_object 1 0 9)
    (cinematic_scripting_destroy_object 1 0 10)
    (cinematic_scripting_destroy_object 1 0 11)
    (cinematic_scripting_destroy_object 1 0 12)
    (cinematic_scripting_destroy_object 1 0 13)
    (cinematic_scripting_destroy_object 1 0 14)
    (cinematic_scripting_destroy_object 1 0 15)
)

(script static void sc150_int_sc_a_cleanup
    (cinematic_scripting_clean_up 1)
)

(script static void begin_sc150_int_sc_a_debug
    (cinematic_zone_activate_for_debugging 1)
    (sleep 2)
    (camera_control true)
    (cinematic_start)
    (set cinematic_letterbox_style 2)
    (cinematic_show_letterbox_immediate true)
    (chud_cinematic_fade 0 0)
    (camera_set_cinematic)
    (cinematic_set_debug_mode true)
    (cinematic_set (cinematic_tag_reference_get_cinematic 1))
)

(script static void end_sc150_int_sc_a_debug
    (cinematic_destroy)
    (chud_cinematic_fade 1 0)
    (cinematic_stop)
    (cinematic_show_letterbox_immediate false)
    (camera_control false)
    (render_exposure_fade_out 0)
    (cinematic_zone_deactivate 1)
    (fade_in 0 0 0 0)
)

(script static void sc150_int_sc_a_debug
    (begin_sc150_int_sc_a_debug)
    (fade_in 0 0 0 60)
    (begin
        (sound_class_set_gain "" 0 0)
        (sound_class_set_gain "scripted" 1 0)
        (sound_class_set_gain "dialog" 1 0)
        (sound_class_set_gain "mus" 1 0)
    )
    (!sc150_int_sc_01_sc)
    (sound_class_set_gain "" 1 60)
    (end_sc150_int_sc_a_debug)
)

(script static void begin_sc150_int_sc_a
    (cinematic_zone_activate 1)
    (sleep 2)
    (camera_set_cinematic)
    (cinematic_set_debug_mode false)
    (cinematic_set (cinematic_tag_reference_get_cinematic 1))
)

(script static void end_sc150_int_sc_a
    (cinematic_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_a
    (begin_sc150_int_sc_a)
    (fade_in 0 0 0 60)
    (begin
        (sound_class_set_gain "" 0 0)
        (sound_class_set_gain "scripted" 1 0)
        (sound_class_set_gain "dialog" 1 0)
        (sound_class_set_gain "mus" 1 0)
    )
    (!sc150_int_sc_01_sc)
    (sound_class_set_gain "" 1 60)
    (end_sc150_int_sc_a)
)

(script static void sc150_int_sc_02_sc_sh1
    (begin
        (cinematic_show_letterbox_immediate true)
        (fade_in 1 1 1 10)
    )
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2 0) 0 "sc150_int_sc_anchor_b")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 0)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_b" "sc150_int_sc_anchor_b")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 "buck_02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 1 "dutch_02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 2 "mickey_02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 3 "romeo_02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 4 "buck_ar_02_1" true)
    (object_hide (cinematic_scripting_get_object 2 0 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 6 "smg_dutch_02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 7 "smg_mickey_02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 8 "super_sc02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 9 "gate_02_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "location" 0.3 0)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "timestamp" 0.3 0)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "status" 0.8 0)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "eyes" 0.4 0)
    (cinematic_scripting_start_screen_effect 2 0 0 0)
    (sleep 1)
    (cinematic_scripting_start_music 2 0 0 0)
    (sleep 63)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "eyes" 0.7 0)
    (sleep 2)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "eyes" 0.4 0)
    (sleep 10)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "eyes" 0.7 0)
    (sleep 2)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "eyes" 0.1 0)
    (sleep 2)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "eyes" 0 0)
    (cinematic_scripting_start_screen_effect 2 0 0 1)
    (sleep 8)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "eyes" 0.7 0)
    (sleep 2)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "eyes" 0.1 0)
    (sleep 2)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "eyes" 0 0)
    (sleep 13)
    (cinematic_scripting_start_screen_effect 2 0 0 2)
    (sleep 27)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "eyes" 0.7 0)
    (sleep 2)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "eyes" 0.1 0)
    (sleep 2)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "eyes" 0 0)
    (sleep 18)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "eyes" 0.7 0)
    (sleep 2)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "eyes" 0.1 0)
    (sleep 2)
    (object_set_function_variable (cinematic_scripting_get_object 2 0 8) "eyes" 0.3 0)
    (sleep 17)
    (cinematic_scripting_stop_screen_effect 2 0 0 0)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_02_sc_sh2
    (fade_in 1 1 1 10)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2 0) 1 "sc150_int_sc_anchor_b")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 1)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_b" "sc150_int_sc_anchor_b")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 "buck_02_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 1 "dutch_02_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 2 "mickey_02_2" true)
    (object_hide (cinematic_scripting_get_object 2 0 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 4 "buck_ar_02_2" true)
    (object_hide (cinematic_scripting_get_object 2 0 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 6 "smg_dutch_02_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 7 "smg_mickey_02_2" true)
    (object_hide (cinematic_scripting_get_object 2 0 8) true)
    (object_hide (cinematic_scripting_get_object 2 0 9) true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (sleep 77)
    (cinematic_scripting_start_dialogue 2 0 1 0 (cinematic_scripting_get_object 2 0 2))
    (sleep 73)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_02_sc_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2 0) 2 "sc150_int_sc_anchor_b")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 2)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_b" "sc150_int_sc_anchor_b")
    (object_hide (cinematic_scripting_get_object 2 0 0) true)
    (object_hide (cinematic_scripting_get_object 2 0 1) true)
    (object_hide (cinematic_scripting_get_object 2 0 2) true)
    (object_hide (cinematic_scripting_get_object 2 0 3) true)
    (object_hide (cinematic_scripting_get_object 2 0 4) true)
    (object_hide (cinematic_scripting_get_object 2 0 5) true)
    (object_hide (cinematic_scripting_get_object 2 0 6) true)
    (object_hide (cinematic_scripting_get_object 2 0 7) true)
    (object_hide (cinematic_scripting_get_object 2 0 8) true)
    (object_hide (cinematic_scripting_get_object 2 0 9) true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (sleep 108)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_02_sc_sh4
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2 0) 3 "sc150_int_sc_anchor_b")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 3)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_b" "sc150_int_sc_anchor_b")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 "buck_02_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 1 "dutch_02_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 2 "mickey_02_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 3 "romeo_02_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 4 "buck_ar_02_4" true)
    (object_hide (cinematic_scripting_get_object 2 0 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 6 "smg_dutch_02_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 7 "smg_mickey_02_4" true)
    (object_hide (cinematic_scripting_get_object 2 0 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 9 "gate_02_4" true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (sleep 37)
    (cinematic_scripting_start_dialogue 2 0 3 0 (cinematic_scripting_get_object 2 0 0))
    (sleep 50)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_02_sc_sh5
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2 0) 4 "sc150_int_sc_anchor_b")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 4)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_b" "sc150_int_sc_anchor_b")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 "buck_02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 1 "dutch_02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 2 "mickey_02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 3 "romeo_02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 4 "buck_ar_02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 5 "phantom_02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 6 "smg_dutch_02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 7 "smg_mickey_02_5" true)
    (object_hide (cinematic_scripting_get_object 2 0 8) true)
    (object_hide (cinematic_scripting_get_object 2 0 9) true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (sleep 143)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_02_sc_sh6
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2 0) 5 "sc150_int_sc_anchor_b")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 5)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_b" "sc150_int_sc_anchor_b")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 "buck_02_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 1 "dutch_02_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 2 "mickey_02_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 3 "romeo_02_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 4 "buck_ar_02_6" true)
    (object_hide (cinematic_scripting_get_object 2 0 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 6 "smg_dutch_02_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 7 "smg_mickey_02_6" true)
    (object_hide (cinematic_scripting_get_object 2 0 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 9 "gate_02_6" true)
    (cinematic_lights_initialize_for_shot 5)
    (cinematic_clips_initialize_for_shot 5)
    (sleep 14)
    (cinematic_scripting_start_dialogue 2 0 5 0 (cinematic_scripting_get_object 2 0 0))
    (sleep 38)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_02_sc_sh7
    (begin
        (fade_in 1 1 1 5)
        (cinematic_show_letterbox_immediate false)
        (cinematic_hud_on)
    )
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2 0) 6 "sc150_int_sc_anchor_b")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 6)
    (cinematic_object_create_cinematic_anchor "sc150_int_sc_anchor_b" "sc150_int_sc_anchor_b")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 "buck_02_7" true)
    (object_hide (cinematic_scripting_get_object 2 0 1) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 2 "mickey_02_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 3 "romeo_02_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 4 "buck_ar_02_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 5 "phantom_02_7" true)
    (object_hide (cinematic_scripting_get_object 2 0 6) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 7 "smg_mickey_02_7" true)
    (object_hide (cinematic_scripting_get_object 2 0 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 9 "gate_02_7" true)
    (cinematic_lights_initialize_for_shot 6)
    (cinematic_clips_initialize_for_shot 6)
    (sleep 55)
    (cinematic_scripting_start_dialogue 2 0 6 0 none)
    (sleep 223)
    (cinematic_scripting_fade_out 0 0 0 5)
    (sleep 5)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !sc150_int_sc_02_sc
    (cinematic_print "beginning scene 1")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 0)
    (sc150_int_sc_02_sc_sh1)
    (sc150_int_sc_02_sc_sh2)
    (sc150_int_sc_02_sc_sh3)
    (sc150_int_sc_02_sc_sh4)
    (sc150_int_sc_02_sc_sh5)
    (sc150_int_sc_02_sc_sh6)
    (sc150_int_sc_02_sc_sh7)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 2 0 0)
    (cinematic_scripting_destroy_object 2 0 1)
    (cinematic_scripting_destroy_object 2 0 2)
    (cinematic_scripting_destroy_object 2 0 3)
    (cinematic_scripting_destroy_object 2 0 4)
    (cinematic_scripting_destroy_object 2 0 5)
    (cinematic_scripting_destroy_object 2 0 6)
    (cinematic_scripting_destroy_object 2 0 7)
    (cinematic_scripting_destroy_object 2 0 8)
    (cinematic_scripting_destroy_object 2 0 9)
)

(script static void sc150_int_sc_b_cleanup
    (cinematic_scripting_clean_up 2)
)

(script static void begin_sc150_int_sc_b_debug
    (cinematic_zone_activate_for_debugging 2)
    (sleep 2)
    (camera_control true)
    (cinematic_start)
    (set cinematic_letterbox_style 2)
    (cinematic_show_letterbox_immediate true)
    (chud_cinematic_fade 0 0)
    (camera_set_cinematic)
    (cinematic_set_debug_mode true)
    (cinematic_set (cinematic_tag_reference_get_cinematic 2))
)

(script static void end_sc150_int_sc_b_debug
    (cinematic_destroy)
    (chud_cinematic_fade 1 0)
    (cinematic_stop)
    (cinematic_show_letterbox_immediate false)
    (camera_control false)
    (render_exposure_fade_out 0)
    (cinematic_zone_deactivate 2)
    (fade_in 0 0 0 0)
)

(script static void sc150_int_sc_b_debug
    (begin_sc150_int_sc_b_debug)
    (fade_in 1 1 1 15)
    (begin
        (sound_class_set_gain "" 0 0)
        (sound_class_set_gain "scripted" 1 0)
        (sound_class_set_gain "dialog" 1 0)
        (sound_class_set_gain "mus" 1 0)
    )
    (!sc150_int_sc_02_sc)
    (sound_class_set_gain "" 1 60)
    (end_sc150_int_sc_b_debug)
)

(script static void begin_sc150_int_sc_b
    (cinematic_zone_activate 2)
    (sleep 2)
    (camera_set_cinematic)
    (cinematic_set_debug_mode false)
    (cinematic_set (cinematic_tag_reference_get_cinematic 2))
)

(script static void end_sc150_int_sc_b
    (cinematic_destroy)
    (render_exposure_fade_out 0)
)

(script static void sc150_int_sc_b
    (begin_sc150_int_sc_b)
    (fade_in 1 1 1 15)
    (begin
        (sound_class_set_gain "" 0 0)
        (sound_class_set_gain "scripted" 1 0)
        (sound_class_set_gain "dialog" 1 0)
        (sound_class_set_gain "mus" 1 0)
    )
    (!sc150_int_sc_02_sc)
    (sound_class_set_gain "" 1 60)
    (end_sc150_int_sc_b)
)

; Decompilation finished in ~0.128123s
