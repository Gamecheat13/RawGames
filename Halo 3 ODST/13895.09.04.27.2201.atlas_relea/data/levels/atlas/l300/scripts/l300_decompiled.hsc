; Decompiled with Assembly
; 
; Source file: l300.hsc
; Start time: 2018-02-05 12:34:31 PM
; 
; Remember that all script code is property of Bungie/343 Industries.
; You have no rights. Play nice.

; Globals
(global short player_00 0)
(global short player_01 1)
(global short player_02 2)
(global short player_03 3)
(global string data_mine_mission_segment "")
(global short s_waypoint_index 0)
(global short s_waypoint_timer (* 30 10))
(global short g_pda_breadcrumb_fade (* 30 45))
(global short g_pda_breadcrumb_timer (* 30 1.5))
(global sound sfx_a_button "sound\game_sfx\ui\hud_ui\b_button")
(global sound sfx_b_button "sound\game_sfx\ui\hud_ui\a_button")
(global sound sfx_hud_in "sound\game_sfx\ui\hud_ui\hud_in")
(global sound sfx_hud_out "sound\game_sfx\ui\hud_ui\hud_out")
(global sound sfx_objective "sound\game_sfx\ui\hud_ui\mission_objective")
(global short s_sc110_01 0)
(global short s_sc110_02 0)
(global short s_sc110_03 0)
(global short s_sc110_04 0)
(global short s_sc110_05 0)
(global short s_sc110_06 0)
(global short s_sc120_01 0)
(global short s_sc120_02 0)
(global short s_sc120_03 0)
(global short s_sc120_04 0)
(global short s_sc120_05 0)
(global short s_sc120_06 0)
(global short s_sc130_01 0)
(global short s_sc130_02 0)
(global short s_sc130_03 0)
(global short s_sc130_04 0)
(global short s_sc130_05 0)
(global short s_sc130_06 0)
(global short s_sc140_01 0)
(global short s_sc140_02 0)
(global short s_sc140_03 0)
(global short s_sc140_04 0)
(global short s_sc140_05 0)
(global short s_sc140_06 0)
(global short s_sc150_01 0)
(global short s_sc150_02 0)
(global short s_sc150_03 0)
(global short s_sc150_04 0)
(global short s_sc150_05 0)
(global short s_l200_01 0)
(global short k_sur_ai_rand_limit 0)
(global short k_sur_ai_end_limit 0)
(global short k_sur_ai_final_limit 0)
(global short k_sur_squad_per_wave_limit 0)
(global short s_sur_squad_count 0)
(global boolean b_sur_squad_spawn true)
(global short k_sur_rand_wave_count 0)
(global short k_sur_rand_wave_limit 0)
(global boolean b_sur_rand_wave_spawn true)
(global short s_sq_actor_count 0)
(global boolean b_sur_wave_phantom false)
(global short k_sur_wave_per_round_limit 0)
(global short k_sur_round_per_set_limit 0)
(global short k_sur_wave_timer 0)
(global short k_sur_wave_timeout 0)
(global short k_sur_round_timer 0)
(global short k_sur_set_timer 0)
(global short k_sur_bonus_timer 0)
(global short s_sur_wave_type 0)
(global short s_sur_current_wave 0)
(global boolean b_sur_bonus_round false)
(global boolean b_sur_bonus_phantom false)
(global boolean b_sur_bonus_ground false)
(global vehicle v_sur_bonus_phantom none)
(global ai ai_sur_bonus_phantom none)
(global boolean b_sur_bonus_round_running false)
(global boolean b_sur_bonus_end false)
(global boolean b_sur_bonus_spawn true)
(global boolean b_sur_bonus_refilling false)
(global boolean b_sur_bonus_phantom_ready false)
(global long l_sur_pre_bonus_points 0)
(global long l_sur_post_bonus_points 0)
(global long k_sur_bonus_points_award 0)
(global short s_sur_bonus_count 0)
(global short k_sur_bonus_squad_limit 6)
(global short k_sur_bonus_limit 17)
(global boolean b_survival_bonus_timer_begin false)
(global short k_survival_bonus_timer (* 30 60 1))
(global boolean b_wave_initial_a_phantom true)
(global boolean b_wave_initial_b_phantom true)
(global boolean b_wave_01_phantom true)
(global boolean b_wave_02_phantom true)
(global boolean b_wave_03_phantom true)
(global boolean b_wave_04_phantom true)
(global boolean b_wave_05_phantom true)
(global boolean b_wave_06_phantom true)
(global boolean b_wave_07_phantom true)
(global boolean b_wave_08_phantom true)
(global boolean b_wave_09_phantom true)
(global boolean b_wave_10_phantom true)
(global boolean b_wave_11_phantom true)
(global boolean b_wave_12_phantom true)
(global boolean b_wave_13_phantom true)
(global boolean b_wave_14_phantom true)
(global boolean b_wave_15_phantom true)
(global boolean b_wave_final_a_phantom true)
(global boolean b_wave_final_b_phantom true)
(global vehicle v_sur_phantom_01 none)
(global vehicle v_sur_phantom_02 none)
(global vehicle v_sur_phantom_03 none)
(global vehicle v_sur_phantom_04 none)
(global ai ai_sur_phantom_01 none)
(global ai ai_sur_phantom_02 none)
(global ai ai_sur_phantom_03 none)
(global ai ai_sur_phantom_04 none)
(global string s_sur_drop_side_01 "dual")
(global string s_sur_drop_side_02 "dual")
(global string s_sur_drop_side_03 "dual")
(global string s_sur_drop_side_04 "dual")
(global boolean b_phantom_spawn true)
(global short b_phantom_spawn_count 0)
(global short k_phantom_spawn_limit 0)
(global boolean b_phantom_move_out false)
(global short s_phantom_load_count 1)
(global boolean b_phantom_loaded false)
(global boolean b_survival_new_set true)
(global boolean b_survival_new_round true)
(global boolean b_survival_new_wave true)
(global folder folder_survival_scenery "sc_survival")
(global folder folder_survival_crates "cr_survival")
(global folder folder_survival_vehicles "v_survival")
(global folder folder_survival_equipment "eq_survival")
(global folder folder_survival_weapons "wp_survival")
(global boolean b_sur_weapon_drop false)
(global looping_sound m_survival_start "multiplayer\firefight_music\firefight_music01")
(global looping_sound m_new_set "multiplayer\firefight_music\firefight_music01")
(global looping_sound m_initial_wave "multiplayer\firefight_music\firefight_music02")
(global looping_sound m_final_wave "multiplayer\firefight_music\firefight_music20")
(global looping_sound m_pgcr "multiplayer\firefight_music\firefight_music30")
(global short s_music_initial 0)
(global short s_music_final 0)
(global string string_survival_map_name "none")
(global long l_player0_score 0)
(global long l_player1_score 0)
(global long l_player2_score 0)
(global long l_player3_score 0)
(global short s_survival_end_delay (* 30 5))
(global ai ai_obj_survival none)
(global ai ai_sur_remaining none)
(global boolean b_wave_initial_present false)
(global boolean b_wave_01_present false)
(global boolean b_wave_02_present false)
(global boolean b_wave_03_present false)
(global boolean b_wave_04_present false)
(global boolean b_wave_05_present false)
(global boolean b_wave_06_present false)
(global boolean b_wave_07_present false)
(global boolean b_wave_08_present false)
(global boolean b_wave_09_present false)
(global boolean b_wave_10_present false)
(global boolean b_wave_11_present false)
(global boolean b_wave_12_present false)
(global boolean b_wave_13_present false)
(global boolean b_wave_14_present false)
(global boolean b_wave_15_present false)
(global boolean b_wave_final_present false)
(global ai ai_initial_a_squad_01 none)
(global ai ai_initial_a_squad_02 none)
(global ai ai_initial_a_squad_03 none)
(global ai ai_initial_a_squad_04 none)
(global ai ai_initial_a_squad_05 none)
(global ai ai_initial_a_squad_06 none)
(global ai ai_initial_a_squad_07 none)
(global ai ai_initial_a_squad_08 none)
(global ai ai_initial_b_squad_01 none)
(global ai ai_initial_b_squad_02 none)
(global ai ai_initial_b_squad_03 none)
(global ai ai_initial_b_squad_04 none)
(global ai ai_initial_b_squad_05 none)
(global ai ai_initial_b_squad_06 none)
(global ai ai_initial_b_squad_07 none)
(global ai ai_initial_b_squad_08 none)
(global ai ai_wave_01_squad_01 none)
(global ai ai_wave_01_squad_02 none)
(global ai ai_wave_01_squad_03 none)
(global ai ai_wave_01_squad_04 none)
(global ai ai_wave_01_squad_05 none)
(global ai ai_wave_01_squad_06 none)
(global ai ai_wave_01_squad_07 none)
(global ai ai_wave_01_squad_08 none)
(global ai ai_wave_02_squad_01 none)
(global ai ai_wave_02_squad_02 none)
(global ai ai_wave_02_squad_03 none)
(global ai ai_wave_02_squad_04 none)
(global ai ai_wave_02_squad_05 none)
(global ai ai_wave_02_squad_06 none)
(global ai ai_wave_02_squad_07 none)
(global ai ai_wave_02_squad_08 none)
(global ai ai_wave_03_squad_01 none)
(global ai ai_wave_03_squad_02 none)
(global ai ai_wave_03_squad_03 none)
(global ai ai_wave_03_squad_04 none)
(global ai ai_wave_03_squad_05 none)
(global ai ai_wave_03_squad_06 none)
(global ai ai_wave_03_squad_07 none)
(global ai ai_wave_03_squad_08 none)
(global ai ai_wave_04_squad_01 none)
(global ai ai_wave_04_squad_02 none)
(global ai ai_wave_04_squad_03 none)
(global ai ai_wave_04_squad_04 none)
(global ai ai_wave_04_squad_05 none)
(global ai ai_wave_04_squad_06 none)
(global ai ai_wave_04_squad_07 none)
(global ai ai_wave_04_squad_08 none)
(global ai ai_wave_05_squad_01 none)
(global ai ai_wave_05_squad_02 none)
(global ai ai_wave_05_squad_03 none)
(global ai ai_wave_05_squad_04 none)
(global ai ai_wave_05_squad_05 none)
(global ai ai_wave_05_squad_06 none)
(global ai ai_wave_05_squad_07 none)
(global ai ai_wave_05_squad_08 none)
(global ai ai_wave_06_squad_01 none)
(global ai ai_wave_06_squad_02 none)
(global ai ai_wave_06_squad_03 none)
(global ai ai_wave_06_squad_04 none)
(global ai ai_wave_06_squad_05 none)
(global ai ai_wave_06_squad_06 none)
(global ai ai_wave_06_squad_07 none)
(global ai ai_wave_06_squad_08 none)
(global ai ai_wave_07_squad_01 none)
(global ai ai_wave_07_squad_02 none)
(global ai ai_wave_07_squad_03 none)
(global ai ai_wave_07_squad_04 none)
(global ai ai_wave_07_squad_05 none)
(global ai ai_wave_07_squad_06 none)
(global ai ai_wave_07_squad_07 none)
(global ai ai_wave_07_squad_08 none)
(global ai ai_wave_08_squad_01 none)
(global ai ai_wave_08_squad_02 none)
(global ai ai_wave_08_squad_03 none)
(global ai ai_wave_08_squad_04 none)
(global ai ai_wave_08_squad_05 none)
(global ai ai_wave_08_squad_06 none)
(global ai ai_wave_08_squad_07 none)
(global ai ai_wave_08_squad_08 none)
(global ai ai_wave_09_squad_01 none)
(global ai ai_wave_09_squad_02 none)
(global ai ai_wave_09_squad_03 none)
(global ai ai_wave_09_squad_04 none)
(global ai ai_wave_09_squad_05 none)
(global ai ai_wave_09_squad_06 none)
(global ai ai_wave_09_squad_07 none)
(global ai ai_wave_09_squad_08 none)
(global ai ai_wave_10_squad_01 none)
(global ai ai_wave_10_squad_02 none)
(global ai ai_wave_10_squad_03 none)
(global ai ai_wave_10_squad_04 none)
(global ai ai_wave_10_squad_05 none)
(global ai ai_wave_10_squad_06 none)
(global ai ai_wave_10_squad_07 none)
(global ai ai_wave_10_squad_08 none)
(global ai ai_wave_11_squad_01 none)
(global ai ai_wave_11_squad_02 none)
(global ai ai_wave_11_squad_03 none)
(global ai ai_wave_11_squad_04 none)
(global ai ai_wave_11_squad_05 none)
(global ai ai_wave_11_squad_06 none)
(global ai ai_wave_11_squad_07 none)
(global ai ai_wave_11_squad_08 none)
(global ai ai_wave_12_squad_01 none)
(global ai ai_wave_12_squad_02 none)
(global ai ai_wave_12_squad_03 none)
(global ai ai_wave_12_squad_04 none)
(global ai ai_wave_12_squad_05 none)
(global ai ai_wave_12_squad_06 none)
(global ai ai_wave_12_squad_07 none)
(global ai ai_wave_12_squad_08 none)
(global ai ai_wave_13_squad_01 none)
(global ai ai_wave_13_squad_02 none)
(global ai ai_wave_13_squad_03 none)
(global ai ai_wave_13_squad_04 none)
(global ai ai_wave_13_squad_05 none)
(global ai ai_wave_13_squad_06 none)
(global ai ai_wave_13_squad_07 none)
(global ai ai_wave_13_squad_08 none)
(global ai ai_wave_14_squad_01 none)
(global ai ai_wave_14_squad_02 none)
(global ai ai_wave_14_squad_03 none)
(global ai ai_wave_14_squad_04 none)
(global ai ai_wave_14_squad_05 none)
(global ai ai_wave_14_squad_06 none)
(global ai ai_wave_14_squad_07 none)
(global ai ai_wave_14_squad_08 none)
(global ai ai_wave_15_squad_01 none)
(global ai ai_wave_15_squad_02 none)
(global ai ai_wave_15_squad_03 none)
(global ai ai_wave_15_squad_04 none)
(global ai ai_wave_15_squad_05 none)
(global ai ai_wave_15_squad_06 none)
(global ai ai_wave_15_squad_07 none)
(global ai ai_wave_15_squad_08 none)
(global ai ai_final_a_squad_01 none)
(global ai ai_final_a_squad_02 none)
(global ai ai_final_a_squad_03 none)
(global ai ai_final_a_squad_04 none)
(global ai ai_final_a_squad_05 none)
(global ai ai_final_a_squad_06 none)
(global ai ai_final_a_squad_07 none)
(global ai ai_final_a_squad_08 none)
(global ai ai_final_b_squad_01 none)
(global ai ai_final_b_squad_02 none)
(global ai ai_final_b_squad_03 none)
(global ai ai_final_b_squad_04 none)
(global ai ai_final_b_squad_05 none)
(global ai ai_final_b_squad_06 none)
(global ai ai_final_b_squad_07 none)
(global ai ai_final_b_squad_08 none)
(global ai ai_bonus_squad_01 none)
(global ai ai_bonus_squad_02 none)
(global ai ai_bonus_squad_03 none)
(global ai ai_bonus_squad_04 none)
(global ai ai_bonus_squad_05 none)
(global ai ai_bonus_squad_06 none)
(global ai ai_bonus_squad_07 none)
(global ai ai_bonus_squad_08 none)
(global boolean g_music_l300_01 true)
(global boolean g_music_l300_02 false)
(global boolean g_music_l300_02_alt false)
(global boolean g_music_l300_03 false)
(global boolean g_music_l300_04 false)
(global boolean g_music_l300_05 false)
(global boolean g_music_l300_06 false)
(global boolean g_music_l300_065 false)
(global boolean g_music_l300_07 false)
(global boolean g_music_l300_08 false)
(global boolean g_music_l300_09 false)
(global real sky_var 0)
(global boolean dialog_playing false)
(global boolean dialog_engineer_alive true)
(global boolean cell01_door_open false)
(global boolean g_olifaunt_damaged false)
(global short g_olifaunt_dialog 0)
(global short g_linerand 0)
(global boolean g_go_engineer false)
(global short g_set_all 10)
(global boolean editor false)
(global boolean g_play_cinematics true)
(global boolean g_player_training true)
(global boolean debug true)
(global boolean dialogue true)
(global boolean g_music true)
(global real g_shield_intensity 0)
(global real g_shield_last 1)
(global real g_shield_current 1)
(global short g_insertion_index 0)
(global real g_nav_offset 0.55)
(global real g_olifaunt_shield 1)
(global short cell 0)
(global boolean hub_elevator_start false)
(global short g_intro_obj_control 0)
(global short g_cell01_obj_control 0)
(global short g_cell02_obj_control 0)
(global short g_cell03_obj_control 0)
(global short g_cell04_obj_control 0)
(global short g_cell05_obj_control 0)
(global short g_cell06_obj_control 0)
(global short g_cell07_obj_control 0)
(global short g_cell08_obj_control 0)
(global short g_cell09_obj_control 0)
(global short g_cell10_obj_control 0)
(global short g_cell11_obj_control 0)
(global short g_cell12_obj_control 0)
(global short g_cell13_obj_control 0)
(global short g_cell13_encounter 0)
(global vehicle v_olifaunt none)
(global vehicle v_warthog none)
(global vehicle v_gausshog none)
(global vehicle v_scorpion none)
(global vehicle v_coop none)
(global vehicle v_end_phantom_1 none)
(global vehicle v_end_phantom_2 none)
(global vehicle v_end_phantom_3 none)
(global vehicle v_end_phantom_hunter none)
(global vehicle v_cell08_phantom01 none)
(global vehicle v_cell09_phantom01 none)
(global vehicle v_cell09_phantom02 none)
(global vehicle v_cell09_phantom03 none)
(global vehicle v_cell09_phantom04 none)
(global object obj_olifaunt none)
(global object obj_buck none)
(global object obj_dare none)
(global object obj_engineer none)
(global object obj_warthog none)
(global object obj_gausshog none)
(global object obj_scorpion none)
(global object obj_coop none)
(global object obj_mongoose_vm none)
(global object obj_mongoose_vm2 none)
(global ai ai_buck none)
(global ai ai_dare none)
(global ai ai_engineer none)
(global ai ai_olifaunt none)
(global boolean scarab_see_bool false)
(global boolean scarab_fire_bool false)
(global boolean scarab_hit_bool false)
(global boolean g_vidmaster true)
(global boolean buck_arrived false)
(global boolean dare_arrived false)
(global short dare_path_check 0)
(global boolean b_cell13_wraith_seen false)
(global boolean end_phantom_spotted false)
(global short s_dist 5)
(global short m_dist 15)
(global short l_dist 30)
(global short g_running_time 0)
(global short g_time_out 0)
(global point_reference g_point "olifaunt01/p0")
(global boolean g_reset false)
(global boolean g_restart false)
(global boolean g_minor false)
(global boolean g_major false)
(global boolean g_critical false)
(global short g_random_number 0)
(global boolean g_objective false)
(global boolean survival_from_closets false)
(global boolean b_load_in_phantom false)

; Scripts
(script static void (f_load_phantom (vehicle phantom, string load_side, ai load_squad_01, ai load_squad_02, ai load_squad_03, ai load_squad_04))
    (ai_place load_squad_01)
    (ai_place load_squad_02)
    (ai_place load_squad_03)
    (ai_place load_squad_04)
    (sleep 1)
    (if (= load_side "left")
        (begin
            (if debug
                (print "load phantom left...")
            )
            (ai_vehicle_enter_immediate load_squad_01 phantom 0)
            (ai_vehicle_enter_immediate load_squad_02 phantom 2)
            (ai_vehicle_enter_immediate load_squad_03 phantom 4)
            (ai_vehicle_enter_immediate load_squad_04 phantom 6)
        )
        (if (= load_side "right")
            (begin
                (if debug
                    (print "load phantom right...")
                )
                (ai_vehicle_enter_immediate load_squad_01 phantom 8)
                (ai_vehicle_enter_immediate load_squad_02 phantom 10)
                (ai_vehicle_enter_immediate load_squad_03 phantom 12)
                (ai_vehicle_enter_immediate load_squad_04 phantom 14)
            )
            (if (= load_side "dual")
                (begin
                    (if debug
                        (print "load phantom dual...")
                    )
                    (ai_vehicle_enter_immediate load_squad_01 phantom 2)
                    (ai_vehicle_enter_immediate load_squad_02 phantom 10)
                    (ai_vehicle_enter_immediate load_squad_03 phantom 0)
                    (ai_vehicle_enter_immediate load_squad_04 phantom 8)
                )
                (if (= load_side "chute")
                    (begin
                        (if debug
                            (print "load phantom chute...")
                        )
                        (ai_vehicle_enter_immediate load_squad_01 phantom 16)
                        (ai_vehicle_enter_immediate load_squad_02 phantom 18)
                        (ai_vehicle_enter_immediate load_squad_03 phantom 20)
                        (ai_vehicle_enter_immediate load_squad_04 phantom 22)
                    )
                )
            )
        )
    )
)

(script static void (f_load_phantom_cargo (vehicle phantom, string load_number, ai load_squad_01, ai load_squad_02))
    (if (= load_number "single")
        (begin
            (ai_place load_squad_01)
            (sleep 1)
            (vehicle_load_magic phantom 24 (ai_vehicle_get_from_squad load_squad_01 0))
        )
        (if (= load_number "double")
            (begin
                (ai_place load_squad_01)
                (ai_place load_squad_02)
                (sleep 1)
                (vehicle_load_magic phantom 26 (ai_vehicle_get_from_squad load_squad_01 0))
                (vehicle_load_magic phantom 28 (ai_vehicle_get_from_squad load_squad_02 0))
            )
        )
    )
)

(script static void (f_unload_phantom (vehicle phantom, string drop_side))
    (if (= drop_side "left")
        (begin
            (f_unload_ph_left phantom)
            (sleep 45)
            (f_unload_ph_mid_left phantom)
            (sleep 75)
        )
        (if (= drop_side "right")
            (begin
                (f_unload_ph_right phantom)
                (sleep 45)
                (f_unload_ph_mid_right phantom)
                (sleep 75)
            )
            (if (= drop_side "dual")
                (begin
                    (f_unload_ph_left phantom)
                    (f_unload_ph_right phantom)
                    (sleep 75)
                )
                (if (= drop_side "chute")
                    (begin
                        (f_unload_ph_chute phantom)
                        (sleep 75)
                    )
                )
            )
        )
    )
)

(script static void (f_unload_ph_left (vehicle phantom))
    (begin_random
        (begin
            (vehicle_unload phantom 2)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload phantom 0)
            (sleep (random_range 0 10))
        )
    )
)

(script static void (f_unload_ph_right (vehicle phantom))
    (begin_random
        (begin
            (vehicle_unload phantom 10)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload phantom 8)
            (sleep (random_range 0 10))
        )
    )
)

(script static void (f_unload_ph_mid_left (vehicle phantom))
    (begin_random
        (begin
            (vehicle_unload phantom 4)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload phantom 6)
            (sleep (random_range 0 10))
        )
    )
)

(script static void (f_unload_ph_mid_right (vehicle phantom))
    (begin_random
        (begin
            (vehicle_unload phantom 12)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload phantom 14)
            (sleep (random_range 0 10))
        )
    )
)

(script static void (f_unload_ph_chute (vehicle phantom))
    (object_set_phantom_power phantom true)
    (if (vehicle_test_seat phantom 16)
        (begin
            (vehicle_unload phantom 16)
            (sleep 120)
        )
    )
    (if (vehicle_test_seat phantom 18)
        (begin
            (vehicle_unload phantom 18)
            (sleep 120)
        )
    )
    (if (vehicle_test_seat phantom 20)
        (begin
            (vehicle_unload phantom 20)
            (sleep 120)
        )
    )
    (if (vehicle_test_seat phantom 22)
        (begin
            (vehicle_unload phantom 22)
            (sleep 120)
        )
    )
    (object_set_phantom_power phantom false)
)

(script static void (f_unload_phantom_cargo (vehicle phantom, string load_number))
    (if (= load_number "single")
        (vehicle_unload phantom 24)
        (if (= load_number "double")
            (begin_random
                (begin
                    (vehicle_unload phantom 26)
                    (sleep (random_range 15 30))
                )
                (begin
                    (vehicle_unload phantom 28)
                    (sleep (random_range 15 30))
                )
            )
        )
    )
)

(script static unit player0
    (player_get 0)
)

(script static unit player1
    (player_get 1)
)

(script static unit player2
    (player_get 2)
)

(script static unit player3
    (player_get 3)
)

(script static short player_count
    (list_count (players))
)

(script static void print_difficulty
    (if (= (game_difficulty_get_real) easy)
        (print "easy")
        (if (= (game_difficulty_get_real) normal)
            (print "normal")
            (if (= (game_difficulty_get_real) heroic)
                (print "heroic")
                (if (= (game_difficulty_get_real) legendary)
                    (print "legendary")
                )
            )
        )
    )
)

(script static boolean difficulty_legendary
    (= (game_difficulty_get_real) legendary)
)

(script static boolean difficulty_heroic
    (= (game_difficulty_get_real) heroic)
)

(script static boolean difficulty_normal
    (<= (game_difficulty_get_real) normal)
)

(script static void replenish_players
    (if debug
        (print "replenish player health...")
    )
    (unit_set_current_vitality (player0) 80 80)
    (unit_set_current_vitality (player1) 80 80)
    (unit_set_current_vitality (player2) 80 80)
    (unit_set_current_vitality (player3) 80 80)
)

(script static boolean coop_players_2
    (>= (game_coop_player_count) 2)
)

(script static boolean coop_players_3
    (>= (game_coop_player_count) 3)
)

(script static boolean coop_players_4
    (>= (game_coop_player_count) 4)
)

(script dormant void player0_award_tourist
    (f_award_tourist player_00)
)

(script dormant void player1_award_tourist
    (f_award_tourist player_01)
)

(script dormant void player2_award_tourist
    (f_award_tourist player_02)
)

(script dormant void player3_award_tourist
    (f_award_tourist player_03)
)

(script static void (f_award_tourist (short player_short))
    (sleep_until (pda_is_active_deterministic (player_get player_short)) 45)
    (sleep 30)
    (achievement_grant_to_player (player_get player_short) "_achievement_tourist")
)

(script static void (f_sleep_until_activate_waypoint (short player_short))
    (sleep 3)
    (unit_action_test_reset (player_get player_short))
    (sleep 3)
    (sleep_until (and (> (object_get_health (player_get player_short)) 0) (or (unit_action_test_dpad_up (player_get player_short)) (unit_action_test_dpad_down (player_get player_short)))) 1)
    (f_sfx_a_button player_short)
    (sleep 3)
)

(script static void (f_sleep_deactivate_waypoint (short player_short))
    (sleep 3)
    (unit_action_test_reset (player_get player_short))
    (sleep 3)
    (sleep_until (or (<= (unit_get_health (player_get player_short)) 0) (unit_action_test_dpad_up (player_get player_short)) (unit_action_test_dpad_down (player_get player_short))) 1 s_waypoint_timer)
    (if (or (unit_action_test_dpad_up (player_get player_short)) (unit_action_test_dpad_down (player_get player_short)))
        (f_sfx_a_button player_short)
    )
    (sleep 3)
)

(script static void (f_waypoint_message (short player_short, cutscene_flag waypoint_01, cutscene_title display_title, cutscene_title blank_title))
    (unit_action_test_reset (player_get player_short))
    (if (not (pda_is_active_deterministic (player_get player_short)))
        (begin
            (chud_show_cinematic_title (player_get player_short) display_title)
            (sleep 15)
            (f_sleep_deactivate_waypoint player_short)
            (chud_show_cinematic_title (player_get player_short) blank_title)
        )
        (sleep 5)
    )
)

(script static void (f_waypoint_activate_1 (short player_short, cutscene_flag waypoint_01))
    (unit_action_test_reset (player_get player_short))
    (if (not (pda_is_active_deterministic (player_get player_short)))
        (chud_show_navpoint (player_get player_short) waypoint_01 0.55 true)
    )
    (sleep 15)
    (f_sleep_deactivate_waypoint player_short)
    (chud_show_navpoint (player_get player_short) waypoint_01 0 false)
)

(script static void (f_waypoint_activate_2 (short player_short, cutscene_flag waypoint_01, cutscene_flag waypoint_02))
    (unit_action_test_reset (player_get player_short))
    (if (not (pda_is_active_deterministic (player_get player_short)))
        (begin
            (chud_show_navpoint (player_get player_short) waypoint_01 0.55 true)
            (chud_show_navpoint (player_get player_short) waypoint_02 0.55 true)
        )
    )
    (sleep 15)
    (f_sleep_deactivate_waypoint player_short)
    (chud_show_navpoint (player_get player_short) waypoint_01 0 false)
    (chud_show_navpoint (player_get player_short) waypoint_02 0 false)
)

(script static void (f_waypoint_activate_3 (short player_short, cutscene_flag waypoint_01, cutscene_flag waypoint_02, cutscene_flag waypoint_03))
    (unit_action_test_reset (player_get player_short))
    (if (not (pda_is_active_deterministic (player_get player_short)))
        (begin
            (chud_show_navpoint (player_get player_short) waypoint_01 0.55 true)
            (chud_show_navpoint (player_get player_short) waypoint_02 0.55 true)
            (chud_show_navpoint (player_get player_short) waypoint_03 0.55 true)
        )
    )
    (sleep 15)
    (f_sleep_deactivate_waypoint player_short)
    (chud_show_navpoint (player_get player_short) waypoint_01 0 false)
    (chud_show_navpoint (player_get player_short) waypoint_02 0 false)
    (chud_show_navpoint (player_get player_short) waypoint_03 0 false)
)

(script static void (f_waypoint_activate_4 (short player_short, cutscene_flag waypoint_01, cutscene_flag waypoint_02, cutscene_flag waypoint_03, cutscene_flag waypoint_04))
    (unit_action_test_reset (player_get player_short))
    (if (not (pda_is_active_deterministic (player_get player_short)))
        (begin
            (chud_show_navpoint (player_get player_short) waypoint_01 0.55 true)
            (chud_show_navpoint (player_get player_short) waypoint_02 0.55 true)
            (chud_show_navpoint (player_get player_short) waypoint_03 0.55 true)
            (chud_show_navpoint (player_get player_short) waypoint_04 0.55 true)
        )
    )
    (sleep 15)
    (f_sleep_deactivate_waypoint player_short)
    (chud_show_navpoint (player_get player_short) waypoint_01 0 false)
    (chud_show_navpoint (player_get player_short) waypoint_02 0 false)
    (chud_show_navpoint (player_get player_short) waypoint_03 0 false)
    (chud_show_navpoint (player_get player_short) waypoint_04 0 false)
)

(script static void (f_coop_resume_unlocked (cutscene_title resume_title, short insertion_point))
    (if (game_is_cooperative)
        (begin
            (sound_impulse_start sfx_hud_in none 1)
            (cinematic_set_chud_objective resume_title)
            (game_insertion_point_unlock insertion_point)
        )
    )
)

(script static void (f_new_intel (cutscene_title new_intel, cutscene_title intel_chapter, long objective_number, cutscene_flag minimap_flag))
    (sound_impulse_start sfx_objective none 1)
    (chud_display_pda_objectives_message "pda_activate_intel" 0)
    (cinematic_set_chud_objective new_intel)
    (objectives_show objective_number)
    (sleep 60)
    (sound_impulse_start sfx_hud_in none 1)
    (cinematic_set_chud_objective intel_chapter)
    (sleep (* 30 3))
    (sound_impulse_start sfx_hud_out none 1)
    (chud_display_pda_minimap_message "" minimap_flag)
)

(script static boolean cinematic_skip_start
    (cinematic_skip_start_internal)
    (game_save_cinematic_skip)
    (sleep_until (not (game_saving)) 1)
    (not (game_reverted))
)

(script static void cinematic_skip_stop
    (cinematic_skip_stop_internal)
    (if (not (game_reverted))
        (game_revert)
    )
)

(script static void cinematic_skip_stop_terminal
    (cinematic_skip_stop_internal)
    (if (not (game_reverted))
        (begin
            (game_revert)
            (if debug
                (print "sleeping forever...")
            )
            (sleep_forever)
        )
    )
)

(script static void cinematic_snap_to_black
    (fade_out 0 0 0 0)
    (cinematic_preparation)
)

(script static void cinematic_snap_to_white
    (fade_out 1 1 1 0)
    (cinematic_preparation)
)

(script static void cinematic_preparation
    (ai_disregard (players) true)
    (object_cannot_take_damage (players))
    (player_control_fade_out_all_input 0)
    (object_hide (player0) true)
    (object_hide (player1) true)
    (object_hide (player2) true)
    (object_hide (player3) true)
    (unit_enable_vision_mode (player0) false)
    (unit_enable_vision_mode (player1) false)
    (unit_enable_vision_mode (player2) false)
    (unit_enable_vision_mode (player3) false)
    (player_close_pda (player0))
    (player_close_pda (player1))
    (player_close_pda (player2))
    (player_close_pda (player3))
    (replenish_players)
    (pda_stop_arg_sound (player0))
    (pda_stop_arg_sound (player1))
    (pda_stop_arg_sound (player2))
    (pda_stop_arg_sound (player3))
    (chud_cinematic_fade 0 0)
    (chud_show_messages false)
    (campaign_metagame_time_pause true)
    (player_enable_input false)
    (player_disable_movement false)
    (sleep 1)
    (cinematic_start)
    (camera_control true)
)

(script static void cinematic_snap_from_black
    (cinematic_snap_from_pre)
    (sleep 5)
    (fade_in 0 0 0 5)
    (cinematic_snap_from_post)
)

(script static void cinematic_snap_from_white
    (cinematic_snap_from_pre)
    (sleep 5)
    (fade_in 1 1 1 5)
    (cinematic_snap_from_post)
)

(script static void cinematic_snap_from_pre
    (cinematic_stop)
    (camera_control false)
    (cinematic_show_letterbox_immediate false)
    (cinematic_hud_off)
    (sleep 1)
    (chud_cinematic_fade 1 0)
    (object_hide (player0) false)
    (object_hide (player1) false)
    (object_hide (player2) false)
    (object_hide (player3) false)
)

(script static void cinematic_snap_from_post
    (unit_enable_vision_mode (player0) true)
    (unit_enable_vision_mode (player1) true)
    (unit_enable_vision_mode (player2) true)
    (unit_enable_vision_mode (player3) true)
    (player_enable_input true)
    (player_control_fade_in_all_input 1)
    (campaign_metagame_time_pause false)
    (ai_disregard (players) false)
    (object_can_take_damage (players))
    (player_disable_movement false)
    (chud_show_messages true)
    (if (not (campaign_survival_enabled))
        (game_save)
    )
)

(script static void cinematic_fade_to_black
    (ai_disregard (players) true)
    (object_cannot_take_damage (players))
    (player_control_fade_out_all_input 1)
    (campaign_metagame_time_pause true)
    (sleep 10)
    (chud_cinematic_fade 0 0.5)
    (cinematic_show_letterbox true)
    (sleep 5)
    (fade_out 0 0 0 30)
    (sleep 30)
    (object_hide (player0) true)
    (object_hide (player1) true)
    (object_hide (player2) true)
    (object_hide (player3) true)
    (unit_enable_vision_mode (player0) false)
    (unit_enable_vision_mode (player1) false)
    (unit_enable_vision_mode (player2) false)
    (unit_enable_vision_mode (player3) false)
    (player_close_pda (player0))
    (player_close_pda (player1))
    (player_close_pda (player2))
    (player_close_pda (player3))
    (cinematic_start)
    (camera_control true)
    (player_enable_input false)
    (player_disable_movement false)
    (sleep 1)
    (cinematic_show_letterbox_immediate true)
)

(script static void cinematic_fade_to_gameplay
    (cinematic_stop)
    (camera_control false)
    (cinematic_show_letterbox_immediate true)
    (object_hide (player0) false)
    (object_hide (player1) false)
    (object_hide (player2) false)
    (object_hide (player3) false)
    (player_control_unlock_gaze (player0))
    (player_control_unlock_gaze (player1))
    (player_control_unlock_gaze (player2))
    (player_control_unlock_gaze (player3))
    (sleep 1)
    (sleep 1)
    (fade_in 0 0 0 15)
    (sleep 15)
    (cinematic_show_letterbox false)
    (sleep 15)
    (chud_cinematic_fade 1 1)
    (unit_raise_weapon (player0) 30)
    (unit_raise_weapon (player1) 30)
    (unit_raise_weapon (player2) 30)
    (unit_raise_weapon (player3) 30)
    (sleep 10)
    (player_enable_input true)
    (player_control_fade_in_all_input 1)
    (campaign_metagame_time_pause false)
    (ai_disregard (players) false)
    (object_can_take_damage (players))
    (player_disable_movement false)
)

(script static void cinematic_hud_on
    (chud_cinematic_fade 1 0)
    (chud_show_compass false)
    (chud_show_crosshair false)
)

(script static void cinematic_hud_off
    (chud_cinematic_fade 0 0)
    (chud_show_compass true)
    (chud_show_crosshair true)
)

(script dormant void pda_breadcrumbs
    (pda_set_footprint_dead_zone 5)
    (sleep_until 
        (begin
            (player_add_footprint (player0) g_pda_breadcrumb_fade)
            (player_add_footprint (player1) g_pda_breadcrumb_fade)
            (player_add_footprint (player2) g_pda_breadcrumb_fade)
            (player_add_footprint (player3) g_pda_breadcrumb_fade)
            false
        )
        g_pda_breadcrumb_timer
    )
)

(script static void end_mission
    (if global_playtest_mode
        (begin
            (data_mine_set_mission_segment "questionaire")
            (cinematic_fade_to_gameplay)
            (sleep 1)
            (print "end mission!")
            (sleep 15)
            (hud_show_training_text true)
            (sleep 90)
            (player_action_test_reset)
            (sleep_until 
                (begin
                    (sleep_until (player_action_test_accept) 1 90)
                    (player_action_test_accept)
                )
                1
            )
            (hud_show_training_text false)
            (print "loading next mission...")
            (sleep 15)
        )
        (begin
            (fade_out 0 0 0 0)
            (cinematic_stop)
            (camera_control false)
        )
    )
    (game_won)
)

(script static void (f_end_scene (script cinematic_outro, zone_set cinematic_zone_set, string_id scene_boolean, string_id scene_name, string snap_color))
    (if (= snap_color "black")
        (cinematic_snap_to_black)
        (if (= snap_color "white")
            (cinematic_snap_to_white)
        )
    )
    (sleep 1)
    (game_award_level_complete_achievements)
    (game_level_prepare scene_name)
    (ai_erase_all)
    (switch_zone_set cinematic_zone_set)
    (sound_suppress_ambience_update_on_revert)
    (sleep 1)
    (if (= g_play_cinematics true)
        (begin
            (if (cinematic_skip_start)
                (begin
                    (if debug
                        (print "play outro cinematic...")
                    )
                    (cinematic_show_letterbox true)
                    (sleep 30)
                    (evaluate cinematic_outro)
                    (sound_class_set_gain "" 0 0)
                )
            )
            (cinematic_skip_stop_internal)
        )
    )
    (sound_class_set_gain "" 0 0)
    (sound_class_set_gain "ui" 1 0)
    (cinematic_snap_to_black)
    (gp_boolean_set scene_boolean true)
    (gp_boolean_set "gp_l100_complete" true)
    (if debug
        (print "switch to scene...")
    )
    (game_level_advance scene_name)
)

(script startup void beginning_mission_segment
    (data_mine_set_mission_segment "mission_start")
)

(script static void (f_sfx_a_button (short player_short))
    (sound_impulse_start sfx_a_button (player_get player_short) 1)
)

(script static void (f_sfx_b_button (short player_short))
    (sound_impulse_start sfx_b_button (player_get player_short) 1)
)

(script static void (f_sfx_hud_in (short player_short))
    (sound_impulse_start sfx_hud_in (player_get player_short) 1)
)

(script static void (f_sfx_hud_out (short player_short))
    (sound_impulse_start sfx_hud_out (player_get player_short) 1)
)

(script static void (f_display_message (short player_short, cutscene_title display_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
)

(script static void (f_display_message_accept (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (unit_confirm_message (player_get player_short))
    (sleep_until (unit_action_test_accept (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_cancel (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (unit_confirm_cancel_message (player_get player_short))
    (sleep_until (unit_action_test_cancel (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_confirm (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (unit_confirm_message (player_get player_short))
    (unit_confirm_cancel_message (player_get player_short))
    (sleep_until (or (unit_action_test_accept (player_get player_short)) (unit_action_test_cancel (player_get player_short))) 1)
    (if (unit_action_test_accept (player_get player_short))
        (f_sfx_a_button player_short)
        (if (unit_action_test_cancel (player_get player_short))
            (f_sfx_b_button player_short)
        )
    )
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_repeat_training (short player_short, cutscene_title display_title, cutscene_title blank_title, trigger_volume volume_01, trigger_volume volume_02))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (unit_confirm_y_button (player_get player_short))
    (unit_confirm_cancel_message (player_get player_short))
    (sleep_until (or (unit_action_test_y (player_get player_short)) (unit_action_test_cancel (player_get player_short)) (and (not (volume_test_object volume_01 (player_get player_short))) (not (volume_test_object volume_02 (player_get player_short))))) 1)
    (if (or (volume_test_object volume_01 (player_get player_short)) (volume_test_object volume_02 (player_get player_short)))
        (begin
            (if (unit_action_test_y (player_get player_short))
                (f_sfx_a_button player_short)
                (if (unit_action_test_cancel (player_get player_short))
                    (f_sfx_b_button player_short)
                )
            )
            (chud_show_cinematic_title (player_get player_short) blank_title)
            (sleep 5)
        )
    )
)

(script static void (f_display_message_vision (short player_short, cutscene_title display_title, cutscene_title blank_title, trigger_volume volume_01, trigger_volume volume_02))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (or (unit_action_test_vision_trigger (player_get player_short)) (and (not (volume_test_object volume_01 (player_get player_short))) (not (volume_test_object volume_02 (player_get player_short))))) 1)
    (if (or (volume_test_object volume_01 (player_get player_short)) (volume_test_object volume_02 (player_get player_short)))
        (begin
            (f_sfx_a_button player_short)
            (chud_show_cinematic_title (player_get player_short) blank_title)
            (sleep 5)
        )
    )
)

(script static void (f_display_message_accept_volume (short player_short, cutscene_title display_title, cutscene_title blank_title, trigger_volume volume_01, trigger_volume volume_02))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (unit_confirm_message (player_get player_short))
    (sleep_until (or (unit_action_test_accept (player_get player_short)) (and (not (volume_test_object volume_01 (player_get player_short))) (not (volume_test_object volume_02 (player_get player_short))))) 1)
    (if (or (volume_test_object volume_01 (player_get player_short)) (volume_test_object volume_02 (player_get player_short)))
        (begin
            (f_sfx_a_button player_short)
            (chud_show_cinematic_title (player_get player_short) blank_title)
            (sleep 5)
        )
    )
)

(script static void (f_display_message_a (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_accept (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_b (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_cancel (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_x (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_x (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_y (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_y (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_back (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_back (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_back_b (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (or (unit_action_test_back (player_get player_short)) (unit_action_test_cancel (player_get player_short))) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_left_bumper (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_left_shoulder (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_right_bumper (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_right_shoulder (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_bumpers (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (or (unit_action_test_left_shoulder (player_get player_short)) (unit_action_test_right_shoulder (player_get player_short))) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_rotate_gren (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_rotate_grenades (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_action (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_action (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_dpad_up (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_dpad_up (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_dpad_up_down (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (or (unit_action_test_dpad_up (player_get player_short)) (unit_action_test_dpad_down (player_get player_short))) 1)
    (f_sfx_a_button player_short)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_move_stick (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (unit_action_test_move_relative_all_directions (player_get player_short)) 1)
    (f_sfx_a_button player_short)
    (sleep 150)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static void (f_display_message_look_stick (short player_short, cutscene_title display_title, cutscene_title blank_title))
    (chud_show_cinematic_title (player_get player_short) display_title)
    (sleep 5)
    (unit_action_test_reset (player_get player_short))
    (sleep 5)
    (sleep_until (or (unit_action_test_look_relative_up (player_get player_short)) (unit_action_test_look_relative_down (player_get player_short)) (unit_action_test_look_relative_left (player_get player_short)) (unit_action_test_look_relative_right (player_get player_short))) 1)
    (f_sfx_a_button player_short)
    (sleep 150)
    (chud_show_cinematic_title (player_get player_short) blank_title)
    (sleep 5)
)

(script static short h100_arg_completed_short
    (h100_reset_arg_shorts)
    (sleep 1)
    (h100_set_arg_shorts)
    (sleep 1)
    (+ s_sc110_01 s_sc110_02 s_sc110_03 s_sc110_04 s_sc110_05 s_sc110_06 s_sc120_01 s_sc120_02 s_sc120_03 s_sc120_04 s_sc120_05 s_sc120_06 s_sc130_01 s_sc130_02 s_sc130_03 s_sc130_04 s_sc130_05 s_sc130_06 s_sc140_01 s_sc140_02 s_sc140_03 s_sc140_04 s_sc140_05 s_sc140_06 s_sc150_01 s_sc150_02 s_sc150_03 s_sc150_04 s_sc150_05 s_l200_01)
)

(script static void h100_set_arg_shorts
    (if (gp_boolean_get "gp_sc110_terminal_01_complete")
        (set s_sc110_01 1)
    )
    (if (gp_boolean_get "gp_sc110_terminal_02_complete")
        (set s_sc110_02 1)
    )
    (if (gp_boolean_get "gp_sc110_terminal_03_complete")
        (set s_sc110_03 1)
    )
    (if (gp_boolean_get "gp_sc110_terminal_04_complete")
        (set s_sc110_04 1)
    )
    (if (gp_boolean_get "gp_sc110_terminal_05_complete")
        (set s_sc110_05 1)
    )
    (if (gp_boolean_get "gp_sc110_terminal_06_complete")
        (set s_sc110_06 1)
    )
    (if (gp_boolean_get "gp_sc120_terminal_01_complete")
        (set s_sc120_01 1)
    )
    (if (gp_boolean_get "gp_sc120_terminal_02_complete")
        (set s_sc120_02 1)
    )
    (if (gp_boolean_get "gp_sc120_terminal_03_complete")
        (set s_sc120_03 1)
    )
    (if (gp_boolean_get "gp_sc120_terminal_04_complete")
        (set s_sc120_04 1)
    )
    (if (gp_boolean_get "gp_sc120_terminal_05_complete")
        (set s_sc120_05 1)
    )
    (if (gp_boolean_get "gp_sc120_terminal_06_complete")
        (set s_sc120_06 1)
    )
    (if (gp_boolean_get "gp_sc130_terminal_01_complete")
        (set s_sc130_01 1)
    )
    (if (gp_boolean_get "gp_sc130_terminal_02_complete")
        (set s_sc130_02 1)
    )
    (if (gp_boolean_get "gp_sc130_terminal_03_complete")
        (set s_sc130_03 1)
    )
    (if (gp_boolean_get "gp_sc130_terminal_04_complete")
        (set s_sc130_04 1)
    )
    (if (gp_boolean_get "gp_sc130_terminal_05_complete")
        (set s_sc130_05 1)
    )
    (if (gp_boolean_get "gp_sc130_terminal_06_complete")
        (set s_sc130_06 1)
    )
    (if (gp_boolean_get "gp_sc140_terminal_01_complete")
        (set s_sc140_01 1)
    )
    (if (gp_boolean_get "gp_sc140_terminal_02_complete")
        (set s_sc140_02 1)
    )
    (if (gp_boolean_get "gp_sc140_terminal_03_complete")
        (set s_sc140_03 1)
    )
    (if (gp_boolean_get "gp_sc140_terminal_04_complete")
        (set s_sc140_04 1)
    )
    (if (gp_boolean_get "gp_sc140_terminal_05_complete")
        (set s_sc140_05 1)
    )
    (if (gp_boolean_get "gp_sc140_terminal_06_complete")
        (set s_sc140_06 1)
    )
    (if (gp_boolean_get "gp_sc150_terminal_01_complete")
        (set s_sc150_01 1)
    )
    (if (gp_boolean_get "gp_sc150_terminal_02_complete")
        (set s_sc150_02 1)
    )
    (if (gp_boolean_get "gp_sc150_terminal_03_complete")
        (set s_sc150_03 1)
    )
    (if (gp_boolean_get "gp_sc150_terminal_04_complete")
        (set s_sc150_04 1)
    )
    (if (gp_boolean_get "gp_sc150_terminal_05_complete")
        (set s_sc150_05 1)
    )
    (if (gp_boolean_get "gp_l200_terminal_01_complete")
        (set s_l200_01 1)
    )
)

(script static void h100_reset_arg_shorts
    (set s_sc110_01 0)
    (set s_sc110_02 0)
    (set s_sc110_03 0)
    (set s_sc110_04 0)
    (set s_sc110_05 0)
    (set s_sc110_06 0)
    (set s_sc120_01 0)
    (set s_sc120_02 0)
    (set s_sc120_03 0)
    (set s_sc120_04 0)
    (set s_sc120_05 0)
    (set s_sc120_06 0)
    (set s_sc130_01 0)
    (set s_sc130_02 0)
    (set s_sc130_03 0)
    (set s_sc130_04 0)
    (set s_sc130_05 0)
    (set s_sc130_06 0)
    (set s_sc140_01 0)
    (set s_sc140_02 0)
    (set s_sc140_03 0)
    (set s_sc140_04 0)
    (set s_sc140_05 0)
    (set s_sc140_06 0)
    (set s_sc150_01 0)
    (set s_sc150_02 0)
    (set s_sc150_03 0)
    (set s_sc150_04 0)
    (set s_sc150_05 0)
    (set s_l200_01 0)
)

(script static boolean survival_you_are_a_man
    true
)

(script static void survival_squad_limit
    (set k_sur_squad_per_wave_limit 6)
    (set k_phantom_spawn_limit 2)
)

(script static void survival_wave_limit
    (survival_mode_set_waves_per_round 5)
    (set k_sur_wave_per_round_limit 5)
)

(script static void survival_round_limit
    (survival_mode_set_rounds_per_set 3)
    (set k_sur_round_per_set_limit 3)
)

(script static void survival_ai_limit
    (if (difficulty_legendary)
        (begin
            (set k_sur_ai_rand_limit 6)
            (set k_sur_ai_final_limit 4)
            (set k_sur_ai_end_limit 0)
        )
        (if (difficulty_heroic)
            (begin
                (set k_sur_ai_rand_limit 4)
                (set k_sur_ai_final_limit 3)
                (set k_sur_ai_end_limit 0)
            )
            (if true
                (begin
                    (set k_sur_ai_rand_limit 4)
                    (set k_sur_ai_final_limit 2)
                    (set k_sur_ai_end_limit 0)
                )
            )
        )
    )
)

(script static void survival_ai_timeout
    (if (difficulty_legendary)
        (set k_sur_wave_timeout (* 30 10))
        (if (difficulty_heroic)
            (set k_sur_wave_timeout (* 30 20))
            (if true
                (set k_sur_wave_timeout (* 30 30))
            )
        )
    )
)

(script static void survival_wave_timer
    (if (difficulty_legendary)
        (set k_sur_wave_timer (* 30 3))
        (if (difficulty_heroic)
            (set k_sur_wave_timer (* 30 6))
            (if true
                (set k_sur_wave_timer (* 30 9))
            )
        )
    )
)

(script static void survival_round_timer
    (if (difficulty_legendary)
        (set k_sur_round_timer (* 30 5))
        (if (difficulty_heroic)
            (set k_sur_round_timer (* 30 10))
            (if true
                (set k_sur_round_timer (* 30 15))
            )
        )
    )
)

(script static void survival_set_timer
    (if (difficulty_legendary)
        (set k_sur_set_timer (* 30 10))
        (if (difficulty_heroic)
            (set k_sur_set_timer (* 30 20))
            (if true
                (set k_sur_set_timer (* 30 30))
            )
        )
    )
)

(script static void survival_bonus_wait_timer
    (if (difficulty_legendary)
        (set k_sur_bonus_timer (* 30 5))
        (if (difficulty_heroic)
            (set k_sur_bonus_timer (* 30 10))
            (if true
                (set k_sur_bonus_timer (* 30 15))
            )
        )
    )
)

(script static void survival_lives
    (survival_mode_lives_set 7)
)

(script static void survival_add_lives
    (survival_mode_award_hero_medal)
    (sleep 1)
    (survival_mode_respawn_dead_players)
    (sleep 1)
    (if (>= (game_coop_player_count) 4)
        (survival_mode_lives_set (+ (survival_mode_lives_get) 4))
        (if (>= (game_coop_player_count) 3)
            (survival_mode_lives_set (+ (survival_mode_lives_get) 3))
            (if (>= (game_coop_player_count) 2)
                (survival_mode_lives_set (+ (survival_mode_lives_get) 2))
                (if true
                    (survival_mode_lives_set (+ (survival_mode_lives_get) 1))
                )
            )
        )
    )
    (survival_mode_event_new "survival_awarded_lives")
)

(script static void survival_award_bonus_lives
    (if (>= (game_coop_player_count) 4)
        (survival_mode_lives_set (+ (survival_mode_lives_get) 4))
        (if (>= (game_coop_player_count) 3)
            (survival_mode_lives_set (+ (survival_mode_lives_get) 3))
            (if (>= (game_coop_player_count) 2)
                (survival_mode_lives_set (+ (survival_mode_lives_get) 2))
                (if true
                    (survival_mode_lives_set (+ (survival_mode_lives_get) 1))
                )
            )
        )
    )
)

(script static void survival_set_multiplier
    (if (>= (survival_mode_set_get) 9)
        (survival_mode_set_multiplier_set 5)
        (if (>= (survival_mode_set_get) 8)
            (survival_mode_set_multiplier_set 4.5)
            (if (>= (survival_mode_set_get) 7)
                (survival_mode_set_multiplier_set 4)
                (if (>= (survival_mode_set_get) 6)
                    (survival_mode_set_multiplier_set 3.5)
                    (if (>= (survival_mode_set_get) 5)
                        (survival_mode_set_multiplier_set 3)
                        (if (>= (survival_mode_set_get) 4)
                            (survival_mode_set_multiplier_set 2.5)
                            (if (>= (survival_mode_set_get) 3)
                                (survival_mode_set_multiplier_set 2)
                                (if (>= (survival_mode_set_get) 2)
                                    (survival_mode_set_multiplier_set 1.5)
                                    (if (>= (survival_mode_set_get) 1)
                                        (survival_mode_set_multiplier_set 1)
                                    )
                                )
                            )
                        )
                    )
                )
            )
        )
    )
)

(script static void survival_phantom_variance
    (ai_vehicle_reserve "v_surv_turret01" true)
    (ai_vehicle_reserve "v_surv_turret02" true)
    (if (= (random_range 0 3) 0)
        (begin
            (print "**spawn from phantoms**")
            (set b_wave_initial_a_phantom true)
            (set b_wave_initial_b_phantom true)
            (set b_wave_01_phantom true)
            (set b_wave_02_phantom true)
            (set b_wave_03_phantom true)
            (set b_wave_04_phantom true)
            (set b_wave_05_phantom true)
            (set b_wave_06_phantom true)
            (set b_wave_07_phantom true)
            (set b_wave_08_phantom true)
            (set b_wave_09_phantom true)
            (set b_wave_10_phantom true)
            (set b_wave_11_phantom true)
            (set b_wave_12_phantom true)
            (set b_wave_13_phantom true)
            (set b_wave_14_phantom true)
            (set b_wave_15_phantom true)
            (set b_wave_final_a_phantom true)
            (set b_wave_final_b_phantom true)
        )
        (begin
            (print "**spawn from closets**")
            (set survival_from_closets true)
            (set b_wave_initial_a_phantom true)
            (set b_wave_initial_b_phantom true)
            (set b_wave_01_phantom false)
            (set b_wave_02_phantom false)
            (set b_wave_03_phantom false)
            (set b_wave_04_phantom false)
            (set b_wave_05_phantom false)
            (set b_wave_06_phantom false)
            (set b_wave_07_phantom false)
            (set b_wave_08_phantom false)
            (set b_wave_09_phantom false)
            (set b_wave_10_phantom false)
            (set b_wave_11_phantom false)
            (set b_wave_12_phantom false)
            (set b_wave_13_phantom false)
            (set b_wave_14_phantom false)
            (set b_wave_15_phantom false)
            (set b_wave_final_a_phantom true)
            (set b_wave_final_b_phantom true)
        )
    )
)

(script static void survival_vehicle_cleanup
    (if (and (> (object_get_health (ai_vehicle_get_from_spawn_point "survival_extra01/pilot")) 0) (not (vehicle_test_seat (ai_vehicle_get_from_spawn_point "survival_extra01/pilot") none)))
        (begin
            (print "destroying ghost01")
            (object_destroy (ai_vehicle_get_from_spawn_point "survival_extra01/pilot"))
        )
        (if (and (> (object_get_health (ai_vehicle_get_from_spawn_point "survival_extra02/pilot")) 0) (not (vehicle_test_seat (ai_vehicle_get_from_spawn_point "survival_extra02/pilot") none)))
            (begin
                (print "destroying ghost02")
                (object_destroy (ai_vehicle_get_from_spawn_point "survival_extra02/pilot"))
            )
            (if (and (> (object_get_health (ai_vehicle_get_from_spawn_point "survival_extra03/pilot")) 0) (not (vehicle_test_seat (ai_vehicle_get_from_spawn_point "survival_extra03/pilot") none)))
                (begin
                    (print "destroying ghost3")
                    (object_destroy (ai_vehicle_get_from_spawn_point "survival_extra03/pilot"))
                )
                (if (and (> (object_get_health (ai_vehicle_get_from_spawn_point "survival_extra04/pilot")) 0) (not (vehicle_test_seat (ai_vehicle_get_from_spawn_point "survival_extra04/pilot") none)))
                    (begin
                        (print "destroying ghost04")
                        (object_destroy (ai_vehicle_get_from_spawn_point "survival_extra04/pilot"))
                    )
                    (if (and (> (object_get_health (ai_vehicle_get_from_spawn_point "survival_extra05/pilot")) 0) (not (vehicle_test_seat (ai_vehicle_get_from_spawn_point "survival_extra05/pilot") none)))
                        (begin
                            (print "destroying ghost05")
                            (object_destroy (ai_vehicle_get_from_spawn_point "survival_extra05/pilot"))
                        )
                        (if (and (> (object_get_health (ai_vehicle_get_from_spawn_point "survival_extra06/pilot")) 0) (not (vehicle_test_seat (ai_vehicle_get_from_spawn_point "survival_extra06/pilot") none)))
                            (begin
                                (print "destroying ghost06")
                                (object_destroy (ai_vehicle_get_from_spawn_point "survival_extra06/pilot"))
                            )
                        )
                    )
                )
            )
        )
    )
)

(script static void (f_survival_disable_pda (short player_short))
    (pda_input_enable (player_get player_short) true)
    (sleep 1)
    (pda_input_enable_a (player_get player_short) false)
    (pda_input_enable_x (player_get player_short) false)
    (pda_input_enable_y (player_get player_short) false)
    (pda_input_enable_dpad (player_get player_short) false)
)

(script dormant void survival_mode
    (if (> (player_count) 0)
        (cinematic_snap_to_black)
    )
    (sound_looping_start m_survival_start none 1)
    (f_survival_disable_pda player_00)
    (f_survival_disable_pda player_01)
    (f_survival_disable_pda player_02)
    (f_survival_disable_pda player_03)
    (player0_set_pitch -5 0)
    (player1_set_pitch -5 0)
    (player2_set_pitch -5 0)
    (player3_set_pitch -5 0)
    (survival_mode_wave_set 0)
    (survival_mode_round_set 0)
    (survival_mode_set_set 0)
    (survival_squad_limit)
    (survival_wave_limit)
    (survival_round_limit)
    (survival_ai_limit)
    (survival_wave_timer)
    (survival_round_timer)
    (survival_set_timer)
    (survival_bonus_wait_timer)
    (survival_ai_timeout)
    (survival_lives)
    (object_create_folder_anew folder_survival_scenery)
    (object_create_folder_anew folder_survival_crates)
    (object_create_folder_anew folder_survival_vehicles)
    (object_create_folder_anew folder_survival_equipment)
    (sleep 1)
    (sleep (* 30 3))
    (if (> (player_count) 0)
        (cinematic_snap_from_black)
    )
    (sleep (* 30 2))
    (survival_mode_event_new "survival_welcome")
    (sleep (* 30 2))
    (wake survival_lives_announcement)
    (wake survival_award_achievement)
    (wake survival_bonus_round_end)
    (wake survival_end_game)
    (sleep (* 30 3))
    (sound_looping_stop m_survival_start)
    (if survival_performance_mode
        (begin
            (survival_mode_set_set 3)
        )
    )
    (sleep_until 
        (begin
            (if debug
                (print "incrementing set number...")
            )
            (survival_mode_set_set (+ (survival_mode_set_get) 1))
            (survival_mode_begin_new_set)
            (sleep 1)
            (survival_begin_announcer)
            (survival_set_multiplier)
            (sleep_until 
                (begin
                    (surival_set_music)
                    (survival_begin_announcer)
                    (sleep 1)
                    (if (> (survival_mode_set_get) 1)
                        (survival_respawn_crates)
                    )
                    (print "increment round number...")
                    (survival_mode_round_set (+ (survival_mode_round_get) 1))
                    (sleep 1)
                    (survival_activate_set_skulls)
                    (survival_activate_round_skulls)
                    (survival_mode_begin_new_round)
                    (survival_wave_progression)
                    (survival_like_marty_start)
                    (survival_round_spawner)
                    (if debug
                        (print "resetting wave number...")
                    )
                    (survival_mode_wave_set 0)
                    (set b_survival_new_round true)
                    (survival_clear_skulls)
                    (survival_vehicle_cleanup)
                    (survival_add_lives)
                    (replenish_players)
                    (survival_like_marty_award)
                    (if (< (survival_mode_round_get) k_sur_round_per_set_limit)
                        (survival_respawn_weapons)
                    )
                    (if (< (survival_mode_round_get) k_sur_round_per_set_limit)
                        (sleep k_sur_round_timer)
                    )
                    (>= (survival_mode_round_get) k_sur_round_per_set_limit)
                )
                1
            )
            (if debug
                (print "reseting round number...")
            )
            (survival_mode_round_set 0)
            (sleep k_sur_bonus_timer)
            (if b_sur_bonus_round
                (survival_bonus_round)
            )
            (survival_respawn_weapons)
            (replenish_players)
            (set b_survival_new_set true)
            (sleep k_sur_set_timer)
            false
        )
        1
    )
)

(script static void survival_round_spawner
    (if debug
        (print "resetting wave variables...")
    )
    (set b_sur_rand_wave_spawn true)
    (set k_sur_rand_wave_count 0)
    (set s_sur_wave_type 0)
    (if b_wave_initial_present
        (if (= (random_range 0 2) 1)
            (begin
                (if debug
                    (print "spawn wave...")
                )
                (set s_sur_wave_type 1)
                (set s_sur_current_wave 21)
                (sound_looping_start m_initial_wave none 1)
                (survival_phantom_variance)
                (if b_wave_initial_a_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_initial_a_squad_01 ai_initial_a_squad_02 ai_initial_a_squad_03 ai_initial_a_squad_04 ai_initial_a_squad_05 ai_initial_a_squad_06 ai_initial_a_squad_07 ai_initial_a_squad_08)
                (sound_looping_stop m_initial_wave)
            )
            (begin
                (if debug
                    (print "spawn wave...")
                )
                (set s_sur_wave_type 1)
                (set s_sur_current_wave 22)
                (sound_looping_start m_initial_wave none 1)
                (survival_phantom_variance)
                (if b_wave_initial_b_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_initial_b_squad_01 ai_initial_b_squad_02 ai_initial_b_squad_03 ai_initial_b_squad_04 ai_initial_b_squad_05 ai_initial_b_squad_06 ai_initial_b_squad_07 ai_initial_b_squad_08)
                (sound_looping_stop m_initial_wave)
            )
        )
    )
    (begin_random
        (if (and b_sur_rand_wave_spawn b_wave_01_present)
            (begin
                (if debug
                    (print "spawn wave...")
                )
                (set s_sur_wave_type 2)
                (set s_sur_current_wave 1)
                (survival_phantom_variance)
                (if b_wave_01_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_wave_01_squad_01 ai_wave_01_squad_02 ai_wave_01_squad_03 ai_wave_01_squad_04 ai_wave_01_squad_05 ai_wave_01_squad_06 ai_wave_01_squad_07 ai_wave_01_squad_08)
            )
        )
        (if (and b_sur_rand_wave_spawn b_wave_02_present)
            (begin
                (if debug
                    (print "spawn wave...")
                )
                (set s_sur_wave_type 2)
                (set s_sur_current_wave 2)
                (survival_phantom_variance)
                (if b_wave_02_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_wave_02_squad_01 ai_wave_02_squad_02 ai_wave_02_squad_03 ai_wave_02_squad_04 ai_wave_02_squad_05 ai_wave_02_squad_06 ai_wave_02_squad_07 ai_wave_02_squad_08)
            )
        )
        (if (and b_sur_rand_wave_spawn b_wave_03_present)
            (begin
                (if debug
                    (print "spawn wave...")
                )
                (set s_sur_wave_type 2)
                (set s_sur_current_wave 3)
                (survival_phantom_variance)
                (if b_wave_03_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_wave_03_squad_01 ai_wave_03_squad_02 ai_wave_03_squad_03 ai_wave_03_squad_04 ai_wave_03_squad_05 ai_wave_03_squad_06 ai_wave_03_squad_07 ai_wave_03_squad_08)
            )
        )
        (if (and b_sur_rand_wave_spawn b_wave_04_present)
            (begin
                (if debug
                    (print "spawn wave...")
                )
                (set s_sur_wave_type 2)
                (set s_sur_current_wave 4)
                (survival_phantom_variance)
                (if b_wave_04_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_wave_04_squad_01 ai_wave_04_squad_02 ai_wave_04_squad_03 ai_wave_04_squad_04 ai_wave_04_squad_05 ai_wave_04_squad_06 ai_wave_04_squad_07 ai_wave_04_squad_08)
            )
        )
        (if (and b_sur_rand_wave_spawn b_wave_05_present)
            (begin
                (if debug
                    (print "spawn wave...")
                )
                (set s_sur_wave_type 2)
                (set s_sur_current_wave 5)
                (survival_phantom_variance)
                (if b_wave_05_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_wave_05_squad_01 ai_wave_05_squad_02 ai_wave_05_squad_03 ai_wave_05_squad_04 ai_wave_05_squad_05 ai_wave_05_squad_06 ai_wave_05_squad_07 ai_wave_05_squad_08)
            )
        )
        (if (and b_sur_rand_wave_spawn b_wave_06_present)
            (begin
                (if debug
                    (print "spawn wave...")
                )
                (set s_sur_wave_type 2)
                (set s_sur_current_wave 6)
                (survival_phantom_variance)
                (if b_wave_06_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_wave_06_squad_01 ai_wave_06_squad_02 ai_wave_06_squad_03 ai_wave_06_squad_04 ai_wave_06_squad_05 ai_wave_06_squad_06 ai_wave_06_squad_07 ai_wave_06_squad_08)
            )
        )
        (if (and b_sur_rand_wave_spawn b_wave_07_present)
            (begin
                (if debug
                    (print "spawn wave...")
                )
                (set s_sur_wave_type 2)
                (set s_sur_current_wave 7)
                (survival_phantom_variance)
                (if b_wave_07_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_wave_07_squad_01 ai_wave_07_squad_02 ai_wave_07_squad_03 ai_wave_07_squad_04 ai_wave_07_squad_05 ai_wave_07_squad_06 ai_wave_07_squad_07 ai_wave_07_squad_08)
            )
        )
        (if (and b_sur_rand_wave_spawn b_wave_08_present)
            (begin
                (if debug
                    (print "spawn wave...")
                )
                (set s_sur_wave_type 2)
                (set s_sur_current_wave 8)
                (survival_phantom_variance)
                (if b_wave_08_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_wave_08_squad_01 ai_wave_08_squad_02 ai_wave_08_squad_03 ai_wave_08_squad_04 ai_wave_08_squad_05 ai_wave_08_squad_06 ai_wave_08_squad_07 ai_wave_08_squad_08)
            )
        )
        (if (and b_sur_rand_wave_spawn b_wave_09_present)
            (begin
                (if debug
                    (print "spawn wave...")
                )
                (set s_sur_wave_type 2)
                (set s_sur_current_wave 9)
                (survival_phantom_variance)
                (if b_wave_09_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_wave_09_squad_01 ai_wave_09_squad_02 ai_wave_09_squad_03 ai_wave_09_squad_04 ai_wave_09_squad_05 ai_wave_09_squad_06 ai_wave_09_squad_07 ai_wave_09_squad_08)
            )
        )
        (if (and b_sur_rand_wave_spawn b_wave_10_present)
            (begin
                (if debug
                    (print "spawn wave...")
                )
                (set s_sur_wave_type 2)
                (set s_sur_current_wave 10)
                (survival_phantom_variance)
                (if b_wave_10_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_wave_10_squad_01 ai_wave_10_squad_02 ai_wave_10_squad_03 ai_wave_10_squad_04 ai_wave_10_squad_05 ai_wave_10_squad_06 ai_wave_10_squad_07 ai_wave_10_squad_08)
            )
        )
        (if (and b_sur_rand_wave_spawn b_wave_11_present)
            (begin
                (if debug
                    (print "spawn wave...")
                )
                (set s_sur_wave_type 2)
                (set s_sur_current_wave 11)
                (survival_phantom_variance)
                (if b_wave_11_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_wave_11_squad_01 ai_wave_11_squad_02 ai_wave_11_squad_03 ai_wave_11_squad_04 ai_wave_11_squad_05 ai_wave_11_squad_06 ai_wave_11_squad_07 ai_wave_11_squad_08)
            )
        )
        (if (and b_sur_rand_wave_spawn b_wave_12_present)
            (begin
                (if debug
                    (print "spawn wave...")
                )
                (set s_sur_wave_type 2)
                (set s_sur_current_wave 12)
                (survival_phantom_variance)
                (if b_wave_12_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_wave_12_squad_01 ai_wave_12_squad_02 ai_wave_12_squad_03 ai_wave_12_squad_04 ai_wave_12_squad_05 ai_wave_12_squad_06 ai_wave_12_squad_07 ai_wave_12_squad_08)
            )
        )
        (if (and b_sur_rand_wave_spawn b_wave_13_present)
            (begin
                (if debug
                    (print "spawn wave...")
                )
                (set s_sur_wave_type 2)
                (set s_sur_current_wave 13)
                (survival_phantom_variance)
                (if b_wave_13_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_wave_13_squad_01 ai_wave_13_squad_02 ai_wave_13_squad_03 ai_wave_13_squad_04 ai_wave_13_squad_05 ai_wave_13_squad_06 ai_wave_13_squad_07 ai_wave_13_squad_08)
            )
        )
        (if (and b_sur_rand_wave_spawn b_wave_14_present)
            (begin
                (if debug
                    (print "spawn wave...")
                )
                (set s_sur_wave_type 2)
                (set s_sur_current_wave 14)
                (survival_phantom_variance)
                (if b_wave_14_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_wave_14_squad_01 ai_wave_14_squad_02 ai_wave_14_squad_03 ai_wave_14_squad_04 ai_wave_14_squad_05 ai_wave_14_squad_06 ai_wave_14_squad_07 ai_wave_14_squad_08)
            )
        )
        (if (and b_sur_rand_wave_spawn b_wave_15_present)
            (begin
                (if debug
                    (print "spawn wave...")
                )
                (set s_sur_wave_type 2)
                (set s_sur_current_wave 15)
                (survival_phantom_variance)
                (if b_wave_15_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_wave_15_squad_01 ai_wave_15_squad_02 ai_wave_15_squad_03 ai_wave_15_squad_04 ai_wave_15_squad_05 ai_wave_15_squad_06 ai_wave_15_squad_07 ai_wave_15_squad_08)
            )
        )
    )
    (if b_wave_final_present
        (if (= (random_range 0 2) 1)
            (begin
                (if debug
                    (print "final wave a...")
                )
                (set s_sur_wave_type 3)
                (set s_sur_current_wave 31)
                (sound_looping_start m_final_wave none 1)
                (survival_phantom_variance)
                (if b_wave_final_a_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_final_a_squad_01 ai_final_a_squad_02 ai_final_a_squad_03 ai_final_a_squad_04 ai_final_a_squad_05 ai_final_a_squad_06 ai_final_a_squad_07 ai_final_a_squad_08)
                (sound_looping_stop m_final_wave)
            )
            (begin
                (if debug
                    (print "final wave b...")
                )
                (set s_sur_wave_type 3)
                (set s_sur_current_wave 32)
                (sound_looping_start m_final_wave none 1)
                (survival_phantom_variance)
                (if b_wave_final_b_phantom
                    (set b_sur_wave_phantom true)
                )
                (f_survival_wave_spawner ai_final_b_squad_01 ai_final_b_squad_02 ai_final_b_squad_03 ai_final_b_squad_04 ai_final_b_squad_05 ai_final_b_squad_06 ai_final_b_squad_07 ai_final_b_squad_08)
                (sound_looping_stop m_final_wave)
            )
        )
    )
)

(script static void (f_survival_wave_spawner (ai squad_01, ai squad_02, ai squad_03, ai squad_04, ai squad_05, ai squad_06, ai squad_07, ai squad_08))
    (add_recycling_volume "tv_sur_garbage_all" 30 10)
    (survival_begin_announcer)
    (sleep 1)
    (print "increment wave number...")
    (survival_mode_wave_set (+ (survival_mode_wave_get) 1))
    (survival_mode_begin_new_wave)
    (sleep 1)
    (if (= s_sur_wave_type 2)
        (set k_sur_rand_wave_count (+ k_sur_rand_wave_count 1))
    )
    (ai_reset_objective ai_obj_survival)
    (if b_sur_wave_phantom
        (survival_phantom_spawner)
    )
    (begin_random
        (if b_sur_squad_spawn
            (f_survival_squad_spawner squad_01)
        )
        (if b_sur_squad_spawn
            (f_survival_squad_spawner squad_02)
        )
        (if b_sur_squad_spawn
            (f_survival_squad_spawner squad_03)
        )
        (if b_sur_squad_spawn
            (f_survival_squad_spawner squad_04)
        )
        (if b_sur_squad_spawn
            (f_survival_squad_spawner squad_05)
        )
        (if b_sur_squad_spawn
            (f_survival_squad_spawner squad_06)
        )
        (if b_sur_squad_spawn
            (f_survival_squad_spawner squad_07)
        )
        (if b_sur_squad_spawn
            (f_survival_squad_spawner squad_08)
        )
    )
    (sleep 1)
    (set b_sur_squad_spawn true)
    (set s_sur_squad_count 0)
    (sleep 1)
    (set b_phantom_move_out true)
    (sleep_until (<= (ai_living_count "gr_survival_phantom") (* k_phantom_spawn_limit 4)) 1)
    (survival_wave_end_conditions)
    (ai_migrate "gr_survival_all" ai_sur_remaining)
    (if (>= k_sur_rand_wave_count k_sur_rand_wave_limit)
        (set b_sur_rand_wave_spawn false)
    )
    (survival_end_announcer)
    (set b_survival_new_wave true)
    (set b_sur_wave_phantom false)
    (set b_phantom_move_out false)
    (set s_phantom_load_count 1)
    (if (< (survival_mode_wave_get) k_sur_wave_per_round_limit)
        (sleep k_sur_wave_timer)
    )
)

(script static void (f_survival_squad_spawner (ai spawned_squad))
    (ai_place spawned_squad)
    (sleep 1)
    (ai_force_active spawned_squad true)
    (if (> (ai_living_count spawned_squad) 0)
        (begin
            (if debug
                (print "spawn squad...")
            )
            (set s_sur_squad_count (+ s_sur_squad_count 1))
            (if (>= s_sur_squad_count k_sur_squad_per_wave_limit)
                (set b_sur_squad_spawn false)
            )
            (sleep 1)
            (if b_sur_wave_phantom
                (f_survival_phantom_loader spawned_squad)
            )
        )
    )
)

(script static void survival_wave_end_conditions
    (sleep_until (and (<= (object_get_health v_sur_phantom_01) 0) (<= (object_get_health v_sur_phantom_02) 0) (<= (object_get_health v_sur_phantom_03) 0) (<= (object_get_health v_sur_phantom_04) 0)))
    (sleep_until (< (ai_living_count "gr_survival_all") 7))
    (survival_kill_volumes_on)
    (ai_survival_cleanup "gr_survival_all" true true)
    (ai_survival_cleanup "gr_survival_extras" true true)
    (if (= (survival_mode_wave_get) (- k_sur_wave_per_round_limit 1))
        (begin
            (sleep_until (<= (ai_living_count "gr_survival_all") k_sur_ai_final_limit))
        )
        (if (>= (survival_mode_wave_get) k_sur_wave_per_round_limit)
            (begin
                (sleep_until (<= (ai_living_count "gr_survival_all") 5))
                (if (= (ai_living_count "gr_survival_all") 5)
                    (survival_mode_event_new "survival_5_ai_remaining")
                    (sleep 30)
                )
                (sound_looping_set_alternate m_final_wave true)
                (sleep_until (<= (ai_living_count "gr_survival_all") 2))
                (if (= (ai_living_count "gr_survival_all") 2)
                    (survival_mode_event_new "survival_2_ai_remaining")
                    (sleep 30)
                )
                (sleep_until (<= (ai_living_count "gr_survival_all") 1))
                (if (= (ai_living_count "gr_survival_all") 1)
                    (survival_mode_event_new "survival_1_ai_remaining")
                    (sleep 30)
                )
                (sleep_until (<= (ai_living_count "gr_survival_all") 0))
            )
            (if true
                (begin
                    (sleep_until (<= (ai_living_count "gr_survival_all") k_sur_ai_rand_limit))
                )
            )
        )
    )
    (survival_kill_volumes_off)
    (ai_survival_cleanup "gr_survival_all" false false)
    (ai_survival_cleanup "gr_survival_extras" false false)
)

(script static void survival_kill_volumes_on
    (kill_volume_enable "kill_sur_room_01")
    (kill_volume_enable "kill_sur_room_02")
    (kill_volume_enable "kill_sur_room_03")
    (kill_volume_enable "kill_sur_room_04")
    (kill_volume_enable "kill_sur_room_05")
    (kill_volume_enable "kill_sur_room_06")
    (kill_volume_enable "kill_sur_room_07")
    (kill_volume_enable "kill_sur_room_08")
    (kill_volume_enable "kill_survival01")
    (kill_volume_enable "kill_survival02")
    (kill_volume_enable "kill_survival03")
)

(script static void survival_kill_volumes_off
    (kill_volume_disable "kill_sur_room_01")
    (kill_volume_disable "kill_sur_room_02")
    (kill_volume_disable "kill_sur_room_03")
    (kill_volume_disable "kill_sur_room_04")
    (kill_volume_disable "kill_sur_room_05")
    (kill_volume_disable "kill_sur_room_06")
    (kill_volume_disable "kill_sur_room_07")
    (kill_volume_disable "kill_sur_room_08")
    (kill_volume_disable "kill_survival01")
    (kill_volume_disable "kill_survival02")
    (kill_volume_disable "kill_survival03")
)

(script static void survival_wave_progression
    (if (<= (survival_mode_round_get) 1)
        (begin
            (set k_sur_rand_wave_limit 3)
            (set b_wave_initial_present true)
            (set b_wave_01_present true)
            (set b_wave_02_present true)
            (set b_wave_03_present true)
            (set b_wave_04_present true)
            (set b_wave_05_present true)
            (set b_wave_06_present false)
            (set b_wave_07_present false)
            (set b_wave_08_present false)
            (set b_wave_09_present false)
            (set b_wave_10_present false)
            (set b_wave_11_present false)
            (set b_wave_12_present false)
            (set b_wave_13_present false)
            (set b_wave_14_present false)
            (set b_wave_15_present false)
            (set b_wave_final_present true)
        )
        (if (= (survival_mode_round_get) 2)
            (begin
                (set k_sur_rand_wave_limit 3)
                (set b_wave_initial_present true)
                (set b_wave_01_present false)
                (set b_wave_02_present false)
                (set b_wave_03_present false)
                (set b_wave_04_present false)
                (set b_wave_05_present false)
                (set b_wave_06_present true)
                (set b_wave_07_present true)
                (set b_wave_08_present true)
                (set b_wave_09_present true)
                (set b_wave_10_present true)
                (set b_wave_11_present false)
                (set b_wave_12_present false)
                (set b_wave_13_present false)
                (set b_wave_14_present false)
                (set b_wave_15_present false)
                (set b_wave_final_present true)
            )
            (if (>= (survival_mode_round_get) 3)
                (begin
                    (set k_sur_rand_wave_limit 3)
                    (set b_wave_initial_present true)
                    (set b_wave_01_present false)
                    (set b_wave_02_present false)
                    (set b_wave_03_present false)
                    (set b_wave_04_present false)
                    (set b_wave_05_present false)
                    (set b_wave_06_present false)
                    (set b_wave_07_present false)
                    (set b_wave_08_present false)
                    (set b_wave_09_present false)
                    (set b_wave_10_present false)
                    (set b_wave_11_present true)
                    (set b_wave_12_present true)
                    (set b_wave_13_present true)
                    (set b_wave_14_present true)
                    (set b_wave_15_present true)
                    (set b_wave_final_present true)
                )
            )
        )
    )
)

(script static void survival_bonus_round
    (if debug
        (print "** start bonus round **")
    )
    (set b_sur_bonus_round_running true)
    (set l_sur_pre_bonus_points (survival_total_score))
    (survival_mode_begin_new_wave)
    (survival_bonus_round_limit)
    (chud_bonus_round_set_timer (/ k_survival_bonus_timer 30))
    (chud_bonus_round_show_timer true)
    (survival_mode_event_new "survival_bonus_round")
    (sleep 150)
    (survival_bonus_all_skulls)
    (sleep 60)
    (skull_primary_enable skull_iron true)
    (survival_mode_event_new "survival_skull_iron")
    (sleep 60)
    (if b_sur_bonus_phantom
        (ai_place ai_sur_bonus_phantom)
    )
    (begin_random
        (if b_sur_bonus_spawn
            (f_survival_bonus_spawner ai_bonus_squad_01)
        )
        (if b_sur_bonus_spawn
            (f_survival_bonus_spawner ai_bonus_squad_02)
        )
        (if b_sur_bonus_spawn
            (f_survival_bonus_spawner ai_bonus_squad_03)
        )
        (if b_sur_bonus_spawn
            (f_survival_bonus_spawner ai_bonus_squad_04)
        )
        (if b_sur_bonus_spawn
            (f_survival_bonus_spawner ai_bonus_squad_05)
        )
        (if b_sur_bonus_spawn
            (f_survival_bonus_spawner ai_bonus_squad_06)
        )
        (if b_sur_bonus_spawn
            (f_survival_bonus_spawner ai_bonus_squad_07)
        )
        (if b_sur_bonus_spawn
            (f_survival_bonus_spawner ai_bonus_squad_08)
        )
    )
    (sleep 1)
    (set s_sur_bonus_count 0)
    (set b_sur_bonus_spawn true)
    (set k_sur_bonus_squad_limit 1)
    (if b_sur_bonus_phantom
        (sleep_until b_sur_bonus_phantom_ready)
    )
    (set b_survival_bonus_timer_begin true)
    (set b_sur_bonus_refilling true)
    (sleep_until 
        (begin
            (sleep_until (or b_sur_bonus_end (<= (ai_living_count "gr_survival_bonus") k_sur_bonus_limit) (survival_players_dead)) 1)
            (if (and (not (survival_players_dead)) (not b_sur_bonus_end))
                (begin
                    (begin_random
                        (if b_sur_bonus_spawn
                            (f_survival_bonus_spawner ai_bonus_squad_01)
                        )
                        (if b_sur_bonus_spawn
                            (f_survival_bonus_spawner ai_bonus_squad_02)
                        )
                        (if b_sur_bonus_spawn
                            (f_survival_bonus_spawner ai_bonus_squad_03)
                        )
                        (if b_sur_bonus_spawn
                            (f_survival_bonus_spawner ai_bonus_squad_04)
                        )
                        (if b_sur_bonus_spawn
                            (f_survival_bonus_spawner ai_bonus_squad_05)
                        )
                        (if b_sur_bonus_spawn
                            (f_survival_bonus_spawner ai_bonus_squad_06)
                        )
                        (if b_sur_bonus_spawn
                            (f_survival_bonus_spawner ai_bonus_squad_07)
                        )
                        (if b_sur_bonus_spawn
                            (f_survival_bonus_spawner ai_bonus_squad_08)
                        )
                    )
                    (set s_sur_bonus_count 0)
                    (set b_sur_bonus_spawn true)
                )
            )
            (or b_sur_bonus_end (survival_players_dead))
        )
        1
    )
    (ai_kill "gr_survival_bonus")
    (sleep 90)
    (survival_mode_event_new "survival_bonus_round_over")
    (survival_clear_skulls)
    (survival_mode_respawn_dead_players)
    (sleep 30)
    (skull_primary_enable skull_iron false)
    (sleep 120)
    (set l_sur_post_bonus_points (survival_total_score))
    (if (>= (- l_sur_post_bonus_points l_sur_pre_bonus_points) k_sur_bonus_points_award)
        (begin
            (survival_mode_event_new "survival_bonus_lives_awarded")
            (survival_award_bonus_lives)
        )
        (begin
            (survival_mode_event_new "survival_better_luck_next_time")
        )
    )
    (chud_bonus_round_set_timer 0)
    (chud_bonus_round_show_timer false)
    (chud_bonus_round_start_timer false)
    (set b_sur_bonus_end false)
    (set k_sur_bonus_squad_limit 6)
    (set b_sur_bonus_phantom_ready false)
    (set b_sur_bonus_refilling false)
    (set b_sur_bonus_round_running false)
)

(script dormant void survival_bonus_round_end
    (sleep_until 
        (begin
            (sleep_until b_survival_bonus_timer_begin 1)
            (survival_mode_event_new "survival_bonus_information")
            (chud_bonus_round_start_timer true)
            (sleep_until (survival_players_dead) 1 k_survival_bonus_timer)
            (set b_sur_bonus_end true)
            (if (survival_players_dead)
                (begin
                    (chud_bonus_round_start_timer false)
                    (chud_bonus_round_set_timer 0)
                )
            )
            (set b_survival_bonus_timer_begin false)
            false
        )
        1
    )
)

(script static void survival_bonus_round_limit
    (if (coop_players_4)
        (begin
            (if (>= (survival_mode_set_get) 5)
                (set k_sur_bonus_points_award 24000)
            )
            (if (= (survival_mode_set_get) 4)
                (set k_sur_bonus_points_award 20000)
            )
            (if (= (survival_mode_set_get) 3)
                (set k_sur_bonus_points_award 16000)
            )
            (if (= (survival_mode_set_get) 2)
                (set k_sur_bonus_points_award 12000)
            )
            (if (<= (survival_mode_set_get) 1)
                (set k_sur_bonus_points_award 8000)
            )
        )
        (if (coop_players_3)
            (begin
                (if (>= (survival_mode_set_get) 5)
                    (set k_sur_bonus_points_award 18000)
                )
                (if (= (survival_mode_set_get) 4)
                    (set k_sur_bonus_points_award 15000)
                )
                (if (= (survival_mode_set_get) 3)
                    (set k_sur_bonus_points_award 12000)
                )
                (if (= (survival_mode_set_get) 2)
                    (set k_sur_bonus_points_award 9000)
                )
                (if (<= (survival_mode_set_get) 1)
                    (set k_sur_bonus_points_award 6000)
                )
            )
            (if (coop_players_2)
                (begin
                    (if (>= (survival_mode_set_get) 5)
                        (set k_sur_bonus_points_award 12000)
                    )
                    (if (= (survival_mode_set_get) 4)
                        (set k_sur_bonus_points_award 10000)
                    )
                    (if (= (survival_mode_set_get) 3)
                        (set k_sur_bonus_points_award 8000)
                    )
                    (if (= (survival_mode_set_get) 2)
                        (set k_sur_bonus_points_award 6000)
                    )
                    (if (<= (survival_mode_set_get) 1)
                        (set k_sur_bonus_points_award 4000)
                    )
                )
                (if true
                    (begin
                        (if (>= (survival_mode_set_get) 5)
                            (set k_sur_bonus_points_award 6000)
                        )
                        (if (= (survival_mode_set_get) 4)
                            (set k_sur_bonus_points_award 5000)
                        )
                        (if (= (survival_mode_set_get) 3)
                            (set k_sur_bonus_points_award 4000)
                        )
                        (if (= (survival_mode_set_get) 2)
                            (set k_sur_bonus_points_award 3000)
                        )
                        (if (<= (survival_mode_set_get) 1)
                            (set k_sur_bonus_points_award 2000)
                        )
                    )
                )
            )
        )
    )
    (sleep 1)
    (chud_bonus_round_set_target_score k_sur_bonus_points_award)
)

(script static void (f_survival_bonus_spawner (ai spawned_squad))
    (ai_place spawned_squad)
    (sleep 1)
    (ai_force_active spawned_squad true)
    (if (> (ai_living_count spawned_squad) 0)
        (begin
            (if debug
                (print "spawn squad...")
            )
            (set s_sur_bonus_count (+ s_sur_bonus_count 1))
            (if (>= s_sur_bonus_count k_sur_bonus_squad_limit)
                (set b_sur_bonus_spawn false)
            )
            (sleep 1)
            (if b_sur_bonus_refilling
                (if (and b_sur_bonus_ground b_sur_bonus_phantom)
                    (if (= (random_range 0 2) 0)
                        (f_survival_bonus_load_phantom v_sur_bonus_phantom spawned_squad)
                    )
                    (if b_sur_bonus_phantom
                        (f_survival_bonus_load_phantom v_sur_bonus_phantom spawned_squad)
                    )
                )
                (if b_sur_bonus_phantom
                    (f_survival_bonus_load_phantom v_sur_bonus_phantom spawned_squad)
                )
            )
        )
    )
)

(script static void (f_survival_bonus_load_phantom (vehicle phantom, ai load_squad))
    (if b_sur_bonus_refilling
        (begin
            (ai_vehicle_enter_immediate load_squad phantom 16)
            (sleep 1)
            (vehicle_unload phantom 16)
        )
        (begin
            (if (= (vehicle_test_seat phantom 2) false)
                (ai_vehicle_enter_immediate load_squad phantom 2)
            )
            (if (= (vehicle_test_seat phantom 8) false)
                (ai_vehicle_enter_immediate load_squad phantom 8)
            )
            (if (= (vehicle_test_seat phantom 0) false)
                (ai_vehicle_enter_immediate load_squad phantom 0)
            )
            (if (= (vehicle_test_seat phantom 10) false)
                (ai_vehicle_enter_immediate load_squad phantom 10)
            )
            (if (= (vehicle_test_seat phantom 12) false)
                (ai_vehicle_enter_immediate load_squad phantom 12)
            )
            (if (= (vehicle_test_seat phantom 6) false)
                (ai_vehicle_enter_immediate load_squad phantom 6)
            )
        )
    )
)

(script static void (f_unload_bonus_phantom (vehicle phantom))
    (begin_random
        (begin
            (vehicle_unload phantom 2)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload phantom 0)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload phantom 10)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload phantom 8)
            (sleep (random_range 0 10))
        )
    )
    (sleep 90)
    (begin_random
        (begin
            (vehicle_unload phantom 6)
            (sleep (random_range 0 10))
        )
        (begin
            (vehicle_unload phantom 12)
            (sleep (random_range 0 10))
        )
    )
)

(script static long survival_total_score
    (+ (campaign_metagame_get_player_score (player0)) (campaign_metagame_get_player_score (player1)) (campaign_metagame_get_player_score (player2)) (campaign_metagame_get_player_score (player3)))
)

(script static void survival_phantom_spawner
    (sleep_until 
        (begin
            (begin_random
                (if b_phantom_spawn
                    (f_survival_phantom_spawner ai_sur_phantom_01)
                )
                (if b_phantom_spawn
                    (f_survival_phantom_spawner ai_sur_phantom_02)
                )
                (if b_phantom_spawn
                    (f_survival_phantom_spawner ai_sur_phantom_03)
                )
                (if b_phantom_spawn
                    (f_survival_phantom_spawner ai_sur_phantom_04)
                )
            )
            (= b_phantom_spawn false)
        )
        1
    )
    (set b_phantom_spawn true)
    (set b_phantom_spawn_count 0)
    (sleep 1)
)

(script static void (f_survival_phantom_spawner (ai spawned_phantom))
    (ai_place spawned_phantom)
    (sleep 1)
    (ai_force_active spawned_phantom true)
    (if (> (object_get_health spawned_phantom) 0)
        (begin
            (if debug
                (print "spawn phantom...")
            )
            (set b_phantom_spawn_count (+ b_phantom_spawn_count 1))
            (if (>= b_phantom_spawn_count k_phantom_spawn_limit)
                (set b_phantom_spawn false)
            )
        )
    )
)

(script static void (f_survival_phantom_loader (ai load_squad))
    (sleep_until 
        (begin
            (if (and (= b_phantom_loaded false) (= s_phantom_load_count 1))
                (begin
                    (if (> (object_get_health v_sur_phantom_01) 0)
                        (begin
                            (if debug
                                (print "** load phantom 01 **")
                            )
                            (f_survival_load_phantom v_sur_phantom_01 s_sur_drop_side_01 load_squad)
                        )
                    )
                    (set s_phantom_load_count 2)
                )
            )
            (if (and (= b_phantom_loaded false) (= s_phantom_load_count 2))
                (begin
                    (if (> (object_get_health v_sur_phantom_02) 0)
                        (begin
                            (if debug
                                (print "** load phantom 02 **")
                            )
                            (f_survival_load_phantom v_sur_phantom_02 s_sur_drop_side_02 load_squad)
                        )
                    )
                    (set s_phantom_load_count 3)
                )
            )
            (if (and (= b_phantom_loaded false) (= s_phantom_load_count 3))
                (begin
                    (if (> (object_get_health v_sur_phantom_03) 0)
                        (begin
                            (if debug
                                (print "** load phantom 03 **")
                            )
                            (f_survival_load_phantom v_sur_phantom_03 s_sur_drop_side_03 load_squad)
                        )
                    )
                    (set s_phantom_load_count 4)
                )
            )
            (if (and (= b_phantom_loaded false) (= s_phantom_load_count 4))
                (begin
                    (if (> (object_get_health v_sur_phantom_04) 0)
                        (begin
                            (if debug
                                (print "** load phantom 04 **")
                            )
                            (f_survival_load_phantom v_sur_phantom_04 s_sur_drop_side_04 load_squad)
                        )
                    )
                    (set s_phantom_load_count 1)
                )
            )
            b_phantom_loaded
        )
        1
    )
    (set b_phantom_loaded false)
)

(script static void (f_survival_load_phantom (vehicle phantom, string load_side, ai load_squad))
    (if (= load_side "left")
        (begin
            (if debug
                (print "load phantom left...")
            )
            (if (= (vehicle_test_seat phantom 0) false)
                (ai_vehicle_enter_immediate load_squad phantom 0)
            )
            (if (= (vehicle_test_seat phantom 2) false)
                (ai_vehicle_enter_immediate load_squad phantom 2)
            )
            (if (= (vehicle_test_seat phantom 4) false)
                (ai_vehicle_enter_immediate load_squad phantom 4)
            )
            (if (= (vehicle_test_seat phantom 6) false)
                (ai_vehicle_enter_immediate load_squad phantom 6)
            )
            (set b_phantom_loaded true)
        )
    )
    (if (= load_side "right")
        (begin
            (if debug
                (print "load phantom right...")
            )
            (if (= (vehicle_test_seat phantom 8) false)
                (ai_vehicle_enter_immediate load_squad phantom 8)
            )
            (if (= (vehicle_test_seat phantom 10) false)
                (ai_vehicle_enter_immediate load_squad phantom 10)
            )
            (if (= (vehicle_test_seat phantom 12) false)
                (ai_vehicle_enter_immediate load_squad phantom 12)
            )
            (if (= (vehicle_test_seat phantom 14) false)
                (ai_vehicle_enter_immediate load_squad phantom 14)
            )
            (set b_phantom_loaded true)
        )
    )
    (if (= load_side "dual")
        (begin
            (if debug
                (print "load phantom dual...")
            )
            (if (= (vehicle_test_seat phantom 2) false)
                (ai_vehicle_enter_immediate load_squad phantom 2)
            )
            (if (= (vehicle_test_seat phantom 10) false)
                (ai_vehicle_enter_immediate load_squad phantom 10)
            )
            (if (= (vehicle_test_seat phantom 0) false)
                (ai_vehicle_enter_immediate load_squad phantom 0)
            )
            (if (= (vehicle_test_seat phantom 8) false)
                (ai_vehicle_enter_immediate load_squad phantom 8)
            )
            (set b_phantom_loaded true)
        )
    )
    (if (= load_side "chute")
        (begin
            (if debug
                (print "load phantom chute...")
            )
            (if (= (vehicle_test_seat phantom 16) false)
                (ai_vehicle_enter_immediate load_squad phantom 16)
            )
            (if (= (vehicle_test_seat phantom 18) false)
                (ai_vehicle_enter_immediate load_squad phantom 18)
            )
            (if (= (vehicle_test_seat phantom 20) false)
                (ai_vehicle_enter_immediate load_squad phantom 20)
            )
            (if (= (vehicle_test_seat phantom 22) false)
                (ai_vehicle_enter_immediate load_squad phantom 22)
            )
            (set b_phantom_loaded true)
        )
    )
)

(script static void survival_countdown_timer
    (sound_impulse_start "sound\game_sfx\ui\atlas_main_menu\player_timer_beep" none 1)
    (sleep 30)
    (sound_impulse_start "sound\game_sfx\ui\atlas_main_menu\player_timer_beep" none 1)
    (sleep 30)
    (sound_impulse_start "sound\game_sfx\ui\atlas_main_menu\player_timer_beep" none 1)
    (sleep 30)
    (sound_impulse_start "sound\game_sfx\ui\atlas_main_menu\player_respawn" none 1)
    (sleep 30)
)

(script static void survival_begin_announcer
    (if b_survival_new_set
        (begin
            (if debug
                (print "announce new set...")
            )
            (survival_countdown_timer)
            (survival_mode_event_new "survival_new_set")
            (set b_survival_new_set false)
            (set b_survival_new_round false)
            (set b_survival_new_wave false)
        )
        (if b_survival_new_round
            (begin
                (if debug
                    (print "announce new round...")
                )
                (survival_countdown_timer)
                (survival_mode_event_new "survival_new_round")
                (set b_survival_new_round false)
                (set b_survival_new_wave false)
            )
            (if b_survival_new_wave
                (begin
                    (if debug
                        (print "announce new wave...")
                    )
                    (if (> (survival_mode_wave_get) 0)
                        (begin
                            (survival_mode_award_hero_medal)
                            (sleep 1)
                            (survival_mode_event_new "survival_reinforcements")
                            (survival_mode_respawn_dead_players)
                            (sleep (* (random_range 3 5) 30))
                        )
                    )
                )
            )
        )
    )
    (sleep 5)
)

(script static void survival_end_announcer
    (if (< (survival_mode_wave_get) k_sur_wave_per_round_limit)
        (begin
            (if debug
                (print "announce end wave...")
            )
        )
        (if (< (survival_mode_round_get) k_sur_round_per_set_limit)
            (begin
                (sleep (* 30 5))
                (if debug
                    (print "announce end round...")
                )
                (survival_mode_event_new "survival_end_round")
                (sleep (* 30 3))
            )
            (if true
                (begin
                    (sleep (* 30 5))
                    (if debug
                        (print "announce end set...")
                    )
                    (survival_mode_event_new "survival_end_set")
                    (ai_kill "gr_survival_extras")
                    (sleep (* 30 3))
                )
            )
        )
    )
)

(script dormant void survival_lives_announcement
    (sleep_until 
        (begin
            (sleep_until (> (survival_mode_lives_get) 0) 1)
            (sleep_until (<= (survival_mode_lives_get) 5) 1)
            (if (= (survival_mode_lives_get) 5)
                (begin
                    (if debug
                        (print "5 lives left...")
                    )
                    (survival_mode_event_new "survival_5_lives_left")
                )
            )
            (sleep_until (or (<= (survival_mode_lives_get) 1) (> (survival_mode_lives_get) 5)) 1)
            (if (= (survival_mode_lives_get) 1)
                (begin
                    (if debug
                        (print "1 life left...")
                    )
                    (survival_mode_event_new "survival_1_life_left")
                )
            )
            (sleep_until (or (<= (survival_mode_lives_get) 0) (> (survival_mode_lives_get) 1)) 1)
            (if (<= (survival_mode_lives_get) 0)
                (begin
                    (if debug
                        (print "0 lives left...")
                    )
                    (survival_mode_event_new "survival_0_lives_left")
                )
            )
            (sleep_until (or (<= (player_count) 1) (> (survival_mode_lives_get) 0)) 1)
            (if (and (<= (survival_mode_lives_get) 0) (= (player_count) 1))
                (begin
                    (if debug
                        (print "last man standing...")
                    )
                    (survival_mode_event_new "survival_last_man_standing")
                )
            )
            false
        )
    )
)

(script static void survival_activate_round_skulls
    (if (<= (survival_mode_set_get) 4)
        (begin
            (if (= (survival_mode_round_get) 1)
                (begin
                    (skull_primary_enable skull_tough_luck true)
                    (survival_mode_event_new "survival_skull_tough_luck")
                )
                (if (= (survival_mode_round_get) 2)
                    (begin
                        (skull_primary_enable skull_tough_luck true)
                        (skull_primary_enable skull_catch true)
                        (survival_mode_event_new "survival_skull_tough_catch")
                    )
                    (if (>= (survival_mode_round_get) 3)
                        (begin
                            (skull_primary_enable skull_tough_luck true)
                            (skull_primary_enable skull_catch true)
                            (skull_primary_enable skull_black_eye true)
                            (survival_mode_event_new "survival_skull_tough_catch_black")
                        )
                    )
                )
            )
        )
        (begin
            (skull_primary_enable skull_tough_luck true)
            (skull_primary_enable skull_catch true)
            (skull_primary_enable skull_black_eye true)
        )
    )
)

(script static void survival_activate_set_skulls
    (if (= (survival_mode_set_get) 2)
        (begin
            (skull_primary_enable skull_tilt true)
            (survival_mode_event_new "survival_skull_tilt")
        )
        (if (= (survival_mode_set_get) 3)
            (begin
                (skull_primary_enable skull_tilt true)
                (skull_primary_enable skull_famine true)
                (survival_mode_event_new "survival_skull_tilt_famine")
            )
            (if (= (survival_mode_set_get) 4)
                (begin
                    (skull_primary_enable skull_tilt true)
                    (skull_primary_enable skull_famine true)
                    (skull_primary_enable skull_mythic true)
                    (survival_mode_event_new "survival_skull_tilt_famine_mythic")
                )
                (if (>= (survival_mode_set_get) 5)
                    (begin
                        (skull_primary_enable skull_tilt true)
                        (skull_primary_enable skull_famine true)
                        (skull_primary_enable skull_mythic true)
                        (survival_mode_event_new "survival_skull_all")
                    )
                )
            )
        )
    )
)

(script static void survival_clear_skulls
    (skull_primary_enable skull_tough_luck false)
    (skull_primary_enable skull_catch false)
    (skull_primary_enable skull_black_eye false)
    (skull_primary_enable skull_tilt false)
    (skull_primary_enable skull_famine false)
    (skull_primary_enable skull_mythic false)
)

(script static void survival_bonus_all_skulls
    (skull_primary_enable skull_tough_luck true)
    (skull_primary_enable skull_catch true)
    (skull_primary_enable skull_black_eye true)
    (skull_primary_enable skull_tilt true)
    (skull_primary_enable skull_famine true)
    (skull_primary_enable skull_mythic true)
    (survival_mode_event_new "survival_bonus_skull_all")
)

(script static void survival_respawn_weapons
    (if debug
        (print "creating scenery / vehicles / equipment")
    )
    (survival_mode_event_new "survival_awarded_weapon")
    (set b_sur_weapon_drop true)
    (object_create_folder_anew folder_survival_scenery)
    (object_create_folder_anew folder_survival_vehicles)
    (object_create_folder_anew folder_survival_equipment)
    (sleep 30)
    (set b_sur_weapon_drop false)
)

(script static void survival_respawn_crates
    (if debug
        (print "respawn crates")
    )
    (object_create_folder_anew folder_survival_crates)
)

(script static void surival_set_music
    (set s_music_initial (random_range 0 5))
    (if (= s_music_initial 0)
        (set m_initial_wave "multiplayer\firefight_music\firefight_music02")
        (if (= s_music_initial 1)
            (set m_initial_wave "multiplayer\firefight_music\firefight_music03")
            (if (= s_music_initial 2)
                (set m_initial_wave "multiplayer\firefight_music\firefight_music04")
                (if (= s_music_initial 3)
                    (set m_initial_wave "multiplayer\firefight_music\firefight_music05")
                    (if (= s_music_initial 4)
                        (set m_initial_wave "multiplayer\firefight_music\firefight_music06")
                    )
                )
            )
        )
    )
    (sleep 1)
    (set s_music_final (random_range 0 5))
    (if (= s_music_final 0)
        (set m_final_wave "multiplayer\firefight_music\firefight_music20")
        (if (= s_music_final 1)
            (set m_final_wave "multiplayer\firefight_music\firefight_music21")
            (if (= s_music_final 2)
                (set m_final_wave "multiplayer\firefight_music\firefight_music22")
                (if (= s_music_final 3)
                    (set m_final_wave "multiplayer\firefight_music\firefight_music23")
                    (if (= s_music_final 4)
                        (set m_final_wave "multiplayer\firefight_music\firefight_music24")
                    )
                )
            )
        )
    )
)

(script dormant void survival_award_achievement
    (sleep_until (>= (survival_total_score) 200000))
    (if (= string_survival_map_name "sc100")
        (achievement_grant_to_all_players "_achievement_metagame_points_in_sc100")
        (if (= string_survival_map_name "sc110")
            (achievement_grant_to_all_players "_achievement_metagame_points_in_sc110")
            (if (= string_survival_map_name "sc120")
                (achievement_grant_to_all_players "_achievement_metagame_points_in_sc120")
                (if (= string_survival_map_name "sc130a")
                    (achievement_grant_to_all_players "_achievement_metagame_points_in_sc130a")
                    (if (= string_survival_map_name "sc130b")
                        (achievement_grant_to_all_players "_achievement_metagame_points_in_sc130b")
                        (if (= string_survival_map_name "sc140")
                            (achievement_grant_to_all_players "_achievement_metagame_points_in_sc140")
                            (if (= string_survival_map_name "l200")
                                (achievement_grant_to_all_players "_achievement_metagame_points_in_l200")
                                (if (= string_survival_map_name "l300")
                                    (achievement_grant_to_all_players "_achievement_metagame_points_in_l300")
                                    (if (= string_survival_map_name "h100a")
                                        (achievement_grant_to_all_players "_achievement_metagame_points_in_sc100")
                                        (if (= string_survival_map_name "h100b")
                                            (achievement_grant_to_all_players "_achievement_metagame_points_in_sc120")
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            )
        )
    )
)

(script static void survival_like_marty_start
    (set l_player0_score (campaign_metagame_get_player_score (player0)))
    (set l_player1_score (campaign_metagame_get_player_score (player1)))
    (set l_player2_score (campaign_metagame_get_player_score (player2)))
    (set l_player3_score (campaign_metagame_get_player_score (player3)))
)

(script static void survival_like_marty_award
    (if (<= (campaign_metagame_get_player_score (player0)) l_player0_score)
        (achievement_grant_to_player (player0) "_achievement_be_like_marty")
    )
    (if (<= (campaign_metagame_get_player_score (player1)) l_player1_score)
        (achievement_grant_to_player (player1) "_achievement_be_like_marty")
    )
    (if (<= (campaign_metagame_get_player_score (player2)) l_player2_score)
        (achievement_grant_to_player (player2) "_achievement_be_like_marty")
    )
    (if (<= (campaign_metagame_get_player_score (player3)) l_player3_score)
        (achievement_grant_to_player (player3) "_achievement_be_like_marty")
    )
)

(script dormant void survival_end_game
    (sleep_until (and (<= (survival_mode_lives_get) 0) (survival_players_dead) (= b_sur_bonus_round_running false)) 1)
    (sleep_forever survival_mode)
    (sleep_forever survival_bonus_round_end)
    (sleep_forever survival_lives_announcement)
    (sleep_forever survival_award_achievement)
    (sleep 30)
    (sound_looping_stop m_final_wave)
    (sleep 30)
    (sound_looping_start m_pgcr none 1)
    (survival_mode_event_new "survival_game_over")
    (sleep 60)
    (sound_class_set_gain "" 0 270)
    (sound_class_set_gain "mus" 1 1)
    (sound_class_set_gain "ui" 1 0)
    (sleep s_survival_end_delay)
    (fade_out 0 0 0 15)
    (sleep (* s_survival_end_delay 2))
    (game_won)
)

(script static boolean survival_players_dead
    (if (and (<= (object_get_health (player0)) 0) (<= (object_get_health (player1)) 0) (<= (object_get_health (player2)) 0) (<= (object_get_health (player3)) 0))
        true
        false
    )
)

(script static void survival_refresh_sleep
    (if (>= (ai_living_count "gr_survival_all") 10)
        (if (difficulty_normal)
            (sleep (* (random_range 20 30) 30))
            (if (difficulty_heroic)
                (sleep (* (random_range 10 20) 30))
                (if (difficulty_legendary)
                    (sleep (* (random_range 5 10) 30))
                )
            )
        )
        (sleep 30)
    )
)

(script dormant void test_ai_erase_fast
    (sleep_until 
        (begin
            (sleep_until (>= (ai_living_count "gr_survival_all") 1) 1)
            (sleep 5)
            (ai_erase_all)
            false
        )
        1
    )
)

(script dormant void test_ai_erase
    (sleep_until 
        (begin
            (sleep_until (>= (ai_living_count "gr_survival_all") 1) 1)
            (sleep 30)
            (ai_erase_all)
            false
        )
        1
    )
)

(script dormant void test_ai_erase_slow
    (sleep_until 
        (begin
            (sleep_until (>= (ai_living_count "gr_survival_all") 1) 1)
            (sleep 150)
            (ai_erase_all)
            false
        )
        1
    )
)

(script static void test_award_500
    (campaign_metagame_award_points (player0) 500)
)

(script static void test_award_1000
    (campaign_metagame_award_points (player0) 1000)
)

(script static void test_award_5000
    (campaign_metagame_award_points (player0) 5000)
)

(script static void test_award_10000
    (campaign_metagame_award_points (player0) 10000)
)

(script static void test_award_20000
    (campaign_metagame_award_points (player0) 20000)
)

(script static void test_award_30000
    (campaign_metagame_award_points (player0) 30000)
)

(script static void test_4_player
    (set k_sur_squad_per_wave_limit 6)
    (set k_phantom_spawn_limit 2)
)

(script dormant void l300_music_01
    (if debug
        (print "start music l300_01")
    )
    (sound_looping_start "levels\atlas\l300\music\l300_music01" none 1)
    (sleep_until (not g_music_l300_01))
    (if debug
        (print "stop music l300_01")
    )
    (sound_looping_stop "levels\atlas\l300\music\l300_music01")
)

(script dormant void l300_music_02
    (sleep_until g_music_l300_02)
    (if debug
        (print "start music l300_02")
    )
    (sound_looping_start "levels\atlas\l300\music\l300_music02" none 1)
    (sleep_until (not g_music_l300_02))
    (if debug
        (print "stop music l300_02")
    )
    (sound_looping_stop "levels\atlas\l300\music\l300_music02")
)

(script dormant void l300_music_02_alt
    (sleep_until g_music_l300_02_alt)
    (if debug
        (print "start music l300_02")
    )
    (sound_looping_set_alternate "levels\atlas\l300\music\l300_music02" true)
)

(script dormant void l300_music_03
    (sleep_until g_music_l300_03)
    (if debug
        (print "start music l300_03")
    )
    (sound_looping_start "levels\atlas\l300\music\l300_music03" none 1)
    (sleep_until (not g_music_l300_03))
    (if debug
        (print "stop music l300_03")
    )
    (sound_looping_stop "levels\atlas\l300\music\l300_music03")
)

(script dormant void l300_music_04
    (sleep_until g_music_l300_04)
    (if debug
        (print "start music l300_04")
    )
    (sound_looping_start "levels\atlas\l300\music\l300_music04" none 1)
    (sleep_until (not g_music_l300_04))
    (if debug
        (print "stop music l300_04")
    )
    (sound_looping_stop "levels\atlas\l300\music\l300_music04")
)

(script dormant void l300_music_05
    (sleep_until g_music_l300_05)
    (if debug
        (print "start music l300_05")
    )
    (sound_looping_start "levels\atlas\l300\music\l300_music05" none 1)
    (sleep_until (not g_music_l300_05))
    (if debug
        (print "stop music l300_05")
    )
    (sound_looping_stop "levels\atlas\l300\music\l300_music05")
)

(script dormant void l300_music_06
    (sleep_until g_music_l300_06)
    (if debug
        (print "start music l300_06")
    )
    (sound_looping_start "levels\atlas\l300\music\l300_music06" none 1)
    (sleep_until (not g_music_l300_06))
    (if debug
        (print "stop music l300_06")
    )
    (sound_looping_stop "levels\atlas\l300\music\l300_music06")
)

(script dormant void l300_music_065
    (sleep_until g_music_l300_065)
    (if debug
        (print "start music l300_065")
    )
    (sound_looping_start "levels\atlas\l300\music\l300_music065" none 1)
    (sleep_until (not g_music_l300_065))
    (if debug
        (print "stop music l300_065")
    )
    (sound_looping_stop "levels\atlas\l300\music\l300_music065")
)

(script dormant void l300_music_07
    (sleep_until g_music_l300_07)
    (if debug
        (print "start music l300_07")
    )
    (sound_looping_start "levels\atlas\l300\music\l300_music07" none 1)
    (sleep_until (not g_music_l300_07))
    (if debug
        (print "stop music l300_07")
    )
    (sound_looping_stop "levels\atlas\l300\music\l300_music07")
)

(script dormant void l300_music_08
    (sleep_until g_music_l300_08)
    (if debug
        (print "start music l300_08")
    )
    (sound_looping_start "levels\atlas\l300\music\l300_music08" none 1)
    (sleep_until (not g_music_l300_08))
    (if debug
        (print "stop music l300_08")
    )
    (sound_looping_stop "levels\atlas\l300\music\l300_music08")
)

(script dormant void l300_music_09
    (sleep_until g_music_l300_09)
    (if debug
        (print "start music l300_09")
    )
    (sound_looping_start "levels\atlas\l300\music\l300_music09" none 1)
    (sleep_until (not g_music_l300_09))
    (if debug
        (print "stop music l300_09")
    )
    (sound_looping_stop "levels\atlas\l300\music\l300_music09")
)

(script dormant void ambient_overhead_cruiser01
    (sleep_until (volume_test_players "ambient_cruiser01_vol") 5)
    (wake md_03_cruiser)
    (wake ambient_cruiser_rumble01)
    (object_set_always_active "cov_cruiser_mac01" true)
    (object_cinematic_visibility "cov_cruiser_mac01" true)
    (sleep 1)
    (device_set_position_track "cov_cruiser_mac01" "fly_cruiser01" 1)
    (device_animate_position "cov_cruiser_mac01" 1 30 0 0 true)
    (sleep_until (>= (device_get_position "cov_cruiser_mac01") 0.01) 1)
    (flock_create "flock_banshees00")
    (flock_start "flock_banshees00")
    (sleep_until (>= (device_get_position "cov_cruiser_mac01") 0.045) 1)
    (flock_create "flock_banshees01")
    (flock_start "flock_banshees01")
    (sleep_until (>= (device_get_position "cov_cruiser_mac01") 1) 1)
    (object_destroy "cov_cruiser_mac01")
)

(script dormant void ambient_cruiser_rumble01
    (sleep_until (>= (device_get_position "cov_cruiser_mac01") 0.06) 1)
    (player_effect_set_max_rotation 0 0.5 0.5)
    (player_effect_set_max_rumble 0.5 0.5)
    (player_effect_start 0.5 3)
    (sleep_until (>= (device_get_position "cov_cruiser_mac01") 0.15) 1)
    (player_effect_stop 10)
)

(script dormant void ambient_overhead_cruiser02
    (sleep_until (volume_test_players "ambient_cruiser02_vol") 5)
    (flock_stop "flock_banshees00")
    (flock_delete "flock_banshees00")
    (flock_stop "flock_banshees01")
    (flock_delete "flock_banshees01")
    (object_create "cov_cruiser_mac02")
    (wake ambient_cruiser_rumble02)
    (object_set_always_active "cov_cruiser_mac02" true)
    (object_cinematic_visibility "cov_cruiser_mac02" true)
    (sleep 1)
    (device_set_position_track "cov_cruiser_mac02" "fly_cruiser02" 1)
    (device_animate_position "cov_cruiser_mac02" 1 75 0 0 false)
    (sleep_until (>= (device_get_position "cov_cruiser_mac02") 0.071) 1)
    (flock_create "flock_banshees02")
    (flock_start "flock_banshees02")
    (sleep_until (>= (device_get_position "cov_cruiser_mac02") 0.125) 1)
    (flock_create "flock_banshees03")
    (flock_start "flock_banshees03")
    (sleep_until (>= (device_get_position "cov_cruiser_mac02") 1) 1)
    (object_destroy "cov_cruiser_mac02")
)

(script dormant void ambient_cruiser_rumble02
    (sleep_until (>= (device_get_position "cov_cruiser_mac02") 0.071) 1)
    (player_effect_set_max_rotation 0 0.5 0.5)
    (player_effect_set_max_rumble 0.5 0.5)
    (player_effect_start 0.5 3)
    (sleep_until (>= (device_get_position "cov_cruiser_mac02") 0.23) 1)
    (player_effect_stop 10)
)

(script dormant void ambient_overhead_cruiser03
    (sleep_until (volume_test_players "ambient_cruiser03_vol") 5)
    (flock_stop "flock_banshees02")
    (flock_delete "flock_banshees02")
    (flock_stop "flock_banshees03")
    (flock_delete "flock_banshees03")
    (object_create_anew "cov_cruiser_mac03")
    (wake ambient_cruiser_rumble03)
    (object_set_always_active "cov_cruiser_mac03" true)
    (object_cinematic_visibility "cov_cruiser_mac03" true)
    (sleep_until (> (device_get_position "highway_door_09") 0) 5)
    (sleep 1)
    (device_set_position_track "cov_cruiser_mac03" "fly_cruiser03" 1)
    (device_animate_position "cov_cruiser_mac03" 1 30 0 0 false)
    (sleep_until (>= (device_get_position "cov_cruiser_mac03") 0.068) 1)
    (flock_create "flock_banshees04")
    (flock_start "flock_banshees04")
    (sleep_until (>= (device_get_position "cov_cruiser_mac03") 0.13) 1)
    (flock_create "flock_banshees05")
    (flock_start "flock_banshees05")
    (sleep_until (>= (device_get_position "cov_cruiser_mac03") 1) 1)
    (object_destroy "cov_cruiser_mac03")
    (sleep 900)
    (flock_stop "flock_banshees04")
    (flock_delete "flock_banshees04")
    (flock_stop "flock_banshees05")
    (flock_delete "flock_banshees05")
)

(script dormant void ambient_cruiser_rumble03
    (sleep_until (>= (device_get_position "cov_cruiser_mac03") 0.042) 1)
    (player_effect_set_max_rotation 0 0.5 0.5)
    (player_effect_set_max_rumble 0.5 0.5)
    (player_effect_start 0.5 3)
    (sleep_until (>= (device_get_position "cov_cruiser_mac03") 0.279) 1)
    (player_effect_stop 10)
)

(script static void capital_ship_test
    (object_create "capship01")
    (object_set_always_active "capship01" true)
    (device_set_position_track "capship01" "capship_fly" 0)
    (device_animate_position "capship01" 1 10 2 5 true)
    (sleep_until (>= (device_get_position "capship01") 1) 1)
    (object_destroy "capship01")
)

(script dormant void capital_ship_flyover
    (sleep_until (volume_test_players "ambient_carrier01_vol") 1)
    (wake md_09_carrier)
    (wake md_10_carrier_beam)
    (wake md_11_carrier_beam)
    (wake ambient_capital_rumble02)
    (object_create "capship01")
    (object_set_always_active "capship01" true)
    (device_set_position_track "capship01" "capship_fly" 1)
    (wake carrier_beam_effects)
    (device_animate_position "capship01" 0.17 25 0 20 true)
    (sleep_until (volume_test_players "ambient_carrier02_vol") 1)
    (device_animate_position "capship01" 0.3 60 10 10 false)
    (sleep_until (volume_test_players "md_cell_11_1_vol") 1)
    (device_animate_position "capship01" 1 120 10 10 false)
    (sleep_until (>= (device_get_position "capship01") 0.84) 1)
    (sound_looping_stop "sound\device_machines\atlas\cap_ship\cap_glass_beam\cap_glass_beam")
    (sleep_until (>= (device_get_position "capship01") 1) 1)
    (object_destroy "capship01")
)

(script dormant void ambient_capital_rumble02
    (sleep_until (>= (device_get_position "capship01") 0.3001) 1)
    (sleep 30)
    (player_effect_set_max_rotation 0 0.5 0.5)
    (player_effect_set_max_rumble 0.5 0.5)
    (player_effect_start 0.5 3)
    (sleep 120)
    (player_effect_stop 10)
)

(script dormant void scarab_walker_070
    (sleep (random_range 90 120))
    (effect_new_on_object_marker "fx\cinematics\l300_scarabs\water_eruption\water_eruption" "scarabzilla01" "marker")
    (object_create "070_scarab")
    (object_set_always_active "070_scarab" true)
    (scenery_animation_start "070_scarab" "objects\giants\scarab\scarab" "vignette_full_walk")
    (sleep 770)
    (object_destroy "070_scarab")
)

(script dormant void scarab_walker_110
    (sleep (random_range 90 120))
    (effect_new_on_object_marker "fx\cinematics\l300_scarabs\water_eruption\water_eruption" "scarabzilla02" "marker")
    (object_create "110_scarab")
    (object_set_always_active "110_scarab" true)
    (scenery_animation_start "110_scarab" "objects\giants\scarab\scarab" "vignette_full_walk")
    (sleep 770)
    (object_destroy "110_scarab")
)

(script dormant void carrier_beam_effects
    (sleep_until (> (device_get_position "capship01") 0.3001) 1)
    (sleep 450)
    (sleep_until 
        (begin
            (object_function_set 3 sky_var)
            (sleep 3)
            (set sky_var (+ sky_var 0.001))
            (>= sky_var 1)
        )
        1
        (* 30 270)
    )
)

(script dormant void md_00_start
    (if debug
        (print "mission dialogue:00:start")
    )
    (sleep 1)
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: captain, how 'bout you hang back. let us clear a path.")
            )
            (sleep (ai_play_line ai_buck l300_0040))
            (sleep 10)
            (set dialog_playing false)
        )
    )
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "dare: agreed. i'll stay with the asset, give it close cover.")
            )
            (sleep (ai_play_line ai_dare l300_0050))
            (sleep 10)
            (set dialog_playing false)
        )
    )
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "engineer: (happy whale whistle)")
            )
            (sleep (ai_play_line ai_engineer l300_0060))
            (ai_dialogue_enable true)
            (sleep 10)
            (set dialog_playing false)
        )
    )
)

(script command_script void cs_intro_phantom
    (sleep_until (>= g_intro_obj_control 10) 5)
    (cs_vehicle_speed 0.5)
    (cs_fly_by "intro_phantom/p0")
    (cs_fly_by "intro_phantom/p1")
    (sleep (* 30 3))
    (cs_vehicle_speed 1)
    (cs_fly_by "intro_phantom/p2")
    (cs_fly_by "intro_phantom/p3")
    (cs_vehicle_boost true)
    (cs_fly_by "intro_phantom/p4")
    (ai_erase ai_current_squad)
)

(script dormant void md_00_prompt01
    (sleep_until (volume_test_players "engineer_move04_vol") 5)
    (sleep_until (volume_test_objects "md_dare_dialog_vol" (ai_actors "sq_dare")) 5)
    (if debug
        (print "mission dialogue:00:prompt01")
    )
    (sleep_until (or (<= (ai_living_count "intro_turret_grunt00") 0) (>= (ai_combat_status "intro_turret_grunt00") 8)) 5)
    (if (> (ai_living_count "intro_turret_grunt00") 0)
        (begin
            (sleep 1)
            (if dialog_engineer_alive
                (begin
                    (set dialog_playing true)
                    (ai_dialogue_enable false)
                    (if dialogue
                        (print "dare: buck, that turret has us pinned! we can't advance!")
                    )
                    (sleep (ai_play_line ai_dare l300_0070))
                    (sleep 10)
                    (set dialog_playing false)
                )
            )
            (if dialog_engineer_alive
                (begin
                    (set dialog_playing true)
                    (if dialogue
                        (print "buck: flank that watch-tower, trooper! take it out!")
                    )
                    (sleep (ai_play_line ai_buck l300_0080))
                    (sleep 10)
                    (ai_dialogue_enable true)
                    (set dialog_playing false)
                )
            )
        )
    )
)

(script dormant void md_00_dead
    (sleep_until (< (ai_living_count "intro_gr") 1) 5)
    (if debug
        (print "mission dialogue:00:dead")
    )
    (sleep 60)
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: that's the last of them! captain, let's move!")
            )
            (sleep (ai_play_line ai_buck l300_0090))
            (sleep 10)
            (set dialog_playing false)
        )
    )
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "dare: where are we going, exactly?")
            )
            (sleep (ai_play_line ai_dare l300_0100))
            (sleep 10)
            (set dialog_playing false)
        )
    )
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "buck: waterfront highway! fastest way 
			out of the city!")
            )
            (sleep (ai_play_line ai_buck l300_0110))
            (ai_dialogue_enable true)
            (set dialog_playing false)
            (sleep 300)
        )
    )
)

(script dormant void md_00_flavor
    (sleep_until (> g_intro_obj_control 60) 5)
    (sleep_forever md_00_dead)
    (set dialog_playing false)
    (ai_dialogue_enable true)
    (if debug
        (print "mission dialogue:00:flavor")
    )
    (sleep_until (= dialog_playing false))
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: can't that thing move any faster?")
            )
            (sleep (ai_play_line ai_buck l300_0120))
            (sleep 10)
            (set dialog_playing false)
        )
    )
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "dare: all the shooting it's frightened.")
            )
            (sleep (ai_play_line ai_dare l300_0140))
            (sleep 10)
            (set dialog_playing false)
        )
    )
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "buck: want me to give it a little push?")
            )
            (sleep (ai_play_line ai_buck l300_0150))
            (sleep 10)
            (set dialog_playing false)
        )
    )
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "dare: what do you think?")
            )
            (sleep (ai_play_line ai_dare l300_0160))
            (sleep 10)
            (set dialog_playing false)
        )
    )
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "buck: just trying to help.")
            )
            (sleep (ai_play_line ai_buck l300_0170))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
)

(script dormant void md_00_prompt02
    (sleep_until (or (volume_test_players "md_proximity01_vol") (volume_test_players "md_proximity02_vol")) 5)
    (sleep_forever md_00_flavor)
    (set dialog_playing false)
    (ai_dialogue_enable true)
    (if debug
        (print "mission dialogue:00:prompt02")
    )
    (sleep 1)
    (sleep_until (volume_test_objects "md_buck_prompt_vol" (ai_actors "sq_buck")) 5)
    (sleep 300)
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: follow me, rookie! double-time!")
            )
            (sleep (ai_play_line ai_buck l300_0180))
            (set dialog_playing false)
        )
    )
    (if dialog_engineer_alive
        (begin
            (sleep 450)
            (set dialog_playing true)
            (if dialogue
                (print "buck: there's our exit! low building against the sea-wall!")
            )
            (sleep (ai_play_line ai_buck l300_0200))
            (sleep 10)
            (set dialog_playing false)
            (set g_music_l300_02 true)
        )
    )
    (ai_dialogue_enable true)
)

(script dormant void md_00_elevator
    (sleep_forever md_00_prompt02)
    (set dialog_playing false)
    (ai_dialogue_enable true)
    (if debug
        (print "mission dialogue:00:elevator")
    )
    (sleep 1)
    (ai_dialogue_enable false)
    (if dialogue
        (print "buck: this way! should be an elevator right through here!")
    )
    (sleep (ai_play_line ai_buck l300_0210))
    (sleep 10)
    (sleep 10)
    (sleep_until (and (volume_test_objects "dare_in_elevator_vol" (ai_actors "sq_buck")) (volume_test_players "dare_in_elevator_vol")) 5)
    (if (and dialog_engineer_alive (= (device_get_power "end_switch") 0))
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "buck: sit tight! we'll need the alien to power-on the switch!")
            )
            (sleep (ai_play_line ai_buck l300_0220))
            (set dialog_playing false)
        )
    )
    (sleep_until (= (device_get_power "end_switch") 1) 5)
    (sleep 90)
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "buck: ok, we're all set! hit it, rookie!")
            )
            (sleep (ai_play_line ai_buck l300_0230))
            (set dialog_playing false)
            (sleep 120)
        )
    )
    (sleep_until (volume_test_objects "dare_in_elevator_vol" (ai_actors "sq_dare")) 5)
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "dare: go on, trooper. activate the switch!")
            )
            (sleep (ai_play_line ai_dare l300_0240))
            (sleep 10)
            (set dialog_playing false)
        )
    )
    (ai_dialogue_enable false)
)

(script dormant void md_01_start
    (if debug
        (print "mission dialogue:01:start")
    )
    (sleep 60)
    (set dialog_playing true)
    (ai_dialogue_enable false)
    (if dialogue
        (print "buck: take the wheel, rookie! i'll ride shotgun!")
    )
    (sleep (ai_play_line ai_buck l300_0250))
    (wake md_01_end_hint)
    (ai_dialogue_enable true)
    (set dialog_playing false)
    (set g_music_l300_02 false)
    (sleep 300)
    (sleep_until (< (objects_distance_to_object (player0) (ai_get_object "sq_buck")) 7))
    (if (and (not (unit_in_vehicle (unit (player0)))) (= dialog_playing false))
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: get in the driver-seat, trooper! we gotta roll!")
            )
            (sleep (ai_play_line ai_buck l300_0260))
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
    (sleep 600)
    (sleep_until (< (objects_distance_to_object (player0) (ai_get_object "sq_buck")) 7))
    (if (and (not (unit_in_vehicle (unit (player0)))) (= dialog_playing false))
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: listen, marine, we ain't going anywhere unless you drive us there!")
            )
            (sleep (ai_play_line ai_buck l300_0270))
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
    (sleep 600)
    (sleep_until (< (objects_distance_to_object (player0) (ai_get_object "sq_buck")) 7))
    (if (and (not (unit_in_vehicle (unit (player0)))) (= dialog_playing false))
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: i'm giving you an order, rookie! take the wheel, follow that garbage truck!")
            )
            (sleep (ai_play_line ai_buck l300_0280))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
)

(script dormant void md_01_walk
    (if debug
        (print "mission dialogue:01:walk")
    )
    (if (not (game_is_cooperative))
        (begin
            (sleep 1)
            (sleep_until (> (objects_distance_to_object (player0) (ai_get_object "sq_buck")) 7))
            (if (and (not (unit_in_vehicle (unit (player0)))) (= dialog_playing false))
                (begin
                    (set dialog_playing true)
                    (ai_dialogue_enable false)
                    (if dialogue
                        (print "buck: it's too far to walk, rookie! get in the warthog!")
                    )
                    (sleep (ai_play_line ai_buck l300_0290))
                    (ai_dialogue_enable true)
                    (set dialog_playing false)
                )
            )
            (sleep 600)
            (sleep_until (> (objects_distance_to_object (player0) (ai_get_object "sq_buck")) 7))
            (if (and (not (unit_in_vehicle (unit (player0)))) (= dialog_playing false))
                (begin
                    (set dialog_playing true)
                    (ai_dialogue_enable false)
                    (if dialogue
                        (print "buck: what are you crazy?! stop fooling around and drive this hog!")
                    )
                    (sleep (ai_play_line ai_buck l300_0300))
                    (sleep 10)
                    (ai_dialogue_enable true)
                    (set dialog_playing false)
                )
            )
        )
    )
)

(script dormant void md_01_end_hint
    (sleep_until (unit_in_vehicle (unit (player0))))
    (sleep_forever md_01_walk)
    (sleep_forever md_01_start)
    (set dialog_playing false)
    (ai_dialogue_enable true)
)

(script dormant void md_01_dare_start
    (if debug
        (print "mission dialogue:01:dare:start")
    )
    (sleep 1)
    (if (= dialog_playing false)
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: hey, captain! wrong side of the road!")
            )
            (sleep (ai_play_line ai_buck l300_0310))
            (sleep 10)
            (if dialogue
                (print "dare (radio): it's a little crowded in here... the engineer's doing something with the control circuits (to engineer) hey! watch where you put that!")
            )
            (sleep (ai_play_line_on_object none l300_0320))
            (sleep 10)
            (if dialogue
                (print "engineer (radio): (apologetic whale whistle)")
            )
            (sleep (ai_play_line_on_object none l300_0330))
            (sleep 10)
            (if dialogue
                (print "buck: you gotta be kidding me")
            )
            (sleep (ai_play_line ai_buck l300_0340))
            (sleep 10)
            (if dialogue
                (print "dare (radio): i'm doing the best i can! just stay out of our way!")
            )
            (sleep (ai_play_line_on_object none l300_0350))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
)

(script dormant void md_01_dare_prompt
    (if debug
        (print "mission dialogue:01:dare:prompt")
    )
    (sleep 1)
    (if (= dialog_playing false)
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "dare (radio): careful, trooper! coming through!")
            )
            (sleep (ai_play_line_on_object none l300_0360))
            (sleep 10)
            (if dialogue
                (print "dare (radio): watch out! we're right behind you!")
            )
            (sleep (ai_play_line_on_object none l300_0370))
            (sleep 10)
            (if dialogue
                (print "dare (radio): buck! get out of the way!")
            )
            (sleep (ai_play_line_on_object none l300_0380))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
)

(script dormant void md_01_doors
    (if debug
        (print "mission dialogue:01:doors")
    )
    (sleep 1)
    (if (= dialog_playing false)
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: these doors were open before covenant must have locked them down.")
            )
            (sleep (ai_play_line ai_buck none))
            (sleep 10)
            (if dialogue
                (print "dare 01 (radio): don't worry. just give the engineer a second to override the lock")
            )
            (sleep (ai_play_line_on_object none l300_0400))
            (sleep 10)
            (if dialogue
                (print "engineer (radio): (happy whale whistle)")
            )
            (sleep (ai_play_line_on_object none l300_0410))
            (sleep 10)
            (set cell01_door_open true)
            (if dialogue
                (print "dare 02 (radio): that's it! we're moving on!")
            )
            (sleep (ai_play_line_on_object none l300_0420))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
        (set cell01_door_open true)
    )
)

(script dormant void md_01_lag
    (if debug
        (print "mission dialogue:01:lag")
    )
    (sleep 1)
    (if (= dialog_playing false)
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: step on it, rookie! don't let them get too far ahead us!")
            )
            (sleep (ai_play_line ai_buck l300_0430))
            (sleep 10)
            (if dialogue
                (print "buck: trooper! we gotta catch up to the captain!")
            )
            (sleep (ai_play_line ai_buck l300_0440))
            (sleep 10)
            (if dialogue
                (print "buck: quit wasting time, rookie! we gotta follow that garbage truck!")
            )
            (sleep (ai_play_line ai_buck l300_0450))
            (sleep 10)
            (if dialogue
                (print "buck: pedal to the metal! come on, trooper! captain's waiting!")
            )
            (sleep (ai_play_line ai_buck l300_0460))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
)

(script dormant void md_02_shields
    (if debug
        (print "mission dialogue:02:shields")
    )
    (sleep 1)
    (if (= dialog_playing false)
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: whoa! what just happened?!")
            )
            (sleep (ai_play_line ai_buck l300_0470))
            (sleep 10)
            (if dialogue
                (print "dare (radio): the engineer tapped into the vehicle's power-plant. i think it found a way to extend its shields -- send a current to the outer plating!")
            )
            (sleep (ai_play_line_on_object none l300_0480))
            (sleep 10)
            (if dialogue
                (print "dare (radio): i don't know how strong the shields are, so stay close!")
            )
            (sleep (ai_play_line_on_object none l300_0510))
            (sleep 10)
            (if dialogue
                (print "buck: don't worry, we've got you covered!")
            )
            (sleep (ai_play_line ai_buck l300_0520))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
)

(script dormant void md_02_damage
    (sleep_until 
        (begin
            (if (and (= g_olifaunt_damaged true) (= (object_get_shield obj_olifaunt) 1) (!= g_olifaunt_dialog 4))
                (begin
                    (effect_new_on_object_marker "objects\vehicles\olifaunt\fx\shield\shield_recharge" obj_olifaunt "")
                    (print "playing shields effect from md_02_damage")
                    (set g_linerand (random_range 0 4))
                    (if (= g_linerand 0)
                        (if (= dialog_playing false)
                            (begin
                                (ai_dialogue_enable false)
                                (set dialog_playing true)
                                (if dialogue
                                    (print "dare (radio): ok! shields are back to full power! here we go!")
                                )
                                (sleep (ai_play_line_on_object none l300_0580))
                                (ai_dialogue_enable true)
                                (set dialog_playing false)
                                (set g_olifaunt_damaged false)
                                (set g_olifaunt_dialog 4)
                            )
                        )
                        (if (= g_linerand 1)
                            (if (= dialog_playing false)
                                (begin
                                    (set dialog_playing true)
                                    (ai_dialogue_enable false)
                                    (if dialogue
                                        (print "dare (radio): shields are fully charged! i'm on the move!")
                                    )
                                    (sleep (ai_play_line_on_object none l300_0590))
                                    (ai_dialogue_enable true)
                                    (set dialog_playing false)
                                    (set g_olifaunt_damaged false)
                                    (set g_olifaunt_dialog 4)
                                )
                            )
                            (if (= g_linerand 2)
                                (if (= dialog_playing false)
                                    (begin
                                        (set dialog_playing true)
                                        (ai_dialogue_enable false)
                                        (if dialogue
                                            (print "dare (radio): we're good, trooper! thanks for the help!")
                                        )
                                        (sleep (ai_play_line_on_object none l300_0600))
                                        (ai_dialogue_enable true)
                                        (set dialog_playing false)
                                        (set g_olifaunt_damaged false)
                                        (set g_olifaunt_dialog 4)
                                    )
                                )
                                (if (= g_linerand 3)
                                    (if (= dialog_playing false)
                                        (begin
                                            (set dialog_playing true)
                                            (ai_dialogue_enable false)
                                            (if dialogue
                                                (print "dare (radio): thanks, trooper! shields are good to go!")
                                            )
                                            (sleep (ai_play_line_on_object none l300_0610))
                                            (ai_dialogue_enable true)
                                            (set dialog_playing false)
                                            (set g_olifaunt_damaged false)
                                            (set g_olifaunt_dialog 4)
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            )
            (if (and (<= (object_get_shield obj_olifaunt) 0.75) (> (object_get_shield obj_olifaunt) 0.5) (!= g_olifaunt_dialog 3))
                (begin
                    (set g_linerand (random_range 0 2))
                    (if (= g_linerand 0)
                        (if (= dialog_playing false)
                            (begin
                                (set dialog_playing true)
                                (ai_dialogue_enable false)
                                (if dialogue
                                    (print "dare (radio): shields are holding! but not for long!")
                                )
                                (sleep (ai_play_line_on_object none l300_0530))
                                (ai_dialogue_enable true)
                                (set dialog_playing false)
                                (set g_olifaunt_damaged true)
                                (set g_olifaunt_dialog 3)
                            )
                        )
                        (if (= g_linerand 1)
                            (if (= dialog_playing false)
                                (begin
                                    (set dialog_playing true)
                                    (ai_dialogue_enable false)
                                    (if dialogue
                                        (print "buck: heads up, rookie! the captain's in trouble!")
                                    )
                                    (sleep (ai_play_line ai_buck l300_0620))
                                    (ai_dialogue_enable true)
                                    (set dialog_playing false)
                                    (set g_olifaunt_damaged true)
                                    (set g_olifaunt_dialog 3)
                                )
                            )
                        )
                    )
                )
            )
            (if (and (<= (object_get_shield obj_olifaunt) 0.5) (> (object_get_shield obj_olifaunt) 0.25) (!= g_olifaunt_dialog 2))
                (begin
                    (set g_linerand (random_range 0 2))
                    (if (= g_linerand 0)
                        (if (= dialog_playing false)
                            (begin
                                (set dialog_playing true)
                                (ai_dialogue_enable false)
                                (if dialogue
                                    (print "dare (radio): my shields can't take much more of this!")
                                )
                                (sleep (ai_play_line_on_object none l300_0540))
                                (ai_dialogue_enable true)
                                (set dialog_playing false)
                                (set g_olifaunt_damaged true)
                                (set g_olifaunt_dialog 2)
                            )
                        )
                        (if (= g_linerand 1)
                            (if (= dialog_playing false)
                                (begin
                                    (set dialog_playing true)
                                    (ai_dialogue_enable false)
                                    (if dialogue
                                        (print "dare (radio): shields falling! take out those covenant!")
                                    )
                                    (sleep (ai_play_line_on_object none l300_0550))
                                    (ai_dialogue_enable true)
                                    (set dialog_playing false)
                                    (set g_olifaunt_damaged true)
                                    (set g_olifaunt_dialog 2)
                                )
                            )
                        )
                    )
                )
            )
            (if (and (<= (object_get_shield obj_olifaunt) 0) (>= (object_get_health obj_olifaunt) 0.5) (!= g_olifaunt_dialog 1))
                (begin
                    (set g_linerand (random_range 0 2))
                    (if (= g_linerand 0)
                        (if (= dialog_playing false)
                            (begin
                                (set dialog_playing true)
                                (ai_dialogue_enable false)
                                (if dialogue
                                    (print "dare (radio): shield is down! give us some cover while they re-charge!")
                                )
                                (sleep (ai_play_line_on_object none l300_0560))
                                (ai_dialogue_enable true)
                                (set dialog_playing false)
                                (set g_olifaunt_damaged true)
                                (set g_olifaunt_dialog 1)
                            )
                        )
                        (if (= g_linerand 1)
                            (if (= dialog_playing false)
                                (begin
                                    (set dialog_playing true)
                                    (ai_dialogue_enable false)
                                    (if dialogue
                                        (print "dare (radio): we've lost our shields! i repeat: shields are down!")
                                    )
                                    (sleep (ai_play_line_on_object none l300_0570))
                                    (ai_dialogue_enable true)
                                    (set dialog_playing false)
                                    (set g_olifaunt_damaged true)
                                    (set g_olifaunt_dialog 1)
                                )
                            )
                            (if (= g_linerand 2)
                                (if (= dialog_playing false)
                                    (begin
                                        (set dialog_playing true)
                                        (ai_dialogue_enable false)
                                        (if dialogue
                                            (print "buck: the captain just lost her shields, rookie!")
                                        )
                                        (sleep (ai_play_line ai_buck l300_0630))
                                        (ai_dialogue_enable true)
                                        (set dialog_playing false)
                                        (set g_olifaunt_damaged true)
                                        (set g_olifaunt_dialog 1)
                                    )
                                )
                                (if (= g_linerand 3)
                                    (if (= dialog_playing false)
                                        (begin
                                            (set dialog_playing true)
                                            (ai_dialogue_enable false)
                                            (if dialogue
                                                (print "buck: trooper! cover the captain's vehicle! shields are down!")
                                            )
                                            (sleep (ai_play_line ai_buck l300_0640))
                                            (ai_dialogue_enable true)
                                            (set dialog_playing false)
                                            (set g_olifaunt_damaged true)
                                            (set g_olifaunt_dialog 1)
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            )
            false
        )
        5
    )
)

(script dormant void md_03_cruiser
    (sleep_until (>= (device_get_position "cov_cruiser_mac01") 0.08) 5)
    (if debug
        (print "mission dialogue:03:cruiser")
    )
    (if (= dialog_playing false)
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: another cruiser!")
            )
            (sleep (ai_play_line ai_buck l300_0650))
            (sleep 10)
            (sleep_until (>= (device_get_position "cov_cruiser_mac01") 0.2) 5)
            (if dialogue
                (print "dare (radio): they're all heading for the slip-space crater -- the covenant dig-site north of the city!")
            )
            (sleep (ai_play_line_on_object none l300_0660))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
)

(script dormant void md_04_warthog
    (if (not (game_is_cooperative))
        (begin
            (sleep_until (volume_test_players "md_cell04_vol") 5)
            (if debug
                (print "mission dialogue:04:warthog")
            )
            (if (= dialog_playing false)
                (begin
                    (set dialog_playing true)
                    (ai_dialogue_enable false)
                    (if dialogue
                        (print "buck: there, rookie! see that warthog up ahead? let's switch vehicles!")
                    )
                    (sleep (ai_play_line ai_buck l300_0690))
                    (ai_dialogue_enable true)
                    (set dialog_playing false)
                )
            )
            (wake md_04_warthog_wait)
            (sleep 300)
            (if (and (not (vehicle_test_seat_unit "cell04_warthog" 30 (player0))) (= dialog_playing false))
                (begin
                    (set dialog_playing true)
                    (ai_dialogue_enable false)
                    (if dialogue
                        (print "buck: trooper! take the hog with the fifty! we're gonna need it!")
                    )
                    (sleep (ai_play_line ai_buck l300_0700))
                    (sleep 10)
                    (ai_dialogue_enable true)
                    (set dialog_playing false)
                )
            )
            (sleep_until (< (objects_distance_to_object (player0) "cell04_warthog") 5))
            (if (and (not (vehicle_test_seat_unit "cell04_warthog" 30 (player0))) (not (vehicle_test_seat_unit "cell04_warthog" 31 (player0))) (not (vehicle_test_seat_unit "cell04_warthog" 31 (ai_get_unit ai_buck))) (= dialog_playing false))
                (begin
                    (set dialog_playing true)
                    (ai_dialogue_enable false)
                    (unit_exit_vehicle ai_buck)
                    (unit_enter_vehicle ai_buck "cell04_warthog" "warthog_g")
                    (sleep 1)
                    (if dialogue
                        (print "buck: you drive, i'm on the turret!")
                    )
                    (sleep (ai_play_line_on_object none l300_0710))
                    (sleep 10)
                    (ai_dialogue_enable true)
                    (set dialog_playing false)
                )
            )
            (if (and (not (vehicle_test_seat_unit "cell04_warthog" 30 (player0))) (not (vehicle_test_seat_unit "cell04_warthog" 31 (player0))) (= dialog_playing false))
                (begin
                    (set dialog_playing true)
                    (ai_dialogue_enable false)
                    (if dialogue
                        (print "buck: grab the wheel, rookie! i'll man the fifty!")
                    )
                    (sleep (ai_play_line_on_object none l300_0720))
                    (sleep 10)
                    (ai_dialogue_enable true)
                    (set dialog_playing false)
                )
            )
        )
    )
)

(script dormant void md_04_warthog_wait
    (if (not (game_is_cooperative))
        (begin
            (sleep_until (> (objects_distance_to_object (player0) (ai_get_object "sq_buck")) 7) 5)
            (if (= dialog_playing false)
                (begin
                    (set dialog_playing true)
                    (ai_dialogue_enable true)
                    (if debug
                        (print "mission dialogue:04:warthog:wait")
                    )
                    (if dialogue
                        (print "buck: hey! where you going, trooper?! come back here!")
                    )
                    (sleep (ai_play_line ai_buck l300_0730))
                    (ai_dialogue_enable true)
                    (set dialog_playing false)
                )
            )
            (sleep 300)
            (sleep_until (> (objects_distance_to_object (player0) (ai_get_object "sq_buck")) 7) 5)
            (if (= dialog_playing false)
                (begin
                    (set dialog_playing true)
                    (ai_dialogue_enable false)
                    (if debug
                        (print "mission dialogue:04:warthog:wait")
                    )
                    (if dialogue
                        (print "buck: what? you leaving me behind, rookie?!")
                    )
                    (sleep (ai_play_line ai_buck l300_0740))
                    (ai_dialogue_enable true)
                    (set dialog_playing false)
                )
            )
            (sleep 300)
            (sleep_until (> (objects_distance_to_object (player0) (ai_get_object "sq_buck")) 7) 5)
            (if (= dialog_playing false)
                (begin
                    (set dialog_playing true)
                    (ai_dialogue_enable false)
                    (if debug
                        (print "mission dialogue:04:warthog:wait")
                    )
                    (if dialogue
                        (print "buck: drive your ass over here, trooper, pick me up!")
                    )
                    (sleep (ai_play_line ai_buck l300_0750))
                    (ai_dialogue_enable true)
                    (set dialog_playing false)
                )
            )
            (sleep 300)
            (sleep_until (> (objects_distance_to_object (player0) (ai_get_object "sq_buck")) 7) 5)
            (if (= dialog_playing false)
                (begin
                    (set dialog_playing true)
                    (ai_dialogue_enable false)
                    (if debug
                        (print "mission dialogue:04:warthog:wait")
                    )
                    (if dialogue
                        (print "dare (radio): trooper, go and get buck! we have to stick together!")
                    )
                    (sleep (ai_play_line_on_object none l300_0760))
                    (ai_dialogue_enable true)
                    (set dialog_playing false)
                )
            )
            (sleep 300)
            (sleep_until (> (objects_distance_to_object (player0) (ai_get_object "sq_buck")) 7) 5)
            (if (= dialog_playing false)
                (begin
                    (set dialog_playing true)
                    (ai_dialogue_enable false)
                    (if debug
                        (print "mission dialogue:04:warthog:wait")
                    )
                    (if dialogue
                        (print "dare (radio): no one gets left behind, trooper! go get sq_buck!")
                    )
                    (sleep (ai_play_line_on_object none l300_0770))
                    (ai_dialogue_enable true)
                    (set dialog_playing false)
                )
            )
            (sleep 300)
            (sleep_until (> (objects_distance_to_object (player0) (ai_get_object "sq_buck")) 7) 5)
            (if (= dialog_playing false)
                (begin
                    (set dialog_playing true)
                    (ai_dialogue_enable false)
                    (if debug
                        (print "mission dialogue:04:warthog:wait")
                    )
                    (if dialogue
                        (print "dare (radio): trooper! pick up buck! we don't have time for this! ")
                    )
                    (sleep (ai_play_line_on_object none l300_0780))
                    (ai_dialogue_enable true)
                    (set dialog_playing false)
                )
            )
        )
    )
)

(script dormant void md_05_warthog
    (if debug
        (print "mission dialogue:05:warthog")
    )
    (sleep 1)
    (if (= dialog_playing false)
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: rookie, there's another warthog! it's got a fifty cal! let's switch!")
            )
            (sleep (ai_play_line ai_buck l300_0790))
            (sleep 10)
            (if dialogue
                (print "buck: this vehicle's had it, trooper! we need a new one, come on!")
            )
            (sleep (ai_play_line ai_buck l300_0800))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
)

(script dormant void md_06_gausshog
    (if (not (game_is_cooperative))
        (begin
            (sleep_until (or (volume_test_players "md_cell06_2_vol") (volume_test_players "md_cell06_1_vol")) 5)
            (if debug
                (print "mission dialogue:06:gausshog")
            )
            (sleep 1)
            (if (= dialog_playing false)
                (begin
                    (set dialog_playing true)
                    (ai_dialogue_enable false)
                    (if dialogue
                        (print "buck: hey, hold up! it's a gauss hog! let's change vehicles!")
                    )
                    (sleep (ai_play_line ai_buck l300_0810))
                    (ai_dialogue_enable true)
                    (set dialog_playing false)
                )
            )
            (sleep_until (or (and (volume_test_players "md_cell06_2_vol") (not (unit_in_vehicle (unit (player0))))) (and (volume_test_players "md_cell06_1_vol") (not (unit_in_vehicle (unit (player0)))))) 5)
            (if (= dialog_playing false)
                (begin
                    (set dialog_playing true)
                    (ai_dialogue_enable false)
                    (if dialogue
                        (print "buck: same deal, trooper. you drive, i'll shoot!")
                    )
                    (sleep (ai_play_line ai_buck l300_0820))
                    (sleep 10)
                    (ai_dialogue_enable true)
                    (set dialog_playing false)
                )
            )
        )
    )
)

(script dormant void md_07_scarab
    (sleep_until (> (device_get_position "highway_door_12") 0) 5)
    (if debug
        (print "mission dialogue:07:scarab")
    )
    (sleep 150)
    (if (= dialog_playing false)
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "engineer (radio): (frightened whale whistle)")
            )
            (sleep (ai_play_line_on_object none l300_0830))
            (sleep 10)
            (if dialogue
                (print "dare (radio): buck")
            )
            (sleep (ai_play_line_on_object none l300_0840))
            (sleep 10)
            (if dialogue
                (print "buck: i see it. must have dropped from one of those cruisers!")
            )
            (sleep (ai_play_line ai_buck l300_0850))
            (sleep 10)
            (if dialogue
                (print "buck: just keep driving! it hasn't spotted us!")
            )
            (sleep (ai_play_line ai_buck l300_0860))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
)

(script dormant void md_07_highway
    (if debug
        (print "mission dialogue:07:highway")
    )
    (sleep_until (volume_test_players "md_cell07_1_vol") 5)
    (if (= dialog_playing false)
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "dare (radio): how the hell did you make it down this highway in one piece?!")
            )
            (sleep (ai_play_line_on_object none l300_0870))
            (sleep 10)
            (if dialogue
                (print "buck: there weren't as many covenant last night!")
            )
            (sleep (ai_play_line ai_buck l300_0880))
            (sleep 10)
            (if dialogue
                (print "engineer (radio): (frightened whale whistle)")
            )
            (sleep (ai_play_line_on_object none l300_0890))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
)

(script dormant void md_08_scorpion
    (sleep_until (> (device_get_position "highway_door_14") 0) 5)
    (sleep 30)
    (if debug
        (print "mission dialogue:08:scorpion")
    )
    (sleep_until (= dialog_playing false))
    (set dialog_playing true)
    (ai_dialogue_enable false)
    (if dialogue
        (print "dare (radio): i see a scorpion tank up ahead! we need the extra firepower!")
    )
    (sleep (ai_play_line_on_object none l300_0900))
    (sleep 10)
    (ai_dialogue_enable true)
    (set dialog_playing false)
    (if (not (game_is_cooperative))
        (begin
            (sleep 300)
            (sleep_until (not (vehicle_test_seat_unit "cell08_scorpion" 33 (player0))) 5)
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: rookie! there's the tank! let's take it!")
            )
            (sleep (ai_play_line ai_buck l300_0920))
            (set dialog_playing false)
            (sleep 300)
            (ai_dialogue_enable true)
            (sleep_until (not (vehicle_test_seat_unit "cell08_scorpion" 33 (player0))) 5)
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: captain's right, trooper! we're gonna need that tank!")
            )
            (sleep (ai_play_line ai_buck l300_0930))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
)

(script dormant void md_09_carrier
    (if debug
        (print "mission dialogue:09:carrier")
    )
    (sleep_until (>= (device_get_position "capship01") 0.07) 1)
    (sleep 90)
    (if (= dialog_playing false)
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: assault carrier! ten o'clock high!")
            )
            (sleep (ai_play_line ai_buck l300_0940))
            (sleep 10)
            (if dialogue
                (print "buck: look at the size of that thing")
            )
            (sleep (ai_play_line ai_buck l300_0950))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
)

(script dormant void md_10_carrier_beam
    (sleep_until (>= (device_get_position "capship01") 0.1705) 1)
    (if (= dialog_playing false)
        (begin
            (if debug
                (print "mission dialogue:10:carrier:beam")
            )
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (sleep 1)
            (if dialogue
                (print "dare (radio): it's charging its excavation beam!")
            )
            (sleep (ai_play_line_on_object none l300_0960))
            (sleep 10)
            (if dialogue
                (print "buck: but the dig site's on the other side of the city!")
            )
            (sleep (ai_play_line ai_buck l300_0970))
            (set g_music_l300_05 true)
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
)

(script dormant void md_11_carrier_beam
    (sleep_until (> (device_get_position "capship01") 0.3001) 1)
    (if (= dialog_playing false)
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if debug
                (print "mission dialogue:11:carrier:beam")
            )
            (sleep 60)
            (if dialogue
                (print "buck: dammit! no! theyre gonna burn this city then glass the whole planet! ")
            )
            (sleep (ai_play_line ai_buck l300_0990))
            (sleep 10)
            (if dialogue
                (print "buck: covenant bastards! its just like reach, all over again!")
            )
            (sleep (ai_play_line ai_buck l300_1000))
            (sleep 10)
            (if dialogue
                (print "dare (radio): you made it out of there, you'll make it out of here. we can do this, buck.")
            )
            (sleep (ai_play_line_on_object none l300_1010))
            (sleep 10)
            (if dialogue
                (print "buck: right. yeah, ok. ")
            )
            (sleep (ai_play_line ai_buck l300_1020))
            (sleep 10)
            (sleep (random_range 120 150))
            (if debug
                (print "mission dialogue:11:mickey")
            )
            (sleep 1)
            (if dialogue
                (print "buck: mickey? you read me? change of plans! youre coming to us!")
            )
            (sleep (ai_play_line ai_buck l300_1030))
            (sleep 10)
            (if dialogue
                (print "mickey (radio): skys kinda crowded, gunny...")
            )
            (sleep (ai_play_line_on_object none l300_1040))
            (sleep 10)
            (if dialogue
                (print "buck: there's no other way! covenant just wasted the highway!")
            )
            (sleep (ai_play_line ai_buck l300_1050))
            (sleep 10)
            (if dialogue
                (print "buck: we're gonna keep rolling as far as we can! get airborne, fly the phantom to my beacon!")
            )
            (sleep (ai_play_line ai_buck l300_1060))
            (sleep 10)
            (if dialogue
                (print "mickey (radio): understood!")
            )
            (sleep (ai_play_line_on_object none l300_1070))
            (sleep 10)
            (if dialogue
                (print "buck: and whatever you do, stay clear of that carrier!")
            )
            (sleep (ai_play_line ai_buck l300_1080))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
)

(script dormant void md_12_scarab
    (sleep_until (= scarab_see_bool true) 5)
    (set g_music_l300_05 false)
    (if (= dialog_playing false)
        (begin
            (if debug
                (print "mission dialogue:12:scarab")
            )
            (sleep 1)
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: another scarab!")
            )
            (sleep (ai_play_line ai_buck l300_1090))
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
    (set dialog_playing true)
    (ai_dialogue_enable false)
    (if dialogue
        (print "engineer (radio): (frightened whale whistle)")
    )
    (sleep (ai_play_line_on_object none l300_1110))
    (sleep 10)
    (if dialogue
        (print "dare (radio): we're going too fast! buck, i can't stop --")
    )
    (sleep (ai_play_line_on_object none l300_1120))
    (sleep 10)
    (ai_dialogue_enable true)
    (set dialog_playing false)
    (wake md_12_scarab_hit)
)

(script dormant void md_12_scarab_hit
    (if debug
        (print "mission dialogue:12:scarab:hit")
    )
    (sleep 1)
    (sleep_until (= scarab_hit_bool true) 5)
    (ai_dialogue_enable false)
    (set dialog_playing true)
    (if dialogue
        (print "buck: veronica! talk to me!")
    )
    (sleep (ai_play_line ai_buck l300_1130))
    (sleep 30)
    (if dialogue
        (print "dare (radio): (coughs) the asset -- its alright!")
    )
    (sleep (ai_play_line_on_object none l300_1140))
    (sleep 10)
    (if dialogue
        (print "buck: screw the alien, what about you?!")
    )
    (sleep (ai_play_line ai_buck l300_1150))
    (sleep 60)
    (if dialogue
        (print "dare (radio): i'm ok, buck. (coughs) but this garbage truck's had it.")
    )
    (sleep (ai_play_line_on_object none l300_1160))
    (sleep 10)
    (ai_dialogue_enable true)
    (set dialog_playing false)
)

(script dormant void md_12_end
    (if debug
        (print "mission dialogue:12:end")
    )
    (if (and (< g_cell13_obj_control 25) (not (volume_test_players "underpass_highway_vol01")) (not (volume_test_players "underpass_highway_vol02")) (not (volume_test_players "underpass_highway_vol03")) (= dialog_playing false))
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (sleep 1)
            (if dialogue
                (print "buck: take the next off-ramp! i see a building, north side of the highway. we'll hole-up there, wait for evac!")
            )
            (sleep (ai_play_line ai_buck l300_1170))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
    (sleep 300)
    (if (and (< g_cell13_obj_control 25) (not (volume_test_players "underpass_highway_vol01")) (not (volume_test_players "underpass_highway_vol02")) (not (volume_test_players "underpass_highway_vol03")) (= dialog_playing false))
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: rookie, head down the off-ramp, middle of the highway!")
            )
            (sleep (ai_play_line ai_buck l300_1185))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
    (sleep 300)
    (if (and (< g_cell13_obj_control 25) (not (volume_test_players "underpass_highway_vol01")) (not (volume_test_players "underpass_highway_vol02")) (not (volume_test_players "underpass_highway_vol03")) (= dialog_playing false))
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: we need to get off this road, trooper! drive down the off-ramp!")
            )
            (sleep (ai_play_line ai_buck l300_1186))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
)

(script dormant void md_13_exit
    (sleep_until (volume_test_players "md_13_entrance_vol") 5)
    (set g_music_l300_06 true)
    (if debug
        (print "mission dialogue:13:exit")
    )
    (if (and (not (game_is_cooperative)) (unit_in_vehicle (unit (player0))) (= dialog_playing false))
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (sleep 1)
            (if dialogue
                (print "buck: out of the vehicle, trooper! let's go!")
            )
            (sleep (ai_play_line ai_buck l300_1190))
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
    (if (and (not (game_is_cooperative)) (unit_in_vehicle (unit (player0))) (= dialog_playing false))
        (begin
            (sleep 300)
            (if (and (not (game_is_cooperative)) (unit_in_vehicle (unit (player0))) (= dialog_playing false))
                (begin
                    (set dialog_playing true)
                    (ai_dialogue_enable false)
                    (if dialogue
                        (print "buck: our vehicle won't fit through that! we're on foot from here!")
                    )
                    (sleep (ai_play_line ai_buck l300_1200))
                    (sleep 10)
                    (ai_dialogue_enable true)
                    (set dialog_playing false)
                )
            )
        )
    )
    (wake md_13_initial)
)

(script dormant void md_13_initial
    (sleep_until (not (unit_in_vehicle (unit (player0)))) 5)
    (if debug
        (print "mission dialogue:13:initial")
    )
    (sleep 10)
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: veronica, wait here! rookie, let's secure that building!")
            )
            (sleep (ai_play_line ai_buck l300_1210))
            (ai_dialogue_enable true)
            (sleep 10)
            (set dialog_playing false)
        )
    )
    (sleep 300)
    (if (and (<= g_cell13_obj_control 30) dialog_engineer_alive)
        (begin
            (ai_dialogue_enable false)
            (set dialog_playing true)
            (if (= (ai_living_count "sq_dare/cell13") 1)
                (sleep (ai_play_line ai_dare l300_1220))
                (sleep (ai_play_line_on_object none l300_1220))
            )
            (ai_dialogue_enable true)
            (if dialogue
                (print "dare: go with buck, trooper! we'll be ok!")
            )
            (set dialog_playing false)
        )
    )
    (sleep 600)
    (if (and (<= g_cell13_obj_control 40) dialog_engineer_alive)
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if (= (ai_living_count "sq_dare/cell13") 1)
                (sleep (ai_play_line ai_dare l300_1230))
                (sleep (ai_play_line_on_object none l300_1230))
            )
            (ai_dialogue_enable true)
            (if dialogue
                (print "dare: trooper! ai_buck needs your help to secure the lz! go!")
            )
            (sleep 10)
            (set dialog_playing false)
        )
    )
)

(script dormant void md_13_initial_end
    (if debug
        (print "mission dialogue:13:initial:end")
    )
    (if dialog_engineer_alive
        (begin
            (sleep 30)
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: area secure! (pause) veronica, come to us we'll cover you!")
            )
            (sleep (ai_play_line ai_buck l300_1250))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
)

(script dormant void md_13_initial_dare
    (if debug
        (print "mission dialogue:13:initial:dare")
    )
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "dare: on my way!")
            )
            (sleep (ai_play_line ai_dare l300_1270))
            (set dialog_playing false)
        )
    )
    (if dialog_engineer_alive
        (begin
            (sleep 120)
            (set dialog_playing true)
            (if dialogue
                (print "buck: mickey? what's your eta?")
            )
            (sleep (ai_play_line ai_buck l300_1300))
            (sleep 10)
            (set dialog_playing false)
        )
    )
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "mickey (radio): had to re-route, gunny! whole damn city's on fire!")
            )
            (sleep (ai_play_line_on_object none l300_1310))
            (sleep 10)
            (set dialog_playing false)
        )
    )
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "dare: we have a priority one asset  -- and a whole bunch of covenant that want it dead!")
            )
            (sleep (ai_play_line ai_dare l300_1320))
            (sleep 10)
            (set dialog_playing false)
        )
    )
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "dare: you heard the lady! whatever you gotta do, mickey, step on it!")
            )
            (sleep (ai_play_line ai_dare l300_1330))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "mickey (radio): yes, ma'am")
            )
            (sleep (ai_play_line_on_object none l300_1340))
            (sleep 10)
            (set dialog_playing false)
        )
    )
    (sleep 60)
    (wake md_13_directions)
)

(script dormant void md_13_directions
    (if debug
        (print "mission dialogue:13:directions")
    )
    (sleep 1)
    (sleep_until (and (= end_phantom_spotted true) (= g_cell13_encounter 1)) 5)
    (if dialog_engineer_alive
        (begin
            (sleep 240)
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: hostile phantoms, coming in!")
            )
            (sleep (ai_play_line ai_buck l300_1350))
            (ai_dialogue_enable true)
            (sleep 10)
            (set dialog_playing false)
        )
    )
    (sleep_until (and (= end_phantom_spotted true) (= g_cell13_encounter 2)) 5)
    (sleep 240)
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: more phantoms! look sharp!")
            )
            (sleep (ai_play_line ai_buck l300_1360))
            (ai_dialogue_enable true)
            (sleep 10)
            (set dialog_playing false)
        )
    )
    (sleep_until (and (= end_phantom_spotted true) (= g_cell13_encounter 3)) 5)
    (if dialog_engineer_alive
        (begin
            (sleep 240)
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: additional phantoms inbound!")
            )
            (sleep (ai_play_line ai_buck l300_1390))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
    (set g_music_l300_065 true)
    (sleep 90)
    (wake md_13_wraiths)
)

(script dormant void md_13_wraiths
    (sleep_until b_cell13_wraith_seen)
    (sleep 60)
    (if debug
        (print "mission dialogue:13:wraiths")
    )
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (sleep 1)
            (ai_dialogue_enable false)
            (if dialogue
                (print "dare: wraiths! on the highway!")
            )
            (sleep (ai_play_line ai_dare l300_1410))
            (set dialog_playing false)
        )
    )
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "buck: that's not good")
            )
            (sleep (ai_play_line ai_buck l300_1420))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
    (set g_music_l300_065 false)
    (set g_music_l300_07 true)
)

(script dormant void md_13_phantom_arrives
    (if debug
        (print "mission dialogue:13:phantom:arrives")
    )
    (ai_vitality_pinned "cell_13_wraith_a/pilot")
    (ai_vitality_pinned "cell_13_wraith_b/pilot")
    (object_set_shield_stun_infinite (object_get_ai "cell_13_wraith_a/pilot"))
    (object_set_shield_stun_infinite (object_get_ai "cell_13_wraith_b/pilot"))
    (sleep 1)
    (if (or (>= (ai_living_count "cell_13_wraith_a") 1) (>= (ai_living_count "cell_13_wraith_b") 1))
        (begin
            (if dialog_engineer_alive
                (begin
                    (set dialog_playing true)
                    (ai_dialogue_enable false)
                    (if dialogue
                        (print "mickey (radio): light 'em up boys!")
                    )
                    (sleep (ai_play_line_on_object none l300_1450))
                    (sleep 10)
                    (set dialog_playing false)
                )
            )
            (set g_music_l300_07 false)
            (if dialog_engineer_alive
                (begin
                    (set dialog_playing true)
                    (if dialogue
                        (print "dutch (radio): romeo, take the one on the left!")
                    )
                    (sleep (ai_play_line_on_object none l300_1460))
                    (sleep 10)
                    (set dialog_playing false)
                )
            )
            (if dialog_engineer_alive
                (begin
                    (set dialog_playing true)
                    (if dialogue
                        (print "romeo (radio): i got it... hold her steady!")
                    )
                    (sleep (ai_play_line_on_object none l300_1470))
                    (sleep 10)
                    (ai_dialogue_enable true)
                    (set dialog_playing false)
                )
            )
        )
    )
    (set g_music_l300_07 false)
    (sleep_until (and (<= (ai_living_count "cell_13_wraith_a") 0) (<= (ai_living_count "cell_13_wraith_b") 0)))
    (sleep 30)
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "dare: for replacements, your men make one hell of a team.")
            )
            (sleep (ai_play_line ai_dare l300_1485))
            (sleep 10)
            (set dialog_playing false)
        )
    )
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (if dialogue
                (print "buck: just nice to know they really do listen come on, let's get out of here!")
            )
            (sleep (ai_play_line ai_buck l300_1486))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
    (set g_music_l300_08 true)
    (set g_music_l300_09 true)
)

(script dormant void md_13_end_prompt
    (sleep 90)
    (if debug
        (print "mission dialogue:13:end:prompt")
    )
    (if dialog_engineer_alive
        (begin
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: go, rookie! head for the phantom!")
            )
            (sleep (ai_play_line ai_buck l300_1490))
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
    (if dialog_engineer_alive
        (begin
            (sleep 300)
            (set dialog_playing true)
            (ai_dialogue_enable false)
            (if dialogue
                (print "buck: what are you waiting for, trooper?! come on!")
            )
            (sleep (ai_play_line ai_buck l300_1500))
            (sleep 10)
            (ai_dialogue_enable true)
            (set dialog_playing false)
        )
    )
)

(script static boolean enc_ihot_s_0_2
    (> g_intro_obj_control 40)
)

(script static boolean enc_ihot_s_0_3
    (> g_intro_obj_control 40)
)

(script static boolean enc_ihot_s_0_4
    (<= g_intro_obj_control 40)
)

(script static boolean enc_ihot_s_0_5
    (<= g_intro_obj_control 40)
)

(script static boolean enc_iright_0_7
    (< g_intro_obj_control 40)
)

(script static boolean enc_ileft__0_12
    (< g_intro_obj_control 40)
)

(script static boolean enc_cencou_9_6
    (= g_cell13_encounter 1)
)

(script static boolean enc_cencou_9_7
    (= g_cell13_encounter 2)
)

(script static boolean enc_cencou_9_9
    (>= g_cell13_encounter 3)
)

(script static boolean enc_chunte_9_16
    (<= (ai_task_count "enc_cell13_obj/left_side_2b") 0)
)

(script static boolean enc_chunte_9_17
    (> (ai_task_count "enc_cell13_obj/left_side_gate2") 0)
)

(script static boolean enc_chunte_9_18
    (<= (ai_task_count "enc_cell13_obj/left_side_2c") 0)
)

(script static boolean enc_chunte_9_19
    (<= (ai_task_count "enc_cell13_obj/left_side_2a") 0)
)

(script static boolean enc_cbrute_9_20
    (> (ai_task_count "enc_cell13_obj/left_side_gate1") 0)
)

(script static boolean enc_cbrute_9_21
    (<= (ai_task_count "enc_cell13_obj/left_side_1a") 0)
)

(script static boolean enc_cbrute_9_22
    (<= (ai_task_count "enc_cell13_obj/left_side_1b") 0)
)

(script static boolean enc_cbrute_9_23
    (<= (ai_task_count "enc_cell13_obj/left_side_1c") 0)
)

(script static boolean enc_cbrute_9_28
    (<= (ai_living_count "cell13_gr") 1)
)

(script static boolean enc_cdead__9_31
    (<= (ai_living_count "cell_13_squad_3d") 0)
)

(script static boolean enc_cfront_9_33
    (< g_cell13_encounter 3)
)

(script static boolean enc_cdare__10_1
    (= g_go_engineer true)
)

(script static boolean enc_cengin_10_2
    (= g_go_engineer true)
)

(script static boolean enc_cbuck__10_5
    (= g_go_engineer true)
)

(script static boolean enc_cbuck__10_6
    (> (ai_living_count "odst_phantom") 1)
)

(script static boolean enc_ctasks_10_8
    (and (> (ai_living_count "odst_phantom") 1) (<= (ai_living_count "cell_13_wraith_a") 0) (<= (ai_living_count "cell_13_wraith_b") 0))
)

(script static boolean enc_ctasks_10_9
    (and (> (ai_living_count "odst_phantom") 1) (<= (ai_living_count "cell_13_wraith_a") 0) (<= (ai_living_count "cell_13_wraith_b") 0))
)

(script static boolean enc_i01_20_0
    (< g_intro_obj_control 10)
)

(script static boolean enc_i02_20_1
    (= g_intro_obj_control 10)
)

(script static boolean enc_ibuck0_20_2
    (= g_intro_obj_control 40)
)

(script static boolean enc_idare0_20_5
    (intro_task_first_half)
)

(script static boolean enc_idare0_20_6
    (or (= (ai_living_count "intro_gr") 0) (> g_intro_obj_control 50))
)

(script static boolean enc_i06_20_9
    (= g_intro_obj_control 60)
)

(script static boolean enc_i07_20_10
    (and (>= g_intro_obj_control 70) (< g_intro_obj_control 80))
)

(script static boolean enc_i08_20_11
    (= g_intro_obj_control 80)
)

(script static boolean enc_ibuck0_20_12
    (= g_intro_obj_control 50)
)

(script static boolean enc_i09_20_13
    (= g_intro_obj_control 90)
)

(script static boolean enc_id01_20_14
    (< g_intro_obj_control 10)
)

(script static boolean enc_id02_20_15
    (= g_intro_obj_control 10)
)

(script static boolean enc_id06_20_16
    (= g_intro_obj_control 60)
)

(script static boolean enc_id07_20_17
    (and (>= g_intro_obj_control 70) (< g_intro_obj_control 80))
)

(script static boolean enc_id08_20_18
    (= g_intro_obj_control 80)
)

(script static boolean enc_id09_20_19
    (= g_intro_obj_control 90)
)

(script static boolean obj_linfan_21_8
    (and (<= (ai_task_count "obj_l300_survival/remaining_task") 3) (<= (ai_task_count "obj_l300_survival/hero_chasin") 0))
)

(script static boolean obj_lhero__21_9
    (<= (ai_task_count "obj_l300_survival/remaining_task") 3)
)

(script static boolean obj_linfan_21_21
    (volume_test_players "sur_top_vol")
)

(script static boolean obj_lleft__21_22
    (left_gate_active)
)

(script static boolean obj_lright_21_23
    (right_gate_active)
)

(script static boolean obj_lcente_21_24
    (center_gate_active)
)

(script static boolean enginengin_22_1
    (intro_task_first_half)
)

(script static boolean enginengin_22_2
    (or (= (ai_living_count "intro_gr") 0) (> g_intro_obj_control 50))
)

(script static boolean engine01_22_3
    (< g_intro_obj_control 10)
)

(script static boolean engine02_22_4
    (= g_intro_obj_control 10)
)

(script static boolean engine06_22_5
    (= g_intro_obj_control 60)
)

(script static boolean engine07_22_6
    (= g_intro_obj_control 70)
)

(script static boolean engine08_22_7
    (= g_intro_obj_control 80)
)

(script static boolean engine09_22_8
    (= g_intro_obj_control 90)
)

(script static boolean engine07_2_22_9
    (= g_intro_obj_control 72)
)

(script static boolean engine07_4_22_10
    (= g_intro_obj_control 74)
)

(script dormant void l300_insertion_stub
    (if debug
        (print "l300 insertion stub")
    )
)

(script static void ins_level_start
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "l300_hub_010_cin")
            (sleep 1)
        )
    )
    (set g_insertion_index 1)
    (sleep 1)
)

(script static void ins_cell_1
    (if (> (player_count) 0)
        (begin
            (cinematic_snap_to_black)
            (if (!= (current_zone_set) g_set_all)
                (begin
                    (ai_erase_all)
                    (if debug
                        (print "switching zone sets...")
                    )
                    (switch_zone_set "l300_010_cin")
                    (sleep 1)
                )
            )
            (set g_insertion_index 2)
            (set g_intro_obj_control 100)
            (sleep 1)
            (objectives_finish_up_to 0)
            (game_save)
            (set g_vidmaster false)
        )
    )
)

(script static void ins_cell_2
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "l300_010")
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players to highway...")
    )
    (object_teleport (player0) "cell2_player0_flag")
    (object_teleport (player1) "cell2_player1_flag")
    (object_teleport (player2) "cell2_player2_flag")
    (object_teleport (player3) "cell2_player3_flag")
    (player0_set_pitch -12 0)
    (player1_set_pitch -12 0)
    (player2_set_pitch -12 0)
    (player3_set_pitch -12 0)
    (sleep 5)
    (set g_insertion_index 3)
    (wake olifaunt_nanny)
    (set g_intro_obj_control 100)
    (set g_cell01_obj_control 100)
    (wake allysetup)
    (wake vehicle_pointer)
    (set g_vidmaster false)
    (sleep 1)
)

(script static void ins_cell_3
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "l300_010_020")
            (ai_erase_all)
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "cell3_player0_flag")
    (object_teleport (player1) "cell3_player1_flag")
    (object_teleport (player2) "cell3_player2_flag")
    (object_teleport (player3) "cell3_player3_flag")
    (player0_set_pitch -12 0)
    (player1_set_pitch -12 0)
    (player2_set_pitch -12 0)
    (player3_set_pitch -12 0)
    (sleep 5)
    (set g_insertion_index 4)
    (wake olifaunt_nanny)
    (wake md_02_damage)
    (wake allysetup)
    (set g_vidmaster false)
    (sleep 1)
    (set g_intro_obj_control 100)
    (set g_cell01_obj_control 100)
    (set g_cell02_obj_control 100)
    (objectives_finish_up_to 0)
    (wake obj_escort_set)
    (wake obj_escort_clear)
    (wake vehicle_pointer)
    (object_create "cov_cruiser_mac01")
)

(script static void ins_cell_4
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "l300_010_020")
            (ai_erase_all)
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "cell4_player0_flag")
    (object_teleport (player1) "cell4_player1_flag")
    (object_teleport (player2) "cell4_player2_flag")
    (object_teleport (player3) "cell4_player3_flag")
    (player0_set_pitch -12 0)
    (player1_set_pitch -12 0)
    (player2_set_pitch -12 0)
    (player3_set_pitch -12 0)
    (sleep 5)
    (set g_insertion_index 5)
    (wake olifaunt_nanny)
    (wake md_02_damage)
    (wake allysetup)
    (sleep 1)
    (set g_intro_obj_control 100)
    (set g_cell01_obj_control 100)
    (set g_cell02_obj_control 100)
    (set g_cell03_obj_control 100)
    (objectives_finish_up_to 0)
    (wake obj_escort_set)
    (wake obj_escort_clear)
    (wake vehicle_pointer)
)

(script static void ins_cell_5
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "l300_010_020")
            (ai_erase_all)
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "cell5_player0_flag")
    (object_teleport (player1) "cell5_player1_flag")
    (object_teleport (player2) "cell5_player2_flag")
    (object_teleport (player3) "cell5_player3_flag")
    (player0_set_pitch -12 0)
    (player1_set_pitch -12 0)
    (player2_set_pitch -12 0)
    (player3_set_pitch -12 0)
    (sleep 5)
    (set g_insertion_index 6)
    (wake olifaunt_nanny)
    (wake md_02_damage)
    (wake allysetup)
    (set g_vidmaster false)
    (sleep 1)
    (objectives_finish_up_to 0)
    (set g_intro_obj_control 100)
    (set g_cell01_obj_control 100)
    (set g_cell02_obj_control 100)
    (set g_cell03_obj_control 100)
    (set g_cell04_obj_control 100)
    (wake obj_escort_set)
    (wake obj_escort_clear)
    (wake vehicle_pointer)
)

(script static void ins_cell_6
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "l300_020")
            (ai_erase_all)
            (sleep 1)
        )
    )
    (object_teleport (player0) "cell6_player0_flag")
    (object_teleport (player1) "cell6_player1_flag")
    (object_teleport (player2) "cell6_player2_flag")
    (object_teleport (player3) "cell6_player3_flag")
    (player0_set_pitch -12 0)
    (player1_set_pitch -12 0)
    (player2_set_pitch -12 0)
    (player3_set_pitch -12 0)
    (sleep 5)
    (set g_insertion_index 7)
    (wake olifaunt_nanny)
    (wake md_02_damage)
    (wake allysetup)
    (set g_vidmaster false)
    (sleep 1)
    (objectives_finish_up_to 0)
    (set g_intro_obj_control 100)
    (set g_cell01_obj_control 100)
    (set g_cell02_obj_control 100)
    (set g_cell03_obj_control 100)
    (set g_cell04_obj_control 100)
    (set g_cell05_obj_control 100)
    (wake obj_escort_set)
    (wake obj_escort_clear)
    (wake vehicle_pointer)
)

(script static void ins_cell_7
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "l300_020")
            (ai_erase_all)
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "cell7_player0_flag")
    (object_teleport (player1) "cell7_player1_flag")
    (object_teleport (player2) "cell7_player2_flag")
    (object_teleport (player3) "cell7_player3_flag")
    (player0_set_pitch -12 0)
    (player1_set_pitch -12 0)
    (player2_set_pitch -12 0)
    (player3_set_pitch -12 0)
    (sleep 5)
    (set g_insertion_index 8)
    (wake olifaunt_nanny)
    (wake md_02_damage)
    (wake allysetup)
    (set g_vidmaster false)
    (sleep 1)
    (objectives_finish_up_to 0)
    (set g_intro_obj_control 100)
    (set g_cell01_obj_control 100)
    (set g_cell02_obj_control 100)
    (set g_cell03_obj_control 100)
    (set g_cell04_obj_control 100)
    (set g_cell05_obj_control 100)
    (set g_cell06_obj_control 100)
    (wake obj_escort_set)
    (wake obj_escort_clear)
    (wake vehicle_pointer)
)

(script static void ins_cell_8
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "l300_020_030")
            (ai_erase_all)
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "cell8_player0_flag")
    (object_teleport (player1) "cell8_player1_flag")
    (object_teleport (player2) "cell8_player2_flag")
    (object_teleport (player3) "cell8_player3_flag")
    (player0_set_pitch -12 0)
    (player1_set_pitch -12 0)
    (player2_set_pitch -12 0)
    (player3_set_pitch -12 0)
    (sleep 5)
    (set g_insertion_index 9)
    (wake olifaunt_nanny)
    (wake md_02_damage)
    (wake allysetup)
    (set g_vidmaster false)
    (sleep 1)
    (objectives_finish_up_to 0)
    (set g_intro_obj_control 100)
    (set g_cell01_obj_control 100)
    (set g_cell02_obj_control 100)
    (set g_cell03_obj_control 100)
    (set g_cell04_obj_control 100)
    (set g_cell05_obj_control 100)
    (set g_cell06_obj_control 100)
    (set g_cell07_obj_control 100)
    (wake obj_escort_set)
    (wake obj_escort_clear)
    (wake vehicle_pointer)
)

(script static void ins_cell_9
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "l300_020_030")
            (ai_erase_all)
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "cell9_player0_flag")
    (object_teleport (player1) "cell9_player1_flag")
    (object_teleport (player2) "cell9_player2_flag")
    (object_teleport (player3) "cell9_player3_flag")
    (player0_set_pitch -12 0)
    (player1_set_pitch -12 0)
    (player2_set_pitch -12 0)
    (player3_set_pitch -12 0)
    (sleep 5)
    (set g_insertion_index 10)
    (wake olifaunt_nanny)
    (wake md_02_damage)
    (wake allysetup)
    (set g_vidmaster false)
    (sleep 1)
    (objectives_finish_up_to 0)
    (set g_intro_obj_control 100)
    (set g_cell01_obj_control 100)
    (set g_cell02_obj_control 100)
    (set g_cell03_obj_control 100)
    (set g_cell04_obj_control 100)
    (set g_cell05_obj_control 100)
    (set g_cell06_obj_control 100)
    (set g_cell07_obj_control 100)
    (set g_cell08_obj_control 100)
    (wake obj_escort_set)
    (wake obj_escort_clear)
    (wake vehicle_pointer)
)

(script static void ins_cell_10
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "l300_020_030")
            (ai_erase_all)
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "cell10_player0_flag")
    (object_teleport (player1) "cell10_player1_flag")
    (object_teleport (player2) "cell10_player2_flag")
    (object_teleport (player3) "cell10_player3_flag")
    (player0_set_pitch -12 0)
    (player1_set_pitch -12 0)
    (player2_set_pitch -12 0)
    (player3_set_pitch -12 0)
    (sleep 5)
    (set g_insertion_index 11)
    (wake olifaunt_nanny)
    (wake md_02_damage)
    (wake allysetup)
    (set g_vidmaster false)
    (sleep 1)
    (objectives_finish_up_to 0)
    (set g_intro_obj_control 100)
    (set g_cell01_obj_control 100)
    (set g_cell02_obj_control 100)
    (set g_cell03_obj_control 100)
    (set g_cell04_obj_control 100)
    (set g_cell05_obj_control 100)
    (set g_cell06_obj_control 100)
    (set g_cell07_obj_control 100)
    (set g_cell08_obj_control 100)
    (set g_cell09_obj_control 100)
    (wake obj_escort_set)
    (wake obj_escort_clear)
    (wake vehicle_pointer)
)

(script static void ins_cell_11
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "l300_030")
            (ai_erase_all)
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "cell11_player0_flag")
    (object_teleport (player1) "cell11_player1_flag")
    (object_teleport (player2) "cell11_player2_flag")
    (object_teleport (player3) "cell11_player3_flag")
    (player0_set_pitch -12 0)
    (player1_set_pitch -12 0)
    (player2_set_pitch -12 0)
    (player3_set_pitch -12 0)
    (sleep 5)
    (set g_insertion_index 12)
    (wake olifaunt_nanny)
    (wake md_02_damage)
    (wake allysetup)
    (set g_vidmaster false)
    (sleep 1)
    (objectives_finish_up_to 0)
    (set g_intro_obj_control 100)
    (set g_cell01_obj_control 100)
    (set g_cell02_obj_control 100)
    (set g_cell03_obj_control 100)
    (set g_cell04_obj_control 100)
    (set g_cell05_obj_control 100)
    (set g_cell06_obj_control 100)
    (set g_cell07_obj_control 100)
    (set g_cell08_obj_control 100)
    (set g_cell09_obj_control 100)
    (set g_cell10_obj_control 100)
    (wake obj_escort_set)
    (wake obj_escort_clear)
    (wake vehicle_pointer)
)

(script static void ins_cell_12
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "l300_030")
            (ai_erase_all)
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "cell12_player0_flag")
    (object_teleport (player1) "cell12_player1_flag")
    (object_teleport (player2) "cell12_player2_flag")
    (object_teleport (player3) "cell12_player3_flag")
    (player0_set_pitch -12 0)
    (player1_set_pitch -12 0)
    (player2_set_pitch -12 0)
    (player3_set_pitch -12 0)
    (sleep 5)
    (set g_insertion_index 13)
    (wake olifaunt_nanny)
    (wake md_02_damage)
    (wake allysetup)
    (set g_vidmaster false)
    (sleep 1)
    (objectives_finish_up_to 0)
    (set g_intro_obj_control 100)
    (set g_cell01_obj_control 100)
    (set g_cell02_obj_control 100)
    (set g_cell03_obj_control 100)
    (set g_cell04_obj_control 100)
    (set g_cell05_obj_control 100)
    (set g_cell06_obj_control 100)
    (set g_cell07_obj_control 100)
    (set g_cell08_obj_control 100)
    (set g_cell09_obj_control 100)
    (set g_cell10_obj_control 100)
    (set g_cell11_obj_control 100)
    (wake obj_escort_set)
    (wake obj_escort_clear)
    (wake vehicle_pointer)
)

(script static void ins_cell_13
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "l300_030")
            (ai_erase_all)
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "cell13_player0_flag")
    (object_teleport (player1) "cell13_player1_flag")
    (object_teleport (player2) "cell13_player2_flag")
    (object_teleport (player3) "cell13_player3_flag")
    (player0_set_pitch -12 0)
    (player1_set_pitch -12 0)
    (player2_set_pitch -12 0)
    (player3_set_pitch -12 0)
    (sleep 5)
    (set g_insertion_index 14)
    (set g_intro_obj_control 100)
    (set g_cell01_obj_control 100)
    (set g_cell02_obj_control 100)
    (set g_cell03_obj_control 100)
    (set g_cell04_obj_control 100)
    (set g_cell05_obj_control 100)
    (set g_cell06_obj_control 100)
    (set g_cell07_obj_control 100)
    (set g_cell08_obj_control 100)
    (set g_cell09_obj_control 100)
    (set g_cell10_obj_control 100)
    (set g_cell11_obj_control 100)
    (set g_cell12_obj_control 100)
    (wake allysetup)
    (set g_vidmaster false)
    (sleep 1)
    (objectives_finish_up_to 1)
)

(script dormant void allysetup
    (print "setting up allies for this insertion point")
    (if (!= g_insertion_index 13)
        (sleep_forever engineer_fail)
    )
    (if (= g_insertion_index 3)
        (begin
            (ai_place "sq_olifaunt/cell02")
            (set ai_olifaunt "sq_olifaunt/cell02")
            (set obj_olifaunt (ai_vehicle_get_from_spawn_point "sq_olifaunt/cell02"))
            (chud_show_ai_navpoint "sq_olifaunt" "dare" true 1)
            (wake olifaunt_intensity)
            (wake olifaunt_save)
            (ai_suppress_combat ai_olifaunt true)
            (wake olifaunt_fail)
            (ai_place "troop_hog/cell02")
            (set obj_warthog (ai_vehicle_get_from_spawn_point "troop_hog/cell02"))
            (set v_warthog (ai_vehicle_get_from_spawn_point "troop_hog/cell02"))
            (object_cannot_die obj_warthog true)
            (ai_vehicle_reserve_seat v_warthog 30 true)
            (if (game_is_cooperative)
                (begin
                    (ai_place "coop_vehicle/cell02")
                    (set obj_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell02"))
                    (set v_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell02"))
                    (object_cannot_die obj_coop true)
                    (ai_vehicle_reserve_seat v_coop 30 true)
                )
            )
            (ai_place "sq_buck/cell02")
            (set ai_buck "sq_buck/cell02")
            (set obj_buck (ai_get_object "sq_buck/cell02"))
            (ai_force_active "sq_buck/cell02" true)
            (ai_cannot_die ai_buck true)
            (chud_show_ai_navpoint "sq_buck" "buck" true 0.1)
            (vehicle_load_magic obj_warthog 31 obj_buck)
        )
        (if (= g_insertion_index 4)
            (begin
                (ai_place "sq_olifaunt/cell03")
                (set ai_olifaunt "sq_olifaunt/cell03")
                (set obj_olifaunt (ai_vehicle_get_from_spawn_point "sq_olifaunt/cell03"))
                (chud_show_ai_navpoint "sq_olifaunt" "dare" true 1)
                (wake olifaunt_intensity)
                (wake olifaunt_save)
                (ai_suppress_combat ai_olifaunt true)
                (wake olifaunt_fail)
                (ai_place "troop_hog/cell03")
                (set obj_warthog (ai_vehicle_get_from_spawn_point "troop_hog/cell03"))
                (set v_warthog (ai_vehicle_get_from_spawn_point "troop_hog/cell03"))
                (object_cannot_die obj_warthog true)
                (ai_vehicle_reserve_seat v_warthog 30 true)
                (if (game_is_cooperative)
                    (begin
                        (ai_place "coop_vehicle/cell03")
                        (set obj_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell03"))
                        (set v_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell03"))
                        (object_cannot_die obj_coop true)
                        (ai_vehicle_reserve_seat v_coop 30 true)
                    )
                )
                (ai_place "sq_buck/cell03")
                (set ai_buck "sq_buck/cell03")
                (set obj_buck (ai_get_object "sq_buck/cell03"))
                (ai_force_active "sq_buck/cell03" true)
                (ai_cannot_die ai_buck true)
                (chud_show_ai_navpoint "sq_buck" "buck" true 0.1)
                (vehicle_load_magic obj_warthog 31 obj_buck)
            )
            (if (= g_insertion_index 5)
                (begin
                    (ai_place "sq_olifaunt/cell04")
                    (set ai_olifaunt "sq_olifaunt/cell04")
                    (set obj_olifaunt (ai_vehicle_get_from_spawn_point "sq_olifaunt/cell04"))
                    (chud_show_ai_navpoint "sq_olifaunt" "dare" true 1)
                    (wake olifaunt_intensity)
                    (wake olifaunt_save)
                    (ai_suppress_combat ai_olifaunt true)
                    (wake olifaunt_fail)
                    (ai_place "troop_hog/cell04")
                    (set obj_warthog (ai_vehicle_get_from_spawn_point "troop_hog/cell04"))
                    (set v_warthog (ai_vehicle_get_from_spawn_point "troop_hog/cell04"))
                    (object_cannot_die obj_warthog true)
                    (ai_vehicle_reserve_seat v_warthog 30 true)
                    (if (game_is_cooperative)
                        (begin
                            (ai_place "coop_vehicle/cell04")
                            (set obj_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell04"))
                            (set v_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell04"))
                            (object_cannot_die obj_coop true)
                            (ai_vehicle_reserve_seat v_coop 30 true)
                        )
                    )
                    (ai_place "sq_buck/cell04")
                    (set ai_buck "sq_buck/cell04")
                    (set obj_buck (ai_get_object "sq_buck/cell04"))
                    (ai_force_active "sq_buck/cell04" true)
                    (ai_cannot_die ai_buck true)
                    (chud_show_ai_navpoint "sq_buck" "buck" true 0.1)
                    (vehicle_load_magic obj_warthog 31 obj_buck)
                )
                (if (= g_insertion_index 6)
                    (begin
                        (ai_place "sq_olifaunt/cell05")
                        (set ai_olifaunt "sq_olifaunt/cell05")
                        (set obj_olifaunt (ai_vehicle_get_from_spawn_point "sq_olifaunt/cell05"))
                        (chud_show_ai_navpoint "sq_olifaunt" "dare" true 1)
                        (wake olifaunt_intensity)
                        (wake olifaunt_save)
                        (ai_suppress_combat ai_olifaunt true)
                        (wake olifaunt_fail)
                        (ai_place "warthog/cell05")
                        (set obj_warthog (ai_vehicle_get_from_spawn_point "warthog/cell05"))
                        (set v_warthog (ai_vehicle_get_from_spawn_point "warthog/cell05"))
                        (object_cannot_die obj_warthog true)
                        (ai_vehicle_reserve_seat v_warthog 30 true)
                        (if (game_is_cooperative)
                            (begin
                                (ai_place "coop_vehicle/cell05")
                                (set obj_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell05"))
                                (set v_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell05"))
                                (object_cannot_die obj_coop true)
                                (ai_vehicle_reserve_seat v_coop 30 true)
                            )
                        )
                        (ai_place "sq_buck/cell05")
                        (set ai_buck "sq_buck/cell05")
                        (set obj_buck (ai_get_object "sq_buck/cell05"))
                        (ai_force_active "sq_buck/cell05" true)
                        (ai_cannot_die ai_buck true)
                        (chud_show_ai_navpoint "sq_buck" "buck" true 0.1)
                        (vehicle_load_magic obj_warthog 31 obj_buck)
                    )
                    (if (= g_insertion_index 7)
                        (begin
                            (ai_place "sq_olifaunt/cell06")
                            (set ai_olifaunt "sq_olifaunt/cell06")
                            (set obj_olifaunt (ai_vehicle_get_from_spawn_point "sq_olifaunt/cell06"))
                            (chud_show_ai_navpoint "sq_olifaunt" "dare" true 1)
                            (wake olifaunt_intensity)
                            (wake olifaunt_save)
                            (ai_suppress_combat ai_olifaunt true)
                            (wake olifaunt_fail)
                            (ai_place "warthog/cell06")
                            (set obj_warthog (ai_vehicle_get_from_spawn_point "warthog/cell06"))
                            (set v_warthog (ai_vehicle_get_from_spawn_point "warthog/cell06"))
                            (object_cannot_die obj_warthog true)
                            (ai_vehicle_reserve_seat v_warthog 30 true)
                            (if (game_is_cooperative)
                                (begin
                                    (ai_place "coop_vehicle/cell06")
                                    (set obj_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell06"))
                                    (set v_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell06"))
                                    (object_cannot_die obj_coop true)
                                    (ai_vehicle_reserve_seat v_coop 30 true)
                                )
                            )
                            (ai_place "sq_buck/cell06")
                            (set ai_buck "sq_buck/cell06")
                            (set obj_buck (ai_get_object "sq_buck/cell06"))
                            (ai_force_active "sq_buck/cell06" true)
                            (ai_cannot_die ai_buck true)
                            (chud_show_ai_navpoint "sq_buck" "buck" true 0.1)
                            (vehicle_load_magic obj_warthog 31 obj_buck)
                        )
                        (if (= g_insertion_index 8)
                            (begin
                                (ai_place "sq_olifaunt/cell07")
                                (set ai_olifaunt "sq_olifaunt/cell07")
                                (set obj_olifaunt (ai_vehicle_get_from_spawn_point "sq_olifaunt/cell07"))
                                (chud_show_ai_navpoint "sq_olifaunt" "dare" true 1)
                                (wake olifaunt_intensity)
                                (wake olifaunt_save)
                                (ai_suppress_combat ai_olifaunt true)
                                (wake olifaunt_fail)
                                (ai_place "gauss_hog/cell07")
                                (set obj_gausshog (ai_vehicle_get_from_spawn_point "gauss_hog/cell07"))
                                (set v_gausshog (ai_vehicle_get_from_spawn_point "gauss_hog/cell07"))
                                (object_cannot_die obj_gausshog true)
                                (ai_vehicle_reserve_seat v_gausshog 30 true)
                                (if (game_is_cooperative)
                                    (begin
                                        (ai_place "coop_vehicle/cell07")
                                        (set obj_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell07"))
                                        (set v_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell07"))
                                        (object_cannot_die obj_coop true)
                                        (ai_vehicle_reserve_seat v_coop 30 true)
                                    )
                                )
                                (ai_place "sq_buck/cell07")
                                (set ai_buck "sq_buck/cell07")
                                (set obj_buck (ai_get_object "sq_buck/cell07"))
                                (ai_force_active "sq_buck/cell07" true)
                                (ai_cannot_die ai_buck true)
                                (chud_show_ai_navpoint "sq_buck" "buck" true 0.1)
                                (vehicle_load_magic obj_gausshog 31 obj_buck)
                            )
                            (if (= g_insertion_index 9)
                                (begin
                                    (ai_place "sq_olifaunt/cell08")
                                    (set ai_olifaunt "sq_olifaunt/cell08")
                                    (set obj_olifaunt (ai_vehicle_get_from_spawn_point "sq_olifaunt/cell08"))
                                    (chud_show_ai_navpoint "sq_olifaunt" "dare" true 1)
                                    (wake olifaunt_intensity)
                                    (wake olifaunt_save)
                                    (ai_suppress_combat ai_olifaunt true)
                                    (wake olifaunt_fail)
                                    (ai_place "gauss_hog/cell08")
                                    (set obj_gausshog (ai_vehicle_get_from_spawn_point "gauss_hog/cell08"))
                                    (set v_gausshog (ai_vehicle_get_from_spawn_point "gauss_hog/cell08"))
                                    (object_cannot_die obj_gausshog true)
                                    (ai_vehicle_reserve_seat v_gausshog 30 true)
                                    (if (game_is_cooperative)
                                        (begin
                                            (ai_place "coop_vehicle/cell08")
                                            (set obj_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell08"))
                                            (set v_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell08"))
                                            (object_cannot_die obj_coop true)
                                            (ai_vehicle_reserve_seat v_coop 30 true)
                                        )
                                    )
                                    (ai_place "sq_buck/cell08")
                                    (set ai_buck "sq_buck/cell08")
                                    (set obj_buck (ai_get_object "sq_buck/cell08"))
                                    (ai_force_active "sq_buck/cell08" true)
                                    (ai_cannot_die ai_buck true)
                                    (chud_show_ai_navpoint "sq_buck" "buck" true 0.1)
                                    (vehicle_load_magic obj_gausshog 31 obj_buck)
                                )
                                (if (= g_insertion_index 10)
                                    (begin
                                        (ai_place "sq_olifaunt/cell09")
                                        (set ai_olifaunt "sq_olifaunt/cell09")
                                        (set obj_olifaunt (ai_vehicle_get_from_spawn_point "sq_olifaunt/cell09"))
                                        (chud_show_ai_navpoint "sq_olifaunt" "dare" true 1)
                                        (wake olifaunt_intensity)
                                        (wake olifaunt_save)
                                        (ai_suppress_combat ai_olifaunt true)
                                        (wake olifaunt_fail)
                                        (ai_place "scorpion/cell09")
                                        (set obj_scorpion (ai_vehicle_get_from_spawn_point "scorpion/cell09"))
                                        (set v_scorpion (ai_vehicle_get_from_spawn_point "scorpion/cell09"))
                                        (object_cannot_die obj_gausshog true)
                                        (ai_vehicle_reserve_seat v_scorpion 33 true)
                                        (if (game_is_cooperative)
                                            (begin
                                                (ai_place "coop_vehicle/cell09")
                                                (set obj_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell09"))
                                                (set v_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell09"))
                                                (object_cannot_die obj_coop true)
                                                (ai_vehicle_reserve_seat v_coop 30 true)
                                            )
                                        )
                                        (ai_place "sq_buck/cell09")
                                        (set ai_buck "sq_buck/cell09")
                                        (set obj_buck (ai_get_object "sq_buck/cell09"))
                                        (ai_force_active "sq_buck/cell09" true)
                                        (ai_cannot_die ai_buck true)
                                        (chud_show_ai_navpoint "sq_buck" "buck" true 0.1)
                                        (vehicle_load_magic obj_scorpion 34 obj_buck)
                                    )
                                    (if (= g_insertion_index 11)
                                        (begin
                                            (ai_place "sq_olifaunt/cell10")
                                            (set ai_olifaunt "sq_olifaunt/cell10")
                                            (set obj_olifaunt (ai_vehicle_get_from_spawn_point "sq_olifaunt/cell10"))
                                            (chud_show_ai_navpoint "sq_olifaunt" "dare" true 1)
                                            (wake olifaunt_intensity)
                                            (wake olifaunt_save)
                                            (ai_suppress_combat ai_olifaunt true)
                                            (wake olifaunt_fail)
                                            (ai_place "scorpion/cell10")
                                            (set obj_scorpion (ai_vehicle_get_from_spawn_point "scorpion/cell10"))
                                            (set v_scorpion (ai_vehicle_get_from_spawn_point "scorpion/cell10"))
                                            (ai_vehicle_reserve_seat v_scorpion 33 true)
                                            (if (game_is_cooperative)
                                                (begin
                                                    (ai_place "coop_vehicle/cell10")
                                                    (set obj_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell10"))
                                                    (set v_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell10"))
                                                    (object_cannot_die obj_coop true)
                                                    (ai_vehicle_reserve_seat v_coop 31 true)
                                                )
                                            )
                                            (ai_place "sq_buck/cell10")
                                            (set ai_buck "sq_buck/cell10")
                                            (set obj_buck (ai_get_object "sq_buck/cell10"))
                                            (ai_force_active "sq_buck/cell10" true)
                                            (ai_cannot_die ai_buck true)
                                            (chud_show_ai_navpoint "sq_buck" "buck" true 0.1)
                                            (vehicle_load_magic obj_scorpion 34 obj_buck)
                                        )
                                        (if (= g_insertion_index 12)
                                            (begin
                                                (ai_place "sq_olifaunt/cell11")
                                                (set ai_olifaunt "sq_olifaunt/cell11")
                                                (set obj_olifaunt (ai_vehicle_get_from_spawn_point "sq_olifaunt/cell11"))
                                                (chud_show_ai_navpoint "sq_olifaunt" "dare" true 1)
                                                (wake olifaunt_intensity)
                                                (wake olifaunt_save)
                                                (ai_suppress_combat ai_olifaunt true)
                                                (wake olifaunt_fail)
                                                (ai_place "scorpion/cell11")
                                                (set obj_scorpion (ai_vehicle_get_from_spawn_point "scorpion/cell11"))
                                                (set v_scorpion (ai_vehicle_get_from_spawn_point "scorpion/cell11"))
                                                (ai_vehicle_reserve_seat v_scorpion 33 true)
                                                (if (game_is_cooperative)
                                                    (begin
                                                        (ai_place "coop_vehicle/cell11")
                                                        (set obj_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell11"))
                                                        (set v_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell11"))
                                                        (object_cannot_die obj_coop true)
                                                        (ai_vehicle_reserve_seat v_coop 31 true)
                                                    )
                                                )
                                                (ai_place "sq_buck/cell11")
                                                (set ai_buck "sq_buck/cell11")
                                                (set obj_buck (ai_get_object "sq_buck/cell11"))
                                                (ai_force_active "sq_buck/cell11" true)
                                                (ai_cannot_die ai_buck true)
                                                (chud_show_ai_navpoint "sq_buck" "buck" true 0.1)
                                                (vehicle_load_magic obj_scorpion 34 obj_buck)
                                            )
                                            (if (= g_insertion_index 13)
                                                (begin
                                                    (ai_place "sq_olifaunt/cell12")
                                                    (set ai_olifaunt "sq_olifaunt/cell12")
                                                    (set obj_olifaunt (ai_vehicle_get_from_spawn_point "sq_olifaunt/cell12"))
                                                    (wake olifaunt_intensity)
                                                    (wake olifaunt_save)
                                                    (ai_suppress_combat ai_olifaunt true)
                                                    (wake olifaunt_fail)
                                                    (ai_place "scorpion/cell12")
                                                    (set obj_scorpion (ai_vehicle_get_from_spawn_point "scorpion/cell12"))
                                                    (set v_scorpion (ai_vehicle_get_from_spawn_point "scorpion/cell12"))
                                                    (ai_vehicle_reserve_seat v_scorpion 33 true)
                                                    (if (game_is_cooperative)
                                                        (begin
                                                            (ai_place "coop_vehicle/cell12")
                                                            (set obj_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell12"))
                                                            (set v_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell12"))
                                                            (object_cannot_die obj_coop true)
                                                            (ai_vehicle_reserve_seat v_coop 31 true)
                                                        )
                                                    )
                                                    (ai_place "sq_buck/cell12")
                                                    (set ai_buck "sq_buck/cell12")
                                                    (set obj_buck (ai_get_object "sq_buck/cell12"))
                                                    (ai_force_active "sq_buck/cell12" true)
                                                    (ai_cannot_die ai_buck true)
                                                    (chud_show_ai_navpoint "sq_buck" "buck" true 0.1)
                                                    (vehicle_load_magic obj_scorpion 34 obj_buck)
                                                )
                                                (if (= g_insertion_index 14)
                                                    (begin
                                                        (object_create "cell13_olifaunt")
                                                        (ai_place "sq_buck/cell13")
                                                        (set ai_buck "sq_buck/cell13")
                                                        (set obj_buck (ai_get_object "sq_buck/cell13"))
                                                        (ai_force_active ai_buck true)
                                                        (ai_cannot_die ai_buck true)
                                                        (chud_show_ai_navpoint "sq_buck" "buck" true 0.1)
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            )
        )
    )
    (cinematic_snap_from_black)
    (game_save)
)

(script startup void l300_startup
    (fade_out 0 0 0 0)
    (if (and (not editor) (> (player_count) 0))
        (start)
        (fade_in 0 0 0 0)
    )
)

(script static void start
    (print "starting")
    (wake sur_kill_vol_disable)
    (if (not (campaign_survival_enabled))
        (wake l300_mission)
    )
    (if (= (game_insertion_point_get) 0)
        (ins_level_start)
        (if (= (game_insertion_point_get) 1)
            (ins_cell_1)
            (if (= (game_insertion_point_get) 2)
                (ins_cell_3)
                (if (= (game_insertion_point_get) 3)
                    (ins_cell_5)
                    (if (= (game_insertion_point_get) 4)
                        (ins_cell_7)
                        (if (= (game_insertion_point_get) 5)
                            (ins_cell_9)
                            (if (= (game_insertion_point_get) 6)
                                (ins_cell_13)
                                (if (= (game_insertion_point_get) 7)
                                    (wake l300_survival_mode)
                                )
                            )
                        )
                    )
                )
            )
        )
    )
)

(script static void highway_start
    (print "starting")
    (cinematic_snap_to_black)
    (sleep_forever engineer_fail)
    (sleep_forever engineer_save)
    (sleep_forever engineer_health)
    (sleep 1)
    (ai_erase "sq_dare/actor")
    (ai_erase "sq_engineer/actor")
    (sound_class_set_gain "ambient_machinery_details" 0 0)
    (switch_zone_set "l300_010_cin")
    (if (= g_insertion_index 1)
        (begin
            (if (= g_play_cinematics true)
                (begin
                    (if (cinematic_skip_start)
                        (begin
                            (cinematic_snap_to_black)
                            (sleep 60)
                            (if debug
                                (print "l200_out_hb")
                            )
                            (l200_out_hb)
                        )
                    )
                    (cinematic_skip_stop)
                )
            )
        )
        (begin
            (if (= g_play_cinematics true)
                (begin
                    (if (cinematic_skip_start)
                        (begin
                            (cinematic_snap_to_black)
                            (if debug
                                (print "l200outhb_insert")
                            )
                            (l200outhb_insert)
                        )
                    )
                    (cinematic_skip_stop)
                )
            )
        )
    )
    (print "data_mine_set_mission_segment l300_01_l200_out_hb")
    (data_mine_set_mission_segment "l300_01_l200_out_hb")
    (sound_class_set_gain "ambient_machinery_details" 1 300)
    (object_teleport (player0) "cell1_player0_flag")
    (object_teleport (player1) "cell1_player1_flag")
    (object_teleport (player2) "cell1_player2_flag")
    (object_teleport (player3) "cell1_player3_flag")
    (player0_set_pitch -12 0)
    (player1_set_pitch -12 0)
    (player2_set_pitch -12 0)
    (player3_set_pitch -12 0)
    (l200outhb_insert_cleanup)
    (switch_zone_set "l300_010")
    (sleep 1)
    (wake olifaunt_nanny)
    (ai_place "sq_olifaunt/cell01")
    (set ai_olifaunt "sq_olifaunt/cell01")
    (set obj_olifaunt (ai_vehicle_get_from_spawn_point "sq_olifaunt/cell01"))
    (chud_show_ai_navpoint "sq_olifaunt" "dare" true 1)
    (object_set_shield obj_olifaunt 0)
    (object_set_shield_stun_infinite obj_olifaunt)
    (ai_suppress_combat ai_olifaunt true)
    (wake olifaunt_fail)
    (ai_place "troop_hog/cell01")
    (set obj_warthog (ai_vehicle_get_from_spawn_point "troop_hog/cell01"))
    (set v_warthog (ai_vehicle_get_from_spawn_point "troop_hog/cell01"))
    (object_cannot_die obj_warthog true)
    (ai_vehicle_reserve_seat v_warthog 30 true)
    (if (game_is_cooperative)
        (begin
            (ai_place "coop_vehicle/cell01")
            (set obj_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell01"))
            (set v_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell01"))
            (object_cannot_die obj_coop true)
            (ai_vehicle_reserve_seat v_coop 30 true)
        )
    )
    (sleep 1)
    (if (= g_insertion_index 2)
        (begin
            (ai_place "sq_buck/cell01")
            (set ai_buck "sq_buck/cell01")
            (set obj_buck (ai_get_object "sq_buck/cell01"))
        )
        (begin
            (object_teleport obj_buck "cell1_buck_flag")
            (set ai_buck "sq_buck/actor")
            (set obj_buck (ai_get_object "sq_buck/actor"))
        )
    )
    (ai_cannot_die ai_buck true)
    (chud_show_ai_navpoint "sq_buck" "buck" true 0.1)
    (sleep 1)
    (ai_set_objective "sq_buck" "enc_cell1_obj")
    (print "setting sq_buck new objective")
    (ai_force_active ai_buck true)
    (vehicle_load_magic obj_warthog 31 obj_buck)
    (object_create "highway_door_01")
    (object_create "highway_door_02")
    (object_create_folder "crates_cell1")
    (sleep 30)
)

(script dormant void highway_end
    (print "starting")
    (set g_music_l300_08 false)
    (set g_music_l300_09 false)
    (sleep_forever md_13_end_prompt)
    (sleep (* 30 1))
    (cinematic_snap_to_black)
    (wake highway_end_cleanup)
    (sleep_forever engineer_fail_end)
    (sleep_forever engineer_save_end)
    (sleep_forever engineer_health_end)
    (sleep 1)
    (f_end_scene c200 "l300_030_cin" "gp_l300_complete" "c200" "black")
    (sound_class_set_gain "" 0 0)
)

(script dormant void highway_end_cleanup
    (ai_erase "odst_phantom")
    (object_hide (player0) true)
    (object_hide (player1) true)
    (object_hide (player2) true)
    (object_hide (player3) true)
    (object_destroy_folder "crates_cell13")
    (object_destroy_folder "crates_cell13a")
)

(script dormant void l300_mission
    (if debug
        (print "l300 mission script")
        (print "no debug")
    )
    (ai_allegiance human player)
    (ai_allegiance player human)
    (ai_allegiance covenant player)
    (ai_allegiance covenant human)
    (ai_allegiance player covenant)
    (ai_allegiance human covenant)
    (pda_set_active_pda_definition "l300")
    (wake ambient_overhead_cruiser01)
    (wake ambient_overhead_cruiser02)
    (wake ambient_overhead_cruiser03)
    (wake capital_ship_flyover)
    (wake vidmaster_challenge)
    (wake player0_l00_waypoints)
    (wake player1_l00_waypoints)
    (wake player2_l00_waypoints)
    (wake player3_l00_waypoints)
    (wake player0_award_tourist)
    (if (coop_players_2)
        (wake player1_award_tourist)
    )
    (if (coop_players_3)
        (wake player2_award_tourist)
    )
    (if (coop_players_4)
        (wake player3_award_tourist)
    )
    (wake vehicle_pointer)
    (wake sc_l300_coop_resume)
    (soft_ceiling_enable "survival" false)
    (fade_out 0 0 0 0)
    (sleep_until (>= g_insertion_index 1) 1)
    (if (= g_insertion_index 1)
        (wake enc_intro)
    )
    (sleep_until (or (volume_test_players "enc_cell01_vol") (= hub_elevator_start true) (>= g_insertion_index 2)) 1)
    (if (<= g_insertion_index 2)
        (wake enc_cell01)
    )
    (sleep_until (or (volume_test_players "enc_cell02_vol") (>= g_insertion_index 3)) 1)
    (if (<= g_insertion_index 3)
        (wake enc_cell02)
    )
    (sleep_until (or (volume_test_players "enc_cell03_vol") (>= g_insertion_index 4)) 1)
    (if (<= g_insertion_index 4)
        (wake enc_cell03)
    )
    (sleep_until (or (volume_test_players "enc_cell04_vol") (>= g_insertion_index 5)) 1)
    (if (<= g_insertion_index 5)
        (wake enc_cell04)
    )
    (sleep_until (or (volume_test_players "enc_cell05_vol") (>= g_insertion_index 6)) 1)
    (if (<= g_insertion_index 6)
        (wake enc_cell05)
    )
    (sleep_until (or (volume_test_players "enc_cell06_vol") (>= g_insertion_index 7)) 1)
    (if (<= g_insertion_index 7)
        (wake enc_cell06)
    )
    (sleep_until (or (volume_test_players "enc_cell07_vol") (>= g_insertion_index 8)) 1)
    (if (<= g_insertion_index 8)
        (wake enc_cell07)
    )
    (sleep_until (or (volume_test_players "enc_cell08_vol") (>= g_insertion_index 9)) 1)
    (if (<= g_insertion_index 9)
        (wake enc_cell08)
    )
    (sleep_until (or (volume_test_players "enc_cell09_vol") (>= g_insertion_index 10)) 1)
    (if (<= g_insertion_index 10)
        (wake enc_cell09)
    )
    (sleep_until (or (volume_test_players "enc_cell10_vol") (>= g_insertion_index 11)) 1)
    (if (<= g_insertion_index 11)
        (wake enc_cell10)
    )
    (sleep_until (or (volume_test_players "enc_cell11_vol") (>= g_insertion_index 12)) 1)
    (if (<= g_insertion_index 12)
        (wake enc_cell11)
    )
    (sleep_until (or (volume_test_players "enc_cell12_vol") (>= g_insertion_index 13)) 1)
    (if (<= g_insertion_index 13)
        (wake enc_cell12)
    )
    (sleep_until (or (volume_test_players "enc_cell13_vol") (>= g_insertion_index 14)) 1)
    (if (<= g_insertion_index 14)
        (wake enc_cell13)
    )
)

(script dormant void enc_intro
    (data_mine_set_mission_segment "l300_01_enc_intro")
    (print "data_mine_set_mission_segment l300_01_enc_intro")
    (switch_zone_set "l300_hub_010_cin")
    (if (= g_play_cinematics true)
        (begin
            (if (cinematic_skip_start)
                (begin
                    (cinematic_snap_to_black)
                    (if debug
                        (print "l200_out_sc")
                    )
                    (l200_out_sc)
                )
            )
            (cinematic_skip_stop)
        )
    )
    (l200_out_sc_cleanup)
    (sleep 1)
    (object_create_folder "crates_hub")
    (wake intro_ally_setup)
    (player0_set_pitch -12 0)
    (player1_set_pitch -12 0)
    (player2_set_pitch -12 0)
    (player3_set_pitch -12 0)
    (sleep 5)
    (cinematic_snap_from_black)
    (wake l300_music_01)
    (wake l300_music_02)
    (wake l300_music_02_alt)
    (ai_place "intro_right_brutes")
    (ai_place "intro_right_grunts")
    (ai_place "intro_left_brutes")
    (sleep 10)
    (ai_place "intro_left_jackals")
    (ai_place "intro_body_guards")
    (wake engineer_fail)
    (wake intro_tower_turrets)
    (sleep 1)
    (wake md_00_start)
    (wake md_00_dead)
    (wake md_00_flavor)
    (wake md_00_prompt01)
    (wake md_00_prompt02)
    (wake l300_switch)
    (set s_waypoint_index 1)
    (wake obj_elevator_set)
    (wake obj_elevator_clear)
    (ai_place "intro_phantom")
    (ai_disregard (ai_get_object "intro_phantom/phantom") true)
    (sleep_until (volume_test_players "intro_oc_10_vol") 1)
    (set g_intro_obj_control 10)
    (print "g_intro_obj_control 10")
    (sleep_until (volume_test_players "intro_oc_20_vol") 1)
    (set g_intro_obj_control 20)
    (print "g_intro_obj_control 20")
    (set s_waypoint_index 2)
    (game_save)
    (sleep_until (volume_test_players "intro_oc_30_vol") 1)
    (set g_intro_obj_control 30)
    (print "g_intro_obj_control 30")
    (sleep_until (volume_test_players "intro_oc_40_vol") 1)
    (set g_intro_obj_control 40)
    (print "g_intro_obj_control 40")
    (sleep_until (volume_test_players "intro_oc_50_vol") 1)
    (set g_intro_obj_control 50)
    (print "g_intro_obj_control 50")
    (sleep_until (volume_test_players "intro_oc_60_vol") 1)
    (set g_intro_obj_control 60)
    (print "g_intro_obj_control 60")
    (set s_waypoint_index 3)
    (sleep_until (volume_test_players "intro_oc_70_vol") 1)
    (set g_intro_obj_control 70)
    (print "g_intro_obj_control 70")
    (game_save)
    (sleep_until (volume_test_players "intro_oc_72_vol") 1)
    (set g_intro_obj_control 72)
    (sleep_until (volume_test_players "intro_oc_74_vol") 1)
    (set g_intro_obj_control 74)
    (ai_bring_forward "sq_buck" 4)
    (ai_bring_forward "sq_dare" 4)
    (ai_bring_forward "sq_engineer" 4)
    (sleep_until (volume_test_players "intro_oc_80_vol") 1)
    (set g_intro_obj_control 80)
    (print "g_intro_obj_control 80")
    (set s_waypoint_index 4)
    (set g_music_l300_02 true)
    (game_save)
    (sleep_until (volume_test_players "intro_oc_90_vol") 1)
    (set g_intro_obj_control 90)
    (print "g_intro_obj_control 90")
    (wake md_00_elevator)
)

(script dormant void intro_ally_setup
    (object_create "static_lift")
    (ai_place "sq_buck/actor")
    (set ai_buck "sq_buck/actor")
    (set obj_buck (ai_get_object "sq_buck/actor"))
    (ai_force_active "sq_buck/actor" true)
    (ai_set_objective "sq_buck" "enc_intro_friendly_obj")
    (ai_cannot_die "sq_buck" true)
    (ai_place "sq_dare/actor")
    (set ai_dare "sq_dare/actor")
    (set obj_dare (ai_get_object "sq_dare/actor"))
    (ai_force_active "sq_dare/actor" true)
    (ai_set_objective "sq_dare" "enc_intro_friendly_obj")
    (ai_cannot_die "sq_dare" true)
    (ai_place "sq_engineer/actor")
    (set ai_engineer "sq_engineer/actor")
    (set obj_engineer (ai_get_object "sq_engineer/actor"))
    (ai_force_active ai_engineer true)
    (ai_suppress_combat ai_engineer true)
    (ai_set_objective "sq_engineer" "engineer_objective")
    (chud_show_ai_navpoint "sq_buck" "buck" true 0.1)
    (chud_show_ai_navpoint "sq_engineer" "engineer" true 0.5)
    (chud_show_ai_navpoint "sq_dare" "dare" true 0.1)
)

(script dormant void intro_end_encounter
    (sleep_until (<= (ai_living_count "intro_gr") 0) 5)
    (game_save)
)

(script command_script void cs_eng_intro
    (sleep_until (volume_test_players "engineer_move01_vol") 1)
    (cs_fly_to "engineer_test/p0")
    (sleep_until (volume_test_players "engineer_move02_vol") 1)
    (cs_fly_to "engineer_test/p1")
    (sleep_until (volume_test_players "engineer_move03_vol") 1)
    (cs_fly_to "engineer_test/p2")
    (sleep_until (volume_test_players "engineer_move04_vol") 1)
    (cs_fly_to "engineer_test/p3")
    (sleep 1)
)

(script dormant void enc_intro_reinforcements
    (sleep_until (or (< (ai_strength "intro_gr") 0.75) (volume_test_players "enc_intro_01_vol")) 5)
    (ai_place "intro_jetpack_gr")
)

(script dormant void intro_tower_turrets
    (sleep_until (volume_test_players "engineer_move04_vol") 5)
    (ai_place "intro_turret_grunt00")
    (ai_place "intro_turret_grunt01")
    (ai_place "intro_turret_grunt02")
    (sleep 5)
    (ai_vehicle_enter_immediate "intro_turret_grunt00/0" (object_get_turret "cov_watch_tower_a" 0))
    (cs_run_command_script "intro_turret_grunt00/0" cs_stay_in_turret)
    (ai_vehicle_enter_immediate "intro_turret_grunt01/1" (object_get_turret "cov_watch_tower_a" 1))
    (cs_run_command_script "intro_turret_grunt01/1" cs_stay_in_turret)
    (ai_vehicle_enter_immediate "intro_turret_grunt02/2" (object_get_turret "cov_watch_tower_a" 2))
    (cs_run_command_script "intro_turret_grunt02/2" cs_stay_in_turret)
)

(script static boolean intro_task_first_half
    (if (and (= (ai_living_count "intro_jetpack_gr") 0) (> (ai_task_status "enc_intro_obj/left_side") 1) (> (ai_task_status "enc_intro_obj/right_side") 1) (= (ai_living_count "intro_turret_gr") 0))
        true
        false
    )
)

(script command_script void cs_stay_in_turret
    (cs_shoot true)
    (cs_enable_targeting true)
    (cs_enable_looking true)
    (cs_abort_on_damage false)
    (cs_abort_on_alert false)
    (sleep_until (<= (ai_living_count ai_current_actor) 0))
)

(script command_script void cs_engineer_switch
    (cs_enable_pathfinding_failsafe true)
    (cs_enable_moving true)
    (sleep_until (volume_test_objects "engineer_jerk_vol" (ai_actors "sq_engineer")) 1)
    (cs_fly_to "intro_engineer_end_path/p4" 0.5)
    (cs_fly_to "intro_engineer_end_path/p5" 0.5)
    (cs_fly_to "intro_engineer_end_path/p6" 0.5)
    (cs_fly_to "intro_engineer_end_path/p7" 0.5)
    (cs_fly_to "intro_engineer_end_path/p0" 0.5)
    (cs_fly_to_and_face "intro_engineer_end_path/p1" "intro_engineer_end_path/p2")
    (sleep 15)
    (effect_new_on_object_marker "objects\levels\atlas\shared\hub_wall_switch\fx\engineer_magic" "end_switch" "")
    (if dialogue
        (print "engineer: dooodledoo!!")
    )
    (ai_play_line_on_object none l300_0225)
    (cs_custom_animation "objects\characters\engineer\engineer" "flight:switch" true)
    (cs_stop_custom_animation)
    (device_set_power "end_switch" 1)
    (sleep 10)
    (cs_fly_to_and_face "intro_engineer_end_path/p3" "intro_engineer_end_path/p1")
)

(script command_script void cs_engineer_switch_short
    (if (= (device_get_power "end_switch") 0)
        (begin
            (cs_enable_pathfinding_failsafe true)
            (cs_enable_moving true)
            (cs_pause 3)
            (cs_fly_to "intro_engineer_end_path/p0")
            (cs_fly_to_and_face "intro_engineer_end_path/p1" "intro_engineer_end_path/p2")
            (if dialogue
                (print "engineer: dooodledoo!!")
            )
            (ai_play_line_on_object none l300_0225)
            (effect_new_on_object_marker "objects\levels\atlas\shared\hub_wall_switch\fx\engineer_magic" "end_switch" "")
            (cs_custom_animation "objects\characters\engineer\engineer" "flight:switch" true)
            (sleep 10)
            (device_set_power "end_switch" 1)
            (sleep 10)
            (cs_fly_to_and_face "intro_engineer_end_path/p3" "intro_engineer_end_path/p1")
        )
    )
)

(script dormant void engineer_nanny_elev
    (sleep 1200)
    (sleep_until (volume_test_players "dare_in_elevator_vol") 1)
    (sleep_until 
        (begin
            (if (volume_test_players "dare_in_elevator_vol")
                (begin
                    (ai_bring_forward "sq_engineer" 5)
                    (cs_run_command_script "sq_engineer" cs_engineer_switch_short)
                    (sleep 150)
                )
            )
            (volume_test_objects "dare_in_elevator_vol" (ai_actors "sq_engineer"))
        )
        5
    )
)

(script dormant void engineer_nuclear_option
    (sleep_until (volume_test_players "dare_in_elevator_vol") 5)
    (sleep 1200)
    (sleep_until (volume_test_players_all "dare_in_elevator_vol") 1)
    (sleep_forever engineer_nanny_elev)
    (if (not (volume_test_objects "dare_in_elevator_vol" (ai_actors "sq_engineer")))
        (begin
            (ai_cannot_die "sq_engineer" true)
            (sleep 15)
            (object_teleport_to_ai_point obj_engineer "intro_engineer_end_path/p6")
            (sleep 15)
            (ai_cannot_die "sq_engineer" false)
        )
    )
    (if (= (device_get_power "end_switch") 0)
        (cs_run_command_script "sq_engineer" cs_engineer_switch_short)
    )
    (sleep_until (= (device_get_power "end_switch") 1) 5 600)
    (device_set_power "end_switch" 1)
)

(script dormant void l300_switch
    (sleep_until (volume_test_players "engineer_jerk_vol") 1)
    (ai_bring_forward "sq_engineer" 15)
    (sleep 1)
    (cs_run_command_script "sq_engineer" cs_engineer_switch)
    (wake engineer_nanny_elev)
    (wake engineer_nuclear_option)
    (sleep_until (= (device_get_power "end_switch") 1) 5)
    (sleep_forever engineer_nanny_elev)
    (sleep_forever engineer_nuclear_option)
    (sleep_until (= (device_get_position "end_switch") 1) 1)
    (set g_music_l300_01 false)
    (set g_music_l300_02_alt true)
    (sleep_forever md_00_elevator)
    (set dialog_playing false)
    (ai_dialogue_enable true)
    (if (= dialog_engineer_alive true)
        (set hub_elevator_start true)
    )
)

(script dormant void enc_cell01
    (data_mine_set_mission_segment "l300_02_enc_cell01")
    (print "data_mine_set_mission_segment l300_02_enc_cell01")
    (object_destroy_folder "crates_hub")
    (add_recycling_volume "hub_garbage" 0 1)
    (highway_start)
    (wake pda_doors)
    (wake brokeback_for_realz)
    (wake vidmaster_challenge_cell1)
    (if (> (game_coop_player_count) 2)
        (object_create "cell02_coop_goose")
    )
    (ai_vehicle_reserve_seat "cell02_coop_goose" 35 true)
    (sleep 1)
    (set cell 1)
    (ai_place "cell1_gr")
    (ai_vehicle_reserve_seat "cell01_troophog" 30 true)
    (ai_set_objective "sq_buck" "enc_cell1_obj")
    (game_save)
    (wake md_01_start)
    (wake md_01_walk)
    (wake obj_escort_set)
    (wake obj_escort_clear)
    (set s_waypoint_index 5)
    (sleep_forever md_00_start)
    (sleep_forever md_00_dead)
    (sleep_forever md_00_flavor)
    (sleep_forever md_00_prompt02)
    (set dialog_playing false)
    (ai_dialogue_enable true)
    (cinematic_snap_from_black)
    (cs_run_command_script ai_olifaunt olifaunt_run01)
    (print "enc_cell01")
    (sleep_until (volume_test_players "cell01_oc_10_vol") 1)
    (set g_cell01_obj_control 10)
    (print "g_cell01_obj_control 10")
    (sleep_until (volume_test_players "cell01_oc_20_vol") 1)
    (set g_cell01_obj_control 20)
    (print "g_cell01_obj_control 20")
    (sleep_until (volume_test_players "cell01_oc_30_vol") 1)
    (set g_cell01_obj_control 30)
    (print "g_cell01_obj_control 30")
    (sleep_until (volume_test_players "cell01_oc_40_vol") 1)
    (set g_cell01_obj_control 40)
    (print "g_cell01_obj_control 40")
    (sleep_until (volume_test_players "cell01_oc_50_vol") 1)
    (set g_cell01_obj_control 50)
    (print "g_cell01_obj_control 50")
    (sleep_until (volume_test_players "cell01_oc_60_vol") 1)
    (set g_cell01_obj_control 60)
    (print "g_cell01_obj_control 60")
    (vehicle_pointeroff)
)

(script dormant void enc_cell02
    (data_mine_set_mission_segment "l300_03_enc_cell02")
    (print "data_mine_set_mission_segment l300_03_enc_cell02")
    (wake vidmaster_challenge_cell2)
    (if (> (game_coop_player_count) 2)
        (object_create "cell03_coop_goose")
    )
    (ai_vehicle_reserve_seat "cell03_coop_goose" 35 true)
    (object_create_folder "crates_cell2")
    (sleep 10)
    (object_create_folder "crates_cell2a")
    (sleep 10)
    (object_create_folder "crates_cell2b")
    (set s_waypoint_index 6)
    (ai_place "cell2_gr")
    (ai_vehicle_reserve_seat "cell02_troophog" 30 true)
    (ai_set_objective "sq_buck" "enc_cell2_obj")
    (set cell 2)
    (check_loc (player0) "cell1_p_safe_vol" "cell1_v_safe_vol" "cell2_player0_flag")
    (check_loc (player1) "cell1_p_safe_vol" "cell1_v_safe_vol" "cell2_player1_flag")
    (check_loc (player2) "cell1_p_safe_vol" "cell1_v_safe_vol" "cell2_player2_flag")
    (check_loc (player3) "cell1_p_safe_vol" "cell1_v_safe_vol" "cell2_player3_flag")
    (check_loc obj_buck "cell1_p_safe_vol" "cell1_v_safe_vol" "cell2_buck_flag")
    (add_recycling_volume "cell1_garbage" 15 10)
    (device_set_position "highway_door_03" 1)
    (sleep 10)
    (game_save)
    (object_set_shield_normalized obj_olifaunt g_olifaunt_shield)
    (cs_run_command_script ai_olifaunt olifaunt_run02)
    (sleep_until (volume_test_players "cell02_oc_10_vol") 1)
    (set g_cell02_obj_control 10)
    (print "g_cell02_obj_control 10")
    (sleep_until (volume_test_players "cell02_oc_20_vol") 1)
    (set g_cell02_obj_control 20)
    (print "g_cell02_obj_control 20")
    (sleep_until (volume_test_players "cell02_oc_30_vol") 1)
    (set g_cell02_obj_control 30)
    (print "g_cell02_obj_control 30")
    (object_create "cov_cruiser_mac01")
    (sleep_until (volume_test_players "cell02_oc_40_vol") 1)
    (set g_cell02_obj_control 40)
    (print "g_cell02_obj_control 40")
    (sleep_until (volume_test_players "cell02_oc_50_vol") 1)
    (set g_cell02_obj_control 50)
    (print "g_cell02_obj_control 50")
    (vehicle_pointeroff)
)

(script dormant void enc_cell03
    (data_mine_set_mission_segment "l300_04_enc_cell03")
    (print "data_mine_set_mission_segment l300_04_enc_cell03")
    (wake vidmaster_challenge_cell3)
    (object_create_folder "crates_cell3")
    (sleep 10)
    (object_create_folder "crates_cell3a")
    (set s_waypoint_index 7)
    (ai_place "cell3_gr")
    (ai_vehicle_reserve_seat "cell03_troophog" 30 true)
    (wake l300_music_03)
    (set g_music_l300_03 true)
    (ai_set_objective "sq_buck" "enc_cell3_obj")
    (set cell 3)
    (check_loc (player0) "cell2_p_safe_vol" "cell2_v_safe_vol" "cell3_player0_flag")
    (check_loc (player1) "cell2_p_safe_vol" "cell2_v_safe_vol" "cell3_player1_flag")
    (check_loc (player2) "cell2_p_safe_vol" "cell2_v_safe_vol" "cell3_player2_flag")
    (check_loc (player3) "cell2_p_safe_vol" "cell2_v_safe_vol" "cell3_player3_flag")
    (check_loc obj_buck "cell2_p_safe_vol" "cell2_v_safe_vol" "cell3_buck_flag")
    (device_set_position "highway_door_00" 0)
    (if (> (game_coop_player_count) 2)
        (object_create "cell04_coop_goose")
    )
    (ai_vehicle_reserve_seat "cell04_coop_goose" 35 true)
    (object_destroy_folder "crates_cell1")
    (ai_disposable "cell1_gr" true)
    (add_recycling_volume "cell1_garbage" 0 3)
    (add_recycling_volume "cell2_garbage" 15 10)
    (device_set_position "highway_door_05" 1)
    (sleep 10)
    (game_save)
    (object_set_shield_normalized obj_olifaunt g_olifaunt_shield)
    (cs_run_command_script ai_olifaunt olifaunt_run03)
    (sleep_until (volume_test_players "cell03_oc_10_vol") 1)
    (set g_cell03_obj_control 10)
    (print "g_cell03_obj_control 10")
    (sleep_until (volume_test_players "cell03_oc_20_vol") 1)
    (set g_cell03_obj_control 20)
    (print "g_cell03_obj_control 20")
    (sleep_until (volume_test_players "cell03_oc_30_vol") 1)
    (set g_cell03_obj_control 30)
    (print "g_cell03_obj_control 30")
    (wake cell3_banshee_spawn)
    (sleep_until (volume_test_players "cell03_oc_40_vol") 1)
    (set g_cell03_obj_control 40)
    (print "g_cell03_obj_control 40")
    (sleep_until (volume_test_players "cell03_oc_50_vol") 1)
    (set g_cell03_obj_control 50)
    (print "g_cell03_obj_control 50")
    (sleep_until (volume_test_players "cell03_oc_60_vol") 1)
    (set g_cell03_obj_control 60)
    (print "g_cell03_obj_control 60")
    (vehicle_pointeroff)
)

(script dormant void cell3_banshee_spawn
    (begin_random
        (ai_place "cell3_air_squad01")
        (sleep 120)
        (ai_place "cell3_air_squad02")
        (sleep 120)
        (ai_place "cell3_air_squad03")
        (sleep 120)
        (ai_place "cell3_air_squad04")
        (sleep 120)
        (ai_place "cell3_air_squad05")
        (sleep 120)
    )
)

(script command_script void cs_cell3_banshee01
    (cs_vehicle_speed 1)
    (cs_vehicle_boost true)
    (cs_fly_by "cell3_banshee_pts/p0")
    (cs_fly_by "cell3_banshee_pts/p5")
    (cs_fly_by "cell3_banshee_pts/p10")
    (ai_erase ai_current_squad)
)

(script command_script void cs_cell3_banshee02
    (cs_vehicle_speed 1)
    (cs_vehicle_boost true)
    (cs_fly_by "cell3_banshee_pts/p1")
    (cs_fly_by "cell3_banshee_pts/p6")
    (cs_fly_by "cell3_banshee_pts/p11")
    (ai_erase ai_current_squad)
)

(script command_script void cs_cell3_banshee03
    (cs_vehicle_speed 1)
    (cs_vehicle_boost true)
    (cs_fly_by "cell3_banshee_pts/p2")
    (cs_fly_by "cell3_banshee_pts/p7")
    (cs_fly_by "cell3_banshee_pts/p12")
    (ai_erase ai_current_squad)
)

(script command_script void cs_cell3_banshee04
    (cs_vehicle_speed 1)
    (cs_vehicle_boost true)
    (cs_fly_by "cell3_banshee_pts/p3")
    (cs_fly_by "cell3_banshee_pts/p8")
    (cs_fly_by "cell3_banshee_pts/p13")
    (ai_erase ai_current_squad)
)

(script command_script void cs_cell3_banshee05
    (cs_vehicle_speed 1)
    (cs_vehicle_boost true)
    (cs_fly_by "cell3_banshee_pts/p4")
    (cs_fly_by "cell3_banshee_pts/p8")
    (cs_fly_by "cell3_banshee_pts/p14")
    (ai_erase ai_current_squad)
)

(script dormant void enc_cell04
    (data_mine_set_mission_segment "l300_05_enc_cell04")
    (print "data_mine_set_mission_segment l300_05_enc_cell04")
    (wake vidmaster_challenge_cell4)
    (if (> (game_coop_player_count) 2)
        (object_create "cell05_coop_goose")
    )
    (ai_vehicle_reserve_seat "cell05_coop_goose" 35 true)
    (object_create_folder "crates_cell4")
    (sleep 10)
    (object_create_folder "crates_cell4a")
    (set s_waypoint_index 8)
    (ai_set_objective "sq_buck" "enc_cell4_obj")
    (ai_vehicle_reserve_seat "cell04_warthog" 30 true)
    (set cell 4)
    (check_loc (player0) "cell3_p_safe_vol" "cell3_v_safe_vol" "cell4_player0_flag")
    (check_loc (player1) "cell3_p_safe_vol" "cell3_v_safe_vol" "cell4_player1_flag")
    (check_loc (player2) "cell3_p_safe_vol" "cell3_v_safe_vol" "cell4_player2_flag")
    (check_loc (player3) "cell3_p_safe_vol" "cell3_v_safe_vol" "cell4_player3_flag")
    (check_loc obj_buck "cell3_p_safe_vol" "cell3_v_safe_vol" "cell4_buck_flag")
    (device_set_position "highway_door_04" 0)
    (ai_disposable "cell2_gr" true)
    (object_destroy_folder "crates_cell2")
    (sleep 10)
    (object_destroy_folder "crates_cell2a")
    (sleep 10)
    (object_destroy_folder "crates_cell2b")
    (add_recycling_volume "cell2_garbage" 0 3)
    (add_recycling_volume "cell3_garbage" 15 10)
    (sleep_until (<= (ai_living_count "cell3_bugger_gr") 4) 5 1600)
    (ai_place "cell4_phantom01")
    (f_load_phantom "cell4_phantom01" "dual" "cell4_squad04" "cell4_squad05" "cell4_squad06" none)
    (cs_run_command_script "cell4_phantom01/pilot" cs_cell04_phantom01)
    (ai_place "cell4_phantom02")
    (f_load_phantom "cell4_phantom02" "chute" "cell4_squad01" "cell4_squad02" "cell4_squad03" none)
    (cs_run_command_script "cell4_phantom02/pilot" cs_cell04_phantom02)
    (device_set_position "highway_door_07" 1)
    (set g_music_l300_03 false)
    (sleep 10)
    (game_save)
    (sleep_forever md_03_cruiser)
    (set dialog_playing false)
    (ai_dialogue_enable true)
    (cs_run_command_script ai_olifaunt olifaunt_run04)
    (print "enc_cell04")
    (sleep_until (volume_test_players "cell04_oc_10_vol") 1)
    (set g_cell04_obj_control 10)
    (print "g_cell04_obj_control 10")
    (sleep_until (volume_test_players "cell04_oc_20_vol") 1)
    (set g_cell04_obj_control 20)
    (print "g_cell04_obj_control 20")
    (sleep_until (volume_test_players "cell04_oc_30_vol") 1)
    (set g_cell04_obj_control 30)
    (print "g_cell04_obj_control 30")
    (sleep_until (volume_test_players "cell04_oc_40_vol") 1)
    (set g_cell04_obj_control 40)
    (print "g_cell04_obj_control 40")
    (vehicle_pointeroff)
)

(script command_script void cs_cell04_phantom01
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed_instantaneous 1)
    (cs_fly_by "cell4_phantom_pts/p0")
    (cs_fly_by "cell4_phantom_pts/p1")
    (cs_fly_to_and_face "cell4_phantom_pts/p2" "cell4_phantom_pts/p12" 1)
    (sleep 60)
    (unit_open (ai_vehicle_get_from_starting_location "cell4_phantom01/pilot"))
    (f_unload_phantom "cell4_phantom01" "dual")
    (sleep 30)
    (unit_close (ai_vehicle_get_from_starting_location "cell4_phantom01/pilot"))
    (cs_fly_by "cell4_phantom_pts/p3")
    (cs_fly_by "cell4_phantom_pts/p4")
    (cs_fly_by "cell4_phantom_pts/p5")
    (ai_erase ai_current_squad)
)

(script command_script void cs_cell04_phantom02
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed_instantaneous 1)
    (cs_fly_by "cell4_phantom_pts/p6")
    (cs_fly_by "cell4_phantom_pts/p7")
    (cs_fly_to_and_face "cell4_phantom_pts/p8" "cell4_phantom_pts/p11" 1)
    (sleep 30)
    (unit_open (ai_vehicle_get_from_starting_location "cell4_phantom02/pilot"))
    (f_unload_phantom "cell4_phantom02" "chute")
    (sleep 30)
    (unit_close (ai_vehicle_get_from_starting_location "cell4_phantom02/pilot"))
    (cs_fly_by "cell4_phantom_pts/p9")
    (cs_fly_by "cell4_phantom_pts/p10")
    (ai_erase ai_current_squad)
)

(script dormant void enc_cell05
    (data_mine_set_mission_segment "l300_06_enc_cell05")
    (print "data_mine_set_mission_segment l300_06_enc_cell05")
    (wake vidmaster_challenge_cell5)
    (if (> (game_coop_player_count) 2)
        (object_create "cell06_coop_goose")
    )
    (ai_vehicle_reserve_seat "cell06_coop_goose" 35 true)
    (object_create_folder "crates_cell5")
    (sleep 10)
    (set s_waypoint_index 9)
    (object_create_folder "crates_cell5a")
    (ai_set_objective "sq_buck" "enc_cell5_buck_obj")
    (ai_place "cell5_phantom01")
    (ai_place "cell5_phantom02")
    (ai_place "cell5_phantom03")
    (ai_vehicle_reserve_seat "cell06_gauss_01" 30 true)
    (wake md_06_gausshog)
    (f_load_phantom_cargo "cell5_phantom01" "double" "cell5_ghost_squad01" "cell5_ghost_squad02")
    (cs_run_command_script "cell5_phantom01/pilot" cs_cell05_phantom01)
    (f_load_phantom_cargo "cell5_phantom02" "double" "cell5_ghost_squad03" "cell5_ghost_squad04")
    (cs_run_command_script "cell5_phantom02/pilot" cs_cell05_phantom02)
    (f_load_phantom_cargo "cell5_phantom03" "double" "cell5_ghost_squad05" "cell5_ghost_squad06")
    (cs_run_command_script "cell5_phantom03/pilot" cs_cell05_phantom03)
    (ai_vehicle_reserve_seat "cell05_warthog" 30 true)
    (set cell 5)
    (check_loc (player0) "cell4_p_safe_vol" "cell4_v_safe_vol" "cell5_player0_flag")
    (check_loc (player1) "cell4_p_safe_vol" "cell4_v_safe_vol" "cell5_player1_flag")
    (check_loc (player2) "cell4_p_safe_vol" "cell4_v_safe_vol" "cell5_player2_flag")
    (check_loc (player3) "cell4_p_safe_vol" "cell4_v_safe_vol" "cell5_player3_flag")
    (check_loc obj_buck "cell4_p_safe_vol" "cell4_v_safe_vol" "cell5_buck_flag")
    (device_set_position "highway_door_06" 0)
    (ai_disposable "cell3_gr" true)
    (ai_disposable "cell3_bugger01" true)
    (ai_disposable "cell3_bugger02" true)
    (ai_disposable "cell3_bugger03" true)
    (ai_disposable "cell3_bugger04" true)
    (object_destroy_folder "crates_cell3")
    (sleep 10)
    (object_destroy_folder "crates_cell3a")
    (add_recycling_volume "cell3_garbage" 0 3)
    (add_recycling_volume "cell4_garbage" 15 10)
    (device_set_position "highway_door_09" 1)
    (sleep 1)
    (game_save)
    (object_set_shield_normalized obj_olifaunt g_olifaunt_shield)
    (cs_run_command_script ai_olifaunt olifaunt_run05)
    (print "enc_cell05")
    (sleep_until (volume_test_players "cell05_oc_10_vol") 1)
    (set g_cell05_obj_control 10)
    (print "g_cell05_obj_control 10")
    (sleep_until (volume_test_players "cell05_oc_20_vol") 1)
    (set g_cell05_obj_control 20)
    (print "g_cell05_obj_control 20")
    (sleep_until (volume_test_players "cell05_oc_30_vol") 1)
    (set g_cell05_obj_control 30)
    (print "g_cell05_obj_control 30")
    (sleep_until (volume_test_players "cell05_oc_40_vol") 1)
    (set g_cell05_obj_control 40)
    (print "g_cell05_obj_control 40")
    (vehicle_pointeroff)
)

(script command_script void cs_cell05_phantom01
    (cs_enable_pathfinding_failsafe true)
    (sleep 240)
    (f_unload_phantom_cargo "cell5_phantom01" "double")
    (ai_vehicle_reserve_seat "cell5_ghost_squad01" 36 true)
    (ai_vehicle_reserve_seat "cell5_ghost_squad02" 36 true)
    (cs_fly_by "cell5_phantom_pts/p0")
    (cs_fly_by "cell5_phantom_pts/p1")
    (cs_fly_by "cell5_phantom_pts/p3")
    (ai_erase ai_current_squad)
)

(script command_script void cs_cell05_phantom02
    (cs_enable_pathfinding_failsafe true)
    (sleep 120)
    (f_unload_phantom_cargo "cell5_phantom02" "double")
    (ai_vehicle_reserve_seat "cell5_ghost_squad03" 36 true)
    (ai_vehicle_reserve_seat "cell5_ghost_squad04" 36 true)
    (cs_fly_by "cell5_phantom_pts/p4")
    (cs_fly_by "cell5_phantom_pts/p5")
    (cs_fly_by "cell5_phantom_pts/p6")
    (cs_fly_by "cell5_phantom_pts/p7")
    (cs_fly_by "cell5_phantom_pts/p8")
    (ai_erase ai_current_squad)
)

(script command_script void cs_cell05_phantom03
    (cs_enable_pathfinding_failsafe true)
    (sleep 60)
    (f_unload_phantom_cargo "cell5_phantom03" "double")
    (ai_vehicle_reserve_seat "cell5_ghost_squad05" 36 true)
    (ai_vehicle_reserve_seat "cell5_ghost_squad06" 36 true)
    (cs_fly_by "cell5_phantom_pts/p9")
    (cs_fly_by "cell5_phantom_pts/p10")
    (cs_fly_by "cell5_phantom_pts/p11")
    (cs_fly_by "cell5_phantom_pts/p12")
    (cs_fly_by "cell5_phantom_pts/p13")
    (ai_erase ai_current_squad)
)

(script dormant void enc_cell06
    (data_mine_set_mission_segment "l300_07_enc_cell06")
    (print "data_mine_set_mission_segment l300_07_enc_cell06")
    (wake vidmaster_challenge_cell6)
    (if (> (game_coop_player_count) 2)
        (object_create "cell07_coop_goose")
    )
    (ai_vehicle_reserve_seat "cell07_coop_goose" 35 true)
    (object_create_folder "crates_cell6")
    (ai_set_objective "sq_buck" "enc_cell6_buck_obj")
    (ai_vehicle_reserve_seat "cell6_ghost_squad01/ghost01" 36 true)
    (ai_vehicle_reserve_seat "cell6_ghost_squad01/ghost02" 36 true)
    (ai_vehicle_reserve_seat "cell6_ghost_squad02/ghost01" 36 true)
    (ai_vehicle_reserve_seat "cell6_ghost_squad02/ghost02" 36 true)
    (ai_vehicle_reserve_seat "cell6_ghost_squad03/ghost01" 36 true)
    (ai_vehicle_reserve_seat "cell6_ghost_squad03/ghost02" 36 true)
    (ai_vehicle_reserve_seat "cell06_gauss" 30 true)
    (set cell 6)
    (wake l300_music_04)
    (set g_music_l300_04 true)
    (set s_waypoint_index 10)
    (check_loc (player0) "cell5_p_safe_vol" "cell5_v_safe_vol" "cell6_player0_flag")
    (check_loc (player1) "cell5_p_safe_vol" "cell5_v_safe_vol" "cell6_player1_flag")
    (check_loc (player2) "cell5_p_safe_vol" "cell5_v_safe_vol" "cell6_player2_flag")
    (check_loc (player3) "cell5_p_safe_vol" "cell5_v_safe_vol" "cell6_player3_flag")
    (check_loc obj_buck "cell5_p_safe_vol" "cell5_v_safe_vol" "cell6_buck_flag")
    (device_set_position "highway_door_08" 0)
    (ai_disposable "cell4_gr" true)
    (object_destroy_folder "crates_cell4")
    (sleep 10)
    (object_destroy_folder "crates_cell4a")
    (add_recycling_volume "cell4_garbage" 0 3)
    (add_recycling_volume "cell5_garbage" 15 10)
    (sleep_until (player_in_vehicle "cell06_gauss_01") 5 300)
    (sleep 270)
    (ai_place "cell6_gr")
    (sleep 30)
    (device_set_position "highway_door_11" 1)
    (sleep 10)
    (game_save)
    (object_set_shield_normalized obj_olifaunt g_olifaunt_shield)
    (cs_run_command_script ai_olifaunt olifaunt_run06)
    (object_create_folder "crates_cell6")
    (sleep 10)
    (object_create_folder "crates_cell6a")
    (sleep 10)
    (object_create_folder "crates_cell6b")
    (print "enc_cell06")
    (sleep_until (volume_test_players "cell06_oc_10_vol") 1)
    (set g_cell06_obj_control 10)
    (print "g_cell06_obj_control 10")
    (print "setting new objective for previous enemies")
    (sleep_until (volume_test_players "cell06_oc_20_vol") 1)
    (set g_cell06_obj_control 20)
    (print "g_cell06_obj_control 20")
    (sleep_until (volume_test_players "cell06_oc_30_vol") 1)
    (set g_cell06_obj_control 30)
    (print "g_cell06_obj_control 30")
    (sleep_until (volume_test_players "cell06_oc_40_vol") 1)
    (set g_cell06_obj_control 40)
    (print "g_cell06_obj_control 40")
    (vehicle_pointeroff)
)

(script command_script void cs_cell6_phantom01
    (sleep 180)
    (cs_vehicle_speed 1)
    (cs_fly_by "cell6_phantom_pts/p0")
    (cs_fly_by "cell6_phantom_pts/p3")
    (cs_fly_by "cell6_phantom_pts/p6")
    (ai_erase ai_current_squad)
)

(script command_script void cs_cell6_phantom02
    (sleep 220)
    (cs_vehicle_speed 1)
    (cs_fly_by "cell6_phantom_pts/p1")
    (cs_fly_by "cell6_phantom_pts/p5")
    (cs_fly_by "cell6_phantom_pts/p7")
    (ai_erase ai_current_squad)
)

(script command_script void cs_cell6_phantom03
    (cs_vehicle_speed 1)
    (cs_fly_by "cell6_phantom_pts/p2")
    (cs_fly_by "cell6_phantom_pts/p4")
    (cs_fly_by "cell6_phantom_pts/p8")
    (ai_erase ai_current_squad)
)

(script dormant void enc_cell07
    (data_mine_set_mission_segment "l300_08_enc_cell07")
    (print "data_mine_set_mission_segment l300_08_enc_cell07")
    (if (> (game_coop_player_count) 2)
        (object_create "cell08_coop_goose")
    )
    (ai_vehicle_reserve_seat "cell08_coop_goose" 35 true)
    (wake vidmaster_challenge_cell7)
    (ai_set_objective "sq_buck" "enc_cell7_buck_obj")
    (ai_place "cell7_gr")
    (ai_vehicle_reserve_seat "cell7_ghost_squad01/ghost01" 36 true)
    (ai_vehicle_reserve_seat "cell7_ghost_squad01/ghost02" 36 true)
    (ai_vehicle_reserve_seat "cell7_ghost_squad02/ghost01" 36 true)
    (ai_vehicle_reserve_seat "cell7_ghost_squad02/ghost02" 36 true)
    (ai_vehicle_reserve_seat "cell07_troophog" 30 true)
    (ai_vehicle_reserve_seat "cell07_warthog" 30 true)
    (set cell 7)
    (set s_waypoint_index 11)
    (check_loc (player0) "cell6_p_safe_vol" "cell6_v_safe_vol" "cell7_player0_flag")
    (check_loc (player1) "cell6_p_safe_vol" "cell6_v_safe_vol" "cell7_player1_flag")
    (check_loc (player2) "cell6_p_safe_vol" "cell6_v_safe_vol" "cell7_player2_flag")
    (check_loc (player3) "cell6_p_safe_vol" "cell6_v_safe_vol" "cell7_player3_flag")
    (check_loc obj_buck "cell6_p_safe_vol" "cell6_v_safe_vol" "cell7_buck_flag")
    (device_set_position "highway_door_10" 0)
    (ai_disposable "cell5_gr" true)
    (object_destroy_folder "crates_cell5")
    (sleep 10)
    (object_destroy_folder "crates_cell5a")
    (add_recycling_volume "cell5_garbage" 0 3)
    (add_recycling_volume "cell6_garbage" 15 10)
    (wake md_08_scorpion)
    (device_set_position "highway_door_12" 1)
    (wake scarab_walker_070)
    (wake md_07_scarab)
    (wake md_07_highway)
    (sleep_forever md_06_gausshog)
    (set dialog_playing false)
    (ai_dialogue_enable true)
    (sleep 10)
    (game_save)
    (object_set_shield_normalized obj_olifaunt g_olifaunt_shield)
    (cs_run_command_script ai_olifaunt olifaunt_run07)
    (object_create_folder "crates_cell7")
    (sleep 10)
    (object_create_folder "crates_cell7a")
    (print "enc_cell07")
    (sleep_until (volume_test_players "cell07_oc_10_vol") 1)
    (set g_cell07_obj_control 10)
    (print "g_cell07_obj_control 10")
    (print "setting new objective for previous enemies")
    (sleep_until (volume_test_players "cell07_oc_20_vol") 1)
    (set g_cell07_obj_control 20)
    (print "g_cell07_obj_control 20")
    (set dialog_playing false)
    (ai_dialogue_enable true)
    (sleep_until (volume_test_players "cell07_oc_30_vol") 1)
    (set g_cell07_obj_control 30)
    (print "g_cell07_obj_control 30")
    (sleep_until (volume_test_players "cell07_oc_40_vol") 1)
    (set g_cell07_obj_control 40)
    (print "g_cell07_obj_control 40")
    (vehicle_pointeroff)
)

(script dormant void enc_cell08
    (data_mine_set_mission_segment "l300_09_enc_cell08")
    (print "data_mine_set_mission_segment l300_09_enc_cell08")
    (wake vidmaster_challenge_cell8)
    (if (> (game_coop_player_count) 2)
        (object_create "cell09_coop_goose")
    )
    (ai_vehicle_reserve_seat "cell09_coop_goose" 35 true)
    (object_create_folder "crates_cell8")
    (sleep 10)
    (object_create_folder "crates_cell8a")
    (ai_set_objective "sq_buck" "enc_cell8_buck_obj")
    (ai_place "cell8_gr")
    (sleep_forever md_07_scarab)
    (sleep_forever md_07_highway)
    (set dialog_playing false)
    (ai_dialogue_enable true)
    (set s_waypoint_index 12)
    (sleep 1)
    (wake cell08_wraith_entrance)
    (ai_vehicle_reserve_seat "cell08_scorpion" 33 true)
    (set cell 8)
    (check_loc (player0) "cell7_p_safe_vol" "cell7_v_safe_vol" "cell8_player0_flag")
    (check_loc (player1) "cell7_p_safe_vol" "cell7_v_safe_vol" "cell8_player1_flag")
    (check_loc (player2) "cell7_p_safe_vol" "cell7_v_safe_vol" "cell8_player2_flag")
    (check_loc (player3) "cell7_p_safe_vol" "cell7_v_safe_vol" "cell8_player3_flag")
    (check_loc obj_buck "cell7_p_safe_vol" "cell7_v_safe_vol" "cell8_buck_flag")
    (sleep_until (player_in_vehicle "cell08_scorpion") 5 300)
    (sleep 300)
    (device_set_position "highway_door_13" 0)
    (ai_disposable "cell6_gr" true)
    (object_destroy_folder "crates_cell6")
    (sleep 10)
    (object_destroy_folder "crates_cell6a")
    (sleep 10)
    (object_destroy_folder "crates_cell6b")
    (add_recycling_volume "cell6_garbage" 0 3)
    (add_recycling_volume "cell7_garbage" 15 10)
    (device_set_position "highway_door_15" 1)
    (sleep 10)
    (game_save)
    (object_set_shield_normalized obj_olifaunt g_olifaunt_shield)
    (cs_run_command_script ai_olifaunt olifaunt_run08)
    (print "enc_cell08")
    (sleep_until (volume_test_players "cell08_oc_10_vol") 1)
    (set g_cell08_obj_control 10)
    (print "g_cell08_obj_control 10")
    (print "setting new objective for previous enemies")
    (sleep_until (volume_test_players "cell08_oc_20_vol") 1)
    (set g_cell08_obj_control 20)
    (print "g_cell08_obj_control 20")
    (sleep_forever md_08_scorpion)
    (sleep_until (volume_test_players "cell08_oc_30_vol") 1)
    (set g_cell08_obj_control 30)
    (print "g_cell08_obj_control 30")
    (sleep_until (volume_test_players "cell08_oc_40_vol") 1)
    (set g_cell08_obj_control 40)
    (print "g_cell08_obj_control 40")
    (vehicle_pointeroff)
)

(script dormant void cell08_wraith_entrance
    (ai_place "cell8_phantom_squad01/pilot")
    (set v_cell08_phantom01 (ai_vehicle_get_from_spawn_point "cell8_phantom_squad01/pilot"))
    (cs_run_command_script "cell8_phantom_squad01/pilot" cs_cell08_phantom)
    (object_set_shadowless "cell8_phantom_squad01/pilot" true)
    (f_load_phantom_cargo v_cell08_phantom01 "single" "cell8_wraith_squad01" none)
)

(script command_script void cs_cell08_phantom
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed_instantaneous 1)
    (cs_fly_by "cell08_wraith_path/p0")
    (cs_fly_by "cell08_wraith_path/p1")
    (cs_fly_by "cell08_wraith_path/p2")
    (cs_fly_by "cell08_wraith_path/p3")
    (sleep 30)
    (f_unload_phantom_cargo v_cell08_phantom01 "single")
    (sleep 30)
    (cs_fly_by "cell08_wraith_path/p4")
    (cs_fly_by "cell08_wraith_path/p5")
    (cs_fly_to "cell08_wraith_path/p6")
    (ai_erase ai_current_squad)
)

(script dormant void enc_cell09
    (data_mine_set_mission_segment "l300_10_enc_cell09")
    (print "data_mine_set_mission_segment l300_10_enc_cell09")
    (wake vidmaster_challenge_cell9)
    (ai_vehicle_reserve_seat "cell09_gauss" 30 true)
    (ai_vehicle_reserve_seat "cell09_warthog" 30 true)
    (ai_set_objective "sq_buck" "enc_cell9_obj")
    (set cell 9)
    (wake l300_music_05)
    (set s_waypoint_index 13)
    (check_loc (player0) "cell8_p_safe_vol" "cell8_v_safe_vol" "cell9_player0_flag")
    (check_loc (player1) "cell8_p_safe_vol" "cell8_v_safe_vol" "cell9_player1_flag")
    (check_loc (player2) "cell8_p_safe_vol" "cell8_v_safe_vol" "cell9_player2_flag")
    (check_loc (player3) "cell8_p_safe_vol" "cell8_v_safe_vol" "cell9_player3_flag")
    (check_loc obj_buck "cell8_p_safe_vol" "cell8_v_safe_vol" "cell9_buck_flag")
    (device_set_position "highway_door_14" 0)
    (ai_disposable "cell7_gr" true)
    (object_destroy_folder "crates_cell7")
    (sleep 10)
    (object_destroy_folder "crates_cell7a")
    (add_recycling_volume "cell7_garbage" 0 3)
    (add_recycling_volume "cell8_garbage" 15 10)
    (set g_music_l300_04 false)
    (device_set_position "highway_door_17" 1)
    (sleep 10)
    (game_save)
    (object_set_shield_normalized obj_olifaunt g_olifaunt_shield)
    (cs_run_command_script ai_olifaunt olifaunt_run09)
    (if (> (game_coop_player_count) 2)
        (object_create "cell10_coop_goose")
    )
    (ai_vehicle_reserve_seat "cell10_coop_goose" 35 true)
    (wake enc_cell09_phantom_train)
    (object_create_folder "crates_cell9")
    (sleep 10)
    (object_create_folder "crates_cell9a")
    (sleep_until (volume_test_players "cell09_oc_10_vol") 1)
    (set g_cell09_obj_control 10)
    (print "g_cell09_obj_control 10")
    (sleep_until (volume_test_players "cell09_oc_20_vol") 1)
    (set g_cell09_obj_control 20)
    (print "g_cell09_obj_control 20")
    (sleep_until (volume_test_players "cell09_oc_30_vol") 1)
    (set g_cell09_obj_control 30)
    (print "g_cell09_obj_control 30")
    (sleep_until (volume_test_players "cell09_oc_40_vol") 1)
    (set g_cell09_obj_control 40)
    (print "g_cell09_obj_control 40")
    (sleep_until (volume_test_players "cell09_oc_50_vol") 1)
    (set g_cell09_obj_control 50)
    (print "g_cell09_obj_control 50")
    (vehicle_pointeroff)
)

(script dormant void enc_cell09_phantom_train
    (sleep_until (volume_test_players "enc_cell09_vol01") 5)
    (ai_place "cell9_phantom_squad01/pilot")
    (set v_cell09_phantom01 (ai_vehicle_get_from_spawn_point "cell9_phantom_squad01/pilot"))
    (object_set_shadowless "cell9_phantom_squad01/pilot" true)
    (f_load_phantom_cargo v_cell09_phantom01 "double" "cell9_ghost_squad01" "cell9_ghost_squad02")
    (cs_run_command_script "cell9_phantom_squad01/pilot" cs_cell09_train01)
    (sleep 200)
    (ai_place "cell9_phantom_squad02/pilot")
    (set v_cell09_phantom02 (ai_vehicle_get_from_spawn_point "cell9_phantom_squad02/pilot"))
    (cs_run_command_script "cell9_phantom_squad02/pilot" cs_cell09_train02)
    (f_load_phantom_cargo v_cell09_phantom02 "double" "cell9_ghost_squad03" "cell9_ghost_squad04")
    (sleep 200)
    (ai_place "cell9_phantom_squad03/pilot")
    (set v_cell09_phantom03 (ai_vehicle_get_from_spawn_point "cell9_phantom_squad03/pilot"))
    (cs_run_command_script "cell9_phantom_squad03/pilot" cs_cell09_train03)
    (object_set_shadowless "cell9_phantom_squad03/pilot" true)
    (f_load_phantom_cargo v_cell09_phantom03 "double" "cell9_ghost_squad05" "cell9_ghost_squad06")
    (sleep 200)
    (ai_place "cell9_phantom_squad04/pilot")
    (set v_cell09_phantom04 (ai_vehicle_get_from_spawn_point "cell9_phantom_squad04/pilot"))
    (cs_run_command_script "cell9_phantom_squad04/pilot" cs_cell09_train04)
    (object_set_shadowless "cell9_phantom_squad04/pilot" true)
    (f_load_phantom_cargo v_cell09_phantom04 "double" "cell9_ghost_squad07" "cell9_ghost_squad08")
)

(script command_script void cs_cell09_train01
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed_instantaneous 1)
    (cs_fly_by "cell09_phantom_train01_points/p0")
    (cs_fly_by "cell09_phantom_train01_points/p1")
    (cs_fly_by "cell09_phantom_train01_points/p2")
    (cs_fly_by "cell09_phantom_train01_points/p3")
    (cs_fly_by "cell09_phantom_train01_points/p4")
    (cs_fly_by "cell09_phantom_train01_points/p5")
    (cs_fly_by "cell09_phantom_train01_points/p6")
    (cs_fly_by "cell09_phantom_train01_points/p7")
    (cs_fly_by "cell09_phantom_train01_points/p8")
    (cs_fly_by "cell09_phantom_train01_points/p9")
    (cs_fly_by "cell09_phantom_train01_points/p10")
    (cs_fly_by "cell09_phantom_train01_points/p11")
    (cs_fly_by "cell09_phantom_train01_points/p12")
    (cs_fly_by "cell09_phantom_train01_points/p13")
    (cs_fly_by "cell09_phantom_train01_points/p14")
    (cs_fly_by "cell09_phantom_train01_points/p15")
    (cs_fly_by "cell09_phantom_train01_points/p16")
    (cs_fly_by "cell09_phantom_train01_points/p17")
    (sleep 30)
    (f_unload_phantom_cargo v_cell09_phantom01 "double")
    (ai_vehicle_reserve_seat "cell9_ghost_squad01" 36 true)
    (ai_vehicle_reserve_seat "cell9_ghost_squad02" 36 true)
    (sleep 30)
    (cs_fly_by "cell09_phantom_train01_points/p18")
    (cs_fly_by "cell09_phantom_train01_points/p19")
    (cs_fly_by "cell09_phantom_train01_points/p20")
    (ai_erase ai_current_squad)
)

(script command_script void cs_cell09_train02
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed_instantaneous 1)
    (cs_fly_by "cell09_phantom_train02_points/p0")
    (cs_fly_by "cell09_phantom_train02_points/p1")
    (cs_fly_by "cell09_phantom_train02_points/p2")
    (cs_fly_by "cell09_phantom_train02_points/p3")
    (cs_fly_by "cell09_phantom_train02_points/p4")
    (cs_fly_by "cell09_phantom_train02_points/p5")
    (cs_fly_by "cell09_phantom_train02_points/p6")
    (cs_fly_by "cell09_phantom_train02_points/p7")
    (cs_fly_by "cell09_phantom_train02_points/p8")
    (cs_fly_by "cell09_phantom_train02_points/p9")
    (cs_fly_by "cell09_phantom_train02_points/p10")
    (cs_fly_by "cell09_phantom_train02_points/p11")
    (cs_fly_by "cell09_phantom_train02_points/p12")
    (cs_fly_by "cell09_phantom_train02_points/p13")
    (cs_fly_by "cell09_phantom_train02_points/p14")
    (cs_fly_by "cell09_phantom_train02_points/p15")
    (cs_fly_by "cell09_phantom_train02_points/p16")
    (cs_fly_by "cell09_phantom_train02_points/p17")
    (sleep 30)
    (f_unload_phantom_cargo v_cell09_phantom02 "double")
    (ai_vehicle_reserve_seat "cell9_ghost_squad03" 36 true)
    (ai_vehicle_reserve_seat "cell9_ghost_squad04" 36 true)
    (sleep 30)
    (cs_fly_by "cell09_phantom_train02_points/p18")
    (cs_fly_by "cell09_phantom_train02_points/p19")
    (cs_fly_by "cell09_phantom_train02_points/p20")
    (ai_erase ai_current_squad)
)

(script command_script void cs_cell09_train03
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed_instantaneous 1)
    (cs_fly_by "cell09_phantom_train03_points/p0")
    (cs_fly_by "cell09_phantom_train03_points/p1")
    (cs_fly_by "cell09_phantom_train03_points/p2")
    (cs_fly_by "cell09_phantom_train03_points/p3")
    (cs_fly_by "cell09_phantom_train03_points/p4")
    (cs_fly_by "cell09_phantom_train03_points/p5")
    (cs_fly_by "cell09_phantom_train03_points/p6")
    (cs_fly_by "cell09_phantom_train03_points/p7")
    (cs_fly_by "cell09_phantom_train03_points/p8")
    (cs_fly_by "cell09_phantom_train03_points/p9")
    (cs_fly_by "cell09_phantom_train03_points/p10")
    (cs_fly_by "cell09_phantom_train03_points/p11")
    (cs_fly_by "cell09_phantom_train03_points/p12")
    (cs_fly_by "cell09_phantom_train03_points/p13")
    (cs_fly_by "cell09_phantom_train03_points/p14")
    (cs_fly_by "cell09_phantom_train03_points/p15")
    (cs_fly_by "cell09_phantom_train03_points/p16")
    (cs_fly_by "cell09_phantom_train03_points/p17")
    (sleep 30)
    (f_unload_phantom_cargo v_cell09_phantom03 "double")
    (ai_vehicle_reserve_seat "cell9_ghost_squad05" 36 true)
    (ai_vehicle_reserve_seat "cell9_ghost_squad06" 36 true)
    (sleep 30)
    (cs_fly_by "cell09_phantom_train03_points/p18")
    (cs_fly_by "cell09_phantom_train03_points/p19")
    (cs_fly_by "cell09_phantom_train03_points/p20")
    (ai_erase ai_current_squad)
)

(script command_script void cs_cell09_train04
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed_instantaneous 1)
    (cs_fly_by "cell09_phantom_train04_points/p0")
    (cs_fly_by "cell09_phantom_train04_points/p1")
    (cs_fly_by "cell09_phantom_train04_points/p2")
    (cs_fly_by "cell09_phantom_train04_points/p3")
    (cs_fly_by "cell09_phantom_train04_points/p4")
    (cs_fly_by "cell09_phantom_train04_points/p5")
    (cs_fly_by "cell09_phantom_train04_points/p6")
    (cs_fly_by "cell09_phantom_train04_points/p7")
    (cs_fly_by "cell09_phantom_train04_points/p8")
    (cs_fly_by "cell09_phantom_train04_points/p9")
    (cs_fly_by "cell09_phantom_train04_points/p10")
    (cs_fly_by "cell09_phantom_train04_points/p11")
    (cs_fly_by "cell09_phantom_train04_points/p12")
    (cs_fly_by "cell09_phantom_train04_points/p13")
    (cs_fly_by "cell09_phantom_train04_points/p14")
    (cs_fly_by "cell09_phantom_train04_points/p15")
    (cs_fly_by "cell09_phantom_train04_points/p16")
    (cs_fly_by "cell09_phantom_train04_points/p17")
    (sleep 30)
    (f_unload_phantom_cargo v_cell09_phantom04 "double")
    (ai_vehicle_reserve_seat "cell9_ghost_squad07" 36 true)
    (ai_vehicle_reserve_seat "cell9_ghost_squad08" 36 true)
    (sleep 30)
    (cs_fly_by "cell09_phantom_train04_points/p18")
    (cs_fly_by "cell09_phantom_train04_points/p19")
    (cs_fly_by "cell09_phantom_train04_points/p20")
    (ai_erase ai_current_squad)
)

(script dormant void enc_cell10
    (data_mine_set_mission_segment "l300_11_enc_cell10")
    (print "data_mine_set_mission_segment l300_11_enc_cell10")
    (wake vidmaster_challenge_cell10)
    (if (> (game_coop_player_count) 2)
        (object_create "cell11_coop_goose")
    )
    (ai_vehicle_reserve_seat "cell11_coop_goose" 35 true)
    (object_create_folder "crates_cell10")
    (sleep 10)
    (object_create_folder "crates_cell10a")
    (ai_place "cell10_gr")
    (ai_set_objective "sq_buck" "enc_cell10_buck_obj")
    (ai_vehicle_reserve_seat "cell10_warthog" 30 true)
    (set cell 10)
    (set s_waypoint_index 14)
    (check_loc (player0) "cell9_p_safe_vol" "cell9_v_safe_vol" "cell10_player0_flag")
    (check_loc (player1) "cell9_p_safe_vol" "cell9_v_safe_vol" "cell10_player1_flag")
    (check_loc (player2) "cell9_p_safe_vol" "cell9_v_safe_vol" "cell10_player2_flag")
    (check_loc (player3) "cell9_p_safe_vol" "cell9_v_safe_vol" "cell10_player3_flag")
    (check_loc obj_buck "cell9_p_safe_vol" "cell9_v_safe_vol" "cell10_buck_flag")
    (device_set_position "highway_door_16" 0)
    (ai_disposable "cell8_gr" true)
    (object_destroy_folder "crates_cell8")
    (sleep 10)
    (object_destroy_folder "crates_cell8a")
    (add_recycling_volume "cell8_garbage" 0 3)
    (add_recycling_volume "cell9_garbage" 15 10)
    (device_set_position "highway_door_19" 1)
    (sleep 10)
    (game_save)
    (object_set_shield_normalized obj_olifaunt g_olifaunt_shield)
    (cs_run_command_script ai_olifaunt olifaunt_run10)
    (sleep_until (volume_test_players "cell10_oc_10_vol") 1)
    (set g_cell10_obj_control 10)
    (print "g_cell10_obj_control 10")
    (sleep_until (volume_test_players "cell10_oc_20_vol") 1)
    (set g_cell10_obj_control 20)
    (print "g_cell10_obj_control 20")
    (sleep_until (volume_test_players "cell10_oc_30_vol") 1)
    (set g_cell10_obj_control 30)
    (print "g_cell10_obj_control 30")
    (sleep_until (volume_test_players "cell10_oc_40_vol") 1)
    (set g_cell10_obj_control 40)
    (print "g_cell10_obj_control 40")
    (sleep_until (volume_test_players "cell10_oc_50_vol") 1)
    (set g_cell10_obj_control 50)
    (print "g_cell10_obj_control 50")
    (vehicle_pointeroff)
)

(script dormant void enc_cell11
    (data_mine_set_mission_segment "l300_12_enc_cell11")
    (print "data_mine_set_mission_segment l300_12_enc_cell11")
    (wake vidmaster_challenge_cell11)
    (object_create_folder "crates_cell11")
    (sleep 10)
    (if (> (game_coop_player_count) 2)
        (object_create "cell12_coop_goose")
    )
    (ai_vehicle_reserve_seat "cell12_coop_goose" 35 true)
    (object_create_folder "crates_cell11a")
    (ai_set_objective "sq_buck" "enc_cell11_obj")
    (ai_place "cell11_gr")
    (ai_vehicle_reserve_seat "cell11_troophog" 30 true)
    (set dialog_playing false)
    (ai_dialogue_enable true)
    (set cell 11)
    (set s_waypoint_index 15)
    (check_loc (player0) "cell10_p_safe_vol" "cell10_v_safe_vol" "cell11_player0_flag")
    (check_loc (player1) "cell10_p_safe_vol" "cell10_v_safe_vol" "cell11_player1_flag")
    (check_loc (player2) "cell10_p_safe_vol" "cell10_v_safe_vol" "cell11_player2_flag")
    (check_loc (player3) "cell10_p_safe_vol" "cell10_v_safe_vol" "cell11_player3_flag")
    (check_loc obj_buck "cell10_p_safe_vol" "cell10_v_safe_vol" "cell11_buck_flag")
    (device_set_position_immediate "highway_door_19" 0)
    (object_destroy_folder "crates_cell9")
    (sleep 10)
    (object_destroy_folder "crates_cell9a")
    (ai_disposable "cell9_gr" true)
    (add_recycling_volume "cell9_garbage" 0 3)
    (add_recycling_volume "cell10_garbage" 15 10)
    (device_set_position "highway_door_21" 1)
    (wake scarab_walker_110)
    (sleep 10)
    (game_save)
    (object_set_shield_normalized obj_olifaunt g_olifaunt_shield)
    (cs_run_command_script ai_olifaunt olifaunt_run11)
    (sleep_until (volume_test_players "cell11_oc_10_vol") 1)
    (set g_cell11_obj_control 10)
    (print "g_cell11_obj_control 10")
    (sleep_until (volume_test_players "cell11_oc_20_vol") 1)
    (set g_cell11_obj_control 20)
    (print "g_cell11_obj_control 20")
    (sleep_until (volume_test_players "cell11_oc_30_vol") 1)
    (set g_cell11_obj_control 30)
    (print "g_cell11_obj_control 30")
    (vehicle_pointeroff)
)

(script dormant void enc_cell12
    (data_mine_set_mission_segment "l300_13_enc_cell12")
    (print "data_mine_set_mission_segment l300_13_enc_cell12")
    (wake vidmaster_challenge_cell12)
    (wake md_12_scarab)
    (object_create_folder "crates_cell12")
    (sleep 10)
    (object_create_folder "crates_cell12a")
    (ai_set_objective "sq_buck" "enc_cell12_obj")
    (set cell 12)
    (set s_waypoint_index 16)
    (check_loc (player0) "cell11_p_safe_vol" "cell11_v_safe_vol" "cell12_player0_flag")
    (check_loc (player1) "cell11_p_safe_vol" "cell11_v_safe_vol" "cell12_player1_flag")
    (check_loc (player2) "cell11_p_safe_vol" "cell11_v_safe_vol" "cell12_player2_flag")
    (check_loc (player3) "cell11_p_safe_vol" "cell11_v_safe_vol" "cell12_player3_flag")
    (check_loc obj_buck "cell11_p_safe_vol" "cell11_v_safe_vol" "cell12_buck_flag")
    (device_set_position "highway_door_20" 0)
    (object_destroy_folder "crates_cell10")
    (sleep 10)
    (object_destroy_folder "crates_cell10a")
    (ai_disposable "cell10_gr" true)
    (add_recycling_volume "cell10_garbage" 0 3)
    (add_recycling_volume "cell11_garbage" 15 10)
    (ai_vehicle_reserve_seat "cell12_troophog" 30 true)
    (set dialog_playing false)
    (ai_dialogue_enable true)
    (device_set_position "highway_door_23" 1)
    (sleep 10)
    (game_save)
    (object_set_shield_normalized obj_olifaunt g_olifaunt_shield)
    (cs_run_command_script ai_olifaunt olifaunt_run12)
    (sleep_until (volume_test_players "cell12_oc_10_vol") 1)
    (set g_cell12_obj_control 10)
    (print "g_cell12_obj_control 10")
    (sleep_until (volume_test_players "cell12_oc_20_vol") 1)
    (set g_cell12_obj_control 20)
    (print "g_cell12_obj_control 20")
    (sleep_until (volume_test_players "cell12_oc_30_vol") 1)
    (set g_cell12_obj_control 30)
    (print "g_cell12_obj_control 30")
    (vehicle_pointeroff)
)

(script dormant void scarab_walker_ai
    (effect_new_on_object_marker "fx\cinematics\l300_scarabs\water_eruption\water_eruption" "scarabzilla03" "marker")
    (ai_place "final_scarab_ai/pilot")
    (object_set_always_active "final_scarab_ai" true)
    (vs_reserve "final_scarab_ai" 0)
    (objects_attach (ai_get_object "final_scarab_ai/pilot") "head" "scarab_gun" "")
    (object_set_always_active "final_scarab_ai" true)
    (vs_custom_animation "final_scarab_ai" true "objects\giants\scarab\scarab" "vignette_approach" false)
    (vs_custom_animation_loop "final_scarab_ai" "objects\giants\scarab\scarab" "vignette_idle" true)
    (sleep_until (= scarab_fire_bool true) 1)
    (vs_custom_animation_loop "final_scarab_ai" "objects\giants\scarab\scarab" "vignette_fire" true)
    (weapon_hold_trigger "scarab_gun" 0 true)
    (wake damage_olifaunt)
    (sleep_until (= scarab_fire_bool false) 1)
    (weapon_hold_trigger "scarab_gun" 0 false)
    (set scarab_hit_bool true)
    (sleep_until (volume_test_objects "olifaunt_stop_vol" (ai_actors "sq_olifaunt")) 1)
    (vs_custom_animation "final_scarab_ai" false "objects\giants\scarab\scarab" "vignette_exit" true)
    (ai_cannot_die ai_olifaunt false)
    (print "olifaunt back to vulnerability")
    (sleep 333)
    (ai_erase "final_scarab_ai")
)

(script static void scarab_fight_test
    (sleep_forever engineer_fail)
    (if (!= (current_zone_set) g_set_all)
        (begin
            (if debug
                (print "switching zone sets...")
            )
            (switch_zone_set "l300_030")
            (ai_erase_all)
            (sleep 1)
        )
    )
    (if debug
        (print "teleporting players...")
    )
    (object_teleport (player0) "cell12_player0_flag")
    (object_teleport (player1) "cell12_player1_flag")
    (object_teleport (player2) "cell12_player2_flag")
    (object_teleport (player3) "cell12_player3_flag")
    (set g_insertion_index 13)
    (wake olifaunt_nanny)
    (sleep 1)
    (wake obj_escort_set)
    (wake obj_escort_clear)
    (ai_place "sq_olifaunt/cell12")
    (set ai_olifaunt "sq_olifaunt/cell12")
    (set obj_olifaunt (ai_vehicle_get_from_spawn_point "sq_olifaunt/cell12"))
    (ai_suppress_combat ai_olifaunt true)
    (wake olifaunt_fail)
    (ai_place "scorpion/cell12")
    (set obj_scorpion (ai_vehicle_get_from_spawn_point "scorpion/cell12"))
    (set v_scorpion (ai_vehicle_get_from_spawn_point "scorpion/cell12"))
    (ai_vehicle_reserve_seat v_scorpion 33 true)
    (if (game_is_cooperative)
        (begin
            (ai_place "coop_vehicle/cell12")
            (set obj_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell12"))
            (set v_coop (ai_vehicle_get_from_spawn_point "coop_vehicle/cell12"))
            (object_cannot_die obj_coop true)
            (ai_vehicle_reserve_seat v_coop 31 true)
        )
    )
    (ai_place "sq_buck/cell12")
    (set ai_buck "sq_buck/cell12")
    (set obj_buck (ai_get_object "sq_buck/cell12"))
    (ai_force_active "sq_buck/cell12" true)
    (ai_cannot_die ai_buck true)
    (chud_show_ai_navpoint "sq_buck" "buck" true 0.1)
    (vehicle_load_magic obj_scorpion 34 obj_buck)
    (sleep 30)
    (wake enc_cell12)
)

(script dormant void enc_cell13
    (data_mine_set_mission_segment "l300_14_enc_cell13")
    (print "data_mine_set_mission_segment l300_14_enc_cell13")
    (object_create_folder "crates_cell13")
    (object_create_folder "v_campaign")
    (sleep 10)
    (set s_waypoint_index 17)
    (object_create_containing "hvac")
    (object_create_folder "crates_cell13a")
    (object_destroy_folder "sc_survival")
    (object_destroy_folder "cr_survival")
    (object_destroy_folder "cr_survival_objects")
    (if (>= (game_difficulty_get) heroic)
        (begin
            (object_create "campaign_health_mount_00")
            (object_create "campaign_health_mount_01")
            (object_create "campaign_health_mount_02")
            (object_create "campaign_health_mount_03")
        )
        (begin
            (object_create "campaign_health_mount_00")
            (object_create "campaign_health_mount_01")
            (object_create "campaign_health_mount_02")
            (object_create "campaign_health_mount_03")
            (object_create "campaign_health_mount_04")
            (object_create "campaign_health_mount_05")
            (object_create "campaign_health_mount_06")
            (object_create "campaign_health_mount_07")
            (object_create "campaign_health_mount_08")
            (object_create "campaign_health_mount_09")
            (object_create "campaign_health_mount_10")
            (object_create "campaign_health_mount_11")
        )
    )
    (device_set_position "highway_door_22" 0)
    (wake obj_defend_set)
    (set cell 13)
    (wake md_13_exit)
    (wake l300_music_06)
    (wake l300_music_065)
    (wake l300_music_07)
    (wake l300_music_08)
    (wake l300_music_09)
    (ai_vehicle_reserve "v_camp_turret01" true)
    (ai_vehicle_reserve "v_camp_turret02" true)
    (ai_place "cell_13_sleeping_grunts")
    (game_save)
    (sleep_until (or (volume_test_players "cell13_oc_10_vol") (= g_insertion_index 14)) 1)
    (set g_cell13_obj_control 10)
    (print "g_cell13_obj_control 10")
    (sleep_forever md_12_scarab)
    (sleep_forever md_12_scarab_hit)
    (sleep_forever md_12_end)
    (set dialog_playing false)
    (ai_dialogue_enable true)
    (sleep_until (or (volume_test_players "cell13_oc_20_vol") (= g_insertion_index 14)) 1)
    (set g_cell13_obj_control 20)
    (print "g_cell13_obj_control 20")
    (sleep_until (or (volume_test_players "cell13_oc_25_vol") (volume_test_players "cell13_oc_30_vol") (= g_insertion_index 14)) 1)
    (set g_cell13_obj_control 25)
    (print "g_cell13_obj_control 25")
    (ai_set_objective "sq_buck" "enc_cell13_initial_obj")
    (set s_waypoint_index 18)
    (cs_run_command_script ai_buck cs_buck_go_to)
    (sleep_until (volume_test_players "cell13_oc_30_vol") 1)
    (set g_cell13_obj_control 30)
    (print "g_cell13_obj_control 30")
    (set dialog_playing false)
    (ai_dialogue_enable true)
    (prepare_game_level "c200")
    (sleep_until (volume_test_players "cell13_oc_40_vol") 1)
    (set g_cell13_obj_control 40)
    (print "g_cell13_obj_control 40")
    (sleep_until (volume_test_players "cell13_oc_50_vol") 1)
    (set g_cell13_obj_control 50)
    (print "g_cell13_obj_control 50")
    (check_loc (player0) "cell13_p_safe_vol" "null_vol" "cell13_player0_flag02")
    (check_loc (player1) "cell13_p_safe_vol" "null_vol" "cell13_player1_flag02")
    (check_loc (player2) "cell13_p_safe_vol" "null_vol" "cell13_player2_flag02")
    (check_loc (player3) "cell13_p_safe_vol" "null_vol" "cell13_player3_flag02")
    (wake buck_go_to_nanny)
    (wake enc_cell13_reinf)
    (soft_ceiling_enable "all" false)
    (soft_ceiling_enable "survival" true)
    (object_destroy_folder "crates_cell11")
    (sleep 10)
    (object_destroy_folder "crates_cell11a")
    (ai_disposable "cell11_gr" true)
    (add_recycling_volume "cell11_garbage" 0 3)
    (add_recycling_volume "cell12_garbage" 15 10)
    (object_destroy_folder "crates_cell12")
    (sleep 10)
    (object_destroy_folder "crates_cell12a")
    (ai_erase "cell12_gr")
    (add_recycling_volume "cell12_garbage" 0 3)
    (object_destroy_containing "cell13a_remove")
)

(script command_script void cs_buck_go_to
    (ai_vehicle_exit ai_buck)
    (sleep 1)
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to "cell13_points/p0" 2)
    (sleep_until (>= g_cell13_obj_control 30) 5)
    (cs_go_to "cell13_points/p1" 2)
    (cs_go_to "cell13_points/p2" 2)
    (sleep_until (>= g_cell13_obj_control 40) 5)
    (cs_go_to "cell13_points/p3" 2)
    (set buck_arrived true)
)

(script dormant void buck_go_to_nanny
    (sleep_until (not (cs_command_script_running ai_buck cs_buck_go_to)) 5 600)
    (if (= buck_arrived false)
        (begin
            (ai_vehicle_exit ai_buck)
            (sleep 30)
            (ai_teleport ai_buck "cell13_points/p3")
            (sleep 1)
            (cs_run_command_script ai_buck cs_abort)
        )
    )
)

(script command_script void dare_go_to
    (sleep 1)
    (cs_enable_pathfinding_failsafe true)
    (cs_go_to "cell13_points/p4" 2)
    (set dare_path_check 1)
    (cs_go_to "cell13_points/p5" 2)
    (set dare_path_check 2)
    (cs_go_to "cell13_points/p6" 2)
    (set dare_path_check 3)
    (cs_go_to "cell13_points/p7" 2)
    (set dare_arrived true)
)

(script dormant void dare_go_to_nanny
    (sleep_until (>= dare_path_check 1) 5 900)
    (if (< dare_path_check 1)
        (ai_teleport ai_dare "cell13_points/p4")
    )
    (sleep_until (>= dare_path_check 2) 5 900)
    (if (< dare_path_check 2)
        (ai_teleport ai_dare "cell13_points/p5")
    )
    (sleep_until (>= dare_path_check 3) 5 900)
    (if (< dare_path_check 3)
        (ai_teleport ai_dare "cell13_points/p6")
    )
    (sleep_until (not (cs_command_script_running ai_dare dare_go_to)) 5 1200)
    (sleep 60)
    (if (= dare_arrived false)
        (begin
            (ai_vehicle_exit ai_dare)
            (sleep 30)
            (ai_teleport ai_dare "cell13_points/p8")
            (ai_teleport ai_engineer "cell13_points/p9")
            (sleep 1)
            (cs_run_command_script ai_dare cs_abort)
        )
    )
)

(script dormant void enc_cell13_olifaunt_stop
    (sleep_until (not (volume_test_players_all "enc_cell13_exit_vol")) 5)
    (chud_show_ai_navpoint "sq_olifaunt" "dare" false 1)
    (ai_place "sq_dare/cell13")
    (set ai_dare "sq_dare/cell13")
    (set obj_dare (ai_get_object "sq_dare/cell13"))
    (ai_force_active ai_dare true)
    (ai_set_objective "sq_dare" "enc_cell13_initial_obj")
    (ai_cannot_die ai_dare true)
    (chud_show_ai_navpoint "sq_dare" "dare" true 0.1)
    (sleep 1)
    (ai_place "sq_engineer/cell13")
    (set ai_engineer "sq_engineer/cell13")
    (set obj_engineer (ai_get_object "sq_engineer/cell13"))
    (ai_force_active "sq_engineer/cell13" true)
    (chud_show_ai_navpoint "sq_engineer" "engineer" true 0.5)
    (ai_set_objective "sq_engineer" "enc_cell13_initial_obj")
    (ai_braindead "sq_olifaunt" true)
    (wake engineer_fail_end)
    (sleep_forever olifaunt_fail)
    (sleep_forever olifaunt_save)
    (sleep 5)
    (ai_cannot_die ai_engineer false)
    (object_create "offramp_door01")
    (device_set_position "highway_door_25" 0)
    (device_set_position "highway_door_24" 0)
    (wake dare_go_to_nanny)
    (cs_run_command_script ai_dare dare_go_to)
    (set g_go_engineer true)
)

(script dormant void enc_cell13_reinf
    (sleep_until (or (= buck_arrived true) (volume_test_objects "enc_cell13_fight_start_vol" ai_buck)) 5)
    (sleep_until (<= (ai_living_count "cell_13_sleeping_grunts") 0))
    (data_mine_set_mission_segment "l300_15_enc_cell14")
    (print "data_mine_set_mission_segment l300_15_enc_cell14")
    (sleep 1)
    (wake md_13_initial_end)
    (sleep_until (script_finished "md_13_initial_end") 5)
    (sleep_forever md_13_initial)
    (wake md_13_initial_dare)
    (wake enc_cell13_olifaunt_stop)
    (sleep_until (volume_test_objects "enc_cell13_fight_start_vol" ai_dare) 5)
    (set g_cell13_encounter 1)
    (game_save)
    (ai_place "cell_13_phantom_1")
    (sleep (random_range 60 90))
    (object_set_shadowless "cell_13_phantom_1/pilot_dropship" true)
    (sleep 300)
    (sleep_until (< (ai_living_count "cell_13_phantom_1") 1) 5)
    (sleep_until (<= (ai_living_count "cell13_gr") 2) 5)
    (game_save)
    (sleep_until (<= (ai_living_count "cell13_gr") 0) 5 1200)
    (game_save)
    (ai_migrate "cell_13_infantry" "cell_13_remaining")
    (set g_cell13_encounter 2)
    (add_recycling_volume "cell13_garbage" 10 10)
    (ai_place "cell_13_phantom_2")
    (object_set_shadowless "cell_13_phantom_2/pilot_dropship" true)
    (sleep 900)
    (ai_place "cell_13_phantom_hunter")
    (object_set_shadowless "cell_13_phantom_hunter/pilot_dropship" true)
    (sleep_until (< (ai_living_count "cell_13_phantom_hunter") 1) 5)
    (sleep_until (<= (ai_living_count "cell13_gr") 4) 5)
    (game_save)
    (sleep_until (<= (ai_living_count "cell13_gr") 2) 5 1200)
    (game_save)
    (sleep_until (and (<= (ai_living_count "cell_13_hunter_a") 0) (<= (ai_living_count "cell_13_hunter_b") 0)) 5)
    (ai_migrate "cell_13_infantry" "cell_13_remaining")
    (set g_cell13_encounter 3)
    (add_recycling_volume "cell13_garbage" 10 10)
    (game_save)
    (sleep 120)
    (ai_place "cell_13_phantom_3")
    (object_set_shadowless "cell_13_phantom_3/pilot_dropship" true)
    (device_set_position "highway_door_25" 1)
    (device_set_position "highway_door_26" 1)
    (ai_place "cell_13_wraith_a")
    (ai_place "cell_13_wraith_b")
    (cs_run_command_script "cell_13_wraith_a/pilot" wraith_a_shoot_point)
    (cs_run_command_script "cell_13_wraith_b/pilot" wraith_b_shoot_point)
    (sleep_until (and (< (ai_living_count "cell13_gr") 1) (< (ai_living_count "cell13_phantoms") 1)) 5 900)
    (ai_disposable "cell_13_remaining" true)
    (sleep_until (and (< (ai_living_count "cell13_gr") 1) (< (ai_living_count "cell13_phantoms") 1)) 5)
    (game_save)
    (add_recycling_volume "cell13_garbage" 10 10)
    (ai_place "odst_phantom")
    (ai_cannot_die "odst_phantom" true)
    (object_cannot_take_damage (ai_vehicle_get_from_starting_location "odst_phantom/pilot"))
    (wake obj_defend_clear)
    (chud_show_ai_navpoint "odst_phantom/pilot" "mickey" true 3.5)
    (chud_show_ai_navpoint "odst_phantom/gunner01" "dutch" true 0.1)
    (chud_show_ai_navpoint "odst_phantom/gunner02" "romeo" true 0.1)
    (cs_run_command_script "odst_phantom/pilot" cs_odst_phantom)
)

(script dormant void odst_test
    (device_set_position "highway_door_25" 1)
    (device_set_position "highway_door_26" 1)
    (ai_place "cell_13_wraith_a")
    (ai_place "cell_13_wraith_b")
    (cs_run_command_script "cell_13_wraith_a/pilot" wraith_a_shoot_point)
    (cs_run_command_script "cell_13_wraith_b/pilot" wraith_b_shoot_point)
    (sleep 120)
    (ai_place "odst_phantom")
    (chud_show_ai_navpoint "odst_phantom/pilot" "mickey" true 3.5)
    (chud_show_ai_navpoint "odst_phantom/gunner01" "dutch" true 0.1)
    (chud_show_ai_navpoint "odst_phantom/gunner02" "romeo" true 0.1)
    (cs_run_command_script "odst_phantom/pilot" cs_odst_phantom)
)

(script dormant void enc_cell13_wraith
    (device_set_position "highway_door_25" 1)
    (device_set_position "highway_door_26" 1)
    (ai_place "cell_13_wraith_a")
    (ai_place "cell_13_wraith_b")
    (cs_run_command_script "cell_13_wraith_a/pilot" wraith_a_shoot_point)
    (cs_run_command_script "cell_13_wraith_b/pilot" wraith_b_shoot_point)
)

(script command_script void wraith_a_shoot_point
    (cs_enable_pathfinding_failsafe true)
    (cs_enable_moving true)
    (ai_vitality_pinned "cell_13_wraith_a")
    (cs_go_to "wraith_fire_points/p16" 1)
    (set b_cell13_wraith_seen true)
    (units_set_current_vitality (ai_actors "cell_13_wraith_a") 1 0)
    (units_set_maximum_vitality (ai_actors "cell_13_wraith_a") 1 0)
    (sleep_until 
        (begin
            (begin_random
                (cs_shoot_point true "wraith_fire_points/p0")
                (cs_shoot_point true "wraith_fire_points/p1")
                (cs_shoot_point true "wraith_fire_points/p2")
                (cs_shoot_point true "wraith_fire_points/p3")
                (cs_shoot_point true "wraith_fire_points/p4")
                (cs_shoot_point true "wraith_fire_points/p5")
                (cs_shoot_point true "wraith_fire_points/p6")
                (cs_shoot_point true "wraith_fire_points/p7")
                (cs_shoot_point true "wraith_fire_points/p8")
                (cs_shoot_point true "wraith_fire_points/p9")
                (cs_shoot_point true "wraith_fire_points/p10")
                (cs_shoot_point true "wraith_fire_points/p11")
                (cs_shoot_point true "wraith_fire_points/p12")
                (cs_shoot_point true "wraith_fire_points/p13")
                (cs_shoot_point true "wraith_fire_points/p14")
                (cs_shoot_point true "wraith_fire_points/p15")
                (cs_shoot_point true "wraith_fire_points/p16")
                (cs_shoot_point true "wraith_fire_points/p17")
                (cs_shoot_point true "wraith_fire_points/p18")
                (cs_shoot_point true "wraith_fire_points/p19")
                (cs_shoot_point true "wraith_fire_points/p20")
                (cs_shoot_point true "wraith_fire_points/p21")
                (cs_shoot_point true "wraith_fire_points/p22")
                (cs_shoot_point true "wraith_fire_points/p23")
                (cs_shoot_point true "wraith_fire_points/p24")
            )
            false
        )
    )
)

(script command_script void wraith_b_shoot_point
    (cs_enable_pathfinding_failsafe true)
    (cs_enable_moving true)
    (ai_vitality_pinned "cell_13_wraith_b")
    (cs_go_to "wraith_fire_points/p17" 1)
    (set b_cell13_wraith_seen true)
    (units_set_current_vitality (ai_actors "cell_13_wraith_b") 1 0)
    (units_set_maximum_vitality (ai_actors "cell_13_wraith_b") 1 0)
    (sleep_until 
        (begin
            (begin_random
                (cs_shoot_point true "wraith_fire_points/p0")
                (cs_shoot_point true "wraith_fire_points/p1")
                (cs_shoot_point true "wraith_fire_points/p2")
                (cs_shoot_point true "wraith_fire_points/p3")
                (cs_shoot_point true "wraith_fire_points/p4")
                (cs_shoot_point true "wraith_fire_points/p5")
                (cs_shoot_point true "wraith_fire_points/p6")
                (cs_shoot_point true "wraith_fire_points/p7")
                (cs_shoot_point true "wraith_fire_points/p8")
                (cs_shoot_point true "wraith_fire_points/p9")
                (cs_shoot_point true "wraith_fire_points/p10")
                (cs_shoot_point true "wraith_fire_points/p11")
                (cs_shoot_point true "wraith_fire_points/p12")
                (cs_shoot_point true "wraith_fire_points/p13")
                (cs_shoot_point true "wraith_fire_points/p14")
                (cs_shoot_point true "wraith_fire_points/p15")
            )
            false
        )
    )
)

(script command_script void cs_end_phantom_path_1
    (cs_enable_pathfinding_failsafe true)
    (set v_end_phantom_1 (ai_vehicle_get_from_spawn_point "cell_13_phantom_1/pilot_dropship"))
    (sleep 1)
    (f_load_phantom v_end_phantom_1 "dual" "cell_13_squad_1a" "cell_13_squad_1b" "cell_13_squad_1c" "cell_13_squad_1d")
    (cs_vehicle_speed 1)
    (cs_vehicle_boost true)
    (cs_fly_to "end_phantom_path_1/p0" 5)
    (cs_vehicle_boost false)
    (set end_phantom_spotted true)
    (cs_fly_to "end_phantom_path_1/p1" 2)
    (cs_fly_to "end_phantom_path_1/p2" 2)
    (cs_vehicle_speed 0.4)
    (cs_fly_to_and_face "end_phantom_path_1/drop" "end_phantom_path_1/face" 1)
    (sleep 30)
    (vehicle_hover v_end_phantom_1 true)
    (f_unload_phantom v_end_phantom_1 "dual")
    (set end_phantom_spotted false)
    (sleep 150)
    (vehicle_hover v_end_phantom_1 false)
    (cs_vehicle_speed 1)
    (cs_fly_to "end_phantom_path_1/p3" 2)
    (cs_fly_to "end_phantom_path_1/p4" 2)
    (cs_fly_to "end_phantom_path_1/p5" 2)
    (cs_vehicle_boost true)
    (cs_fly_by "end_phantom_path_1/p6")
    (ai_erase ai_current_squad)
)

(script dormant void end_phantom_path_1_hack
    (sleep 10)
    (object_teleport_to_ai_point v_end_phantom_1 "end_phantom_path_1/drop")
    (vehicle_hover v_end_phantom_1 true)
    (sleep 120)
    (f_unload_phantom v_end_phantom_1 "dual")
    (sleep 120)
    (vehicle_hover v_end_phantom_1 false)
    (ai_erase "cell_13_phantom_1")
)

(script command_script void cs_end_phantom_path_2
    (cs_enable_pathfinding_failsafe true)
    (set v_end_phantom_2 (ai_vehicle_get_from_spawn_point "cell_13_phantom_2/pilot_dropship"))
    (sleep 1)
    (f_load_phantom v_end_phantom_2 "dual" "cell_13_squad_2a" "cell_13_squad_2b" "cell_13_squad_2c" "cell_13_squad_2d")
    (cs_vehicle_speed 1)
    (cs_vehicle_boost true)
    (cs_fly_to "end_phantom_path_2/p0" 5)
    (cs_vehicle_boost false)
    (cs_fly_to "end_phantom_path_2/p1" 4)
    (set end_phantom_spotted true)
    (cs_fly_to "end_phantom_path_2/p2" 2)
    (cs_vehicle_speed 0.4)
    (cs_fly_to_and_face "end_phantom_path_2/drop" "end_phantom_path_2/face" 1)
    (sleep 30)
    (set end_phantom_spotted false)
    (vehicle_hover v_end_phantom_2 true)
    (f_unload_phantom v_end_phantom_2 "dual")
    (sleep 150)
    (vehicle_hover v_end_phantom_2 false)
    (cs_vehicle_speed 1)
    (cs_fly_to "end_phantom_path_2/p3" 2)
    (cs_fly_to "end_phantom_path_2/p4" 2)
    (cs_fly_to "end_phantom_path_2/p5" 2)
    (cs_vehicle_boost true)
    (cs_fly_by "end_phantom_path_2/p6")
    (ai_erase ai_current_squad)
)

(script dormant void end_phantom_path_2_hack
    (sleep 10)
    (object_teleport_to_ai_point v_end_phantom_2 "end_phantom_path_2/drop")
    (vehicle_hover v_end_phantom_2 true)
    (sleep 120)
    (f_unload_phantom v_end_phantom_2 "dual")
    (sleep 120)
    (vehicle_hover v_end_phantom_2 false)
    (ai_erase "cell_13_phantom_2")
)

(script command_script void cs_end_phantom_path_3
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 1)
    (cs_vehicle_boost true)
    (set v_end_phantom_3 (ai_vehicle_get_from_spawn_point "cell_13_phantom_3/pilot_dropship"))
    (sleep 1)
    (f_load_phantom v_end_phantom_3 "dual" "cell_13_squad_3a" "cell_13_squad_3b" "cell_13_squad_3c" "cell_13_squad_3d")
    (cs_fly_to "end_phantom_path_3/p0" 5)
    (cs_vehicle_boost false)
    (cs_fly_to "end_phantom_path_3/p1" 2)
    (set end_phantom_spotted true)
    (cs_fly_to "end_phantom_path_3/p2" 2)
    (cs_vehicle_speed 0.4)
    (cs_fly_to_and_face "end_phantom_path_3/drop" "end_phantom_path_3/face" 1)
    (sleep 30)
    (set end_phantom_spotted false)
    (vehicle_hover v_end_phantom_3 true)
    (f_unload_phantom v_end_phantom_3 "dual")
    (sleep 150)
    (vehicle_hover v_end_phantom_3 false)
    (cs_vehicle_speed 1)
    (cs_fly_to "end_phantom_path_3/p3" 2)
    (cs_fly_to "end_phantom_path_3/p4" 2)
    (cs_fly_to "end_phantom_path_3/p5" 2)
    (cs_vehicle_boost true)
    (cs_fly_by "end_phantom_path_3/p6")
    (ai_erase ai_current_squad)
)

(script dormant void end_phantom_path_3_hack
    (sleep 10)
    (object_teleport_to_ai_point v_end_phantom_3 "end_phantom_path_3/drop")
    (vehicle_hover v_end_phantom_3 true)
    (sleep 120)
    (f_unload_phantom v_end_phantom_3 "dual")
    (sleep 120)
    (vehicle_hover v_end_phantom_3 false)
    (ai_erase "cell_13_phantom_3")
)

(script command_script void cs_end_phantom_path_hunter
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 1)
    (set v_end_phantom_hunter (ai_vehicle_get_from_spawn_point "cell_13_phantom_hunter/pilot_dropship"))
    (sleep 1)
    (f_load_phantom v_end_phantom_hunter "right" "cell_13_hunter_a" "cell_13_hunter_b" none none)
    (cs_fly_to "end_phantom_path_hunter/p0" 5)
    (cs_fly_to "end_phantom_path_hunter/p1" 2)
    (cs_fly_to "end_phantom_path_hunter/p2" 2)
    (cs_vehicle_speed 0.4)
    (cs_fly_to_and_face "end_phantom_path_hunter/drop" "end_phantom_path_hunter/face" 1)
    (sleep 30)
    (vehicle_hover v_end_phantom_hunter true)
    (f_unload_phantom v_end_phantom_hunter "right")
    (sleep 150)
    (vehicle_hover v_end_phantom_hunter false)
    (cs_vehicle_speed 1)
    (cs_fly_to "end_phantom_path_hunter/p3" 2)
    (cs_fly_to "end_phantom_path_hunter/p4" 2)
    (cs_fly_to "end_phantom_path_hunter/p5" 2)
    (cs_vehicle_boost true)
    (cs_fly_by "end_phantom_path_hunter/p6")
    (ai_erase ai_current_squad)
)

(script dormant void end_phantom_path_hunter_hack
    (sleep 60)
    (object_teleport_to_ai_point v_end_phantom_hunter "end_phantom_path_hunter/drop")
    (vehicle_hover v_end_phantom_hunter true)
    (sleep 120)
    (f_unload_phantom v_end_phantom_hunter "right")
    (sleep 120)
    (vehicle_hover v_end_phantom_hunter false)
    (ai_erase "cell_13_phantom_hunter")
)

(script command_script void cs_odst_phantom
    (cs_enable_pathfinding_failsafe true)
    (cs_enable_targeting true)
    (cs_vehicle_speed 1)
    (cs_vehicle_boost true)
    (cs_fly_to "odst_phantom_points/p0" 5)
    (cs_vehicle_boost false)
    (cs_vehicle_speed 0.5)
    (cs_fly_to_and_face "odst_phantom_points/p1" "odst_phantom_points/p7")
    (sleep 60)
    (cs_vehicle_speed 0.5)
    (wake md_13_phantom_arrives)
    (sleep_until 
        (begin
            (cs_fly_by "odst_phantom_points/p6" 2)
            (cs_fly_by "odst_phantom_points/p5" 2)
            (and (<= (ai_living_count "cell_13_wraith_a") 0) (<= (ai_living_count "cell_13_wraith_b") 0))
        )
        5
        450
    )
    (object_destroy "cell_13_wraith_a/pilot")
    (object_destroy "cell_13_wraith_b/pilot")
    (cs_fly_to_and_face "odst_phantom_points/p5" "odst_phantom_points/p2")
    (cs_fly_to_and_face "odst_phantom_points/p2" "odst_phantom_points/p3")
    (cs_fly_to_and_face "odst_phantom_points/p3" "odst_phantom_points/p4")
    (wake md_13_end_prompt)
    (cs_vehicle_speed 0.4)
    (sleep 90)
    (vehicle_hover "odst_phantom" true)
    (object_set_phantom_power "odst_phantom" true)
    (set s_waypoint_index 19)
    (sleep_until (volume_test_players "phantom_pickup_vol") 5)
    (if dialog_engineer_alive
        (begin
            (print "start end cinematic")
            (wake highway_end)
        )
    )
)

(script command_script void cs_abort
    (sleep 1)
)

(script command_script void olifaunt_run01
    (sleep_until (or (unit_in_vehicle (unit (player0))) (unit_in_vehicle (unit (player1))) (unit_in_vehicle (unit (player2))) (unit_in_vehicle (unit (player3)))) 5 1600)
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 0.75)
    (object_set_phantom_power obj_olifaunt true)
    (cs_ignore_obstacles true)
    (f_time_out m_dist "olifaunt01/p0")
    (cs_move_towards_point "olifaunt01/p0" 1)
    (f_time_out m_dist "olifaunt01/p1")
    (cs_move_towards_point "olifaunt01/p1" 2)
    (f_time_out m_dist "olifaunt01/p2")
    (cs_move_towards_point "olifaunt01/p2" 2)
    (f_time_out m_dist "olifaunt01/p3")
    (cs_move_towards_point "olifaunt01/p3" 2)
    (wake md_01_dare_start)
    (f_time_out m_dist "olifaunt01/p4")
    (cs_move_towards_point "olifaunt01/p4" 3)
    (f_time_out m_dist "olifaunt01/p5")
    (cs_move_towards_point "olifaunt01/p5" 2)
    (f_time_out m_dist "olifaunt01/p6")
    (cs_move_towards_point "olifaunt01/p6" 1)
    (f_time_out m_dist "olifaunt01/p7")
    (cs_move_towards_point "olifaunt01/p7" 1)
    (f_time_out m_dist "olifaunt01/p8")
    (cs_move_towards_point "olifaunt01/p8" 1)
    (f_time_out m_dist "olifaunt01/p9")
    (cs_move_towards_point "olifaunt01/p9" 2)
    (f_time_out m_dist "olifaunt01/p10")
    (cs_move_towards_point "olifaunt01/p10" 3)
    (f_time_out m_dist "olifaunt01/p11")
    (cs_move_towards_point "olifaunt01/p11" 1)
    (f_time_out m_dist "olifaunt01/p12")
    (cs_move_towards_point "olifaunt01/p12" 1)
    (f_time_out m_dist "olifaunt01/p13")
    (cs_move_towards_point "olifaunt01/p13" 1)
    (f_time_out m_dist "olifaunt01/p14")
    (cs_move_towards_point "olifaunt01/p14" 1)
    (f_time_out m_dist "olifaunt01/p15")
    (cs_move_towards_point "olifaunt01/p15" 1)
    (wake md_01_doors)
    (sleep_until (= cell01_door_open true) 5 300)
    (device_set_position "highway_door_00" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_00") 1) 5)
    (f_time_out m_dist "olifaunt01/p16")
    (object_set_phantom_power obj_olifaunt true)
    (cs_move_towards_point "olifaunt01/p16" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_03") 1) 5)
)

(script command_script void olifaunt_run02
    (sleep_until (= (device_get_position "highway_door_03") 1) 5)
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 0.75)
    (object_set_phantom_power obj_olifaunt true)
    (cs_ignore_obstacles true)
    (f_time_out m_dist "olifaunt02/p0")
    (cs_move_towards_point "olifaunt02/p0" 2)
    (f_time_out m_dist "olifaunt02/p1")
    (cs_move_towards_point "olifaunt02/p1" 2)
    (f_time_out m_dist "olifaunt02/p2")
    (cs_move_towards_point "olifaunt02/p2" 2)
    (object_set_shield_stun obj_olifaunt 0)
    (effect_new_on_object_marker "objects\vehicles\olifaunt\fx\shield\shield_recharge" obj_olifaunt "")
    (object_set_shield_normalized obj_olifaunt 4)
    (wake md_02_shields)
    (wake olifaunt_intensity)
    (wake olifaunt_save)
    (f_time_out m_dist "olifaunt02/p3")
    (cs_move_towards_point "olifaunt02/p3" 2)
    (f_time_out m_dist "olifaunt02/p4")
    (cs_move_towards_point "olifaunt02/p4" 2)
    (f_time_out m_dist "olifaunt02/p5")
    (cs_move_towards_point "olifaunt02/p5" 2)
    (f_time_out m_dist "olifaunt02/p6")
    (cs_move_towards_point "olifaunt02/p6" 3)
    (f_time_out m_dist "olifaunt02/p7")
    (cs_move_towards_point "olifaunt02/p7" 3)
    (f_time_out m_dist "olifaunt02/p8")
    (cs_move_towards_point "olifaunt02/p8" 3)
    (f_time_out m_dist "olifaunt02/p9")
    (cs_move_towards_point "olifaunt02/p9" 2)
    (f_time_out m_dist "olifaunt02/p10")
    (cs_move_towards_point "olifaunt02/p10" 2)
    (cs_vehicle_speed 0.45)
    (f_time_out m_dist "olifaunt02/p11")
    (cs_move_towards_point "olifaunt02/p11" 2)
    (cs_vehicle_speed 0.75)
    (device_set_position "highway_door_04" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_04") 1) 5)
    (wake md_02_damage)
    (f_time_out m_dist "olifaunt02/p12")
    (object_set_phantom_power obj_olifaunt true)
    (cs_move_towards_point "olifaunt02/p12" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_05") 1) 5)
)

(script command_script void olifaunt_run03
    (sleep_until (= (device_get_position "highway_door_05") 1) 5)
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 0.75)
    (object_set_phantom_power obj_olifaunt true)
    (cs_ignore_obstacles true)
    (f_time_out l_dist "olifaunt03/p0")
    (cs_move_towards_point "olifaunt03/p0" 2)
    (f_time_out m_dist "olifaunt03/p1")
    (cs_move_towards_point "olifaunt03/p1" 2)
    (f_time_out m_dist "olifaunt03/p2")
    (cs_move_towards_point "olifaunt03/p2" 1)
    (f_time_out m_dist "olifaunt03/p3")
    (cs_move_towards_point "olifaunt03/p3" 1)
    (f_time_out m_dist "olifaunt03/p4")
    (cs_move_towards_point "olifaunt03/p4" 2)
    (f_time_out m_dist "olifaunt03/p5")
    (cs_move_towards_point "olifaunt03/p5" 2)
    (f_time_out m_dist "olifaunt03/p6")
    (cs_move_towards_point "olifaunt03/p6" 2)
    (f_time_out m_dist "olifaunt03/p7")
    (cs_move_towards_point "olifaunt03/p7" 2)
    (f_time_out m_dist "olifaunt03/p8")
    (cs_move_towards_point "olifaunt03/p8" 2)
    (cs_vehicle_speed 0.45)
    (f_time_out m_dist "olifaunt03/p9")
    (cs_move_towards_point "olifaunt03/p9" 2)
    (device_set_position "highway_door_06" 1)
    (f_time_out_stop)
    (ai_place "cell3_bugger01")
    (ai_place "cell3_bugger02")
    (ai_place "cell3_bugger03")
    (ai_place "cell3_bugger04")
    (sleep_until (= (device_get_position "highway_door_06") 1) 5)
    (cs_vehicle_speed 0.75)
    (f_time_out m_dist "olifaunt03/p10")
    (object_set_phantom_power obj_olifaunt true)
    (cs_move_towards_point "olifaunt03/p10" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_07") 1) 5)
)

(script command_script void olifaunt_run04
    (sleep_until (= (device_get_position "highway_door_07") 1) 5)
    (sleep 1)
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 0.75)
    (object_set_phantom_power obj_olifaunt true)
    (cs_ignore_obstacles true)
    (f_time_out m_dist "olifaunt04/p0")
    (cs_move_towards_point "olifaunt04/p0" 2)
    (f_time_out m_dist "olifaunt04/p1")
    (cs_move_towards_point "olifaunt04/p1" 2)
    (f_time_out m_dist "olifaunt04/p2")
    (cs_move_towards_point "olifaunt04/p2" 2)
    (f_time_out m_dist "olifaunt04/p3")
    (cs_move_towards_point "olifaunt04/p3" 2)
    (f_time_out l_dist "olifaunt04/p4")
    (cs_move_towards_point "olifaunt04/p4" 2)
    (f_time_out l_dist "olifaunt04/p5")
    (cs_move_towards_point "olifaunt04/p5" 2)
    (f_time_out l_dist "olifaunt04/p6")
    (cs_move_towards_point "olifaunt04/p6" 2)
    (cs_vehicle_speed 0.45)
    (f_time_out s_dist "olifaunt04/p7")
    (cs_move_towards_point "olifaunt04/p7" 2)
    (device_set_position "highway_door_08" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_08") 1) 5)
    (cs_vehicle_speed 0.75)
    (f_time_out m_dist "olifaunt04/p8")
    (object_set_phantom_power obj_olifaunt true)
    (cs_move_towards_point "olifaunt04/p8" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_09") 1) 5)
)

(script command_script void olifaunt_run05
    (sleep_until (= (device_get_position "highway_door_09") 1) 5)
    (sleep 1)
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 0.75)
    (object_set_phantom_power obj_olifaunt true)
    (cs_ignore_obstacles true)
    (f_time_out m_dist "olifaunt05/p0")
    (cs_move_towards_point "olifaunt05/p0" 2)
    (f_time_out m_dist "olifaunt05/p1")
    (cs_move_towards_point "olifaunt05/p1" 2)
    (f_time_out m_dist "olifaunt05/p2")
    (cs_move_towards_point "olifaunt05/p2" 2)
    (f_time_out s_dist "olifaunt05/p3")
    (cs_move_towards_point "olifaunt05/p3" 2)
    (f_time_out m_dist "olifaunt05/p4")
    (cs_move_towards_point "olifaunt05/p4" 2)
    (f_time_out m_dist "olifaunt05/p5")
    (cs_move_towards_point "olifaunt05/p5" 2)
    (f_time_out m_dist "olifaunt05/p6")
    (cs_move_towards_point "olifaunt05/p6" 2)
    (f_time_out m_dist "olifaunt05/p7")
    (cs_move_towards_point "olifaunt05/p7" 2)
    (cs_vehicle_speed 0.45)
    (f_time_out m_dist "olifaunt05/p8")
    (cs_move_towards_point "olifaunt05/p8" 2)
    (f_time_out_stop)
    (device_set_position "highway_door_10" 1)
    (sleep_until (= (device_get_position "highway_door_10") 1) 5)
    (cs_vehicle_speed 0.75)
    (f_time_out m_dist "olifaunt05/p9")
    (object_set_phantom_power obj_olifaunt true)
    (cs_move_towards_point "olifaunt05/p9" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_11") 1) 5)
)

(script command_script void olifaunt_run06
    (sleep_until (= (device_get_position "highway_door_11") 1) 5)
    (sleep 1)
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 0.75)
    (object_set_phantom_power obj_olifaunt true)
    (cs_ignore_obstacles true)
    (f_time_out m_dist "olifaunt06/p0")
    (cs_move_towards_point "olifaunt06/p0" 2)
    (f_time_out m_dist "olifaunt06/p1")
    (cs_move_towards_point "olifaunt06/p1" 2)
    (f_time_out m_dist "olifaunt06/p2")
    (cs_move_towards_point "olifaunt06/p2" 2)
    (f_time_out m_dist "olifaunt06/p3")
    (cs_move_towards_point "olifaunt06/p3" 2)
    (f_time_out m_dist "olifaunt06/p4")
    (cs_move_towards_point "olifaunt06/p4" 2)
    (f_time_out m_dist "olifaunt06/p5")
    (cs_move_towards_point "olifaunt06/p5" 2)
    (f_time_out m_dist "olifaunt06/p6")
    (cs_move_towards_point "olifaunt06/p6" 2)
    (f_time_out m_dist "olifaunt06/p7")
    (cs_move_towards_point "olifaunt06/p7" 2)
    (f_time_out m_dist "olifaunt06/p8")
    (cs_move_towards_point "olifaunt06/p8" 2)
    (f_time_out m_dist "olifaunt06/p9")
    (cs_move_towards_point "olifaunt06/p9" 2)
    (f_time_out m_dist "olifaunt06/p10")
    (cs_move_towards_point "olifaunt06/p10" 2)
    (f_time_out m_dist "olifaunt06/p11")
    (cs_move_towards_point "olifaunt06/p11" 2)
    (f_time_out m_dist "olifaunt06/p12")
    (cs_move_towards_point "olifaunt06/p12" 2)
    (cs_vehicle_speed 0.45)
    (f_time_out m_dist "olifaunt06/p13")
    (cs_move_towards_point "olifaunt06/p13" 2)
    (f_time_out_stop)
    (device_set_position "highway_door_13" 1)
    (sleep_until (= (device_get_position "highway_door_13") 1) 5)
    (cs_vehicle_speed 0.75)
    (f_time_out m_dist "olifaunt06/p14")
    (object_set_phantom_power obj_olifaunt true)
    (cs_move_towards_point "olifaunt06/p14" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_12") 1) 5)
)

(script command_script void olifaunt_run07
    (sleep_until (= (device_get_position "highway_door_12") 1) 5)
    (sleep 1)
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 0.75)
    (object_set_phantom_power obj_olifaunt true)
    (cs_ignore_obstacles true)
    (f_time_out m_dist "olifaunt07/p0")
    (cs_move_towards_point "olifaunt07/p0" 2)
    (f_time_out s_dist "olifaunt07/p1")
    (cs_move_towards_point "olifaunt07/p1" 2)
    (f_time_out s_dist "olifaunt07/p2")
    (cs_move_towards_point "olifaunt07/p2" 2)
    (f_time_out m_dist "olifaunt07/p3")
    (cs_move_towards_point "olifaunt07/p3" 2)
    (f_time_out m_dist "olifaunt07/p4")
    (cs_move_towards_point "olifaunt07/p4" 2)
    (f_time_out s_dist "olifaunt07/p5")
    (cs_move_towards_point "olifaunt07/p5" 2)
    (f_time_out s_dist "olifaunt07/p6")
    (cs_move_towards_point "olifaunt07/p6" 2)
    (f_time_out m_dist "olifaunt07/p7")
    (cs_move_towards_point "olifaunt07/p7" 2)
    (f_time_out m_dist "olifaunt07/p8")
    (cs_move_towards_point "olifaunt07/p8" 2)
    (f_time_out m_dist "olifaunt07/p9")
    (cs_move_towards_point "olifaunt07/p9" 2)
    (f_time_out m_dist "olifaunt07/p10")
    (cs_move_towards_point "olifaunt07/p10" 2)
    (f_time_out m_dist "olifaunt07/p11")
    (cs_vehicle_speed 0.45)
    (cs_move_towards_point "olifaunt07/p11" 2)
    (device_set_position "highway_door_14" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_14") 1) 5)
    (cs_vehicle_speed 0.75)
    (f_time_out m_dist "olifaunt07/p12")
    (object_set_phantom_power obj_olifaunt true)
    (cs_move_towards_point "olifaunt07/p12" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_15") 1) 5)
)

(script command_script void olifaunt_run08
    (sleep_until (= (device_get_position "highway_door_15") 1) 5)
    (sleep 1)
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 0.75)
    (object_set_phantom_power obj_olifaunt true)
    (cs_ignore_obstacles true)
    (f_time_out m_dist "olifaunt08/p0")
    (cs_move_towards_point "olifaunt08/p0" 2)
    (f_time_out m_dist "olifaunt08/p1")
    (cs_move_towards_point "olifaunt08/p1" 2)
    (f_time_out m_dist "olifaunt08/p2")
    (cs_move_towards_point "olifaunt08/p2" 2)
    (f_time_out m_dist "olifaunt08/p3")
    (cs_move_towards_point "olifaunt08/p3" 2)
    (f_time_out m_dist "olifaunt08/p4")
    (cs_move_towards_point "olifaunt08/p4" 2)
    (f_time_out s_dist "olifaunt08/p5")
    (cs_move_towards_point "olifaunt08/p5" 2)
    (f_time_out m_dist "olifaunt08/p6")
    (cs_move_towards_point "olifaunt08/p6" 2)
    (f_time_out m_dist "olifaunt08/p7")
    (cs_move_towards_point "olifaunt08/p7" 1)
    (f_time_out m_dist "olifaunt08/p8")
    (cs_move_towards_point "olifaunt08/p8" 1)
    (f_time_out m_dist "olifaunt08/p9")
    (cs_move_towards_point "olifaunt08/p9" 1)
    (f_time_out m_dist "olifaunt08/p10")
    (cs_move_towards_point "olifaunt08/p10" 1)
    (f_time_out m_dist "olifaunt08/p11")
    (cs_move_towards_point "olifaunt08/p11" 2)
    (f_time_out m_dist "olifaunt08/p12")
    (cs_move_towards_point "olifaunt08/p12" 2)
    (f_time_out m_dist "olifaunt08/p13")
    (cs_move_towards_point "olifaunt08/p13" 2)
    (f_time_out l_dist "olifaunt08/p14")
    (cs_move_towards_point "olifaunt08/p14" 2)
    (cs_vehicle_speed 0.45)
    (cs_move_towards_point "olifaunt08/p15" 2)
    (device_set_position "highway_door_16" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_16") 1) 5)
    (cs_vehicle_speed 0.75)
    (f_time_out m_dist "olifaunt08/p16")
    (object_set_phantom_power obj_olifaunt true)
    (cs_move_towards_point "olifaunt08/p16" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_17") 1) 5)
)

(script command_script void olifaunt_run09
    (sleep_until (= (device_get_position "highway_door_17") 1) 5)
    (sleep 1)
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 0.75)
    (object_set_phantom_power obj_olifaunt true)
    (cs_ignore_obstacles true)
    (f_time_out m_dist "olifaunt09/p0")
    (cs_move_towards_point "olifaunt09/p0" 2)
    (f_time_out m_dist "olifaunt09/p1")
    (cs_move_towards_point "olifaunt09/p1" 2)
    (f_time_out m_dist "olifaunt09/p2")
    (cs_move_towards_point "olifaunt09/p2" 2)
    (f_time_out m_dist "olifaunt09/p3")
    (cs_move_towards_point "olifaunt09/p3" 2)
    (f_time_out m_dist "olifaunt09/p4")
    (cs_move_towards_point "olifaunt09/p4" 2)
    (f_time_out m_dist "olifaunt09/p5")
    (cs_move_towards_point "olifaunt09/p5" 2)
    (f_time_out m_dist "olifaunt09/p6")
    (cs_move_towards_point "olifaunt09/p6" 2)
    (f_time_out s_dist "olifaunt09/p7")
    (cs_move_towards_point "olifaunt09/p7" 2)
    (f_time_out m_dist "olifaunt09/p8")
    (cs_move_towards_point "olifaunt09/p8" 2)
    (f_time_out m_dist "olifaunt09/p9")
    (cs_move_towards_point "olifaunt09/p9" 2)
    (f_time_out m_dist "olifaunt09/p10")
    (cs_move_towards_point "olifaunt09/p10" 3)
    (cs_vehicle_speed 0.45)
    (f_time_out m_dist "olifaunt09/p11")
    (cs_move_towards_point "olifaunt09/p11" 2)
    (device_set_position "highway_door_18" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_18") 1) 5)
    (cs_vehicle_speed 0.75)
    (object_set_phantom_power obj_olifaunt true)
    (cs_move_towards_point "olifaunt09/p12" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_19") 1) 5)
)

(script command_script void olifaunt_run10
    (sleep_until (= (device_get_position "highway_door_19") 1) 5)
    (sleep 1)
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 0.75)
    (object_set_phantom_power obj_olifaunt true)
    (cs_ignore_obstacles true)
    (f_time_out l_dist "olifaunt10/p0")
    (cs_move_towards_point "olifaunt10/p0" 2)
    (f_time_out m_dist "olifaunt10/p1")
    (cs_move_towards_point "olifaunt10/p1" 2)
    (f_time_out m_dist "olifaunt10/p2")
    (cs_move_towards_point "olifaunt10/p2" 2)
    (f_time_out m_dist "olifaunt10/p3")
    (cs_move_towards_point "olifaunt10/p3" 2)
    (f_time_out m_dist "olifaunt10/p4")
    (cs_move_towards_point "olifaunt10/p4" 2)
    (f_time_out m_dist "olifaunt10/p5")
    (cs_move_towards_point "olifaunt10/p5" 2)
    (f_time_out m_dist "olifaunt10/p6")
    (cs_move_towards_point "olifaunt10/p6" 2)
    (f_time_out m_dist "olifaunt10/p7")
    (cs_move_towards_point "olifaunt10/p7" 2)
    (f_time_out l_dist "olifaunt10/p8")
    (cs_move_towards_point "olifaunt10/p8" 2)
    (f_time_out m_dist "olifaunt10/p9")
    (cs_move_towards_point "olifaunt10/p9" 2)
    (f_time_out m_dist "olifaunt10/p10")
    (cs_move_towards_point "olifaunt10/p10" 2)
    (f_time_out m_dist "olifaunt10/p11")
    (cs_move_towards_point "olifaunt10/p11" 2)
    (f_time_out s_dist "olifaunt10/p12")
    (cs_vehicle_speed 0.45)
    (cs_move_towards_point "olifaunt10/p12" 2)
    (device_set_position "highway_door_20" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_20") 1) 5)
    (cs_vehicle_speed 0.75)
    (f_time_out m_dist "olifaunt10/p13")
    (object_set_phantom_power obj_olifaunt true)
    (cs_move_towards_point "olifaunt10/p13" 2)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_21") 1) 5)
)

(script command_script void olifaunt_run11
    (sleep_until (= (device_get_position "highway_door_21") 1) 5)
    (sleep 1)
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 0.75)
    (object_set_phantom_power obj_olifaunt true)
    (cs_ignore_obstacles true)
    (f_time_out m_dist "olifaunt11/p0")
    (cs_move_towards_point "olifaunt11/p0" 2)
    (f_time_out m_dist "olifaunt11/p1")
    (cs_move_towards_point "olifaunt11/p1" 2)
    (f_time_out m_dist "olifaunt11/p2")
    (cs_move_towards_point "olifaunt11/p2" 2)
    (f_time_out m_dist "olifaunt11/p3")
    (cs_move_towards_point "olifaunt11/p3" 2)
    (f_time_out m_dist "olifaunt11/p4")
    (cs_move_towards_point "olifaunt11/p4" 2)
    (f_time_out m_dist "olifaunt11/p5")
    (cs_move_towards_point "olifaunt11/p5" 2)
    (f_time_out m_dist "olifaunt11/p6")
    (cs_move_towards_point "olifaunt11/p6" 2)
    (cs_vehicle_speed 0.45)
    (f_time_out l_dist "olifaunt11/p7")
    (cs_move_towards_point "olifaunt11/p7" 2)
    (device_set_position "highway_door_22" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_22") 1) 5)
    (cs_vehicle_speed 0.75)
    (f_time_out m_dist "olifaunt11/p8")
    (object_set_phantom_power obj_olifaunt true)
    (cs_move_towards_point "olifaunt11/p8" 2)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_23") 1) 5)
)

(script command_script void olifaunt_run12
    (sleep_until (= (device_get_position "highway_door_23") 1) 5)
    (sleep 1)
    (cs_enable_pathfinding_failsafe true)
    (cs_vehicle_speed 0.75)
    (object_set_phantom_power obj_olifaunt true)
    (cs_ignore_obstacles true)
    (f_time_out m_dist "olifaunt12/p0")
    (cs_move_towards_point "olifaunt12/p0" 2)
    (f_time_out m_dist "olifaunt12/p1")
    (cs_move_towards_point "olifaunt12/p1" 2)
    (f_time_out m_dist "olifaunt12/p2")
    (cs_move_towards_point "olifaunt12/p2" 1)
    (f_time_out m_dist "olifaunt12/p3")
    (wake scarab_walker_ai)
    (cs_move_towards_point "olifaunt12/p3" 2)
    (f_time_out s_dist "olifaunt12/p4")
    (cs_move_towards_point "olifaunt12/p4" 2)
    (set scarab_see_bool true)
    (f_time_out m_dist "olifaunt12/p5")
    (cs_move_towards_point "olifaunt12/p5" 2)
    (f_time_out l_dist "olifaunt12/p6")
    (cs_move_towards_point "olifaunt12/p6" 2)
    (f_time_out l_dist "olifaunt12/p7")
    (cs_move_towards_point "olifaunt12/p7" 2)
    (set scarab_fire_bool true)
    (cs_vehicle_speed 0.35)
    (f_time_out l_dist "olifaunt12/p8")
    (cs_move_towards_point "olifaunt12/p8" 2)
    (set scarab_fire_bool false)
    (device_set_position "highway_door_24" 1)
    (f_time_out_stop)
    (sleep_until (= (device_get_position "highway_door_24") 1) 5)
    (f_time_out m_dist "olifaunt12/p9")
    (object_set_phantom_power obj_olifaunt true)
    (cs_move_towards_point "olifaunt12/p9" 2)
    (f_time_out_stop)
    (sleep_until (volume_test_players "enc_cell13_vol") 5)
    (device_set_position "highway_door_25" 1)
    (sleep_until (= (device_get_position "highway_door_25") 1) 5)
    (wake md_12_end)
    (f_time_out m_dist "olifaunt12/p10")
    (cs_move_towards_point "olifaunt12/p10" 2)
    (f_time_out l_dist "olifaunt12/p11")
    (cs_vehicle_speed 0.45)
    (cs_move_towards_point "olifaunt12/p11" 1)
    (f_time_out_stop)
    (sleep_until (or (>= g_cell13_obj_control 25) (volume_test_players "underpass_highway_vol01")) 5)
    (f_time_out m_dist "olifaunt12/p12")
    (cs_move_towards_point "olifaunt12/p12" 1)
    (f_time_out m_dist "olifaunt12/p13")
    (cs_move_towards_point "olifaunt12/p13" 1)
    (f_time_out l_dist "olifaunt12/p14")
    (cs_move_towards_point "olifaunt12/p14" 1)
    (f_time_out_stop)
)

(script dormant void olifaunt_intensity
    (sleep_until 
        (begin
            (set g_shield_current (object_get_shield obj_olifaunt))
            (set g_shield_current (- 1 g_shield_current))
            (object_set_shield_effect obj_olifaunt g_shield_current 0)
            false
        )
        1
    )
)

(script dormant void damage_olifaunt
    (ai_cannot_die ai_olifaunt true)
    (sleep_forever olifaunt_save)
    (sleep_forever olifaunt_intensity)
    (sleep 90)
    (sleep_forever md_02_damage)
    (object_set_shield obj_olifaunt 0)
    (object_set_shield_stun_infinite obj_olifaunt)
    (wake damage_olifaunt_permutation)
    (effect_new_on_object_marker "objects\vehicles\olifaunt\fx\destruction\trans_hull_damaged" obj_olifaunt "")
)

(script dormant void damage_olifaunt_permutation
    (sleep_until 
        (begin
            (object_set_permutation obj_olifaunt "hull" "major")
            (>= g_cell13_obj_control 20)
        )
        1
    )
)

(script static void (f_time_out (short total_time, point_reference current_point))
    (set g_running_time 0)
    (set g_time_out total_time)
    (set g_point current_point)
    (set g_restart true)
)

(script static void f_time_out_stop
    (object_set_phantom_power obj_olifaunt false)
    (set g_restart false)
    (set g_reset true)
    (print "stop the timer")
)

(script dormant void olifaunt_nanny
    (print "idling.........")
    (sleep_until 
        (begin
            (sleep_until (= g_restart true) 1)
            (set g_restart false)
            (sleep_until 
                (begin
                    (sleep 30)
                    (print "running....")
                    (set g_running_time (+ g_running_time 1))
                    (or (= g_reset true) (>= g_running_time g_time_out))
                )
                1
            )
            (if (= g_reset true)
                (begin
                    (print "olifaunt timer being reset")
                    (set g_reset false)
                )
                (begin
                    (print "teleport olifaunt to previous point")
                    (object_teleport_to_ai_point obj_olifaunt g_point)
                )
            )
            (set g_running_time 0)
            false
        )
    )
)

(script dormant void engineer_health
    (set g_minor false)
    (set g_major false)
    (set g_critical false)
    (sleep_until 
        (begin
            (if (and (> (object_get_shield obj_engineer) 0.99) (or (= g_minor true) (= g_major true) (= g_critical true)))
                (begin
                    (set g_minor false)
                    (set g_major false)
                    (set g_critical false)
                    (print "healing delay")
                )
                (if (and (<= (object_get_shield obj_engineer) 0.99) (> (object_get_shield obj_engineer) 0.75) (= g_minor false) (= g_major false) (= g_critical false) (= g_objective false))
                    (begin
                        (cinematic_set_chud_objective "engineer_damage_minor")
                        (print "engineer needs food!")
                        (set g_minor true)
                    )
                    (if (and (<= (object_get_shield obj_engineer) 0.75) (> (object_get_shield obj_engineer) 0.25) (= g_major false) (= g_critical false) (= g_objective false))
                        (begin
                            (cinematic_set_chud_objective "engineer_damage_major")
                            (print "engineer needs food badly!")
                            (set g_major true)
                            (set g_random_number (random_range 0 4))
                            (if (and (= dialog_engineer_alive true) (= dialog_playing false))
                                (begin
                                    (set dialog_playing true)
                                    (set g_random_number (random_range 0 4))
                                    (if (= g_random_number 0)
                                        (sleep (ai_play_line ai_buck l300_1401))
                                        (if (= g_random_number 1)
                                            (sleep (ai_play_line ai_buck l300_1402))
                                            (if (= g_random_number 2)
                                                (sleep (ai_play_line ai_dare l300_1403))
                                                (if (= g_random_number 3)
                                                    (sleep (ai_play_line ai_dare l300_1403))
                                                )
                                            )
                                        )
                                    )
                                    (set dialog_playing false)
                                )
                            )
                        )
                        (if (and (<= (object_get_shield obj_engineer) 0.25) (> (object_get_shield obj_engineer) 0.01) (= g_critical false) (= g_objective false))
                            (begin
                                (cinematic_set_chud_objective "engineer_damage_critical")
                                (print "engineer about to die!")
                                (set g_critical true)
                                (sleep 120)
                            )
                        )
                    )
                )
            )
            false
        )
        5
    )
)

(script dormant void engineer_health_end
    (set g_minor false)
    (set g_major false)
    (set g_critical false)
    (sleep_until 
        (begin
            (if (and (> (object_get_shield obj_engineer) 0.99) (or (= g_minor true) (= g_major true) (= g_critical true)))
                (begin
                    (set g_minor false)
                    (set g_major false)
                    (set g_critical false)
                    (print "healing delay")
                )
                (if (and (<= (object_get_shield obj_engineer) 0.99) (> (object_get_shield obj_engineer) 0.75) (= g_minor false) (= g_major false) (= g_critical false) (= g_objective false))
                    (begin
                        (cinematic_set_chud_objective "engineer_damage_minor")
                        (print "engineer needs food!")
                        (set g_minor true)
                    )
                    (if (and (<= (object_get_shield obj_engineer) 0.75) (> (object_get_shield obj_engineer) 0.25) (= g_major false) (= g_critical false) (= g_objective false))
                        (begin
                            (cinematic_set_chud_objective "engineer_damage_major")
                            (print "engineer needs food badly!")
                            (set g_major true)
                            (if (and (= dialog_engineer_alive true) (= dialog_playing false))
                                (begin
                                    (set dialog_playing true)
                                    (set g_random_number (random_range 0 4))
                                    (if (= g_random_number 0)
                                        (sleep (ai_play_line ai_buck l300_1401))
                                        (if (= g_random_number 1)
                                            (sleep (ai_play_line ai_buck l300_1402))
                                            (if (= g_random_number 2)
                                                (sleep (ai_play_line ai_dare l300_1403))
                                                (if (= g_random_number 3)
                                                    (sleep (ai_play_line ai_dare l300_1403))
                                                )
                                            )
                                        )
                                    )
                                    (set dialog_playing false)
                                )
                            )
                        )
                        (if (and (<= (object_get_shield obj_engineer) 0.25) (> (object_get_shield obj_engineer) 0.01) (= g_critical false) (= g_objective false))
                            (begin
                                (cinematic_set_chud_objective "engineer_damage_critical")
                                (print "engineer about to die!")
                                (set g_critical true)
                            )
                        )
                    )
                )
            )
            false
        )
        5
    )
)

(script dormant void engineer_save
    (sleep_until 
        (begin
            (if (<= (object_get_shield obj_engineer) 0.3)
                (begin
                    (print "engineer saving cancelled")
                    (game_save_cancel)
                )
            )
            false
        )
        30
    )
)

(script dormant void engineer_save_end
    (sleep_until 
        (begin
            (if (<= (object_get_shield obj_engineer) 0.3)
                (begin
                    (print "engineer_end saving cancelled")
                    (game_save_cancel)
                )
            )
            false
        )
        30
    )
)

(script dormant void olifaunt_save
    (sleep_until 
        (begin
            (if (<= (object_get_shield obj_olifaunt) 0.1)
                (begin
                    (print "olifaunt saving cancelled")
                    (game_save_cancel)
                )
            )
            false
        )
        30
    )
)

(script dormant void engineer_fail
    (wake engineer_health)
    (wake engineer_save)
    (sleep_until (<= (object_get_health obj_engineer) 0) 1)
    (sleep_until (= dialog_playing false) 5)
    (print "engineer_fail!")
    (set dialog_engineer_alive false)
    (set dialog_playing true)
    (cinematic_set_chud_objective "engineer_dead")
    (set g_random_number (random_range 0 3))
    (if (= g_random_number 0)
        (sleep (ai_play_line ai_dare l300_1405))
        (if (= g_random_number 1)
            (sleep (ai_play_line ai_dare l300_1406))
            (if (= g_random_number 2)
                (sleep (ai_play_line ai_dare l300_1407))
            )
        )
    )
    (game_lost true)
)

(script dormant void engineer_fail_end
    (wake engineer_health_end)
    (wake engineer_save_end)
    (sleep_until (<= (object_get_health obj_engineer) 0) 1)
    (sleep_until (= dialog_playing false) 5)
    (print "engineer_fail_end!")
    (set dialog_engineer_alive false)
    (set dialog_playing true)
    (cinematic_set_chud_objective "engineer_dead")
    (set g_random_number (random_range 0 3))
    (if (= g_random_number 0)
        (sleep (ai_play_line ai_dare l300_1405))
        (if (= g_random_number 1)
            (sleep (ai_play_line ai_dare l300_1406))
            (if (= g_random_number 2)
                (sleep (ai_play_line ai_dare l300_1407))
            )
        )
    )
    (game_lost true)
)

(script dormant void olifaunt_fail
    (sleep_until (<= (object_get_health obj_olifaunt) 0) 1)
    (ai_kill ai_olifaunt)
    (sleep_until (= dialog_playing false) 5)
    (print "olifaunt_fail!")
    (set dialog_engineer_alive false)
    (set dialog_playing true)
    (cinematic_set_chud_objective "engineer_dead")
    (set g_random_number (random_range 0 2))
    (if (= g_random_number 0)
        (sleep (ai_play_line_on_object none l300_0645))
        (if (= g_random_number 1)
            (sleep (ai_play_line_on_object none l300_0646))
        )
    )
    (game_lost true)
)

(script static void (check_loc (object actor, trigger_volume close_vol, trigger_volume far_vol, cutscene_flag c_flag))
    (if (and (>= (object_get_health actor) 0) (volume_test_objects far_vol actor) (not (unit_in_vehicle (unit actor))))
        (effect_new "objects\characters\masterchief\fx\coop_teleport.effect" c_flag)
        (object_teleport actor c_flag)
        (if (and (>= (object_get_health actor) 0) (not (volume_test_objects close_vol actor)) (not (volume_test_objects far_vol actor)))
            (effect_new "objects\characters\masterchief\fx\coop_teleport.effect" c_flag)
            (object_teleport actor c_flag)
        )
    )
)

(script dormant void brokeback_for_realz
    (sleep_until (and (= (game_difficulty_get) legendary) (= (game_coop_player_count) 4)) 5)
    (ai_cannot_die "sq_olifaunt" true)
    (sleep_until (volume_test_players "cell01_oc_30_vol") 5)
    (ai_cannot_die "sq_olifaunt" false)
    (if (= g_vidmaster true)
        (begin
            (object_create "vm_mongoose01")
            (object_create "vm_mongoose02")
            (object_cannot_die "vm_mongoose01" true)
            (object_cannot_die "vm_mongoose02" true)
            (object_create "vm_rocks01")
            (object_create "vm_rocks02")
            (object_create "vm_rocks03")
            (object_create "vm_rocks04")
            (ai_vehicle_reserve_seat "vm_mongoose01" 35 true)
            (ai_vehicle_reserve_seat "vm_mongoose02" 35 true)
            (sleep_until (volume_test_players "vidmaster_mongooses") 5)
            (sound_looping_start "levels\atlas\l300\music\l300_music025" none 1)
        )
    )
)

(script dormant void vidmaster_challenge
    (sleep_until (or (player_in_vehicle v_warthog) (player_in_vehicle v_gausshog) (player_in_vehicle v_scorpion) (player_in_vehicle v_coop)) 5)
    (print "vidmaster fail")
    (set g_vidmaster false)
)

(script dormant void vidmaster_challenge_cell1
    (if (= g_vidmaster true)
        (begin
            (sleep_until (or (<= (unit_get_health "cell01_troophog") 0) (player_in_vehicle "cell01_troophog")) 5)
            (if (> (unit_get_health "cell01_troophog") 0)
                (set g_vidmaster false)
            )
        )
    )
)

(script dormant void vidmaster_challenge_cell2
    (if (= g_vidmaster true)
        (begin
            (sleep_until (or (<= (unit_get_health "cell02_troophog") 0) (player_in_vehicle "cell02_troophog")) 5)
            (if (> (unit_get_health "cell02_troophog") 0)
                (set g_vidmaster false)
            )
        )
    )
)

(script dormant void vidmaster_challenge_cell3
    (if (= g_vidmaster true)
        (begin
            (sleep_until (or (<= (unit_get_health "cell03_troophog") 0) (player_in_vehicle "cell03_troophog")) 5)
            (if (> (unit_get_health "cell03_troophog") 0)
                (set g_vidmaster false)
            )
        )
    )
)

(script dormant void vidmaster_challenge_cell4
    (if (= g_vidmaster true)
        (begin
            (sleep_until (or (<= (unit_get_health "cell04_warthog") 0) (player_in_vehicle "cell04_warthog")) 5)
            (if (> (unit_get_health "cell04_warthog") 0)
                (set g_vidmaster false)
            )
        )
    )
)

(script dormant void vidmaster_challenge_cell5
    (if (= g_vidmaster true)
        (begin
            (sleep_until (or (<= (unit_get_health "cell05_warthog") 0) (player_in_vehicle "cell05_warthog")) 5)
            (if (> (unit_get_health "cell05_warthog") 0)
                (set g_vidmaster false)
            )
        )
    )
)

(script dormant void vidmaster_challenge_cell6
    (if (= g_vidmaster true)
        (begin
            (sleep_until (or (<= (unit_get_health "cell06_gauss") 0) (<= (unit_get_health "cell06_gauss_01") 0) (player_in_vehicle "cell06_gauss") (player_in_vehicle "cell06_gauss_01")) 5)
            (if (or (> (unit_get_health "cell06_gauss") 0) (> (unit_get_health "cell06_gauss_01") 0))
                (set g_vidmaster false)
            )
        )
    )
)

(script dormant void vidmaster_challenge_cell7
    (if (= g_vidmaster true)
        (begin
            (sleep_until (or (<= (unit_get_health "cell07_troophog") 0) (<= (unit_get_health "cell07_warthog") 0) (player_in_vehicle "cell07_troophog") (player_in_vehicle "cell07_warthog")) 5)
            (if (or (> (unit_get_health "cell07_warthog") 0) (> (unit_get_health "cell07_troophog") 0))
                (set g_vidmaster false)
            )
        )
    )
)

(script dormant void vidmaster_challenge_cell8
    (if (= g_vidmaster true)
        (begin
            (sleep_until (or (<= (unit_get_health "cell08_scorpion") 0) (player_in_vehicle "cell08_scorpion")) 5)
            (if (> (unit_get_health "cell08_scorpion") 0)
                (set g_vidmaster false)
            )
        )
    )
)

(script dormant void vidmaster_challenge_cell9
    (if (= g_vidmaster true)
        (begin
            (sleep_until (or (<= (unit_get_health "cell09_gauss") 0) (<= (unit_get_health "cell09_warthog") 0) (player_in_vehicle "cell09_gauss") (player_in_vehicle "cell09_warthog")) 5)
            (if (or (> (unit_get_health "cell09_gauss") 0) (> (unit_get_health "cell09_warthog") 0))
                (set g_vidmaster false)
            )
        )
    )
)

(script dormant void vidmaster_challenge_cell10
    (if (= g_vidmaster true)
        (begin
            (sleep_until (or (<= (unit_get_health "cell10_warthog") 0) (player_in_vehicle "cell10_warthog")) 5)
            (if (> (unit_get_health "cell10_warthog") 0)
                (set g_vidmaster false)
            )
        )
    )
)

(script dormant void vidmaster_challenge_cell11
    (if (= g_vidmaster true)
        (begin
            (sleep_until (or (<= (unit_get_health "cell11_troophog") 0) (player_in_vehicle "cell11_troophog")) 5)
            (if (> (unit_get_health "cell11_troophog") 0)
                (set g_vidmaster false)
            )
        )
    )
)

(script dormant void vidmaster_challenge_cell12
    (if (= g_vidmaster true)
        (begin
            (sleep_until (or (<= (unit_get_health "cell12_troophog") 0) (player_in_vehicle "cell12_troophog")) 5)
            (if (> (unit_get_health "cell12_troophog") 0)
                (set g_vidmaster false)
            )
        )
    )
)

(script dormant void player0_l00_waypoints
    (l300_waypoints player_00)
)

(script dormant void player1_l00_waypoints
    (l300_waypoints player_01)
)

(script dormant void player2_l00_waypoints
    (l300_waypoints player_02)
)

(script dormant void player3_l00_waypoints
    (l300_waypoints player_03)
)

(script static void (l300_waypoints (short player_name))
    (sleep_until 
        (begin
            (f_sleep_until_activate_waypoint player_name)
            (if (= s_waypoint_index 1)
                (f_waypoint_activate_1 player_name "hub01_navpoint")
                (if (= s_waypoint_index 2)
                    (f_waypoint_activate_1 player_name "hub02_navpoint")
                    (if (= s_waypoint_index 3)
                        (f_waypoint_activate_1 player_name "hub03_navpoint")
                        (if (= s_waypoint_index 4)
                            (f_waypoint_activate_1 player_name "hub04_navpoint")
                            (if (= s_waypoint_index 5)
                                (f_waypoint_activate_1 player_name "cell02_navpoint")
                                (if (= s_waypoint_index 6)
                                    (f_waypoint_activate_1 player_name "cell03_navpoint")
                                    (if (= s_waypoint_index 7)
                                        (f_waypoint_activate_1 player_name "cell04_navpoint")
                                        (if (= s_waypoint_index 8)
                                            (f_waypoint_activate_1 player_name "cell05_navpoint")
                                            (if (= s_waypoint_index 9)
                                                (f_waypoint_activate_1 player_name "cell06_navpoint")
                                                (if (= s_waypoint_index 10)
                                                    (f_waypoint_activate_1 player_name "cell07_navpoint")
                                                    (if (= s_waypoint_index 11)
                                                        (f_waypoint_activate_1 player_name "cell08_navpoint")
                                                        (if (= s_waypoint_index 12)
                                                            (f_waypoint_activate_1 player_name "cell09_navpoint")
                                                            (if (= s_waypoint_index 13)
                                                                (f_waypoint_activate_1 player_name "cell10_navpoint")
                                                                (if (= s_waypoint_index 14)
                                                                    (f_waypoint_activate_1 player_name "cell11_navpoint")
                                                                    (if (= s_waypoint_index 15)
                                                                        (f_waypoint_activate_1 player_name "cell12_navpoint")
                                                                        (if (= s_waypoint_index 16)
                                                                            (f_waypoint_activate_1 player_name "cell13_navpoint")
                                                                            (if (= s_waypoint_index 17)
                                                                                (f_waypoint_activate_1 player_name "end00_navpoint")
                                                                                (if (= s_waypoint_index 18)
                                                                                    (f_waypoint_activate_1 player_name "end01_navpoint")
                                                                                    (if (= s_waypoint_index 19)
                                                                                        (f_waypoint_activate_1 player_name "end02_navpoint")
                                                                                    )
                                                                                )
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            )
            false
        )
        1
    )
)

(script dormant void hub01_navpoint_active
    (sleep (* 30 120))
    (hud_activate_team_nav_point_flag player "hub01_navpoint" g_nav_offset)
)

(script dormant void hub01_navpoint_deactive
    (sleep_until (or (>= g_intro_obj_control 20) (<= (objects_distance_to_flag (players) "hub01_navpoint") 1)) 1)
    (sleep_forever hub01_navpoint_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "hub01_navpoint")
    (wake hub02_navpoint_active)
    (wake hub02_navpoint_deactive)
)

(script dormant void hub02_navpoint_active
    (sleep (* 30 120))
    (hud_activate_team_nav_point_flag player "hub02_navpoint" g_nav_offset)
)

(script dormant void hub02_navpoint_deactive
    (sleep_until (or (>= g_intro_obj_control 60) (<= (objects_distance_to_flag (players) "hub02_navpoint") 1)) 1)
    (sleep_forever hub02_navpoint_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "hub02_navpoint")
    (wake hub03_navpoint_active)
    (wake hub03_navpoint_deactive)
)

(script dormant void hub03_navpoint_active
    (sleep (* 30 120))
    (hud_activate_team_nav_point_flag player "hub03_navpoint" g_nav_offset)
)

(script dormant void hub03_navpoint_deactive
    (sleep_until (or (>= g_intro_obj_control 90) (<= (objects_distance_to_flag (players) "hub03_navpoint") 1)) 1)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "hub03_navpoint")
)

(script dormant void end01_navpoint_active
    (sleep (* 30 90))
    (hud_activate_team_nav_point_flag player "end01_navpoint" g_nav_offset)
)

(script dormant void end01_navpoint_deactive
    (sleep_until (or (>= g_cell13_obj_control 50) (<= (objects_distance_to_flag (players) "end01_navpoint") 1)) 1)
    (sleep_forever end01_navpoint_deactive)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "end01_navpoint")
)

(script dormant void end02_navpoint_active
    (sleep (* 30 120))
    (hud_activate_team_nav_point_flag player "end02_navpoint" g_nav_offset)
)

(script dormant void end02_navpoint_deactive
    (sleep_forever end02_navpoint_active)
    (sleep 1)
    (hud_deactivate_team_nav_point_flag player "end02_navpoint")
)

(script dormant void vehicle_pointer
    (sleep_until (>= (current_zone_set) 1) 5)
    (sleep_until 
        (begin
            (if (= (current_zone_set) 1)
                (vehicle_pointer01)
            )
            (if (= (current_zone_set) 2)
                (begin
                    (vehicle_pointer01)
                    (vehicle_pointer02)
                )
            )
            (if (= (current_zone_set) 3)
                (vehicle_pointer02)
            )
            (if (= (current_zone_set) 4)
                (vehicle_pointer02)
            )
            (if (= (current_zone_set) 5)
                (vehicle_pointer03)
            )
            false
        )
        5
    )
)

(script static void vehicle_pointer01
    (if (or (and (>= (current_zone_set_fully_active) 1) (<= (current_zone_set_fully_active) 2)) (= (current_zone_set_fully_active) -1))
        (begin
            (if (or (<= (object_get_health "cell01_troophog") 0) (player_in_vehicle "cell01_troophog") (> (objects_distance_to_object (players) "cell01_troophog") 15))
                (chud_show_object_navpoint "cell01_troophog" "" false 0)
                (chud_show_object_navpoint "cell01_troophog" "" true 0.5)
            )
            (if (or (<= (object_get_health "cell02_troophog") 0) (player_in_vehicle "cell02_troophog") (> (objects_distance_to_object (players) "cell02_troophog") 15))
                (chud_show_object_navpoint "cell02_troophog" "" false 0)
                (chud_show_object_navpoint "cell02_troophog" "" true 0.5)
            )
            (if (or (<= (object_get_health "cell03_troophog") 0) (player_in_vehicle "cell03_troophog") (> (objects_distance_to_object (players) "cell03_troophog") 15))
                (chud_show_object_navpoint "cell03_troophog" "" false 0)
                (chud_show_object_navpoint "cell03_troophog" "" true 0.5)
            )
            (if (or (<= (object_get_health "cell04_warthog") 0) (player_in_vehicle "cell04_warthog") (> (objects_distance_to_object (players) "cell04_warthog") 15))
                (chud_show_object_navpoint "cell04_warthog" "" false 0)
                (chud_show_object_navpoint "cell04_warthog" "" true 0.5)
            )
        )
    )
)

(script static void vehicle_pointer02
    (if (or (and (>= (current_zone_set_fully_active) 2) (<= (current_zone_set_fully_active) 4)) (= (current_zone_set_fully_active) -1))
        (begin
            (if (or (<= (object_get_health "cell05_warthog") 0) (player_in_vehicle "cell05_warthog") (> (objects_distance_to_object (players) "cell05_warthog") 15))
                (chud_show_object_navpoint "cell05_warthog" "" false 0)
                (chud_show_object_navpoint "cell05_warthog" "" true 0.5)
            )
            (if (or (<= (object_get_health "cell06_gauss_01") 0) (player_in_vehicle "cell06_gauss_01") (> (objects_distance_to_object (players) "cell06_gauss_01") 15))
                (chud_show_object_navpoint "cell06_gauss_01" "" false 0)
                (chud_show_object_navpoint "cell06_gauss_01" "" true 0.5)
            )
            (if (or (<= (object_get_health "cell06_gauss") 0) (player_in_vehicle "cell06_gauss") (> (objects_distance_to_object (players) "cell06_gauss") 15))
                (chud_show_object_navpoint "cell06_gauss" "" false 0)
                (chud_show_object_navpoint "cell06_gauss" "" true 0.5)
            )
            (if (or (<= (object_get_health "cell07_troophog") 0) (player_in_vehicle "cell07_troophog") (> (objects_distance_to_object (players) "cell07_troophog") 15))
                (chud_show_object_navpoint "cell07_troophog" "" false 0)
                (chud_show_object_navpoint "cell07_troophog" "" true 0.5)
            )
            (if (or (<= (object_get_health "cell07_warthog") 0) (player_in_vehicle "cell07_warthog") (> (objects_distance_to_object (players) "cell07_warthog") 15))
                (chud_show_object_navpoint "cell07_warthog" "" false 0)
                (chud_show_object_navpoint "cell07_warthog" "" true 0.5)
            )
            (if (or (<= (object_get_health "cell08_scorpion") 0) (player_in_vehicle "cell08_scorpion") (> (objects_distance_to_object (players) "cell08_scorpion") 15))
                (chud_show_object_navpoint "cell08_scorpion" "" false 0)
                (chud_show_object_navpoint "cell08_scorpion" "" true 0.5)
            )
            (if (or (<= (object_get_health "cell09_gauss") 0) (player_in_vehicle "cell09_gauss") (> (objects_distance_to_object (players) "cell09_gauss") 15))
                (chud_show_object_navpoint "cell09_gauss" "" false 0)
                (chud_show_object_navpoint "cell09_gauss" "" true 0.5)
            )
            (if (or (<= (object_get_health "cell09_warthog") 0) (player_in_vehicle "cell09_warthog") (> (objects_distance_to_object (players) "cell09_warthog") 15))
                (chud_show_object_navpoint "cell09_warthog" "" false 0)
                (chud_show_object_navpoint "cell09_warthog" "" true 0.5)
            )
        )
    )
)

(script static void vehicle_pointer03
    (if (or (and (>= (current_zone_set_fully_active) 4) (<= (current_zone_set_fully_active) 5)) (= (current_zone_set_fully_active) -1))
        (begin
            (if (or (<= (object_get_health "cell10_warthog") 0) (player_in_vehicle "cell10_warthog") (> (objects_distance_to_object (players) "cell10_warthog") 15))
                (chud_show_object_navpoint "cell10_warthog" "" false 0)
                (chud_show_object_navpoint "cell10_warthog" "" true 0.5)
            )
            (if (or (<= (object_get_health "cell11_troophog") 0) (player_in_vehicle "cell11_troophog") (> (objects_distance_to_object (players) "cell11_troophog") 15))
                (chud_show_object_navpoint "cell11_troophog" "" false 0)
                (chud_show_object_navpoint "cell11_troophog" "" true 0.5)
            )
            (if (or (<= (object_get_health "cell12_troophog") 0) (player_in_vehicle "cell12_troophog") (> (objects_distance_to_object (players) "cell12_troophog") 15))
                (chud_show_object_navpoint "cell12_troophog" "" false 0)
                (chud_show_object_navpoint "cell12_troophog" "" true 0.5)
            )
        )
    )
)

(script static void vehicle_pointeroff
    (if (= (current_zone_set) 1)
        (begin
            (chud_show_object_navpoint "cell01_troophog" "" false 0)
            (chud_show_object_navpoint "cell02_troophog" "" false 0)
            (chud_show_object_navpoint "cell03_troophog" "" false 0)
            (chud_show_object_navpoint "cell04_warthog" "" false 0)
        )
    )
    (if (= (current_zone_set) 2)
        (begin
            (chud_show_object_navpoint "cell01_troophog" "" false 0)
            (chud_show_object_navpoint "cell02_troophog" "" false 0)
            (chud_show_object_navpoint "cell03_troophog" "" false 0)
            (chud_show_object_navpoint "cell04_warthog" "" false 0)
            (chud_show_object_navpoint "cell05_warthog" "" false 0)
            (chud_show_object_navpoint "cell06_gauss_01" "" false 0)
            (chud_show_object_navpoint "cell06_gauss" "" false 0)
            (chud_show_object_navpoint "cell07_troophog" "" false 0)
            (chud_show_object_navpoint "cell07_warthog" "" false 0)
            (chud_show_object_navpoint "cell08_scorpion" "" false 0)
            (chud_show_object_navpoint "cell09_gauss" "" false 0)
            (chud_show_object_navpoint "cell09_warthog" "" false 0)
        )
    )
    (if (or (= (current_zone_set) 3) (= (current_zone_set) 4))
        (begin
            (chud_show_object_navpoint "cell05_warthog" "" false 0)
            (chud_show_object_navpoint "cell06_gauss_01" "" false 0)
            (chud_show_object_navpoint "cell06_gauss" "" false 0)
            (chud_show_object_navpoint "cell07_troophog" "" false 0)
            (chud_show_object_navpoint "cell07_warthog" "" false 0)
            (chud_show_object_navpoint "cell08_scorpion" "" false 0)
            (chud_show_object_navpoint "cell09_gauss" "" false 0)
            (chud_show_object_navpoint "cell09_warthog" "" false 0)
        )
    )
)

(script dormant void obj_elevator_set
    (set g_objective true)
    (sleep 30)
    (if debug
        (print "new objective set:")
    )
    (if debug
        (print "find elevator to highway.")
    )
    (f_new_intel "obj_new" "obj_1" 0 "null_flag")
    (set g_objective false)
)

(script dormant void obj_escort_set
    (set g_objective true)
    (sleep 30)
    (if debug
        (print "new objective set:")
    )
    (if debug
        (print "escort and protect dare's vehicle.")
    )
    (f_new_intel "obj_new" "obj_2" 1 "null_flag")
    (set g_objective false)
)

(script dormant void obj_defend_set
    (sleep_until (= g_cell13_obj_control 50) 5)
    (set g_objective true)
    (sleep 30)
    (if debug
        (print "new objective set:")
    )
    (if debug
        (print "defend engineer until friendly phantom arrives.")
    )
    (f_new_intel "obj_new" "obj_3" 2 "null_flag")
    (set g_objective false)
)

(script dormant void obj_elevator_clear
    (sleep_until (volume_test_players "dare_in_elevator_vol") 5)
    (sleep 30)
    (if debug
        (print "objective complete:")
    )
    (if debug
        (print "find elevator to highway.")
    )
    (objectives_finish_up_to 0)
)

(script dormant void obj_escort_clear
    (sleep_until (volume_test_players "enc_cell13_vol") 5)
    (sleep 30)
    (if debug
        (print "objective complete:")
    )
    (if debug
        (print "escort and protect dare's vehicle.")
    )
    (objectives_finish_up_to 1)
)

(script dormant void obj_defend_clear
    (sleep 30)
    (if debug
        (print "objective complete:")
    )
    (if debug
        (print "defend engineer until friendly phantom arrives.")
    )
    (objectives_finish_up_to 2)
)

(script dormant void sc_l300_coop_resume
    (sleep_until (> g_cell01_obj_control 0) 1)
    (if (< g_cell01_obj_control 100)
        (begin
            (if debug
                (print "coop resume checkpoint 1")
            )
            (f_coop_resume_unlocked "coop_resume" 1)
        )
    )
    (sleep_until (> g_cell03_obj_control 0) 1)
    (if (< g_cell03_obj_control 100)
        (begin
            (if debug
                (print "coop resume checkpoint 2")
            )
            (f_coop_resume_unlocked "coop_resume" 2)
        )
    )
    (sleep_until (> g_cell05_obj_control 0) 1)
    (if (< g_cell05_obj_control 100)
        (begin
            (if debug
                (print "coop resume checkpoint 1")
            )
            (f_coop_resume_unlocked "coop_resume" 3)
        )
    )
    (sleep_until (> g_cell07_obj_control 0) 1)
    (if (< g_cell07_obj_control 100)
        (begin
            (if debug
                (print "coop resume checkpoint 2")
            )
            (f_coop_resume_unlocked "coop_resume" 4)
        )
    )
    (sleep_until (> g_cell09_obj_control 0) 1)
    (if (< g_cell09_obj_control 100)
        (begin
            (if debug
                (print "coop resume checkpoint 1")
            )
            (f_coop_resume_unlocked "coop_resume" 5)
        )
    )
    (sleep_until (> g_cell13_obj_control 25) 1)
    (if (< g_cell03_obj_control 100)
        (begin
            (if debug
                (print "coop resume checkpoint 2")
            )
            (f_coop_resume_unlocked "coop_resume" 6)
        )
    )
)

(script dormant void pda_doors
    (pda_activate_marker_named player "highway_door_01" "locked_45" true "locked_door")
)

(script static void test_all_doors_open
    (print "all doors open")
    (device_set_position_immediate "highway_door_00" 1)
    (device_set_position_immediate "highway_door_01" 1)
    (device_set_position_immediate "highway_door_02" 1)
    (device_set_position_immediate "highway_door_03" 1)
    (device_set_position_immediate "highway_door_04" 1)
    (device_set_position_immediate "highway_door_05" 1)
    (device_set_position_immediate "highway_door_06" 1)
    (device_set_position_immediate "highway_door_07" 1)
    (device_set_position_immediate "highway_door_08" 1)
    (device_set_position_immediate "highway_door_09" 1)
    (device_set_position_immediate "highway_door_10" 1)
    (device_set_position_immediate "highway_door_11" 1)
    (device_set_position_immediate "highway_door_12" 1)
    (device_set_position_immediate "highway_door_13" 1)
    (device_set_position_immediate "highway_door_14" 1)
    (device_set_position_immediate "highway_door_15" 1)
    (device_set_position_immediate "highway_door_16" 1)
    (device_set_position_immediate "highway_door_17" 1)
    (device_set_position_immediate "highway_door_18" 1)
    (device_set_position_immediate "highway_door_19" 1)
    (device_set_position_immediate "highway_door_20" 1)
    (device_set_position_immediate "highway_door_21" 1)
    (device_set_position_immediate "highway_door_22" 1)
    (device_set_position_immediate "highway_door_23" 1)
    (device_set_position_immediate "highway_door_24" 1)
    (device_set_position_immediate "highway_door_25" 1)
    (device_set_position_immediate "highway_door_26" 1)
    (device_set_position_immediate "highway_door_27" 1)
    (device_set_position_immediate "highway_door_28" 1)
)

(script dormant void l300_survival_mode
    (if (> (player_count) 0)
        (cinematic_snap_to_black)
    )
    (sleep 5)
    (switch_zone_set "set_survival")
    (pda_set_active_pda_definition "l300_survival")
    (set string_survival_map_name "l300")
    (set ai_obj_survival "obj_l300_survival")
    (set ai_initial_a_squad_01 "sq_sur_initial_a_01")
    (set ai_initial_a_squad_02 "sq_sur_initial_a_02")
    (set ai_initial_a_squad_03 "sq_sur_initial_a_03")
    (set ai_initial_a_squad_04 "sq_sur_initial_a_04")
    (set ai_initial_a_squad_05 "sq_sur_initial_a_05")
    (set ai_initial_a_squad_06 "sq_sur_initial_a_06")
    (set ai_initial_a_squad_07 "sq_sur_initial_a_07")
    (set ai_initial_a_squad_08 "sq_sur_initial_a_08")
    (set ai_initial_b_squad_01 "sq_sur_initial_b_01")
    (set ai_initial_b_squad_02 "sq_sur_initial_b_02")
    (set ai_initial_b_squad_03 "sq_sur_initial_b_03")
    (set ai_initial_b_squad_04 "sq_sur_initial_b_04")
    (set ai_initial_b_squad_05 "sq_sur_initial_b_05")
    (set ai_initial_b_squad_06 "sq_sur_initial_b_06")
    (set ai_initial_b_squad_07 "sq_sur_initial_b_07")
    (set ai_initial_b_squad_08 "sq_sur_initial_b_08")
    (set ai_wave_01_squad_01 "sq_sur_wave01_01")
    (set ai_wave_01_squad_02 "sq_sur_wave01_02")
    (set ai_wave_01_squad_03 "sq_sur_wave01_03")
    (set ai_wave_01_squad_04 "sq_sur_wave01_04")
    (set ai_wave_01_squad_05 "sq_sur_wave01_05")
    (set ai_wave_01_squad_06 "sq_sur_wave01_06")
    (set ai_wave_01_squad_07 "sq_sur_wave01_07")
    (set ai_wave_01_squad_08 "sq_sur_wave01_08")
    (set ai_wave_02_squad_01 "sq_sur_wave02_01")
    (set ai_wave_02_squad_02 "sq_sur_wave02_02")
    (set ai_wave_02_squad_03 "sq_sur_wave02_03")
    (set ai_wave_02_squad_04 "sq_sur_wave02_04")
    (set ai_wave_02_squad_05 "sq_sur_wave02_05")
    (set ai_wave_02_squad_06 "sq_sur_wave02_06")
    (set ai_wave_02_squad_07 "sq_sur_wave02_07")
    (set ai_wave_02_squad_08 "sq_sur_wave02_08")
    (set ai_wave_03_squad_01 "sq_sur_wave03_01")
    (set ai_wave_03_squad_02 "sq_sur_wave03_02")
    (set ai_wave_03_squad_03 "sq_sur_wave03_03")
    (set ai_wave_03_squad_04 "sq_sur_wave03_04")
    (set ai_wave_03_squad_05 "sq_sur_wave03_05")
    (set ai_wave_03_squad_06 "sq_sur_wave03_06")
    (set ai_wave_03_squad_07 "sq_sur_wave03_07")
    (set ai_wave_03_squad_08 "sq_sur_wave03_08")
    (set ai_wave_04_squad_01 "sq_sur_wave04_01")
    (set ai_wave_04_squad_02 "sq_sur_wave04_02")
    (set ai_wave_04_squad_03 "sq_sur_wave04_03")
    (set ai_wave_04_squad_04 "sq_sur_wave04_04")
    (set ai_wave_04_squad_05 "sq_sur_wave04_05")
    (set ai_wave_04_squad_06 "sq_sur_wave04_06")
    (set ai_wave_04_squad_07 "sq_sur_wave04_07")
    (set ai_wave_04_squad_08 "sq_sur_wave04_08")
    (set ai_wave_05_squad_01 "sq_sur_wave05_01")
    (set ai_wave_05_squad_02 "sq_sur_wave05_02")
    (set ai_wave_05_squad_03 "sq_sur_wave05_03")
    (set ai_wave_05_squad_04 "sq_sur_wave05_04")
    (set ai_wave_05_squad_05 "sq_sur_wave05_05")
    (set ai_wave_05_squad_06 "sq_sur_wave05_06")
    (set ai_wave_05_squad_07 "sq_sur_wave05_07")
    (set ai_wave_05_squad_08 "sq_sur_wave05_08")
    (set ai_wave_06_squad_01 "sq_sur_wave06_01")
    (set ai_wave_06_squad_02 "sq_sur_wave06_02")
    (set ai_wave_06_squad_03 "sq_sur_wave06_03")
    (set ai_wave_06_squad_04 "sq_sur_wave06_04")
    (set ai_wave_06_squad_05 "sq_sur_wave06_05")
    (set ai_wave_06_squad_06 "sq_sur_wave06_06")
    (set ai_wave_06_squad_07 "sq_sur_wave06_07")
    (set ai_wave_06_squad_08 "sq_sur_wave06_08")
    (set ai_wave_07_squad_01 "sq_sur_wave07_01")
    (set ai_wave_07_squad_02 "sq_sur_wave07_02")
    (set ai_wave_07_squad_03 "sq_sur_wave07_03")
    (set ai_wave_07_squad_04 "sq_sur_wave07_04")
    (set ai_wave_07_squad_05 "sq_sur_wave07_05")
    (set ai_wave_07_squad_06 "sq_sur_wave07_06")
    (set ai_wave_07_squad_07 "sq_sur_wave07_07")
    (set ai_wave_07_squad_08 "sq_sur_wave07_08")
    (set ai_wave_08_squad_01 "sq_sur_wave08_01")
    (set ai_wave_08_squad_02 "sq_sur_wave08_02")
    (set ai_wave_08_squad_03 "sq_sur_wave08_03")
    (set ai_wave_08_squad_04 "sq_sur_wave08_04")
    (set ai_wave_08_squad_05 "sq_sur_wave08_05")
    (set ai_wave_08_squad_06 "sq_sur_wave08_06")
    (set ai_wave_08_squad_07 "sq_sur_wave08_07")
    (set ai_wave_08_squad_08 "sq_sur_wave08_08")
    (set ai_wave_09_squad_01 "sq_sur_wave09_01")
    (set ai_wave_09_squad_02 "sq_sur_wave09_02")
    (set ai_wave_09_squad_03 "sq_sur_wave09_03")
    (set ai_wave_09_squad_04 "sq_sur_wave09_04")
    (set ai_wave_09_squad_05 "sq_sur_wave09_05")
    (set ai_wave_09_squad_06 "sq_sur_wave09_06")
    (set ai_wave_09_squad_07 "sq_sur_wave09_07")
    (set ai_wave_09_squad_08 "sq_sur_wave09_08")
    (set ai_wave_10_squad_01 "sq_sur_wave10_01")
    (set ai_wave_10_squad_02 "sq_sur_wave10_02")
    (set ai_wave_10_squad_03 "sq_sur_wave10_03")
    (set ai_wave_10_squad_04 "sq_sur_wave10_04")
    (set ai_wave_10_squad_05 "sq_sur_wave10_05")
    (set ai_wave_10_squad_06 "sq_sur_wave10_06")
    (set ai_wave_10_squad_07 "sq_sur_wave10_07")
    (set ai_wave_10_squad_08 "sq_sur_wave10_08")
    (set ai_wave_11_squad_01 "sq_sur_wave11_01")
    (set ai_wave_11_squad_02 "sq_sur_wave11_02")
    (set ai_wave_11_squad_03 "sq_sur_wave11_03")
    (set ai_wave_11_squad_04 "sq_sur_wave11_04")
    (set ai_wave_11_squad_05 "sq_sur_wave11_05")
    (set ai_wave_11_squad_06 "sq_sur_wave11_06")
    (set ai_wave_11_squad_07 "sq_sur_wave11_07")
    (set ai_wave_11_squad_08 "sq_sur_wave11_08")
    (set ai_wave_12_squad_01 "sq_sur_wave12_01")
    (set ai_wave_12_squad_02 "sq_sur_wave12_02")
    (set ai_wave_12_squad_03 "sq_sur_wave12_03")
    (set ai_wave_12_squad_04 "sq_sur_wave12_04")
    (set ai_wave_12_squad_05 "sq_sur_wave12_05")
    (set ai_wave_12_squad_06 "sq_sur_wave12_06")
    (set ai_wave_12_squad_07 "sq_sur_wave12_07")
    (set ai_wave_12_squad_08 "sq_sur_wave12_08")
    (set ai_wave_13_squad_01 "sq_sur_wave13_01")
    (set ai_wave_13_squad_02 "sq_sur_wave13_02")
    (set ai_wave_13_squad_03 "sq_sur_wave13_03")
    (set ai_wave_13_squad_04 "sq_sur_wave13_04")
    (set ai_wave_13_squad_05 "sq_sur_wave13_05")
    (set ai_wave_13_squad_06 "sq_sur_wave13_06")
    (set ai_wave_13_squad_07 "sq_sur_wave13_07")
    (set ai_wave_13_squad_08 "sq_sur_wave13_08")
    (set ai_wave_14_squad_01 "sq_sur_wave14_01")
    (set ai_wave_14_squad_02 "sq_sur_wave14_02")
    (set ai_wave_14_squad_03 "sq_sur_wave14_03")
    (set ai_wave_14_squad_04 "sq_sur_wave14_04")
    (set ai_wave_14_squad_05 "sq_sur_wave14_05")
    (set ai_wave_14_squad_06 "sq_sur_wave14_06")
    (set ai_wave_14_squad_07 "sq_sur_wave14_07")
    (set ai_wave_14_squad_08 "sq_sur_wave14_08")
    (set ai_wave_15_squad_01 "sq_sur_wave15_01")
    (set ai_wave_15_squad_02 "sq_sur_wave15_02")
    (set ai_wave_15_squad_03 "sq_sur_wave15_03")
    (set ai_wave_15_squad_04 "sq_sur_wave15_04")
    (set ai_wave_15_squad_05 "sq_sur_wave15_05")
    (set ai_wave_15_squad_06 "sq_sur_wave15_06")
    (set ai_wave_15_squad_07 "sq_sur_wave15_07")
    (set ai_wave_15_squad_08 "sq_sur_wave15_08")
    (set ai_final_a_squad_01 "sq_sur_final_a_01")
    (set ai_final_a_squad_02 "sq_sur_final_a_02")
    (set ai_final_a_squad_03 "sq_sur_final_a_03")
    (set ai_final_a_squad_04 "sq_sur_final_a_04")
    (set ai_final_a_squad_05 "sq_sur_final_a_05")
    (set ai_final_a_squad_06 "sq_sur_final_a_06")
    (set ai_final_a_squad_07 "sq_sur_final_a_07")
    (set ai_final_a_squad_08 "sq_sur_final_a_08")
    (set ai_final_b_squad_01 "sq_sur_final_b_01")
    (set ai_final_b_squad_02 "sq_sur_final_b_02")
    (set ai_final_b_squad_03 "sq_sur_final_b_03")
    (set ai_final_b_squad_04 "sq_sur_final_b_04")
    (set ai_final_b_squad_05 "sq_sur_final_b_05")
    (set ai_final_b_squad_06 "sq_sur_final_b_06")
    (set ai_final_b_squad_07 "sq_sur_final_b_07")
    (set ai_final_b_squad_08 "sq_sur_final_b_08")
    (set ai_sur_remaining "sq_sur_remaining")
    (set b_sur_bonus_round true)
    (set b_sur_bonus_phantom false)
    (set b_sur_bonus_ground true)
    (set ai_sur_bonus_phantom none)
    (set ai_bonus_squad_01 "sq_sur_bonus_round_01")
    (set ai_bonus_squad_02 "sq_sur_bonus_round_02")
    (set ai_bonus_squad_03 "sq_sur_bonus_round_03")
    (set ai_bonus_squad_04 "sq_sur_bonus_round_04")
    (set ai_bonus_squad_05 "sq_sur_bonus_round_05")
    (set ai_bonus_squad_06 "sq_sur_bonus_round_06")
    (set ai_bonus_squad_07 "sq_sur_bonus_round_07")
    (set ai_bonus_squad_08 "sq_sur_bonus_round_08")
    (set ai_sur_phantom_01 "sq_sur_phantom_01")
    (set ai_sur_phantom_02 "sq_sur_phantom_02")
    (set ai_sur_phantom_03 "sq_sur_phantom_03")
    (set ai_sur_phantom_04 none)
    (set s_sur_drop_side_01 "dual")
    (set s_sur_drop_side_02 "chute")
    (set s_sur_drop_side_03 "chute")
    (set s_sur_drop_side_04 "null")
    (wake survival_mode)
    (wake survival_extra_spawn)
    (sleep 5)
    (device_set_position_immediate "park_door01" 1)
    (device_set_position_immediate "park_door02" 1)
    (device_set_position_immediate "park_door03" 1)
    (device_set_position_immediate "park_door04" 1)
    (device_set_position_immediate "park_door05" 1)
    (device_set_position_immediate "park_door06" 1)
    (device_set_position_immediate "park_door07" 1)
    (device_set_position_immediate "park_door08" 1)
    (object_destroy_folder "bp_campaign")
    (object_destroy_folder "eq_campaign")
    (object_destroy_folder "wp_campaign")
    (object_destroy_folder "v_campaign")
    (object_create "survival_lift01")
    (object_create "survival_lift02")
    (object_create_folder "cr_survival_objects")
    (soft_ceiling_enable "all" false)
    (soft_ceiling_enable "survival" true)
    (soft_ceiling_enable "vehicle_only" false)
    (object_destroy_folder "sc_campaign")
    (object_destroy_folder "cell12_watch_tower")
    (kill_volume_enable "kill_survival01")
    (wake survival_kill_player)
)

(script static boolean center_gate_active
    (or (and survival_from_closets (= s_sur_wave_type 2)) (>= (ai_living_count "sq_sur_phantom_01") 1))
)

(script static boolean left_gate_active
    (or (and survival_from_closets (= s_sur_wave_type 2)) (>= (ai_living_count "sq_sur_phantom_02") 1))
)

(script static boolean right_gate_active
    (or (and survival_from_closets (= s_sur_wave_type 2)) (>= (ai_living_count "sq_sur_phantom_03") 1))
)

(script command_script void cs_sur_phantom_01
    (set v_sur_phantom_01 (ai_vehicle_get_from_spawn_point "sq_sur_phantom_01/phantom"))
    (cs_vehicle_boost true)
    (cs_fly_by "ps_sur_phantom_01/p0")
    (cs_fly_by "ps_sur_phantom_01/p1")
    (cs_vehicle_boost false)
    (cs_fly_by "ps_sur_phantom_01/p2")
    (cs_vehicle_speed 0.5)
    (cs_fly_to "ps_sur_phantom_01/p3")
    (cs_vehicle_speed 0.35)
    (cs_fly_to_and_face "ps_sur_phantom_01/p4" "ps_sur_phantom_01/p5")
    (cs_fly_to "ps_sur_phantom_01/drop" 3)
    (set b_load_in_phantom false)
    (f_unload_phantom v_sur_phantom_01 "dual")
    (cs_fly_to "ps_sur_phantom_01/p3")
    (cs_vehicle_speed 1)
    (cs_fly_by "ps_sur_phantom_01/p2")
    (cs_fly_by "ps_sur_phantom_01/p1")
    (cs_vehicle_boost true)
    (cs_fly_by "ps_sur_phantom_01/erase")
    (ai_erase ai_current_squad)
)

(script command_script void cs_sur_phantom_02
    (set v_sur_phantom_02 (ai_vehicle_get_from_spawn_point "sq_sur_phantom_02/phantom"))
    (cs_vehicle_boost true)
    (cs_fly_by "ps_sur_phantom_02/p0")
    (cs_fly_by "ps_sur_phantom_02/p1")
    (cs_vehicle_boost false)
    (cs_fly_by "ps_sur_phantom_02/p2")
    (cs_vehicle_speed 0.35)
    (set b_load_in_phantom false)
    (cs_fly_by "ps_sur_phantom_02/drop_01" 1)
    (object_set_phantom_power v_sur_phantom_02 true)
    (vehicle_unload v_sur_phantom_02 16)
    (cs_fly_by "ps_sur_phantom_02/drop_02" 1)
    (vehicle_unload v_sur_phantom_02 18)
    (cs_fly_by "ps_sur_phantom_02/drop_03" 1)
    (vehicle_unload v_sur_phantom_02 20)
    (cs_fly_by "ps_sur_phantom_02/drop_04" 1)
    (vehicle_unload v_sur_phantom_02 22)
    (object_set_phantom_power v_sur_phantom_02 false)
    (cs_fly_by "ps_sur_phantom_02/p7")
    (cs_vehicle_speed 1)
    (cs_fly_by "ps_sur_phantom_02/p8")
    (cs_fly_by "ps_sur_phantom_02/p1")
    (cs_vehicle_boost true)
    (cs_fly_by "ps_sur_phantom_02/erase")
    (ai_erase ai_current_squad)
)

(script command_script void cs_sur_phantom_03
    (set v_sur_phantom_03 (ai_vehicle_get_from_spawn_point "sq_sur_phantom_03/phantom"))
    (cs_vehicle_boost true)
    (cs_fly_by "ps_sur_phantom_03/p0")
    (cs_fly_by "ps_sur_phantom_03/p1")
    (cs_vehicle_boost false)
    (cs_fly_by "ps_sur_phantom_03/p2")
    (cs_vehicle_speed 0.35)
    (set b_load_in_phantom false)
    (cs_fly_by "ps_sur_phantom_03/drop_01" 1)
    (f_unload_phantom_cargo v_sur_phantom_03 "single")
    (object_set_phantom_power v_sur_phantom_03 true)
    (vehicle_unload v_sur_phantom_03 16)
    (cs_fly_by "ps_sur_phantom_03/drop_02" 1)
    (vehicle_unload v_sur_phantom_03 18)
    (cs_fly_by "ps_sur_phantom_03/drop_03" 1)
    (vehicle_unload v_sur_phantom_03 20)
    (cs_fly_by "ps_sur_phantom_03/drop_04" 1)
    (vehicle_unload v_sur_phantom_03 22)
    (object_set_phantom_power v_sur_phantom_03 false)
    (cs_fly_by "ps_sur_phantom_03/p7")
    (cs_vehicle_speed 1)
    (cs_fly_by "ps_sur_phantom_03/p8")
    (cs_fly_by "ps_sur_phantom_03/p1")
    (cs_vehicle_boost true)
    (cs_fly_by "ps_sur_phantom_03/erase")
    (ai_erase ai_current_squad)
)

(script command_script void cs_sur_bonus_phantom
    (set v_sur_bonus_phantom (ai_vehicle_get_from_spawn_point "sq_sur_bonus_phantom/phantom"))
    (set b_load_in_phantom true)
    (object_set_shadowless v_sur_bonus_phantom true)
    (cs_enable_pathfinding_failsafe true)
    (cs_fly_by "ps_sur_phantom_bonus/p0")
    (cs_fly_by "ps_sur_phantom_bonus/p1")
    (cs_fly_by "ps_sur_phantom_bonus/p2")
    (cs_fly_by "ps_sur_phantom_bonus/p3")
    (cs_fly_by "ps_sur_phantom_bonus/p4")
    (cs_vehicle_speed 0.75)
    (cs_fly_to_and_face "ps_sur_phantom_bonus/p5" "ps_sur_phantom_bonus/face" 1)
    (sleep 15)
    (cs_vehicle_speed 0.35)
    (cs_fly_to_and_face "ps_sur_phantom_bonus/drop" "ps_sur_phantom_bonus/face" 1)
    (unit_open v_sur_bonus_phantom)
    (sleep 15)
    (vehicle_hover "sq_sur_bonus_phantom" true)
    (set b_load_in_phantom false)
    (set b_sur_bonus_phantom_ready true)
    (f_unload_bonus_phantom v_sur_bonus_phantom)
    (sleep 150)
    (unit_close v_sur_bonus_phantom)
    (sleep_until b_sur_bonus_end)
    (vehicle_hover "sq_sur_bonus_phantom" false)
    (sleep 45)
    (cs_fly_to_and_face "ps_sur_phantom_bonus/p5" "ps_sur_phantom_bonus/face" 1)
    (cs_face true "ps_sur_phantom_bonus/face_exit")
    (sleep 15)
    (cs_vehicle_speed 0.75)
    (cs_face false "ps_sur_phantom_bonus/face_exit")
    (cs_vehicle_speed 1)
    (cs_fly_by "ps_sur_phantom_bonus/p1")
    (cs_vehicle_boost true)
    (cs_fly_by "ps_sur_phantom_bonus/erase" 10)
    (ai_erase ai_current_squad)
)

(script command_script void cs_bugger01_closet
    (cs_fly_by "ps_bugger_survival/p0")
    (cs_fly_by "ps_bugger_survival/p1")
    (cs_fly_by "ps_bugger_survival/p2")
)

(script command_script void cs_bugger02_closet
    (cs_fly_by "ps_bugger_survival/p3")
    (cs_fly_by "ps_bugger_survival/p4")
    (cs_fly_by "ps_bugger_survival/p5")
)

(script command_script void cs_bugger03_closet
    (cs_fly_by "ps_bugger_survival/p6")
    (cs_fly_by "ps_bugger_survival/p7")
    (cs_fly_by "ps_bugger_survival/p8")
)

(script command_script void cs_bugger04_closet
    (cs_fly_by "ps_bugger_survival/p9")
    (cs_fly_by "ps_bugger_survival/p10")
    (cs_fly_by "ps_bugger_survival/p11")
)

(script dormant void survival_extra_spawn
    (sleep_until 
        (begin
            (sleep (* 30 (random_range 120 180)))
            (if (<= (ai_living_count "gr_survival_extras") 1)
                (if (<= (object_get_health (ai_vehicle_get_from_spawn_point "survival_extra01/pilot")) 0)
                    (begin
                        (print "placing ghost01")
                        (ai_place "survival_extra01")
                    )
                    (if (<= (object_get_health (ai_vehicle_get_from_spawn_point "survival_extra02/pilot")) 0)
                        (begin
                            (print "placing ghost02")
                            (ai_place "survival_extra02")
                        )
                        (if (<= (object_get_health (ai_vehicle_get_from_spawn_point "survival_extra03/pilot")) 0)
                            (begin
                                (print "placing ghost3")
                                (ai_place "survival_extra03")
                            )
                            (if (<= (object_get_health (ai_vehicle_get_from_spawn_point "survival_extra04/pilot")) 0)
                                (begin
                                    (print "placing ghost04")
                                    (ai_place "survival_extra04")
                                )
                                (if (<= (object_get_health (ai_vehicle_get_from_spawn_point "survival_extra05/pilot")) 0)
                                    (begin
                                        (print "placing ghost05")
                                        (ai_place "survival_extra05")
                                    )
                                    (if (<= (object_get_health (ai_vehicle_get_from_spawn_point "survival_extra06/pilot")) 0)
                                        (begin
                                            (print "placing ghost06")
                                            (ai_place "survival_extra06")
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            )
            false
        )
        5
    )
)

(script static void survival_refresh_follow
    (survival_refresh_sleep)
    (ai_reset_objective "obj_l300_survival/infantry_chasin")
)

(script static void survival_hero_refresh_follow
    (survival_refresh_sleep)
    (survival_refresh_sleep)
    (ai_reset_objective "obj_l300_survival/hero_chasin")
)

(script static void survival_extra_reserve01
    (sleep_until (> (object_get_health (ai_vehicle_get_from_starting_location "survival_extra01/pilot")) 0) 5)
    (sleep_until (= (vehicle_test_seat "survival_extra01" 36) false) 5)
    (print "reserving ghost01")
    (ai_vehicle_reserve_seat (ai_vehicle_get_from_starting_location "survival_extra01/pilot") 36 true)
)

(script static void survival_extra_reserve02
    (sleep_until (> (object_get_health (ai_vehicle_get_from_starting_location "survival_extra02/pilot")) 0) 5)
    (sleep_until (= (vehicle_test_seat "survival_extra02" 36) false) 5)
    (print "reserving ghost02")
    (ai_vehicle_reserve_seat (ai_vehicle_get_from_starting_location "survival_extra02/pilot") 36 true)
)

(script static void survival_extra_reserve03
    (sleep_until (> (object_get_health (ai_vehicle_get_from_starting_location "survival_extra03/pilot")) 0) 5)
    (sleep_until (= (vehicle_test_seat "survival_extra03" 36) false) 5)
    (print "reserving ghost03")
    (ai_vehicle_reserve_seat (ai_vehicle_get_from_starting_location "survival_extra03/pilot") 36 true)
)

(script static void survival_extra_reserve04
    (sleep_until (> (object_get_health (ai_vehicle_get_from_starting_location "survival_extra04/pilot")) 0) 5)
    (sleep_until (= (vehicle_test_seat "survival_extra04" 36) false) 5)
    (print "reserving ghost04")
    (ai_vehicle_reserve_seat (ai_vehicle_get_from_starting_location "survival_extra04/pilot") 36 true)
)

(script static void survival_extra_reserve05
    (sleep_until (> (object_get_health (ai_vehicle_get_from_starting_location "survival_extra05/pilot")) 0) 5)
    (sleep_until (= (vehicle_test_seat "survival_extra05" 36) false) 5)
    (print "reserving ghost05")
    (ai_vehicle_reserve_seat (ai_vehicle_get_from_starting_location "survival_extra05/pilot") 36 true)
)

(script static void survival_extra_reserve06
    (sleep_until (> (object_get_health (ai_vehicle_get_from_starting_location "survival_extra06/pilot")) 0) 5)
    (sleep_until (= (vehicle_test_seat "survival_extra06" 36) false) 5)
    (print "reserving ghost06")
    (ai_vehicle_reserve_seat (ai_vehicle_get_from_starting_location "survival_extra06/pilot") 36 true)
)

(script dormant void sur_kill_vol_disable
    (kill_volume_disable "kill_sur_room_01")
    (kill_volume_disable "kill_sur_room_02")
    (kill_volume_disable "kill_sur_room_03")
    (kill_volume_disable "kill_sur_room_04")
    (kill_volume_disable "kill_sur_room_05")
    (kill_volume_disable "kill_sur_room_06")
    (kill_volume_disable "kill_sur_room_07")
    (kill_volume_disable "kill_sur_room_08")
    (kill_volume_disable "kill_survival01")
    (kill_volume_disable "kill_survival02")
    (kill_volume_disable "kill_survival03")
    (print "disabling kill_volumes")
)

(script dormant void survival_kill_player
    (sleep_until 
        (begin
            (sleep_until (or (volume_test_players "survival_player_kill_vol01") (volume_test_players "survival_player_kill_vol02") (volume_test_players "survival_player_kill_vol03") (volume_test_players "survival_player_kill_vol04") (volume_test_players "survival_player_kill_vol05") (volume_test_players "survival_player_kill_vol06") (volume_test_players "survival_player_kill_vol07")) 5)
            (if (volume_test_object "survival_player_kill_vol01" (player0))
                (unit_kill (unit (player0)))
                (if (volume_test_object "survival_player_kill_vol01" (player1))
                    (unit_kill (unit (player1)))
                    (if (volume_test_object "survival_player_kill_vol01" (player2))
                        (unit_kill (unit (player2)))
                        (if (volume_test_object "survival_player_kill_vol01" (player3))
                            (unit_kill (unit (player3)))
                            (if (volume_test_object "survival_player_kill_vol02" (player0))
                                (unit_kill (unit (player0)))
                                (if (volume_test_object "survival_player_kill_vol02" (player1))
                                    (unit_kill (unit (player1)))
                                    (if (volume_test_object "survival_player_kill_vol02" (player2))
                                        (unit_kill (unit (player2)))
                                        (if (volume_test_object "survival_player_kill_vol02" (player3))
                                            (unit_kill (unit (player3)))
                                            (if (volume_test_object "survival_player_kill_vol03" (player0))
                                                (unit_kill (unit (player0)))
                                                (if (volume_test_object "survival_player_kill_vol03" (player1))
                                                    (unit_kill (unit (player1)))
                                                    (if (volume_test_object "survival_player_kill_vol03" (player2))
                                                        (unit_kill (unit (player2)))
                                                        (if (volume_test_object "survival_player_kill_vol03" (player3))
                                                            (unit_kill (unit (player3)))
                                                            (if (volume_test_object "survival_player_kill_vol04" (player0))
                                                                (unit_kill (unit (player0)))
                                                                (if (volume_test_object "survival_player_kill_vol04" (player1))
                                                                    (unit_kill (unit (player1)))
                                                                    (if (volume_test_object "survival_player_kill_vol04" (player2))
                                                                        (unit_kill (unit (player2)))
                                                                        (if (volume_test_object "survival_player_kill_vol04" (player3))
                                                                            (unit_kill (unit (player3)))
                                                                            (if (volume_test_object "survival_player_kill_vol05" (player0))
                                                                                (unit_kill (unit (player0)))
                                                                                (if (volume_test_object "survival_player_kill_vol05" (player1))
                                                                                    (unit_kill (unit (player1)))
                                                                                    (if (volume_test_object "survival_player_kill_vol05" (player2))
                                                                                        (unit_kill (unit (player2)))
                                                                                        (if (volume_test_object "survival_player_kill_vol05" (player3))
                                                                                            (unit_kill (unit (player3)))
                                                                                            (if (volume_test_object "survival_player_kill_vol06" (player0))
                                                                                                (unit_kill (unit (player0)))
                                                                                                (if (volume_test_object "survival_player_kill_vol06" (player1))
                                                                                                    (unit_kill (unit (player1)))
                                                                                                    (if (volume_test_object "survival_player_kill_vol06" (player2))
                                                                                                        (unit_kill (unit (player2)))
                                                                                                        (if (volume_test_object "survival_player_kill_vol06" (player3))
                                                                                                            (unit_kill (unit (player3)))
                                                                                                            (if (volume_test_object "survival_player_kill_vol07" (player0))
                                                                                                                (unit_kill (unit (player0)))
                                                                                                                (if (volume_test_object "survival_player_kill_vol07" (player1))
                                                                                                                    (unit_kill (unit (player1)))
                                                                                                                    (if (volume_test_object "survival_player_kill_vol07" (player2))
                                                                                                                        (unit_kill (unit (player2)))
                                                                                                                        (if (volume_test_object "survival_player_kill_vol07" (player3))
                                                                                                                            (unit_kill (unit (player3)))
                                                                                                                        )
                                                                                                                    )
                                                                                                                )
                                                                                                            )
                                                                                                        )
                                                                                                    )
                                                                                                )
                                                                                            )
                                                                                        )
                                                                                    )
                                                                                )
                                                                            )
                                                                        )
                                                                    )
                                                                )
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            )
            false
        )
        5
    )
)

(script static void c200_00_sc_sh1
    (cinematic_show_letterbox_immediate true)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 0) 0 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 0) 0)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 0 "dutch_00_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 1 "player_00_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 2 "phantom_00_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 3 "playersmg_c200_00_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 0 4 "dutchsmg_c200_00_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 0 2) "gravlift" 0 0)
    (sleep 4)
    (cinematic_scripting_start_music 0 0 0 0)
    (sleep 16)
    (object_set_function_variable (cinematic_scripting_get_object 0 0 2) "gravlift" 1 45)
    (sleep 49)
    (cinematic_scripting_start_music 0 0 0 1)
    (sleep 41)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !c200_00_sc
    (cinematic_print "beginning scene 1")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 0) 0)
    (c200_00_sc_sh1)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 0 0 0)
    (cinematic_scripting_destroy_object 0 0 1)
    (cinematic_scripting_destroy_object 0 0 2)
    (cinematic_scripting_destroy_object 0 0 3)
    (cinematic_scripting_destroy_object 0 0 4)
)

(script static void c200_01_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 0 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 0)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (object_hide (cinematic_scripting_get_object 0 1 0) true)
    (object_hide (cinematic_scripting_get_object 0 1 1) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 2 "player_01_1" true)
    (object_hide (cinematic_scripting_get_object 0 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 "phantom_01_1" true)
    (object_hide (cinematic_scripting_get_object 0 1 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 6 "playersmg_c200_01_1" true)
    (object_hide (cinematic_scripting_get_object 0 1 7) true)
    (object_hide (cinematic_scripting_get_object 0 1 8) true)
    (object_hide (cinematic_scripting_get_object 0 1 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 10 "dutchsmg_c200_01_1" true)
    (object_hide (cinematic_scripting_get_object 0 1 11) true)
    (object_hide (cinematic_scripting_get_object 0 1 12) true)
    (object_hide (cinematic_scripting_get_object 0 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 14 "dutch_helmet01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 15 "dutch_01_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 0.9 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up" 1 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift" 0 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 14) "polarize" 0 0)
    (sleep 25)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 14) "polarize" 1 25)
    (sleep 12)
    (cinematic_scripting_start_dialogue 0 1 0 0 (cinematic_scripting_get_object 0 1 15))
    (sleep 32)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void c200_01_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 1 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 1)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 0 "buck_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 1 "dare_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 2 "player_01_2" true)
    (object_hide (cinematic_scripting_get_object 0 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 "phantom_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 5 "c200_final_engineer_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 6 "playersmg_c200_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 7 "buck_assaultrifle_01_2" true)
    (object_hide (cinematic_scripting_get_object 0 1 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 9 "slipspace_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 10 "dutchsmg_c200_01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 11 "buck_helmet01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 12 "buck_buggerwing_01_2" true)
    (object_hide (cinematic_scripting_get_object 0 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 14 "dutch_helmet01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 15 "dutch_01_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure 0.95 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up" 1 0)
    (sleep 9)
    (cinematic_scripting_start_dialogue 0 1 1 0 (cinematic_scripting_get_object 0 1 0))
    (sleep 43)
    (cinematic_scripting_start_effect 0 1 1 0 (cinematic_object_get "fx_slipspace"))
    (sleep 2)
    (cinematic_print "custom script play")
    (begin
        (player_effect_set_max_rumble 0.2 0.2)
        (player_effect_start 1 0)
    )
    (sleep 1)
    (cinematic_print "custom script play")
    (player_effect_stop 2)
    (sleep 22)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void c200_01_sc_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 2 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 2)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 0 "buck_01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 1 "dare_01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 2 "player_01_3" true)
    (object_hide (cinematic_scripting_get_object 0 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 "phantom_01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 5 "c200_final_engineer_01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 6 "playersmg_c200_01_3" true)
    (object_hide (cinematic_scripting_get_object 0 1 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 8 "cap_ship_01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 9 "slipspace_01_3" true)
    (object_hide (cinematic_scripting_get_object 0 1 10) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 11 "buck_helmet01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 12 "buck_buggerwing_01_3" true)
    (object_hide (cinematic_scripting_get_object 0 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 14 "dutch_helmet01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 15 "dutch_01_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (render_exposure 0.75 0)
    (cinematic_scripting_start_effect 0 1 2 0 (cinematic_object_get "cap_ship"))
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up" 1 0)
    (sleep 91)
    (cinematic_scripting_start_effect 0 1 2 1 (cinematic_object_get "cap_ship"))
    (sleep 29)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void c200_01_sc_sh4
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 3 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 3)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (object_hide (cinematic_scripting_get_object 0 1 0) true)
    (object_hide (cinematic_scripting_get_object 0 1 1) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 2 "player_01_4" true)
    (object_hide (cinematic_scripting_get_object 0 1 3) true)
    (object_hide (cinematic_scripting_get_object 0 1 4) true)
    (object_hide (cinematic_scripting_get_object 0 1 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 6 "playersmg_c200_01_4" true)
    (object_hide (cinematic_scripting_get_object 0 1 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 8 "cap_ship_01_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 9 "slipspace_01_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 10 "dutchsmg_c200_01_4" true)
    (object_hide (cinematic_scripting_get_object 0 1 11) true)
    (object_hide (cinematic_scripting_get_object 0 1 12) true)
    (object_hide (cinematic_scripting_get_object 0 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 14 "dutch_helmet01_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 15 "dutch_01_4" true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (render_exposure 0 0)
    (cinematic_scripting_start_effect 0 1 3 0 (cinematic_object_get "cap_ship"))
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up" 1 0)
    (sleep 85)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 14) "polarize" 0 25)
    (sleep 35)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void c200_01_sc_sh5
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 4 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 4)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (object_hide (cinematic_scripting_get_object 0 1 0) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 1 "dare_01_5" true)
    (object_hide (cinematic_scripting_get_object 0 1 2) true)
    (object_hide (cinematic_scripting_get_object 0 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 "phantom_01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 5 "c200_final_engineer_01_5" true)
    (object_hide (cinematic_scripting_get_object 0 1 6) true)
    (object_hide (cinematic_scripting_get_object 0 1 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 8 "cap_ship_01_5" true)
    (object_hide (cinematic_scripting_get_object 0 1 9) true)
    (object_hide (cinematic_scripting_get_object 0 1 10) true)
    (object_hide (cinematic_scripting_get_object 0 1 11) true)
    (object_hide (cinematic_scripting_get_object 0 1 12) true)
    (object_hide (cinematic_scripting_get_object 0 1 13) true)
    (object_hide (cinematic_scripting_get_object 0 1 14) true)
    (object_hide (cinematic_scripting_get_object 0 1 15) true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (render_exposure 0.9 0)
    (cinematic_scripting_start_effect 0 1 4 0 (cinematic_object_get "cap_ship"))
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up" 1 0)
    (sleep 66)
    (cinematic_scripting_start_dialogue 0 1 4 0 (cinematic_scripting_get_object 0 1 1))
    (sleep 131)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void c200_01_sc_sh6
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 5 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 5)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 0 "buck_01_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 1 "dare_01_6" true)
    (object_hide (cinematic_scripting_get_object 0 1 2) true)
    (object_hide (cinematic_scripting_get_object 0 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 "phantom_01_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 5 "c200_final_engineer_01_6" true)
    (object_hide (cinematic_scripting_get_object 0 1 6) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 7 "buck_assaultrifle_01_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 8 "cap_ship_01_6" true)
    (object_hide (cinematic_scripting_get_object 0 1 9) true)
    (object_hide (cinematic_scripting_get_object 0 1 10) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 11 "buck_helmet01_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 12 "buck_buggerwing_01_6" true)
    (object_hide (cinematic_scripting_get_object 0 1 13) true)
    (object_hide (cinematic_scripting_get_object 0 1 14) true)
    (object_hide (cinematic_scripting_get_object 0 1 15) true)
    (cinematic_lights_initialize_for_shot 5)
    (cinematic_clips_initialize_for_shot 5)
    (render_exposure 0 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up" 1 0)
    (sleep 20)
    (cinematic_scripting_start_dialogue 0 1 5 0 (cinematic_scripting_get_object 0 1 0))
    (sleep 59)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void c200_01_sc_sh7
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 6 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 6)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 0 "buck_01_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 1 "dare_01_7" true)
    (object_hide (cinematic_scripting_get_object 0 1 2) true)
    (object_hide (cinematic_scripting_get_object 0 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 "phantom_01_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 5 "c200_final_engineer_01_7" true)
    (object_hide (cinematic_scripting_get_object 0 1 6) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 7 "buck_assaultrifle_01_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 8 "cap_ship_01_7" true)
    (object_hide (cinematic_scripting_get_object 0 1 9) true)
    (object_hide (cinematic_scripting_get_object 0 1 10) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 11 "buck_helmet01_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 12 "buck_buggerwing_01_7" true)
    (object_hide (cinematic_scripting_get_object 0 1 13) true)
    (object_hide (cinematic_scripting_get_object 0 1 14) true)
    (object_hide (cinematic_scripting_get_object 0 1 15) true)
    (cinematic_lights_initialize_for_shot 6)
    (cinematic_clips_initialize_for_shot 6)
    (render_exposure 0.4 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up" 1 0)
    (sleep 33)
    (cinematic_scripting_start_dialogue 0 1 6 0 (cinematic_scripting_get_object 0 1 0))
    (sleep 4)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void c200_01_sc_sh8
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 7 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 7)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (object_hide (cinematic_scripting_get_object 0 1 0) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 1 "dare_01_8" true)
    (object_hide (cinematic_scripting_get_object 0 1 2) true)
    (object_hide (cinematic_scripting_get_object 0 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 "phantom_01_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 5 "c200_final_engineer_01_8" true)
    (object_hide (cinematic_scripting_get_object 0 1 6) true)
    (object_hide (cinematic_scripting_get_object 0 1 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 8 "cap_ship_01_8" true)
    (object_hide (cinematic_scripting_get_object 0 1 9) true)
    (object_hide (cinematic_scripting_get_object 0 1 10) true)
    (object_hide (cinematic_scripting_get_object 0 1 11) true)
    (object_hide (cinematic_scripting_get_object 0 1 12) true)
    (object_hide (cinematic_scripting_get_object 0 1 13) true)
    (object_hide (cinematic_scripting_get_object 0 1 14) true)
    (object_hide (cinematic_scripting_get_object 0 1 15) true)
    (cinematic_lights_initialize_for_shot 7)
    (cinematic_clips_initialize_for_shot 7)
    (render_exposure 0.9 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up" 1 0)
    (sleep 18)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void c200_01_sc_sh9
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 8 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 8)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 0 "buck_01_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 1 "dare_01_9" true)
    (object_hide (cinematic_scripting_get_object 0 1 2) true)
    (object_hide (cinematic_scripting_get_object 0 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 "phantom_01_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 5 "c200_final_engineer_01_9" true)
    (object_hide (cinematic_scripting_get_object 0 1 6) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 7 "buck_assaultrifle_01_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 8 "cap_ship_01_9" true)
    (object_hide (cinematic_scripting_get_object 0 1 9) true)
    (object_hide (cinematic_scripting_get_object 0 1 10) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 11 "buck_helmet01_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 12 "buck_buggerwing_01_9" true)
    (object_hide (cinematic_scripting_get_object 0 1 13) true)
    (object_hide (cinematic_scripting_get_object 0 1 14) true)
    (object_hide (cinematic_scripting_get_object 0 1 15) true)
    (cinematic_lights_initialize_for_shot 8)
    (cinematic_clips_initialize_for_shot 8)
    (render_exposure 0.7 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up" 1 0)
    (sleep 70)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void c200_01_sc_sh10
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 9 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 9)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 0 "buck_01_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 1 "dare_01_10" true)
    (object_hide (cinematic_scripting_get_object 0 1 2) true)
    (object_hide (cinematic_scripting_get_object 0 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 "phantom_01_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 5 "c200_final_engineer_01_10" true)
    (object_hide (cinematic_scripting_get_object 0 1 6) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 7 "buck_assaultrifle_01_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 8 "cap_ship_01_10" true)
    (object_hide (cinematic_scripting_get_object 0 1 9) true)
    (object_hide (cinematic_scripting_get_object 0 1 10) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 11 "buck_helmet01_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 12 "buck_buggerwing_01_10" true)
    (object_hide (cinematic_scripting_get_object 0 1 13) true)
    (object_hide (cinematic_scripting_get_object 0 1 14) true)
    (object_hide (cinematic_scripting_get_object 0 1 15) true)
    (cinematic_lights_initialize_for_shot 9)
    (cinematic_clips_initialize_for_shot 9)
    (render_exposure 0 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up" 1 0)
    (sleep 41)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void c200_01_sc_sh11
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 10 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 10)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 0 "buck_01_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 1 "dare_01_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 2 "player_01_11" true)
    (object_hide (cinematic_scripting_get_object 0 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 "phantom_01_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 5 "c200_final_engineer_01_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 6 "playersmg_c200_01_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 7 "buck_assaultrifle_01_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 8 "cap_ship_01_11" true)
    (object_hide (cinematic_scripting_get_object 0 1 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 10 "dutchsmg_c200_01_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 11 "buck_helmet01_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 12 "buck_buggerwing_01_11" true)
    (object_hide (cinematic_scripting_get_object 0 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 14 "dutch_helmet01_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 15 "dutch_01_11" true)
    (cinematic_lights_initialize_for_shot 10)
    (cinematic_clips_initialize_for_shot 10)
    (render_exposure 0 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up" 1 0)
    (sleep 80)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void c200_01_sc_sh12
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 11 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 11)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 0 "buck_01_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 1 "dare_01_12" true)
    (object_hide (cinematic_scripting_get_object 0 1 2) true)
    (object_hide (cinematic_scripting_get_object 0 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 "phantom_01_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 5 "c200_final_engineer_01_12" true)
    (object_hide (cinematic_scripting_get_object 0 1 6) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 7 "buck_assaultrifle_01_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 8 "cap_ship_01_12" true)
    (object_hide (cinematic_scripting_get_object 0 1 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 10 "dutchsmg_c200_01_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 11 "buck_helmet01_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 12 "buck_buggerwing_01_12" true)
    (object_hide (cinematic_scripting_get_object 0 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 14 "dutch_helmet01_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 15 "dutch_01_12" true)
    (cinematic_lights_initialize_for_shot 11)
    (cinematic_clips_initialize_for_shot 11)
    (render_exposure 0 0)
    (cinematic_scripting_start_effect 0 1 11 0 (cinematic_object_get "cap_ship"))
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up" 1 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up_lens_flare" 1 0)
    (sleep 49)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void c200_01_sc_sh13
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 12 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 12)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 0 "buck_01_13" true)
    (object_hide (cinematic_scripting_get_object 0 1 1) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 2 "player_01_13" true)
    (object_hide (cinematic_scripting_get_object 0 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 "phantom_01_13" true)
    (object_hide (cinematic_scripting_get_object 0 1 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 6 "playersmg_c200_01_13" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 7 "buck_assaultrifle_01_13" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 8 "cap_ship_01_13" true)
    (object_hide (cinematic_scripting_get_object 0 1 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 10 "dutchsmg_c200_01_13" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 11 "buck_helmet01_13" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 12 "buck_buggerwing_01_13" true)
    (object_hide (cinematic_scripting_get_object 0 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 14 "dutch_helmet01_13" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 15 "dutch_01_13" true)
    (cinematic_lights_initialize_for_shot 12)
    (cinematic_clips_initialize_for_shot 12)
    (render_exposure 0 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up" 1 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 11) "polarize" 0 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up_lens_flare" 0 0)
    (sleep 35)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 11) "polarize" 1 25)
    (sleep 5)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void c200_01_sc_sh14
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 13 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 13)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 0 "buck_01_14" true)
    (object_hide (cinematic_scripting_get_object 0 1 1) true)
    (object_hide (cinematic_scripting_get_object 0 1 2) true)
    (object_hide (cinematic_scripting_get_object 0 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 "phantom_01_14" true)
    (object_hide (cinematic_scripting_get_object 0 1 5) true)
    (object_hide (cinematic_scripting_get_object 0 1 6) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 7 "buck_assaultrifle_01_14" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 8 "cap_ship_01_14" true)
    (object_hide (cinematic_scripting_get_object 0 1 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 10 "dutchsmg_c200_01_14" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 11 "buck_helmet01_14" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 12 "buck_buggerwing_01_14" true)
    (object_hide (cinematic_scripting_get_object 0 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 14 "dutch_helmet01_14" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 15 "dutch_01_14" true)
    (cinematic_lights_initialize_for_shot 13)
    (cinematic_clips_initialize_for_shot 13)
    (render_exposure 0.9 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up" 1 0)
    (sleep 12)
    (cinematic_scripting_start_dialogue 0 1 13 0 (cinematic_scripting_get_object 0 1 0))
    (sleep 34)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void c200_01_sc_sh15
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 14 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 14)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 0 "buck_01_15" true)
    (object_hide (cinematic_scripting_get_object 0 1 1) true)
    (object_hide (cinematic_scripting_get_object 0 1 2) true)
    (object_hide (cinematic_scripting_get_object 0 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 "phantom_01_15" true)
    (object_hide (cinematic_scripting_get_object 0 1 5) true)
    (object_hide (cinematic_scripting_get_object 0 1 6) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 7 "buck_assaultrifle_01_15" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 8 "cap_ship_01_15" true)
    (object_hide (cinematic_scripting_get_object 0 1 9) true)
    (object_hide (cinematic_scripting_get_object 0 1 10) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 11 "buck_helmet01_15" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 12 "buck_buggerwing_01_15" true)
    (object_hide (cinematic_scripting_get_object 0 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 14 "dutch_helmet01_15" true)
    (object_hide (cinematic_scripting_get_object 0 1 15) true)
    (cinematic_lights_initialize_for_shot 14)
    (cinematic_clips_initialize_for_shot 14)
    (render_exposure 0 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up" 1 0)
    (sleep 73)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void c200_01_sc_sh16
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 15 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 15)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 0 "buck_01_16" true)
    (object_hide (cinematic_scripting_get_object 0 1 1) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 2 "player_01_16" true)
    (object_hide (cinematic_scripting_get_object 0 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 "phantom_01_16" true)
    (object_hide (cinematic_scripting_get_object 0 1 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 6 "playersmg_c200_01_16" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 7 "buck_assaultrifle_01_16" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 8 "cap_ship_01_16" true)
    (object_hide (cinematic_scripting_get_object 0 1 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 10 "dutchsmg_c200_01_16" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 11 "buck_helmet01_16" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 12 "buck_buggerwing_01_16" true)
    (object_hide (cinematic_scripting_get_object 0 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 14 "dutch_helmet01_16" true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 15 "dutch_01_16" true)
    (cinematic_lights_initialize_for_shot 15)
    (cinematic_clips_initialize_for_shot 15)
    (render_exposure 0.7 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up" 1 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 11) "polarize" 1 0)
    (sleep 6)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 11) "polarize" 0 25)
    (sleep 76)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void c200_01_sc_sh17
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 0 1) 16 "c200_02_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 16)
    (cinematic_object_create_cinematic_anchor "c200_02_anchor" "c200_02_anchor")
    (object_hide (cinematic_scripting_get_object 0 1 0) true)
    (object_hide (cinematic_scripting_get_object 0 1 1) true)
    (object_hide (cinematic_scripting_get_object 0 1 2) true)
    (object_hide (cinematic_scripting_get_object 0 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 4 "phantom_01_17" true)
    (object_hide (cinematic_scripting_get_object 0 1 5) true)
    (object_hide (cinematic_scripting_get_object 0 1 6) true)
    (object_hide (cinematic_scripting_get_object 0 1 7) true)
    (object_hide (cinematic_scripting_get_object 0 1 8) true)
    (object_hide (cinematic_scripting_get_object 0 1 9) true)
    (object_hide (cinematic_scripting_get_object 0 1 10) true)
    (object_hide (cinematic_scripting_get_object 0 1 11) true)
    (object_hide (cinematic_scripting_get_object 0 1 12) true)
    (cinematic_scripting_create_and_animate_cinematic_object 0 1 13 "cap_ship02_01_17" true)
    (object_hide (cinematic_scripting_get_object 0 1 14) true)
    (object_hide (cinematic_scripting_get_object 0 1 15) true)
    (cinematic_lights_initialize_for_shot 16)
    (cinematic_clips_initialize_for_shot 16)
    (render_exposure 0.5 0)
    (cinematic_scripting_start_effect 0 1 16 0 (cinematic_object_get "cap_ship02"))
    (object_set_function_variable (cinematic_scripting_get_object 0 1 4) "gravlift_up" 0 0)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 13) "slipspace" 0 0)
    (object_destroy (cinematic_object_get "cap_ship"))
    (cinematic_print "custom script play")
    (sleep 25)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 13) "slipspace" 0.025 91)
    (sleep 91)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 13) "slipspace" 0.065 0)
    (sleep 1)
    (object_set_function_variable (cinematic_scripting_get_object 0 1 13) "slipspace" 0 10)
    (sleep 105)
    (cinematic_scripting_fade_out 1 1 1 5)
    (sleep 4)
    (fade_out 0 0 0 0)
    (cinematic_print "custom script play")
    (sleep 1)
    (sleep 150)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !c200_01_sc
    (cinematic_print "beginning scene 2")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 0 1) 0)
    (c200_01_sc_sh1)
    (c200_01_sc_sh2)
    (c200_01_sc_sh3)
    (c200_01_sc_sh4)
    (c200_01_sc_sh5)
    (c200_01_sc_sh6)
    (c200_01_sc_sh7)
    (c200_01_sc_sh8)
    (c200_01_sc_sh9)
    (c200_01_sc_sh10)
    (c200_01_sc_sh11)
    (c200_01_sc_sh12)
    (c200_01_sc_sh13)
    (c200_01_sc_sh14)
    (c200_01_sc_sh15)
    (c200_01_sc_sh16)
    (c200_01_sc_sh17)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 0 1 0)
    (cinematic_scripting_destroy_object 0 1 1)
    (cinematic_scripting_destroy_object 0 1 2)
    (cinematic_scripting_destroy_object 0 1 3)
    (cinematic_scripting_destroy_object 0 1 4)
    (cinematic_scripting_destroy_object 0 1 5)
    (cinematic_scripting_destroy_object 0 1 6)
    (cinematic_scripting_destroy_object 0 1 7)
    (cinematic_scripting_destroy_object 0 1 8)
    (cinematic_scripting_destroy_object 0 1 9)
    (cinematic_scripting_destroy_object 0 1 10)
    (cinematic_scripting_destroy_object 0 1 11)
    (cinematic_scripting_destroy_object 0 1 12)
    (cinematic_scripting_destroy_object 0 1 13)
    (cinematic_scripting_destroy_object 0 1 14)
    (cinematic_scripting_destroy_object 0 1 15)
)

(script static void c200_cleanup
    (cinematic_scripting_clean_up 0)
)

(script static void begin_c200_debug
    (cinematic_zone_activate_for_debugging 0)
    (sleep 2)
    (camera_control true)
    (cinematic_start)
    (set cinematic_letterbox_style 2)
    (cinematic_show_letterbox_immediate true)
    (chud_cinematic_fade 0 0)
    (camera_set_cinematic)
    (cinematic_set_debug_mode true)
    (cinematic_set (cinematic_tag_reference_get_cinematic 0))
)

(script static void end_c200_debug
    (cinematic_destroy)
    (chud_cinematic_fade 1 0)
    (cinematic_stop)
    (cinematic_show_letterbox_immediate false)
    (camera_control false)
    (render_exposure_fade_out 0)
    (cinematic_zone_deactivate 0)
    (fade_in 0 0 0 0)
)

(script static void c200_debug
    (begin_c200_debug)
    (fade_in 0 0 0 30)
    (begin
        (sound_class_set_gain "" 0 0)
        (sound_class_set_gain "amb" 1 0)
        (sound_class_set_gain "amb" 0 60)
        (sound_class_set_gain "scripted" 1 0)
        (sound_class_set_gain "dialog" 1 0)
        (sound_class_set_gain "mus" 1 0)
    )
    (!c200_00_sc)
    (!c200_01_sc)
    (sound_class_set_gain "" 0 0)
    (end_c200_debug)
)

(script static void begin_c200
    (cinematic_zone_activate 0)
    (sleep 2)
    (camera_set_cinematic)
    (cinematic_set_debug_mode false)
    (cinematic_set (cinematic_tag_reference_get_cinematic 0))
)

(script static void end_c200
    (cinematic_destroy)
    (render_exposure_fade_out 0)
)

(script static void c200
    (begin_c200)
    (fade_in 0 0 0 30)
    (begin
        (sound_class_set_gain "" 0 0)
        (sound_class_set_gain "amb" 1 0)
        (sound_class_set_gain "amb" 0 60)
        (sound_class_set_gain "scripted" 1 0)
        (sound_class_set_gain "dialog" 1 0)
        (sound_class_set_gain "mus" 1 0)
    )
    (!c200_00_sc)
    (!c200_01_sc)
    (sound_class_set_gain "" 0 0)
    (end_c200)
)

(script static void l200_out_hb_00_sc_sh1
    (cinematic_show_letterbox_immediate true)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 0) 0 "cin_end_elevator")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 0)
    (cinematic_object_create_cinematic_anchor "cin_end_elevator" "cin_end_elevator")
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 0 "lift_00_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 1 "light_1_00_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 2 "light_2_00_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 3 "l200_elevator_cable_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 4 "l200_elevator_cable1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 5 "l200_elevator_cable2_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 0 6 "l200_elevator_cable3_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (sleep 5)
    (cinematic_scripting_start_music 1 0 0 0)
    (sleep 65)
    (fade_out 0 0 0 30)
    (cinematic_print "custom script play")
    (sleep 30)
    (sleep 60)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !l200_out_hb_00_sc
    (cinematic_print "beginning scene 1")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 0) 0)
    (l200_out_hb_00_sc_sh1)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 1 0 0)
    (cinematic_scripting_destroy_object 1 0 1)
    (cinematic_scripting_destroy_object 1 0 2)
    (cinematic_scripting_destroy_object 1 0 3)
    (cinematic_scripting_destroy_object 1 0 4)
    (cinematic_scripting_destroy_object 1 0 5)
    (cinematic_scripting_destroy_object 1 0 6)
)

(script static void l200_out_hb_01_sc_sh1
    (begin
        (switch_zone_set "l300_010_cin")
        (set render_lightmap_shadows false)
        (cinematic_show_letterbox_immediate true)
        (fade_in 0 0 0 30)
    )
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 1) 0 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 1) 0)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 0 "buck01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 1 "dare01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 2 "player01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 3 "buck_helmet01_1" true)
    (object_hide (cinematic_scripting_get_object 1 1 4) true)
    (object_hide (cinematic_scripting_get_object 1 1 5) true)
    (object_hide (cinematic_scripting_get_object 1 1 6) true)
    (object_hide (cinematic_scripting_get_object 1 1 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 8 "dare_automag01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 9 "engineer01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 10 "l200_olifaunt_final01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 11 "l200_player_smg01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 12 "warthog01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 13 "chain_turret01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 14 "buck_rifle01_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 0 0)
    (sleep 165)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_sh2
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 1) 1 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 1) 1)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 0 "buck01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 1 "dare01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 2 "player01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 3 "buck_helmet01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 4 "cinematic_cov_cruiser02_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 5 "cinematic_cov_cruiser03_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 6 "cinematic_cov_cruiser04_2" true)
    (object_hide (cinematic_scripting_get_object 1 1 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 8 "dare_automag01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 9 "engineer01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 10 "l200_olifaunt_final01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 11 "l200_player_smg01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 12 "warthog01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 13 "chain_turret01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 14 "buck_rifle01_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure 0 0)
    (cinematic_scripting_start_effect 1 1 1 0 (cinematic_object_get "covcruiser02"))
    (cinematic_scripting_start_effect 1 1 1 2 (cinematic_object_get "covcruiser04"))
    (object_set_function_variable (cinematic_scripting_get_object 1 1 9) "illum" 0.5 0)
    (object_set_function_variable (cinematic_scripting_get_object 1 1 5) "slipspace" 1 0)
    (cinematic_scripting_start_effect 1 1 1 1 (cinematic_object_get "covcruiser03"))
    (object_set_function_variable (cinematic_scripting_get_object 1 1 6) "slipspace" 0.15 0)
    (object_set_function_variable (cinematic_scripting_get_object 1 1 4) "slipspace" 1 0)
    (sleep 70)
    (cinematic_scripting_start_dialogue 1 1 1 0 (cinematic_scripting_get_object 1 1 1))
    (sleep 42)
    (cinematic_scripting_start_dialogue 1 1 1 1 (cinematic_scripting_get_object 1 1 0))
    (sleep 69)
    (cinematic_scripting_start_dialogue 1 1 1 2 (cinematic_scripting_get_object 1 1 1))
    (sleep 9)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_sh3
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 1) 2 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 1) 2)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 0 "buck01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 1 "dare01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 2 "player01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 3 "buck_helmet01_3" true)
    (object_hide (cinematic_scripting_get_object 1 1 4) true)
    (object_hide (cinematic_scripting_get_object 1 1 5) true)
    (object_hide (cinematic_scripting_get_object 1 1 6) true)
    (object_hide (cinematic_scripting_get_object 1 1 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 8 "dare_automag01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 9 "engineer01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 10 "l200_olifaunt_final01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 11 "l200_player_smg01_3" true)
    (object_hide (cinematic_scripting_get_object 1 1 12) true)
    (object_hide (cinematic_scripting_get_object 1 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 14 "buck_rifle01_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (render_exposure 0 0)
    (sleep 49)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_sh4
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 1) 3 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 1) 3)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 0 "buck01_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 1 "dare01_4" true)
    (object_hide (cinematic_scripting_get_object 1 1 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 3 "buck_helmet01_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 4 "cinematic_cov_cruiser02_4" true)
    (object_hide (cinematic_scripting_get_object 1 1 5) true)
    (object_hide (cinematic_scripting_get_object 1 1 6) true)
    (object_hide (cinematic_scripting_get_object 1 1 7) true)
    (object_hide (cinematic_scripting_get_object 1 1 8) true)
    (object_hide (cinematic_scripting_get_object 1 1 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 10 "l200_olifaunt_final01_4" true)
    (object_hide (cinematic_scripting_get_object 1 1 11) true)
    (object_hide (cinematic_scripting_get_object 1 1 12) true)
    (object_hide (cinematic_scripting_get_object 1 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 14 "buck_rifle01_4" true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (render_exposure 0 0)
    (object_set_function_variable (cinematic_scripting_get_object 1 1 3) "polarize" 0 0)
    (sleep 1)
    (object_set_function_variable (cinematic_scripting_get_object 1 1 3) "polarize" 1 20)
    (sleep 33)
    (cinematic_scripting_start_dialogue 1 1 3 0 (cinematic_scripting_get_object 1 1 0))
    (sleep 106)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_sh5
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 1) 4 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 1) 4)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 0 "buck01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 1 "dare01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 2 "player01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 3 "buck_helmet01_5" true)
    (object_hide (cinematic_scripting_get_object 1 1 4) true)
    (object_hide (cinematic_scripting_get_object 1 1 5) true)
    (object_hide (cinematic_scripting_get_object 1 1 6) true)
    (object_hide (cinematic_scripting_get_object 1 1 7) true)
    (object_hide (cinematic_scripting_get_object 1 1 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 9 "engineer01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 10 "l200_olifaunt_final01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 11 "l200_player_smg01_5" true)
    (object_hide (cinematic_scripting_get_object 1 1 12) true)
    (object_hide (cinematic_scripting_get_object 1 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 14 "buck_rifle01_5" true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (render_exposure 0 0)
    (sleep 64)
    (cinematic_scripting_start_dialogue 1 1 4 0 (cinematic_scripting_get_object 1 1 1))
    (sleep 25)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_sh6
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 1) 5 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 1) 5)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 0 "buck01_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 1 "dare01_6" true)
    (object_hide (cinematic_scripting_get_object 1 1 2) true)
    (object_hide (cinematic_scripting_get_object 1 1 3) true)
    (object_hide (cinematic_scripting_get_object 1 1 4) true)
    (object_hide (cinematic_scripting_get_object 1 1 5) true)
    (object_hide (cinematic_scripting_get_object 1 1 6) true)
    (object_hide (cinematic_scripting_get_object 1 1 7) true)
    (object_hide (cinematic_scripting_get_object 1 1 8) true)
    (object_hide (cinematic_scripting_get_object 1 1 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 10 "l200_olifaunt_final01_6" true)
    (object_hide (cinematic_scripting_get_object 1 1 11) true)
    (object_hide (cinematic_scripting_get_object 1 1 12) true)
    (object_hide (cinematic_scripting_get_object 1 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 14 "buck_rifle01_6" true)
    (cinematic_lights_initialize_for_shot 5)
    (cinematic_clips_initialize_for_shot 5)
    (render_exposure 0 0)
    (sleep 77)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_sh7
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 1) 6 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 1) 6)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 0 "buck01_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 1 "dare01_7" true)
    (object_hide (cinematic_scripting_get_object 1 1 2) true)
    (object_hide (cinematic_scripting_get_object 1 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 4 "cinematic_cov_cruiser02_7" true)
    (object_hide (cinematic_scripting_get_object 1 1 5) true)
    (object_hide (cinematic_scripting_get_object 1 1 6) true)
    (object_hide (cinematic_scripting_get_object 1 1 7) true)
    (object_hide (cinematic_scripting_get_object 1 1 8) true)
    (object_hide (cinematic_scripting_get_object 1 1 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 10 "l200_olifaunt_final01_7" true)
    (object_hide (cinematic_scripting_get_object 1 1 11) true)
    (object_hide (cinematic_scripting_get_object 1 1 12) true)
    (object_hide (cinematic_scripting_get_object 1 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 14 "buck_rifle01_7" true)
    (cinematic_lights_initialize_for_shot 6)
    (cinematic_clips_initialize_for_shot 6)
    (render_exposure 0 0)
    (sleep 1)
    (cinematic_scripting_start_dialogue 1 1 6 0 (cinematic_scripting_get_object 1 1 0))
    (sleep 52)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_sh8
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 1) 7 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 1) 7)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 0 "buck01_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 1 "dare01_8" true)
    (object_hide (cinematic_scripting_get_object 1 1 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 3 "buck_helmet01_8" true)
    (object_hide (cinematic_scripting_get_object 1 1 4) true)
    (object_hide (cinematic_scripting_get_object 1 1 5) true)
    (object_hide (cinematic_scripting_get_object 1 1 6) true)
    (object_hide (cinematic_scripting_get_object 1 1 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 8 "dare_automag01_8" true)
    (object_hide (cinematic_scripting_get_object 1 1 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 10 "l200_olifaunt_final01_8" true)
    (object_hide (cinematic_scripting_get_object 1 1 11) true)
    (object_hide (cinematic_scripting_get_object 1 1 12) true)
    (object_hide (cinematic_scripting_get_object 1 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 14 "buck_rifle01_8" true)
    (cinematic_lights_initialize_for_shot 7)
    (cinematic_clips_initialize_for_shot 7)
    (render_exposure 0 0)
    (sleep 126)
    (cinematic_scripting_start_dialogue 1 1 7 0 (cinematic_scripting_get_object 1 1 1))
    (sleep 30)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_sh9
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 1) 8 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 1) 8)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 0 "buck01_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 1 "dare01_9" true)
    (object_hide (cinematic_scripting_get_object 1 1 2) true)
    (object_hide (cinematic_scripting_get_object 1 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 4 "cinematic_cov_cruiser02_9" true)
    (object_hide (cinematic_scripting_get_object 1 1 5) true)
    (object_hide (cinematic_scripting_get_object 1 1 6) true)
    (object_hide (cinematic_scripting_get_object 1 1 7) true)
    (object_hide (cinematic_scripting_get_object 1 1 8) true)
    (object_hide (cinematic_scripting_get_object 1 1 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 10 "l200_olifaunt_final01_9" true)
    (object_hide (cinematic_scripting_get_object 1 1 11) true)
    (object_hide (cinematic_scripting_get_object 1 1 12) true)
    (object_hide (cinematic_scripting_get_object 1 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 14 "buck_rifle01_9" true)
    (cinematic_lights_initialize_for_shot 8)
    (cinematic_clips_initialize_for_shot 8)
    (render_exposure 0 0)
    (sleep 4)
    (cinematic_scripting_start_dialogue 1 1 8 0 (cinematic_scripting_get_object 1 1 0))
    (sleep 42)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_sh10
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 1) 9 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 1) 9)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 0 "buck01_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 1 "dare01_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 2 "player01_10" true)
    (object_hide (cinematic_scripting_get_object 1 1 3) true)
    (object_hide (cinematic_scripting_get_object 1 1 4) true)
    (object_hide (cinematic_scripting_get_object 1 1 5) true)
    (object_hide (cinematic_scripting_get_object 1 1 6) true)
    (object_hide (cinematic_scripting_get_object 1 1 7) true)
    (object_hide (cinematic_scripting_get_object 1 1 8) true)
    (object_hide (cinematic_scripting_get_object 1 1 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 10 "l200_olifaunt_final01_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 11 "l200_player_smg01_10" true)
    (object_hide (cinematic_scripting_get_object 1 1 12) true)
    (object_hide (cinematic_scripting_get_object 1 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 14 "buck_rifle01_10" true)
    (cinematic_lights_initialize_for_shot 9)
    (cinematic_clips_initialize_for_shot 9)
    (render_exposure 0 0)
    (sleep 4)
    (cinematic_scripting_start_dialogue 1 1 9 0 (cinematic_scripting_get_object 1 1 1))
    (sleep 59)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_sh11
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 1) 10 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 1) 10)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 0 "buck01_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 1 "dare01_11" true)
    (object_hide (cinematic_scripting_get_object 1 1 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 3 "buck_helmet01_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 4 "cinematic_cov_cruiser02_11" true)
    (object_hide (cinematic_scripting_get_object 1 1 5) true)
    (object_hide (cinematic_scripting_get_object 1 1 6) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 7 "cinematic_cov_cruiser05_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 8 "dare_automag01_11" true)
    (object_hide (cinematic_scripting_get_object 1 1 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 10 "l200_olifaunt_final01_11" true)
    (object_hide (cinematic_scripting_get_object 1 1 11) true)
    (object_hide (cinematic_scripting_get_object 1 1 12) true)
    (object_hide (cinematic_scripting_get_object 1 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 1 14 "buck_rifle01_11" true)
    (cinematic_lights_initialize_for_shot 10)
    (cinematic_clips_initialize_for_shot 10)
    (render_exposure 0 0)
    (sleep 9)
    (cinematic_scripting_start_dialogue 1 1 10 0 (cinematic_scripting_get_object 1 1 0))
    (sleep 126)
    (cinematic_scripting_start_effect 1 1 10 0 (cinematic_object_get "covcruiser05"))
    (sleep 3)
    (begin
        (player_effect_set_max_rumble 0.2 0.2)
        (player_effect_start 1 0)
    )
    (cinematic_print "custom script play")
    (sleep 1)
    (cinematic_print "custom script play")
    (player_effect_stop 2)
    (sleep 32)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !l200_out_hb_01_sc
    (cinematic_print "beginning scene 2")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 1) 0)
    (l200_out_hb_01_sc_sh1)
    (l200_out_hb_01_sc_sh2)
    (l200_out_hb_01_sc_sh3)
    (l200_out_hb_01_sc_sh4)
    (l200_out_hb_01_sc_sh5)
    (l200_out_hb_01_sc_sh6)
    (l200_out_hb_01_sc_sh7)
    (l200_out_hb_01_sc_sh8)
    (l200_out_hb_01_sc_sh9)
    (l200_out_hb_01_sc_sh10)
    (l200_out_hb_01_sc_sh11)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 1 1 0)
    (cinematic_scripting_destroy_object 1 1 1)
    (cinematic_scripting_destroy_object 1 1 2)
    (cinematic_scripting_destroy_object 1 1 3)
    (cinematic_scripting_destroy_object 1 1 4)
    (cinematic_scripting_destroy_object 1 1 5)
    (cinematic_scripting_destroy_object 1 1 6)
    (cinematic_scripting_destroy_object 1 1 7)
    (cinematic_scripting_destroy_object 1 1 8)
    (cinematic_scripting_destroy_object 1 1 9)
    (cinematic_scripting_destroy_object 1 1 10)
    (cinematic_scripting_destroy_object 1 1 11)
    (cinematic_scripting_destroy_object 1 1 12)
    (cinematic_scripting_destroy_object 1 1 13)
    (cinematic_scripting_destroy_object 1 1 14)
)

(script static void l200_out_hb_02_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 2) 0 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 2) 0)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 0 "buck02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 1 "dare02_1" true)
    (object_hide (cinematic_scripting_get_object 1 2 2) true)
    (object_hide (cinematic_scripting_get_object 1 2 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 4 "buck_rifle02_1" true)
    (object_hide (cinematic_scripting_get_object 1 2 5) true)
    (object_hide (cinematic_scripting_get_object 1 2 6) true)
    (object_hide (cinematic_scripting_get_object 1 2 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 8 "cinematic_cov_cruiser15_1" true)
    (object_hide (cinematic_scripting_get_object 1 2 9) true)
    (object_hide (cinematic_scripting_get_object 1 2 10) true)
    (object_hide (cinematic_scripting_get_object 1 2 11) true)
    (object_hide (cinematic_scripting_get_object 1 2 12) true)
    (object_hide (cinematic_scripting_get_object 1 2 13) true)
    (object_hide (cinematic_scripting_get_object 1 2 14) true)
    (object_hide (cinematic_scripting_get_object 1 2 15) true)
    (object_hide (cinematic_scripting_get_object 1 2 16) true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 0 0)
    (cinematic_scripting_start_effect 1 2 0 0 (cinematic_object_get "covcruiser05"))
    (object_set_function_variable (cinematic_scripting_get_object 1 2 8) "slipspace" 1 0)
    (sleep 1)
    (cinematic_print "custom script play")
    (sound_class_set_gain "obj" 0 0)
    (object_set_function_variable (cinematic_scripting_get_object 1 2 8) "slipspace" 0 35)
    (sleep 29)
    (cinematic_scripting_start_dialogue 1 2 0 0 none)
    (sleep 10)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 2) 1 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 2) 1)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 0 "buck02_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 1 "dare02_2" true)
    (object_hide (cinematic_scripting_get_object 1 2 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 3 "buck_helmet02_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 4 "buck_rifle02_2" true)
    (object_hide (cinematic_scripting_get_object 1 2 5) true)
    (object_hide (cinematic_scripting_get_object 1 2 6) true)
    (object_hide (cinematic_scripting_get_object 1 2 7) true)
    (object_hide (cinematic_scripting_get_object 1 2 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 9 "dare_automag02_2" true)
    (object_hide (cinematic_scripting_get_object 1 2 10) true)
    (object_hide (cinematic_scripting_get_object 1 2 11) true)
    (object_hide (cinematic_scripting_get_object 1 2 12) true)
    (object_hide (cinematic_scripting_get_object 1 2 13) true)
    (object_hide (cinematic_scripting_get_object 1 2 14) true)
    (object_hide (cinematic_scripting_get_object 1 2 15) true)
    (object_hide (cinematic_scripting_get_object 1 2 16) true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure 0 0)
    (sleep 50)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_sh3
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 2) 2 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 2) 2)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 0 "buck02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 1 "dare02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 2 "player02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 3 "buck_helmet02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 4 "buck_rifle02_3" true)
    (object_hide (cinematic_scripting_get_object 1 2 5) true)
    (object_hide (cinematic_scripting_get_object 1 2 6) true)
    (object_hide (cinematic_scripting_get_object 1 2 7) true)
    (object_hide (cinematic_scripting_get_object 1 2 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 9 "dare_automag02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 10 "l200_olifaunt_final02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 11 "l200_player_smg02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 12 "warthog02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 13 "chain_turret02_3" true)
    (object_hide (cinematic_scripting_get_object 1 2 14) true)
    (object_hide (cinematic_scripting_get_object 1 2 15) true)
    (object_hide (cinematic_scripting_get_object 1 2 16) true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (render_exposure 0 0)
    (sleep 70)
    (cinematic_scripting_start_dialogue 1 2 2 0 none)
    (sleep 185)
    (cinematic_scripting_start_dialogue 1 2 2 1 none)
    (sleep 62)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_sh4
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 2) 3 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 2) 3)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 0 "buck02_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 1 "dare02_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 2 "player02_4" true)
    (object_hide (cinematic_scripting_get_object 1 2 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 4 "buck_rifle02_4" true)
    (object_hide (cinematic_scripting_get_object 1 2 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 6 "cinematic_cov_cruiser13_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 7 "cinematic_cov_cruiser14_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 8 "cinematic_cov_cruiser15_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 9 "dare_automag02_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 10 "l200_olifaunt_final02_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 11 "l200_player_smg02_4" true)
    (object_hide (cinematic_scripting_get_object 1 2 12) true)
    (object_hide (cinematic_scripting_get_object 1 2 13) true)
    (object_hide (cinematic_scripting_get_object 1 2 14) true)
    (object_hide (cinematic_scripting_get_object 1 2 15) true)
    (object_hide (cinematic_scripting_get_object 1 2 16) true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (render_exposure 0 0)
    (sleep 57)
    (cinematic_scripting_start_dialogue 1 2 3 0 none)
    (sleep 82)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_sh5
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 2) 4 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 2) 4)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 0 "buck02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 1 "dare02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 2 "player02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 3 "buck_helmet02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 4 "buck_rifle02_5" true)
    (object_hide (cinematic_scripting_get_object 1 2 5) true)
    (object_hide (cinematic_scripting_get_object 1 2 6) true)
    (object_hide (cinematic_scripting_get_object 1 2 7) true)
    (object_hide (cinematic_scripting_get_object 1 2 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 9 "dare_automag02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 10 "l200_olifaunt_final02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 11 "l200_player_smg02_5" true)
    (object_hide (cinematic_scripting_get_object 1 2 12) true)
    (object_hide (cinematic_scripting_get_object 1 2 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 14 "hatch_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 15 "tent01_sc02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 16 "tent00_sc02_5" true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (render_exposure 0 0)
    (sleep 1)
    (cinematic_scripting_start_music 1 2 4 0)
    (sleep 81)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_sh6
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 2) 5 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 2) 5)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 0 "buck02_6" true)
    (object_hide (cinematic_scripting_get_object 1 2 1) true)
    (object_hide (cinematic_scripting_get_object 1 2 2) true)
    (object_hide (cinematic_scripting_get_object 1 2 3) true)
    (object_hide (cinematic_scripting_get_object 1 2 4) true)
    (object_hide (cinematic_scripting_get_object 1 2 5) true)
    (object_hide (cinematic_scripting_get_object 1 2 6) true)
    (object_hide (cinematic_scripting_get_object 1 2 7) true)
    (object_hide (cinematic_scripting_get_object 1 2 8) true)
    (object_hide (cinematic_scripting_get_object 1 2 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 10 "l200_olifaunt_final02_6" true)
    (object_hide (cinematic_scripting_get_object 1 2 11) true)
    (object_hide (cinematic_scripting_get_object 1 2 12) true)
    (object_hide (cinematic_scripting_get_object 1 2 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 14 "hatch_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 15 "tent01_sc02_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 16 "tent00_sc02_6" true)
    (cinematic_lights_initialize_for_shot 5)
    (cinematic_clips_initialize_for_shot 5)
    (render_exposure 0 0)
    (sleep 66)
    (cinematic_scripting_start_music 1 2 5 0)
    (sleep 11)
    (sound_looping_stop "sound\vehicles\behemoth\behemoth_horn\behemoth_horn")
    (cinematic_print "custom script play")
    (sleep 8)
    (cinematic_scripting_start_music 1 2 5 1)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_sh7
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 2) 6 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 2) 6)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 0 "buck02_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 1 "dare02_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 2 "player02_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 3 "buck_helmet02_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 4 "buck_rifle02_7" true)
    (object_hide (cinematic_scripting_get_object 1 2 5) true)
    (object_hide (cinematic_scripting_get_object 1 2 6) true)
    (object_hide (cinematic_scripting_get_object 1 2 7) true)
    (object_hide (cinematic_scripting_get_object 1 2 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 9 "dare_automag02_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 10 "l200_olifaunt_final02_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 11 "l200_player_smg02_7" true)
    (object_hide (cinematic_scripting_get_object 1 2 12) true)
    (object_hide (cinematic_scripting_get_object 1 2 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 14 "hatch_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 15 "tent01_sc02_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 16 "tent00_sc02_7" true)
    (cinematic_lights_initialize_for_shot 6)
    (cinematic_clips_initialize_for_shot 6)
    (render_exposure 0 0)
    (sleep 36)
    (sound_looping_stop "sound\vehicles\behemoth\behemoth_horn\behemoth_horn")
    (cinematic_print "custom script play")
    (sleep 37)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_sh8
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 2) 7 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 2) 7)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 0 "buck02_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 1 "dare02_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 2 "player02_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 3 "buck_helmet02_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 4 "buck_rifle02_8" true)
    (object_hide (cinematic_scripting_get_object 1 2 5) true)
    (object_hide (cinematic_scripting_get_object 1 2 6) true)
    (object_hide (cinematic_scripting_get_object 1 2 7) true)
    (object_hide (cinematic_scripting_get_object 1 2 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 9 "dare_automag02_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 10 "l200_olifaunt_final02_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 11 "l200_player_smg02_8" true)
    (object_hide (cinematic_scripting_get_object 1 2 12) true)
    (object_hide (cinematic_scripting_get_object 1 2 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 14 "hatch_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 15 "tent01_sc02_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 16 "tent00_sc02_8" true)
    (cinematic_lights_initialize_for_shot 7)
    (cinematic_clips_initialize_for_shot 7)
    (render_exposure 0 0)
    (sleep 7)
    (cinematic_scripting_start_dialogue 1 2 7 0 none)
    (sleep 30)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_sh9
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 2) 8 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 2) 8)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 0 "buck02_9" true)
    (object_hide (cinematic_scripting_get_object 1 2 1) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 2 "player02_9" true)
    (object_hide (cinematic_scripting_get_object 1 2 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 4 "buck_rifle02_9" true)
    (object_hide (cinematic_scripting_get_object 1 2 5) true)
    (object_hide (cinematic_scripting_get_object 1 2 6) true)
    (object_hide (cinematic_scripting_get_object 1 2 7) true)
    (object_hide (cinematic_scripting_get_object 1 2 8) true)
    (object_hide (cinematic_scripting_get_object 1 2 9) true)
    (object_hide (cinematic_scripting_get_object 1 2 10) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 11 "l200_player_smg02_9" true)
    (object_hide (cinematic_scripting_get_object 1 2 12) true)
    (object_hide (cinematic_scripting_get_object 1 2 13) true)
    (object_hide (cinematic_scripting_get_object 1 2 14) true)
    (object_hide (cinematic_scripting_get_object 1 2 15) true)
    (object_hide (cinematic_scripting_get_object 1 2 16) true)
    (cinematic_lights_initialize_for_shot 8)
    (cinematic_clips_initialize_for_shot 8)
    (render_exposure 0 0)
    (sleep 50)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_sh10
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 2) 9 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 2) 9)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 0 "buck02_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 1 "dare02_10" true)
    (object_hide (cinematic_scripting_get_object 1 2 2) true)
    (object_hide (cinematic_scripting_get_object 1 2 3) true)
    (object_hide (cinematic_scripting_get_object 1 2 4) true)
    (object_hide (cinematic_scripting_get_object 1 2 5) true)
    (object_hide (cinematic_scripting_get_object 1 2 6) true)
    (object_hide (cinematic_scripting_get_object 1 2 7) true)
    (object_hide (cinematic_scripting_get_object 1 2 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 9 "dare_automag02_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 10 "l200_olifaunt_final02_10" true)
    (object_hide (cinematic_scripting_get_object 1 2 11) true)
    (object_hide (cinematic_scripting_get_object 1 2 12) true)
    (object_hide (cinematic_scripting_get_object 1 2 13) true)
    (object_hide (cinematic_scripting_get_object 1 2 14) true)
    (object_hide (cinematic_scripting_get_object 1 2 15) true)
    (object_hide (cinematic_scripting_get_object 1 2 16) true)
    (cinematic_lights_initialize_for_shot 9)
    (cinematic_clips_initialize_for_shot 9)
    (render_exposure 0 0)
    (sleep 31)
    (cinematic_scripting_start_dialogue 1 2 9 0 none)
    (sleep 83)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_sh11
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 2) 10 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 2) 10)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 0 "buck02_11" true)
    (object_hide (cinematic_scripting_get_object 1 2 1) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 2 "player02_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 3 "buck_helmet02_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 4 "buck_rifle02_11" true)
    (object_hide (cinematic_scripting_get_object 1 2 5) true)
    (object_hide (cinematic_scripting_get_object 1 2 6) true)
    (object_hide (cinematic_scripting_get_object 1 2 7) true)
    (object_hide (cinematic_scripting_get_object 1 2 8) true)
    (object_hide (cinematic_scripting_get_object 1 2 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 10 "l200_olifaunt_final02_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 11 "l200_player_smg02_11" true)
    (object_hide (cinematic_scripting_get_object 1 2 12) true)
    (object_hide (cinematic_scripting_get_object 1 2 13) true)
    (object_hide (cinematic_scripting_get_object 1 2 14) true)
    (object_hide (cinematic_scripting_get_object 1 2 15) true)
    (object_hide (cinematic_scripting_get_object 1 2 16) true)
    (cinematic_lights_initialize_for_shot 10)
    (cinematic_clips_initialize_for_shot 10)
    (render_exposure 0 0)
    (sleep 1)
    (sound_looping_stop "sound\vehicles\behemoth\behemoth_left\behemoth_left")
    (cinematic_print "custom script play")
    (sleep 43)
    (cinematic_scripting_start_dialogue 1 2 10 0 none)
    (sleep 93)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_sh12
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 1 2) 11 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 2) 11)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 0 "buck02_12" true)
    (object_hide (cinematic_scripting_get_object 1 2 1) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 2 "player02_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 3 "buck_helmet02_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 4 "buck_rifle02_12" true)
    (object_hide (cinematic_scripting_get_object 1 2 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 6 "cinematic_cov_cruiser13_12" true)
    (object_hide (cinematic_scripting_get_object 1 2 7) true)
    (object_hide (cinematic_scripting_get_object 1 2 8) true)
    (object_hide (cinematic_scripting_get_object 1 2 9) true)
    (object_hide (cinematic_scripting_get_object 1 2 10) true)
    (object_hide (cinematic_scripting_get_object 1 2 11) true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 12 "warthog02_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 1 2 13 "chain_turret02_12" true)
    (object_hide (cinematic_scripting_get_object 1 2 14) true)
    (object_hide (cinematic_scripting_get_object 1 2 15) true)
    (object_hide (cinematic_scripting_get_object 1 2 16) true)
    (cinematic_lights_initialize_for_shot 11)
    (cinematic_clips_initialize_for_shot 11)
    (render_exposure 0 0)
    (object_set_function_variable (cinematic_scripting_get_object 1 2 3) "polarize" 1 0)
    (sleep 37)
    (cinematic_scripting_start_dialogue 1 2 11 0 none)
    (sleep 56)
    (object_set_function_variable (cinematic_scripting_get_object 1 2 3) "polarize" 0 20)
    (sleep 132)
    (cinematic_scripting_fade_out 0 0 0 30)
    (sleep 29)
    (sound_class_set_gain "obj" 1 0)
    (cinematic_print "custom script play")
    (sleep 1)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !l200_out_hb_02_sc
    (cinematic_print "beginning scene 3")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 1 2) 0)
    (l200_out_hb_02_sc_sh1)
    (l200_out_hb_02_sc_sh2)
    (l200_out_hb_02_sc_sh3)
    (l200_out_hb_02_sc_sh4)
    (l200_out_hb_02_sc_sh5)
    (l200_out_hb_02_sc_sh6)
    (l200_out_hb_02_sc_sh7)
    (l200_out_hb_02_sc_sh8)
    (l200_out_hb_02_sc_sh9)
    (l200_out_hb_02_sc_sh10)
    (l200_out_hb_02_sc_sh11)
    (l200_out_hb_02_sc_sh12)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 1 2 0)
    (cinematic_scripting_destroy_object 1 2 1)
    (cinematic_scripting_destroy_object 1 2 2)
    (cinematic_scripting_destroy_object 1 2 3)
    (cinematic_scripting_destroy_object 1 2 4)
    (cinematic_scripting_destroy_object 1 2 5)
    (cinematic_scripting_destroy_object 1 2 6)
    (cinematic_scripting_destroy_object 1 2 7)
    (cinematic_scripting_destroy_object 1 2 8)
    (cinematic_scripting_destroy_object 1 2 9)
    (cinematic_scripting_destroy_object 1 2 10)
    (cinematic_scripting_destroy_object 1 2 11)
    (cinematic_scripting_destroy_object 1 2 12)
    (cinematic_scripting_destroy_object 1 2 13)
    (cinematic_scripting_destroy_object 1 2 14)
    (cinematic_scripting_destroy_object 1 2 15)
    (cinematic_scripting_destroy_object 1 2 16)
)

(script static void l200_out_hb_cleanup
    (cinematic_scripting_clean_up 1)
)

(script static void begin_l200_out_hb_debug
    (cinematic_zone_activate_for_debugging 1)
    (sleep 2)
    (camera_control true)
    (cinematic_start)
    (set cinematic_letterbox_style 2)
    (cinematic_show_letterbox_immediate true)
    (chud_cinematic_fade 0 0)
    (camera_set_cinematic)
    (cinematic_set_debug_mode true)
    (cinematic_set (cinematic_tag_reference_get_cinematic 1))
)

(script static void end_l200_out_hb_debug
    (cinematic_destroy)
    (chud_cinematic_fade 1 0)
    (cinematic_stop)
    (cinematic_show_letterbox_immediate false)
    (camera_control false)
    (render_exposure_fade_out 0)
    (cinematic_zone_deactivate 1)
    (fade_in 0 0 0 0)
)

(script static void l200_out_hb_debug
    (begin_l200_out_hb_debug)
    (fade_in 0 0 0 10)
    (begin
        (sound_class_set_gain "" 0 0)
        (sound_class_set_gain "amb" 1 0)
        (sound_class_set_gain "ambient_machinery_details" 0 0)
        (sound_class_set_gain "amb" 0 60)
        (sound_class_set_gain "scripted" 1 0)
        (sound_class_set_gain "dialog" 1 0)
        (sound_class_set_gain "mus" 1 0)
    )
    (!l200_out_hb_00_sc)
    (!l200_out_hb_01_sc)
    (!l200_out_hb_02_sc)
    (sound_class_set_gain "" 1 60)
    (end_l200_out_hb_debug)
)

(script static void begin_l200_out_hb
    (cinematic_zone_activate 1)
    (sleep 2)
    (camera_set_cinematic)
    (cinematic_set_debug_mode false)
    (cinematic_set (cinematic_tag_reference_get_cinematic 1))
)

(script static void end_l200_out_hb
    (cinematic_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb
    (begin_l200_out_hb)
    (fade_in 0 0 0 10)
    (begin
        (sound_class_set_gain "" 0 0)
        (sound_class_set_gain "amb" 1 0)
        (sound_class_set_gain "ambient_machinery_details" 0 0)
        (sound_class_set_gain "amb" 0 60)
        (sound_class_set_gain "scripted" 1 0)
        (sound_class_set_gain "dialog" 1 0)
        (sound_class_set_gain "mus" 1 0)
    )
    (!l200_out_hb_00_sc)
    (!l200_out_hb_01_sc)
    (!l200_out_hb_02_sc)
    (sound_class_set_gain "" 1 60)
    (end_l200_out_hb)
)

(script static void l200_out_sc_01_sc_sh1
    (cinematic_show_letterbox_immediate true)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2 0) 0 "l200_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 0)
    (cinematic_object_create_cinematic_anchor "l200_out_sc_anchor" "l200_out_sc_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 "l200_01_buck_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 1 "l200_01_dare_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 2 "l200_01_engineer_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 3 "l200_01_player_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 4 "l200_01_buck_assault_rifle_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 5 "l200_01_buck_helmet_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 6 "l200_01_elevator1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 7 "l200_01_player_smg1_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 8 "light_marker_1" true)
    (object_hide (cinematic_scripting_get_object 2 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 10 "dare_pistol_01_1" true)
    (object_hide (cinematic_scripting_get_object 2 0 11) true)
    (object_hide (cinematic_scripting_get_object 2 0 12) true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (sleep 1)
    (cinematic_scripting_start_music 2 0 0 0)
    (cinematic_scripting_start_music 2 0 0 1)
    (sleep 134)
    (cinematic_scripting_start_dialogue 2 0 0 0 (cinematic_scripting_get_object 2 0 0))
    (sleep 22)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_sc_01_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2 0) 1 "l200_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 1)
    (cinematic_object_create_cinematic_anchor "l200_out_sc_anchor" "l200_out_sc_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 "l200_01_buck_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 1 "l200_01_dare_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 2 "l200_01_engineer_2" true)
    (object_hide (cinematic_scripting_get_object 2 0 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 4 "l200_01_buck_assault_rifle_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 5 "l200_01_buck_helmet_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 6 "l200_01_elevator1_2" true)
    (object_hide (cinematic_scripting_get_object 2 0 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 8 "light_marker_2" true)
    (object_hide (cinematic_scripting_get_object 2 0 9) true)
    (object_hide (cinematic_scripting_get_object 2 0 10) true)
    (object_hide (cinematic_scripting_get_object 2 0 11) true)
    (object_hide (cinematic_scripting_get_object 2 0 12) true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (sleep 128)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_sc_01_sc_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2 0) 2 "l200_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 2)
    (cinematic_object_create_cinematic_anchor "l200_out_sc_anchor" "l200_out_sc_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 "l200_01_buck_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 1 "l200_01_dare_3" true)
    (object_hide (cinematic_scripting_get_object 2 0 2) true)
    (object_hide (cinematic_scripting_get_object 2 0 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 4 "l200_01_buck_assault_rifle_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 5 "l200_01_buck_helmet_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 6 "l200_01_elevator1_3" true)
    (object_hide (cinematic_scripting_get_object 2 0 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 8 "light_marker_3" true)
    (object_hide (cinematic_scripting_get_object 2 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 10 "dare_pistol_01_3" true)
    (object_hide (cinematic_scripting_get_object 2 0 11) true)
    (object_hide (cinematic_scripting_get_object 2 0 12) true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (sleep 13)
    (cinematic_scripting_start_dialogue 2 0 2 0 (cinematic_scripting_get_object 2 0 0))
    (sleep 100)
    (cinematic_scripting_start_dialogue 2 0 2 1 (cinematic_scripting_get_object 2 0 1))
    (sleep 51)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_sc_01_sc_sh4
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2 0) 3 "l200_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 3)
    (cinematic_object_create_cinematic_anchor "l200_out_sc_anchor" "l200_out_sc_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 "l200_01_buck_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 1 "l200_01_dare_4" true)
    (object_hide (cinematic_scripting_get_object 2 0 2) true)
    (object_hide (cinematic_scripting_get_object 2 0 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 4 "l200_01_buck_assault_rifle_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 5 "l200_01_buck_helmet_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 6 "l200_01_elevator1_4" true)
    (object_hide (cinematic_scripting_get_object 2 0 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 8 "light_marker_4" true)
    (object_hide (cinematic_scripting_get_object 2 0 9) true)
    (object_hide (cinematic_scripting_get_object 2 0 10) true)
    (object_hide (cinematic_scripting_get_object 2 0 11) true)
    (object_hide (cinematic_scripting_get_object 2 0 12) true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (sleep 13)
    (cinematic_scripting_start_dialogue 2 0 3 0 (cinematic_scripting_get_object 2 0 0))
    (sleep 119)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_sc_01_sc_sh5
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2 0) 4 "l200_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 4)
    (cinematic_object_create_cinematic_anchor "l200_out_sc_anchor" "l200_out_sc_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 "l200_01_buck_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 1 "l200_01_dare_5" true)
    (object_hide (cinematic_scripting_get_object 2 0 2) true)
    (object_hide (cinematic_scripting_get_object 2 0 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 4 "l200_01_buck_assault_rifle_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 5 "l200_01_buck_helmet_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 6 "l200_01_elevator1_5" true)
    (object_hide (cinematic_scripting_get_object 2 0 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 8 "light_marker_5" true)
    (object_hide (cinematic_scripting_get_object 2 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 10 "dare_pistol_01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 11 "light_marker_red_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 12 "light_marker_red2_5" true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (sleep 3)
    (cinematic_scripting_start_dialogue 2 0 4 0 (cinematic_scripting_get_object 2 0 1))
    (sleep 78)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_sc_01_sc_sh6
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2 0) 5 "l200_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 5)
    (cinematic_object_create_cinematic_anchor "l200_out_sc_anchor" "l200_out_sc_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 "l200_01_buck_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 1 "l200_01_dare_6" true)
    (object_hide (cinematic_scripting_get_object 2 0 2) true)
    (object_hide (cinematic_scripting_get_object 2 0 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 4 "l200_01_buck_assault_rifle_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 5 "l200_01_buck_helmet_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 6 "l200_01_elevator1_6" true)
    (object_hide (cinematic_scripting_get_object 2 0 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 8 "light_marker_6" true)
    (object_hide (cinematic_scripting_get_object 2 0 9) true)
    (object_hide (cinematic_scripting_get_object 2 0 10) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 11 "light_marker_red_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 12 "light_marker_red2_6" true)
    (cinematic_lights_initialize_for_shot 5)
    (cinematic_clips_initialize_for_shot 5)
    (sleep 36)
    (cinematic_scripting_start_dialogue 2 0 5 0 (cinematic_scripting_get_object 2 0 0))
    (sleep 82)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_sc_01_sc_sh7
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2 0) 6 "l200_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 6)
    (cinematic_object_create_cinematic_anchor "l200_out_sc_anchor" "l200_out_sc_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 "l200_01_buck_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 1 "l200_01_dare_7" true)
    (object_hide (cinematic_scripting_get_object 2 0 2) true)
    (object_hide (cinematic_scripting_get_object 2 0 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 4 "l200_01_buck_assault_rifle_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 5 "l200_01_buck_helmet_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 6 "l200_01_elevator1_7" true)
    (object_hide (cinematic_scripting_get_object 2 0 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 8 "light_marker_7" true)
    (object_hide (cinematic_scripting_get_object 2 0 9) true)
    (object_hide (cinematic_scripting_get_object 2 0 10) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 11 "light_marker_red_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 12 "light_marker_red2_7" true)
    (cinematic_lights_initialize_for_shot 6)
    (cinematic_clips_initialize_for_shot 6)
    (sleep 44)
    (cinematic_scripting_start_dialogue 2 0 6 0 (cinematic_scripting_get_object 2 0 1))
    (sleep 57)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_sc_01_sc_sh8
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2 0) 7 "l200_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 7)
    (cinematic_object_create_cinematic_anchor "l200_out_sc_anchor" "l200_out_sc_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 "l200_01_buck_8" true)
    (object_hide (cinematic_scripting_get_object 2 0 1) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 2 "l200_01_engineer_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 3 "l200_01_player_8" true)
    (object_hide (cinematic_scripting_get_object 2 0 4) true)
    (object_hide (cinematic_scripting_get_object 2 0 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 6 "l200_01_elevator1_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 7 "l200_01_player_smg1_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 8 "light_marker_8" true)
    (object_hide (cinematic_scripting_get_object 2 0 9) true)
    (object_hide (cinematic_scripting_get_object 2 0 10) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 11 "light_marker_red_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 12 "light_marker_red2_8" true)
    (cinematic_lights_initialize_for_shot 7)
    (cinematic_clips_initialize_for_shot 7)
    (sleep 35)
    (cinematic_scripting_start_effect 2 0 7 0 (cinematic_object_get "engineer"))
    (sleep 60)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_sc_01_sc_sh9
    (begin
        (fade_in 1 1 1 20)
        (cinematic_show_letterbox_immediate false)
        (cinematic_hud_on)
        (set render_lightmap_shadows false)
    )
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 2 0) 8 "l200_out_sc_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 8)
    (cinematic_object_create_cinematic_anchor "l200_out_sc_anchor" "l200_out_sc_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 0 "l200_01_buck_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 1 "l200_01_dare_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 2 "l200_01_engineer_9" true)
    (object_hide (cinematic_scripting_get_object 2 0 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 4 "l200_01_buck_assault_rifle_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 5 "l200_01_buck_helmet_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 6 "l200_01_elevator1_9" true)
    (object_hide (cinematic_scripting_get_object 2 0 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 8 "light_marker_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 9 "hub_door_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 10 "dare_pistol_01_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 11 "light_marker_red_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 2 0 12 "light_marker_red2_9" true)
    (cinematic_lights_initialize_for_shot 8)
    (cinematic_clips_initialize_for_shot 8)
    (sleep 1)
    (cinematic_scripting_start_music 2 0 8 0)
    (sleep 39)
    (cinematic_scripting_start_dialogue 2 0 8 0 (cinematic_scripting_get_object 2 0 1))
    (sleep 39)
    (cinematic_scripting_start_dialogue 2 0 8 1 (cinematic_scripting_get_object 2 0 0))
    (sleep 117)
    (cinematic_scripting_start_dialogue 2 0 8 2 (cinematic_scripting_get_object 2 0 0))
    (sleep 215)
    (cinematic_scripting_fade_out 0 0 0 30)
    (sleep 30)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !l200_out_sc_01_sc
    (cinematic_print "beginning scene 1")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 2 0) 0)
    (l200_out_sc_01_sc_sh1)
    (l200_out_sc_01_sc_sh2)
    (l200_out_sc_01_sc_sh3)
    (l200_out_sc_01_sc_sh4)
    (l200_out_sc_01_sc_sh5)
    (l200_out_sc_01_sc_sh6)
    (l200_out_sc_01_sc_sh7)
    (l200_out_sc_01_sc_sh8)
    (l200_out_sc_01_sc_sh9)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 2 0 0)
    (cinematic_scripting_destroy_object 2 0 1)
    (cinematic_scripting_destroy_object 2 0 2)
    (cinematic_scripting_destroy_object 2 0 3)
    (cinematic_scripting_destroy_object 2 0 4)
    (cinematic_scripting_destroy_object 2 0 5)
    (cinematic_scripting_destroy_object 2 0 6)
    (cinematic_scripting_destroy_object 2 0 7)
    (cinematic_scripting_destroy_object 2 0 8)
    (cinematic_scripting_destroy_object 2 0 9)
    (cinematic_scripting_destroy_object 2 0 10)
    (cinematic_scripting_destroy_object 2 0 11)
    (cinematic_scripting_destroy_object 2 0 12)
)

(script static void l200_out_sc_cleanup
    (cinematic_scripting_clean_up 2)
)

(script static void begin_l200_out_sc_debug
    (cinematic_zone_activate_for_debugging 2)
    (sleep 2)
    (camera_control true)
    (cinematic_start)
    (set cinematic_letterbox_style 2)
    (cinematic_show_letterbox_immediate true)
    (chud_cinematic_fade 0 0)
    (camera_set_cinematic)
    (cinematic_set_debug_mode true)
    (cinematic_set (cinematic_tag_reference_get_cinematic 2))
)

(script static void end_l200_out_sc_debug
    (cinematic_destroy)
    (chud_cinematic_fade 1 0)
    (cinematic_stop)
    (cinematic_show_letterbox_immediate false)
    (camera_control false)
    (render_exposure_fade_out 0)
    (cinematic_zone_deactivate 2)
    (fade_in 0 0 0 0)
)

(script static void l200_out_sc_debug
    (begin_l200_out_sc_debug)
    (fade_in 0 0 0 10)
    (begin
        (sound_class_set_gain "" 0 0)
        (sound_class_set_gain "scripted" 1 0)
        (sound_class_set_gain "dialog" 1 0)
        (sound_class_set_gain "mus" 1 0)
    )
    (!l200_out_sc_01_sc)
    (sound_class_set_gain "" 1 60)
    (end_l200_out_sc_debug)
)

(script static void begin_l200_out_sc
    (cinematic_zone_activate 2)
    (sleep 2)
    (camera_set_cinematic)
    (cinematic_set_debug_mode false)
    (cinematic_set (cinematic_tag_reference_get_cinematic 2))
)

(script static void end_l200_out_sc
    (cinematic_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_sc
    (begin_l200_out_sc)
    (fade_in 0 0 0 10)
    (begin
        (sound_class_set_gain "" 0 0)
        (sound_class_set_gain "scripted" 1 0)
        (sound_class_set_gain "dialog" 1 0)
        (sound_class_set_gain "mus" 1 0)
    )
    (!l200_out_sc_01_sc)
    (sound_class_set_gain "" 1 60)
    (end_l200_out_sc)
)

(script static void l300_va_scarab_sc_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 3 0) 0 "l300_va_scarab_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 3 0) 0)
    (cinematic_object_create_cinematic_anchor "l300_va_scarab_anchor" "l300_va_scarab_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 0 "scarab_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (sleep 545)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l300_va_scarab_sc_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 3 0) 1 "l300_va_scarab_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 3 0) 1)
    (cinematic_object_create_cinematic_anchor "l300_va_scarab_anchor" "l300_va_scarab_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 0 "scarab_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (sleep 60)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l300_va_scarab_sc_sh3
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 3 0) 2 "l300_va_scarab_anchor")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 3 0) 2)
    (cinematic_object_create_cinematic_anchor "l300_va_scarab_anchor" "l300_va_scarab_anchor")
    (cinematic_scripting_create_and_animate_cinematic_object 3 0 0 "scarab_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (sleep 296)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !l300_va_scarab_sc
    (cinematic_print "beginning scene 1")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 3 0) 0)
    (l300_va_scarab_sc_sh1)
    (l300_va_scarab_sc_sh2)
    (l300_va_scarab_sc_sh3)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 3 0 0)
)

(script static void l300_va_scarab_cleanup
    (cinematic_scripting_clean_up 3)
)

(script static void begin_l300_va_scarab_debug
    (cinematic_zone_activate_for_debugging 3)
    (sleep 2)
    (camera_control true)
    (cinematic_start)
    (set cinematic_letterbox_style 2)
    (cinematic_show_letterbox_immediate true)
    (chud_cinematic_fade 0 0)
    (camera_set_cinematic)
    (cinematic_set_debug_mode true)
    (cinematic_set (cinematic_tag_reference_get_cinematic 3))
)

(script static void end_l300_va_scarab_debug
    (cinematic_destroy)
    (chud_cinematic_fade 1 0)
    (cinematic_stop)
    (cinematic_show_letterbox_immediate false)
    (camera_control false)
    (render_exposure_fade_out 0)
    (cinematic_zone_deactivate 3)
    (fade_in 0 0 0 0)
)

(script static void l300_va_scarab_debug
    (begin_l300_va_scarab_debug)
    (fade_in 0 0 0 0)
    (!l300_va_scarab_sc)
    (end_l300_va_scarab_debug)
)

(script static void begin_l300_va_scarab
    (cinematic_zone_activate 3)
    (sleep 2)
    (camera_set_cinematic)
    (cinematic_set_debug_mode false)
    (cinematic_set (cinematic_tag_reference_get_cinematic 3))
)

(script static void end_l300_va_scarab
    (cinematic_destroy)
    (render_exposure_fade_out 0)
)

(script static void l300_va_scarab
    (begin_l300_va_scarab)
    (fade_in 0 0 0 0)
    (!l300_va_scarab_sc)
    (end_l300_va_scarab)
)

(script static void l200_out_hb_01_sc_ins_sh1
    (begin
        (switch_zone_set "l300_010_cin")
        (set render_lightmap_shadows false)
        (cinematic_show_letterbox_immediate true)
        (fade_in 0 0 0 30)
    )
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 0) 0 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 0) 0)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 0 "buck01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 1 "dare01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 2 "player01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 3 "buck_helmet01_1" true)
    (object_hide (cinematic_scripting_get_object 4 0 4) true)
    (object_hide (cinematic_scripting_get_object 4 0 5) true)
    (object_hide (cinematic_scripting_get_object 4 0 6) true)
    (object_hide (cinematic_scripting_get_object 4 0 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 8 "dare_automag01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 9 "engineer01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 10 "l200_olifaunt_final01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 11 "l200_player_smg01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 12 "warthog01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 13 "chain_turret01_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 14 "buck_rifle01_1" true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 0 0)
    (sleep 1)
    (cinematic_scripting_start_music 4 0 0 0)
    (sleep 164)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_ins_sh2
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 0) 1 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 0) 1)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 0 "buck01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 1 "dare01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 2 "player01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 3 "buck_helmet01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 4 "cinematic_cov_cruiser02_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 5 "cinematic_cov_cruiser03_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 6 "cinematic_cov_cruiser04_2" true)
    (object_hide (cinematic_scripting_get_object 4 0 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 8 "dare_automag01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 9 "engineer01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 10 "l200_olifaunt_final01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 11 "l200_player_smg01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 12 "warthog01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 13 "chain_turret01_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 14 "buck_rifle01_2" true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure 0 0)
    (cinematic_scripting_start_effect 4 0 1 0 (cinematic_object_get "covcruiser02"))
    (cinematic_scripting_start_effect 4 0 1 2 (cinematic_object_get "covcruiser04"))
    (object_set_function_variable (cinematic_scripting_get_object 4 0 9) "illum" 0.5 0)
    (object_set_function_variable (cinematic_scripting_get_object 4 0 5) "slipspace" 1 0)
    (cinematic_scripting_start_effect 4 0 1 1 (cinematic_object_get "covcruiser03"))
    (object_set_function_variable (cinematic_scripting_get_object 4 0 6) "slipspace" 0.15 0)
    (object_set_function_variable (cinematic_scripting_get_object 4 0 4) "slipspace" 1 0)
    (sleep 70)
    (cinematic_scripting_start_dialogue 4 0 1 0 (cinematic_scripting_get_object 4 0 1))
    (sleep 42)
    (cinematic_scripting_start_dialogue 4 0 1 1 (cinematic_scripting_get_object 4 0 0))
    (sleep 69)
    (cinematic_scripting_start_dialogue 4 0 1 2 (cinematic_scripting_get_object 4 0 1))
    (sleep 9)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_ins_sh3
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 0) 2 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 0) 2)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 0 "buck01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 1 "dare01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 2 "player01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 3 "buck_helmet01_3" true)
    (object_hide (cinematic_scripting_get_object 4 0 4) true)
    (object_hide (cinematic_scripting_get_object 4 0 5) true)
    (object_hide (cinematic_scripting_get_object 4 0 6) true)
    (object_hide (cinematic_scripting_get_object 4 0 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 8 "dare_automag01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 9 "engineer01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 10 "l200_olifaunt_final01_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 11 "l200_player_smg01_3" true)
    (object_hide (cinematic_scripting_get_object 4 0 12) true)
    (object_hide (cinematic_scripting_get_object 4 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 14 "buck_rifle01_3" true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (render_exposure 0 0)
    (sleep 49)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_ins_sh4
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 0) 3 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 0) 3)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 0 "buck01_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 1 "dare01_4" true)
    (object_hide (cinematic_scripting_get_object 4 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 3 "buck_helmet01_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 4 "cinematic_cov_cruiser02_4" true)
    (object_hide (cinematic_scripting_get_object 4 0 5) true)
    (object_hide (cinematic_scripting_get_object 4 0 6) true)
    (object_hide (cinematic_scripting_get_object 4 0 7) true)
    (object_hide (cinematic_scripting_get_object 4 0 8) true)
    (object_hide (cinematic_scripting_get_object 4 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 10 "l200_olifaunt_final01_4" true)
    (object_hide (cinematic_scripting_get_object 4 0 11) true)
    (object_hide (cinematic_scripting_get_object 4 0 12) true)
    (object_hide (cinematic_scripting_get_object 4 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 14 "buck_rifle01_4" true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (render_exposure 0 0)
    (object_set_function_variable (cinematic_scripting_get_object 4 0 3) "polarize" 0 0)
    (sleep 1)
    (object_set_function_variable (cinematic_scripting_get_object 4 0 3) "polarize" 1 20)
    (sleep 33)
    (cinematic_scripting_start_dialogue 4 0 3 0 (cinematic_scripting_get_object 4 0 0))
    (sleep 106)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_ins_sh5
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 0) 4 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 0) 4)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 0 "buck01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 1 "dare01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 2 "player01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 3 "buck_helmet01_5" true)
    (object_hide (cinematic_scripting_get_object 4 0 4) true)
    (object_hide (cinematic_scripting_get_object 4 0 5) true)
    (object_hide (cinematic_scripting_get_object 4 0 6) true)
    (object_hide (cinematic_scripting_get_object 4 0 7) true)
    (object_hide (cinematic_scripting_get_object 4 0 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 9 "engineer01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 10 "l200_olifaunt_final01_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 11 "l200_player_smg01_5" true)
    (object_hide (cinematic_scripting_get_object 4 0 12) true)
    (object_hide (cinematic_scripting_get_object 4 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 14 "buck_rifle01_5" true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (render_exposure 0 0)
    (sleep 64)
    (cinematic_scripting_start_dialogue 4 0 4 0 (cinematic_scripting_get_object 4 0 1))
    (sleep 25)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_ins_sh6
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 0) 5 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 0) 5)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 0 "buck01_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 1 "dare01_6" true)
    (object_hide (cinematic_scripting_get_object 4 0 2) true)
    (object_hide (cinematic_scripting_get_object 4 0 3) true)
    (object_hide (cinematic_scripting_get_object 4 0 4) true)
    (object_hide (cinematic_scripting_get_object 4 0 5) true)
    (object_hide (cinematic_scripting_get_object 4 0 6) true)
    (object_hide (cinematic_scripting_get_object 4 0 7) true)
    (object_hide (cinematic_scripting_get_object 4 0 8) true)
    (object_hide (cinematic_scripting_get_object 4 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 10 "l200_olifaunt_final01_6" true)
    (object_hide (cinematic_scripting_get_object 4 0 11) true)
    (object_hide (cinematic_scripting_get_object 4 0 12) true)
    (object_hide (cinematic_scripting_get_object 4 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 14 "buck_rifle01_6" true)
    (cinematic_lights_initialize_for_shot 5)
    (cinematic_clips_initialize_for_shot 5)
    (render_exposure 0 0)
    (sleep 77)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_ins_sh7
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 0) 6 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 0) 6)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 0 "buck01_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 1 "dare01_7" true)
    (object_hide (cinematic_scripting_get_object 4 0 2) true)
    (object_hide (cinematic_scripting_get_object 4 0 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 4 "cinematic_cov_cruiser02_7" true)
    (object_hide (cinematic_scripting_get_object 4 0 5) true)
    (object_hide (cinematic_scripting_get_object 4 0 6) true)
    (object_hide (cinematic_scripting_get_object 4 0 7) true)
    (object_hide (cinematic_scripting_get_object 4 0 8) true)
    (object_hide (cinematic_scripting_get_object 4 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 10 "l200_olifaunt_final01_7" true)
    (object_hide (cinematic_scripting_get_object 4 0 11) true)
    (object_hide (cinematic_scripting_get_object 4 0 12) true)
    (object_hide (cinematic_scripting_get_object 4 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 14 "buck_rifle01_7" true)
    (cinematic_lights_initialize_for_shot 6)
    (cinematic_clips_initialize_for_shot 6)
    (render_exposure 0 0)
    (sleep 1)
    (cinematic_scripting_start_dialogue 4 0 6 0 (cinematic_scripting_get_object 4 0 0))
    (sleep 52)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_ins_sh8
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 0) 7 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 0) 7)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 0 "buck01_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 1 "dare01_8" true)
    (object_hide (cinematic_scripting_get_object 4 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 3 "buck_helmet01_8" true)
    (object_hide (cinematic_scripting_get_object 4 0 4) true)
    (object_hide (cinematic_scripting_get_object 4 0 5) true)
    (object_hide (cinematic_scripting_get_object 4 0 6) true)
    (object_hide (cinematic_scripting_get_object 4 0 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 8 "dare_automag01_8" true)
    (object_hide (cinematic_scripting_get_object 4 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 10 "l200_olifaunt_final01_8" true)
    (object_hide (cinematic_scripting_get_object 4 0 11) true)
    (object_hide (cinematic_scripting_get_object 4 0 12) true)
    (object_hide (cinematic_scripting_get_object 4 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 14 "buck_rifle01_8" true)
    (cinematic_lights_initialize_for_shot 7)
    (cinematic_clips_initialize_for_shot 7)
    (render_exposure 0 0)
    (sleep 126)
    (cinematic_scripting_start_dialogue 4 0 7 0 (cinematic_scripting_get_object 4 0 1))
    (sleep 30)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_ins_sh9
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 0) 8 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 0) 8)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 0 "buck01_9" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 1 "dare01_9" true)
    (object_hide (cinematic_scripting_get_object 4 0 2) true)
    (object_hide (cinematic_scripting_get_object 4 0 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 4 "cinematic_cov_cruiser02_9" true)
    (object_hide (cinematic_scripting_get_object 4 0 5) true)
    (object_hide (cinematic_scripting_get_object 4 0 6) true)
    (object_hide (cinematic_scripting_get_object 4 0 7) true)
    (object_hide (cinematic_scripting_get_object 4 0 8) true)
    (object_hide (cinematic_scripting_get_object 4 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 10 "l200_olifaunt_final01_9" true)
    (object_hide (cinematic_scripting_get_object 4 0 11) true)
    (object_hide (cinematic_scripting_get_object 4 0 12) true)
    (object_hide (cinematic_scripting_get_object 4 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 14 "buck_rifle01_9" true)
    (cinematic_lights_initialize_for_shot 8)
    (cinematic_clips_initialize_for_shot 8)
    (render_exposure 0 0)
    (sleep 4)
    (cinematic_scripting_start_dialogue 4 0 8 0 (cinematic_scripting_get_object 4 0 0))
    (sleep 42)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_ins_sh10
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 0) 9 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 0) 9)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 0 "buck01_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 1 "dare01_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 2 "player01_10" true)
    (object_hide (cinematic_scripting_get_object 4 0 3) true)
    (object_hide (cinematic_scripting_get_object 4 0 4) true)
    (object_hide (cinematic_scripting_get_object 4 0 5) true)
    (object_hide (cinematic_scripting_get_object 4 0 6) true)
    (object_hide (cinematic_scripting_get_object 4 0 7) true)
    (object_hide (cinematic_scripting_get_object 4 0 8) true)
    (object_hide (cinematic_scripting_get_object 4 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 10 "l200_olifaunt_final01_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 11 "l200_player_smg01_10" true)
    (object_hide (cinematic_scripting_get_object 4 0 12) true)
    (object_hide (cinematic_scripting_get_object 4 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 14 "buck_rifle01_10" true)
    (cinematic_lights_initialize_for_shot 9)
    (cinematic_clips_initialize_for_shot 9)
    (render_exposure 0 0)
    (sleep 4)
    (cinematic_scripting_start_dialogue 4 0 9 0 (cinematic_scripting_get_object 4 0 1))
    (sleep 59)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_01_sc_ins_sh11
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 0) 10 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 0) 10)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 0 "buck01_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 1 "dare01_11" true)
    (object_hide (cinematic_scripting_get_object 4 0 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 3 "buck_helmet01_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 4 "cinematic_cov_cruiser02_11" true)
    (object_hide (cinematic_scripting_get_object 4 0 5) true)
    (object_hide (cinematic_scripting_get_object 4 0 6) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 7 "cinematic_cov_cruiser05_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 8 "dare_automag01_11" true)
    (object_hide (cinematic_scripting_get_object 4 0 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 10 "l200_olifaunt_final01_11" true)
    (object_hide (cinematic_scripting_get_object 4 0 11) true)
    (object_hide (cinematic_scripting_get_object 4 0 12) true)
    (object_hide (cinematic_scripting_get_object 4 0 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 0 14 "buck_rifle01_11" true)
    (cinematic_lights_initialize_for_shot 10)
    (cinematic_clips_initialize_for_shot 10)
    (render_exposure 0 0)
    (sleep 9)
    (cinematic_scripting_start_dialogue 4 0 10 0 (cinematic_scripting_get_object 4 0 0))
    (sleep 126)
    (cinematic_scripting_start_effect 4 0 10 0 (cinematic_object_get "covcruiser05"))
    (sleep 3)
    (begin
        (player_effect_set_max_rumble 0.2 0.2)
        (player_effect_start 1 0)
    )
    (cinematic_print "custom script play")
    (sleep 1)
    (cinematic_print "custom script play")
    (player_effect_stop 2)
    (sleep 32)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !l200_out_hb_01_sc_ins
    (cinematic_print "beginning scene 1")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 0) 0)
    (l200_out_hb_01_sc_ins_sh1)
    (l200_out_hb_01_sc_ins_sh2)
    (l200_out_hb_01_sc_ins_sh3)
    (l200_out_hb_01_sc_ins_sh4)
    (l200_out_hb_01_sc_ins_sh5)
    (l200_out_hb_01_sc_ins_sh6)
    (l200_out_hb_01_sc_ins_sh7)
    (l200_out_hb_01_sc_ins_sh8)
    (l200_out_hb_01_sc_ins_sh9)
    (l200_out_hb_01_sc_ins_sh10)
    (l200_out_hb_01_sc_ins_sh11)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 4 0 0)
    (cinematic_scripting_destroy_object 4 0 1)
    (cinematic_scripting_destroy_object 4 0 2)
    (cinematic_scripting_destroy_object 4 0 3)
    (cinematic_scripting_destroy_object 4 0 4)
    (cinematic_scripting_destroy_object 4 0 5)
    (cinematic_scripting_destroy_object 4 0 6)
    (cinematic_scripting_destroy_object 4 0 7)
    (cinematic_scripting_destroy_object 4 0 8)
    (cinematic_scripting_destroy_object 4 0 9)
    (cinematic_scripting_destroy_object 4 0 10)
    (cinematic_scripting_destroy_object 4 0 11)
    (cinematic_scripting_destroy_object 4 0 12)
    (cinematic_scripting_destroy_object 4 0 13)
    (cinematic_scripting_destroy_object 4 0 14)
)

(script static void l200_out_hb_02_sc_ins_sh1
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 1) 0 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 1) 0)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 0 "buck02_1" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 1 "dare02_1" true)
    (object_hide (cinematic_scripting_get_object 4 1 2) true)
    (object_hide (cinematic_scripting_get_object 4 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 4 "buck_rifle02_1" true)
    (object_hide (cinematic_scripting_get_object 4 1 5) true)
    (object_hide (cinematic_scripting_get_object 4 1 6) true)
    (object_hide (cinematic_scripting_get_object 4 1 7) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 8 "cinematic_cov_cruiser15_1" true)
    (object_hide (cinematic_scripting_get_object 4 1 9) true)
    (object_hide (cinematic_scripting_get_object 4 1 10) true)
    (object_hide (cinematic_scripting_get_object 4 1 11) true)
    (object_hide (cinematic_scripting_get_object 4 1 12) true)
    (object_hide (cinematic_scripting_get_object 4 1 13) true)
    (object_hide (cinematic_scripting_get_object 4 1 14) true)
    (object_hide (cinematic_scripting_get_object 4 1 15) true)
    (object_hide (cinematic_scripting_get_object 4 1 16) true)
    (cinematic_lights_initialize_for_shot 0)
    (cinematic_clips_initialize_for_shot 0)
    (render_exposure 0 0)
    (cinematic_scripting_start_effect 4 1 0 0 (cinematic_object_get "covcruiser05"))
    (object_set_function_variable (cinematic_scripting_get_object 4 1 8) "slipspace" 1 0)
    (sleep 1)
    (cinematic_print "custom script play")
    (sound_class_set_gain "obj" 0 0)
    (object_set_function_variable (cinematic_scripting_get_object 4 1 8) "slipspace" 0 35)
    (sleep 29)
    (cinematic_scripting_start_dialogue 4 1 0 0 none)
    (sleep 10)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_ins_sh2
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 1) 1 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 1) 1)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 0 "buck02_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 1 "dare02_2" true)
    (object_hide (cinematic_scripting_get_object 4 1 2) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 3 "buck_helmet02_2" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 4 "buck_rifle02_2" true)
    (object_hide (cinematic_scripting_get_object 4 1 5) true)
    (object_hide (cinematic_scripting_get_object 4 1 6) true)
    (object_hide (cinematic_scripting_get_object 4 1 7) true)
    (object_hide (cinematic_scripting_get_object 4 1 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 9 "dare_automag02_2" true)
    (object_hide (cinematic_scripting_get_object 4 1 10) true)
    (object_hide (cinematic_scripting_get_object 4 1 11) true)
    (object_hide (cinematic_scripting_get_object 4 1 12) true)
    (object_hide (cinematic_scripting_get_object 4 1 13) true)
    (object_hide (cinematic_scripting_get_object 4 1 14) true)
    (object_hide (cinematic_scripting_get_object 4 1 15) true)
    (object_hide (cinematic_scripting_get_object 4 1 16) true)
    (cinematic_lights_initialize_for_shot 1)
    (cinematic_clips_initialize_for_shot 1)
    (render_exposure 0 0)
    (sleep 50)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_ins_sh3
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 1) 2 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 1) 2)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 0 "buck02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 1 "dare02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 2 "player02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 3 "buck_helmet02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 4 "buck_rifle02_3" true)
    (object_hide (cinematic_scripting_get_object 4 1 5) true)
    (object_hide (cinematic_scripting_get_object 4 1 6) true)
    (object_hide (cinematic_scripting_get_object 4 1 7) true)
    (object_hide (cinematic_scripting_get_object 4 1 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 9 "dare_automag02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 10 "l200_olifaunt_final02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 11 "l200_player_smg02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 12 "warthog02_3" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 13 "chain_turret02_3" true)
    (object_hide (cinematic_scripting_get_object 4 1 14) true)
    (object_hide (cinematic_scripting_get_object 4 1 15) true)
    (object_hide (cinematic_scripting_get_object 4 1 16) true)
    (cinematic_lights_initialize_for_shot 2)
    (cinematic_clips_initialize_for_shot 2)
    (render_exposure 0 0)
    (sleep 70)
    (cinematic_scripting_start_dialogue 4 1 2 0 none)
    (sleep 185)
    (cinematic_scripting_start_dialogue 4 1 2 1 none)
    (sleep 62)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_ins_sh4
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 1) 3 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 1) 3)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 0 "buck02_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 1 "dare02_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 2 "player02_4" true)
    (object_hide (cinematic_scripting_get_object 4 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 4 "buck_rifle02_4" true)
    (object_hide (cinematic_scripting_get_object 4 1 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 6 "cinematic_cov_cruiser13_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 7 "cinematic_cov_cruiser14_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 8 "cinematic_cov_cruiser15_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 9 "dare_automag02_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 10 "l200_olifaunt_final02_4" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 11 "l200_player_smg02_4" true)
    (object_hide (cinematic_scripting_get_object 4 1 12) true)
    (object_hide (cinematic_scripting_get_object 4 1 13) true)
    (object_hide (cinematic_scripting_get_object 4 1 14) true)
    (object_hide (cinematic_scripting_get_object 4 1 15) true)
    (object_hide (cinematic_scripting_get_object 4 1 16) true)
    (cinematic_lights_initialize_for_shot 3)
    (cinematic_clips_initialize_for_shot 3)
    (render_exposure 0 0)
    (sleep 57)
    (cinematic_scripting_start_dialogue 4 1 3 0 none)
    (sleep 82)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_ins_sh5
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 1) 4 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 1) 4)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 0 "buck02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 1 "dare02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 2 "player02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 3 "buck_helmet02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 4 "buck_rifle02_5" true)
    (object_hide (cinematic_scripting_get_object 4 1 5) true)
    (object_hide (cinematic_scripting_get_object 4 1 6) true)
    (object_hide (cinematic_scripting_get_object 4 1 7) true)
    (object_hide (cinematic_scripting_get_object 4 1 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 9 "dare_automag02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 10 "l200_olifaunt_final02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 11 "l200_player_smg02_5" true)
    (object_hide (cinematic_scripting_get_object 4 1 12) true)
    (object_hide (cinematic_scripting_get_object 4 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 14 "hatch_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 15 "tent01_sc02_5" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 16 "tent00_sc02_5" true)
    (cinematic_lights_initialize_for_shot 4)
    (cinematic_clips_initialize_for_shot 4)
    (render_exposure 0 0)
    (sleep 1)
    (cinematic_scripting_start_music 4 1 4 0)
    (sleep 81)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_ins_sh6
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 1) 5 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 1) 5)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 0 "buck02_6" true)
    (object_hide (cinematic_scripting_get_object 4 1 1) true)
    (object_hide (cinematic_scripting_get_object 4 1 2) true)
    (object_hide (cinematic_scripting_get_object 4 1 3) true)
    (object_hide (cinematic_scripting_get_object 4 1 4) true)
    (object_hide (cinematic_scripting_get_object 4 1 5) true)
    (object_hide (cinematic_scripting_get_object 4 1 6) true)
    (object_hide (cinematic_scripting_get_object 4 1 7) true)
    (object_hide (cinematic_scripting_get_object 4 1 8) true)
    (object_hide (cinematic_scripting_get_object 4 1 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 10 "l200_olifaunt_final02_6" true)
    (object_hide (cinematic_scripting_get_object 4 1 11) true)
    (object_hide (cinematic_scripting_get_object 4 1 12) true)
    (object_hide (cinematic_scripting_get_object 4 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 14 "hatch_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 15 "tent01_sc02_6" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 16 "tent00_sc02_6" true)
    (cinematic_lights_initialize_for_shot 5)
    (cinematic_clips_initialize_for_shot 5)
    (render_exposure 0 0)
    (sleep 66)
    (cinematic_scripting_start_music 4 1 5 0)
    (sleep 11)
    (sound_looping_stop "sound\vehicles\behemoth\behemoth_horn\behemoth_horn")
    (cinematic_print "custom script play")
    (sleep 8)
    (cinematic_scripting_start_music 4 1 5 1)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_ins_sh7
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 1) 6 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 1) 6)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 0 "buck02_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 1 "dare02_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 2 "player02_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 3 "buck_helmet02_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 4 "buck_rifle02_7" true)
    (object_hide (cinematic_scripting_get_object 4 1 5) true)
    (object_hide (cinematic_scripting_get_object 4 1 6) true)
    (object_hide (cinematic_scripting_get_object 4 1 7) true)
    (object_hide (cinematic_scripting_get_object 4 1 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 9 "dare_automag02_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 10 "l200_olifaunt_final02_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 11 "l200_player_smg02_7" true)
    (object_hide (cinematic_scripting_get_object 4 1 12) true)
    (object_hide (cinematic_scripting_get_object 4 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 14 "hatch_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 15 "tent01_sc02_7" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 16 "tent00_sc02_7" true)
    (cinematic_lights_initialize_for_shot 6)
    (cinematic_clips_initialize_for_shot 6)
    (render_exposure 0 0)
    (sleep 36)
    (sound_looping_stop "sound\vehicles\behemoth\behemoth_horn\behemoth_horn")
    (cinematic_print "custom script play")
    (sleep 37)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_ins_sh8
    (set render_lightmap_shadows false)
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 1) 7 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 1) 7)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 0 "buck02_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 1 "dare02_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 2 "player02_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 3 "buck_helmet02_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 4 "buck_rifle02_8" true)
    (object_hide (cinematic_scripting_get_object 4 1 5) true)
    (object_hide (cinematic_scripting_get_object 4 1 6) true)
    (object_hide (cinematic_scripting_get_object 4 1 7) true)
    (object_hide (cinematic_scripting_get_object 4 1 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 9 "dare_automag02_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 10 "l200_olifaunt_final02_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 11 "l200_player_smg02_8" true)
    (object_hide (cinematic_scripting_get_object 4 1 12) true)
    (object_hide (cinematic_scripting_get_object 4 1 13) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 14 "hatch_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 15 "tent01_sc02_8" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 16 "tent00_sc02_8" true)
    (cinematic_lights_initialize_for_shot 7)
    (cinematic_clips_initialize_for_shot 7)
    (render_exposure 0 0)
    (sleep 7)
    (cinematic_scripting_start_dialogue 4 1 7 0 none)
    (sleep 30)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_ins_sh9
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 1) 8 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 1) 8)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 0 "buck02_9" true)
    (object_hide (cinematic_scripting_get_object 4 1 1) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 2 "player02_9" true)
    (object_hide (cinematic_scripting_get_object 4 1 3) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 4 "buck_rifle02_9" true)
    (object_hide (cinematic_scripting_get_object 4 1 5) true)
    (object_hide (cinematic_scripting_get_object 4 1 6) true)
    (object_hide (cinematic_scripting_get_object 4 1 7) true)
    (object_hide (cinematic_scripting_get_object 4 1 8) true)
    (object_hide (cinematic_scripting_get_object 4 1 9) true)
    (object_hide (cinematic_scripting_get_object 4 1 10) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 11 "l200_player_smg02_9" true)
    (object_hide (cinematic_scripting_get_object 4 1 12) true)
    (object_hide (cinematic_scripting_get_object 4 1 13) true)
    (object_hide (cinematic_scripting_get_object 4 1 14) true)
    (object_hide (cinematic_scripting_get_object 4 1 15) true)
    (object_hide (cinematic_scripting_get_object 4 1 16) true)
    (cinematic_lights_initialize_for_shot 8)
    (cinematic_clips_initialize_for_shot 8)
    (render_exposure 0 0)
    (sleep 50)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_ins_sh10
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 1) 9 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 1) 9)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 0 "buck02_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 1 "dare02_10" true)
    (object_hide (cinematic_scripting_get_object 4 1 2) true)
    (object_hide (cinematic_scripting_get_object 4 1 3) true)
    (object_hide (cinematic_scripting_get_object 4 1 4) true)
    (object_hide (cinematic_scripting_get_object 4 1 5) true)
    (object_hide (cinematic_scripting_get_object 4 1 6) true)
    (object_hide (cinematic_scripting_get_object 4 1 7) true)
    (object_hide (cinematic_scripting_get_object 4 1 8) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 9 "dare_automag02_10" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 10 "l200_olifaunt_final02_10" true)
    (object_hide (cinematic_scripting_get_object 4 1 11) true)
    (object_hide (cinematic_scripting_get_object 4 1 12) true)
    (object_hide (cinematic_scripting_get_object 4 1 13) true)
    (object_hide (cinematic_scripting_get_object 4 1 14) true)
    (object_hide (cinematic_scripting_get_object 4 1 15) true)
    (object_hide (cinematic_scripting_get_object 4 1 16) true)
    (cinematic_lights_initialize_for_shot 9)
    (cinematic_clips_initialize_for_shot 9)
    (render_exposure 0 0)
    (sleep 31)
    (cinematic_scripting_start_dialogue 4 1 9 0 none)
    (sleep 83)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_ins_sh11
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 1) 10 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 1) 10)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 0 "buck02_11" true)
    (object_hide (cinematic_scripting_get_object 4 1 1) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 2 "player02_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 3 "buck_helmet02_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 4 "buck_rifle02_11" true)
    (object_hide (cinematic_scripting_get_object 4 1 5) true)
    (object_hide (cinematic_scripting_get_object 4 1 6) true)
    (object_hide (cinematic_scripting_get_object 4 1 7) true)
    (object_hide (cinematic_scripting_get_object 4 1 8) true)
    (object_hide (cinematic_scripting_get_object 4 1 9) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 10 "l200_olifaunt_final02_11" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 11 "l200_player_smg02_11" true)
    (object_hide (cinematic_scripting_get_object 4 1 12) true)
    (object_hide (cinematic_scripting_get_object 4 1 13) true)
    (object_hide (cinematic_scripting_get_object 4 1 14) true)
    (object_hide (cinematic_scripting_get_object 4 1 15) true)
    (object_hide (cinematic_scripting_get_object 4 1 16) true)
    (cinematic_lights_initialize_for_shot 10)
    (cinematic_clips_initialize_for_shot 10)
    (render_exposure 0 0)
    (sleep 1)
    (sound_looping_stop "sound\vehicles\behemoth\behemoth_left\behemoth_left")
    (cinematic_print "custom script play")
    (sleep 43)
    (cinematic_scripting_start_dialogue 4 1 10 0 none)
    (sleep 93)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200_out_hb_02_sc_ins_sh12
    (camera_set_cinematic_scene (cinematic_tag_reference_get_scene 4 1) 11 "l200_out_hb_flag")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 1) 11)
    (cinematic_object_create_cinematic_anchor "l200_out_hb_flag" "l200_out_hb_flag")
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 0 "buck02_12" true)
    (object_hide (cinematic_scripting_get_object 4 1 1) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 2 "player02_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 3 "buck_helmet02_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 4 "buck_rifle02_12" true)
    (object_hide (cinematic_scripting_get_object 4 1 5) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 6 "cinematic_cov_cruiser13_12" true)
    (object_hide (cinematic_scripting_get_object 4 1 7) true)
    (object_hide (cinematic_scripting_get_object 4 1 8) true)
    (object_hide (cinematic_scripting_get_object 4 1 9) true)
    (object_hide (cinematic_scripting_get_object 4 1 10) true)
    (object_hide (cinematic_scripting_get_object 4 1 11) true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 12 "warthog02_12" true)
    (cinematic_scripting_create_and_animate_cinematic_object 4 1 13 "chain_turret02_12" true)
    (object_hide (cinematic_scripting_get_object 4 1 14) true)
    (object_hide (cinematic_scripting_get_object 4 1 15) true)
    (object_hide (cinematic_scripting_get_object 4 1 16) true)
    (cinematic_lights_initialize_for_shot 11)
    (cinematic_clips_initialize_for_shot 11)
    (render_exposure 0 0)
    (object_set_function_variable (cinematic_scripting_get_object 4 1 3) "polarize" 1 0)
    (sleep 37)
    (cinematic_scripting_start_dialogue 4 1 11 0 none)
    (sleep 56)
    (object_set_function_variable (cinematic_scripting_get_object 4 1 3) "polarize" 0 20)
    (sleep 152)
    (cinematic_scripting_fade_out 1 1 1 10)
    (sleep 9)
    (sound_class_set_gain "obj" 1 0)
    (cinematic_print "custom script play")
    (sleep 1)
    (cinematic_lights_destroy_shot)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
)

(script static void !l200_out_hb_02_sc_ins
    (cinematic_print "beginning scene 2")
    (cinematic_set_shot (cinematic_tag_reference_get_scene 4 1) 0)
    (l200_out_hb_02_sc_ins_sh1)
    (l200_out_hb_02_sc_ins_sh2)
    (l200_out_hb_02_sc_ins_sh3)
    (l200_out_hb_02_sc_ins_sh4)
    (l200_out_hb_02_sc_ins_sh5)
    (l200_out_hb_02_sc_ins_sh6)
    (l200_out_hb_02_sc_ins_sh7)
    (l200_out_hb_02_sc_ins_sh8)
    (l200_out_hb_02_sc_ins_sh9)
    (l200_out_hb_02_sc_ins_sh10)
    (l200_out_hb_02_sc_ins_sh11)
    (l200_out_hb_02_sc_ins_sh12)
    (cinematic_lights_destroy)
    (cinematic_clips_destroy)
    (render_exposure_fade_out 0)
    (cinematic_scripting_destroy_object 4 1 0)
    (cinematic_scripting_destroy_object 4 1 1)
    (cinematic_scripting_destroy_object 4 1 2)
    (cinematic_scripting_destroy_object 4 1 3)
    (cinematic_scripting_destroy_object 4 1 4)
    (cinematic_scripting_destroy_object 4 1 5)
    (cinematic_scripting_destroy_object 4 1 6)
    (cinematic_scripting_destroy_object 4 1 7)
    (cinematic_scripting_destroy_object 4 1 8)
    (cinematic_scripting_destroy_object 4 1 9)
    (cinematic_scripting_destroy_object 4 1 10)
    (cinematic_scripting_destroy_object 4 1 11)
    (cinematic_scripting_destroy_object 4 1 12)
    (cinematic_scripting_destroy_object 4 1 13)
    (cinematic_scripting_destroy_object 4 1 14)
    (cinematic_scripting_destroy_object 4 1 15)
    (cinematic_scripting_destroy_object 4 1 16)
)

(script static void l200outhb_insert_cleanup
    (cinematic_scripting_clean_up 4)
)

(script static void begin_l200outhb_insert_debug
    (cinematic_zone_activate_for_debugging 4)
    (sleep 2)
    (camera_control true)
    (cinematic_start)
    (set cinematic_letterbox_style 2)
    (cinematic_show_letterbox_immediate true)
    (chud_cinematic_fade 0 0)
    (camera_set_cinematic)
    (cinematic_set_debug_mode true)
    (cinematic_set (cinematic_tag_reference_get_cinematic 4))
)

(script static void end_l200outhb_insert_debug
    (cinematic_destroy)
    (chud_cinematic_fade 1 0)
    (cinematic_stop)
    (cinematic_show_letterbox_immediate false)
    (camera_control false)
    (render_exposure_fade_out 0)
    (cinematic_zone_deactivate 4)
    (fade_in 0 0 0 0)
)

(script static void l200outhb_insert_debug
    (begin_l200outhb_insert_debug)
    (fade_in 0 0 0 0)
    (!l200_out_hb_01_sc_ins)
    (!l200_out_hb_02_sc_ins)
    (end_l200outhb_insert_debug)
)

(script static void begin_l200outhb_insert
    (cinematic_zone_activate 4)
    (sleep 2)
    (camera_set_cinematic)
    (cinematic_set_debug_mode false)
    (cinematic_set (cinematic_tag_reference_get_cinematic 4))
)

(script static void end_l200outhb_insert
    (cinematic_destroy)
    (render_exposure_fade_out 0)
)

(script static void l200outhb_insert
    (begin_l200outhb_insert)
    (fade_in 0 0 0 0)
    (!l200_out_hb_01_sc_ins)
    (!l200_out_hb_02_sc_ins)
    (end_l200outhb_insert)
)

; Decompilation finished in ~0.2977861s
